function OC(e,t){for(var s=0;s<t.length;s++){const i=t[s];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function my(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xf={exports:{}},go={},vf={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function MC(){if(Sx)return at;Sx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function j(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,w={};function b(A,k,V){this.props=A,this.context=k,this.refs=w,this.updater=V||S}b.prototype.isReactComponent={},b.prototype.setState=function(A,k){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,k,"setState")},b.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function E(){}E.prototype=b.prototype;function C(A,k,V){this.props=A,this.context=k,this.refs=w,this.updater=V||S}var I=C.prototype=new E;I.constructor=C,P(I,b.prototype),I.isPureReactComponent=!0;var F=Array.isArray,$=Object.prototype.hasOwnProperty,G={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function J(A,k,V){var ee,te={},he=null,re=null;if(k!=null)for(ee in k.ref!==void 0&&(re=k.ref),k.key!==void 0&&(he=""+k.key),k)$.call(k,ee)&&!q.hasOwnProperty(ee)&&(te[ee]=k[ee]);var Ne=arguments.length-2;if(Ne===1)te.children=V;else if(1<Ne){for(var Ae=Array(Ne),ze=0;ze<Ne;ze++)Ae[ze]=arguments[ze+2];te.children=Ae}if(A&&A.defaultProps)for(ee in Ne=A.defaultProps,Ne)te[ee]===void 0&&(te[ee]=Ne[ee]);return{$$typeof:e,type:A,key:he,ref:re,props:te,_owner:G.current}}function ve(A,k){return{$$typeof:e,type:A.type,key:k,ref:A.ref,props:A.props,_owner:A._owner}}function ge(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function de(A){var k={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(V){return k[V]})}var X=/\/+/g;function ae(A,k){return typeof A=="object"&&A!==null&&A.key!=null?de(""+A.key):k.toString(36)}function B(A,k,V,ee,te){var he=typeof A;(he==="undefined"||he==="boolean")&&(A=null);var re=!1;if(A===null)re=!0;else switch(he){case"string":case"number":re=!0;break;case"object":switch(A.$$typeof){case e:case t:re=!0}}if(re)return re=A,te=te(re),A=ee===""?"."+ae(re,0):ee,F(te)?(V="",A!=null&&(V=A.replace(X,"$&/")+"/"),B(te,k,V,"",function(ze){return ze})):te!=null&&(ge(te)&&(te=ve(te,V+(!te.key||re&&re.key===te.key?"":(""+te.key).replace(X,"$&/")+"/")+A)),k.push(te)),1;if(re=0,ee=ee===""?".":ee+":",F(A))for(var Ne=0;Ne<A.length;Ne++){he=A[Ne];var Ae=ee+ae(he,Ne);re+=B(he,k,V,Ae,te)}else if(Ae=j(A),typeof Ae=="function")for(A=Ae.call(A),Ne=0;!(he=A.next()).done;)he=he.value,Ae=ee+ae(he,Ne++),re+=B(he,k,V,Ae,te);else if(he==="object")throw k=String(A),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.");return re}function ne(A,k,V){if(A==null)return A;var ee=[],te=0;return B(A,ee,"","",function(he){return k.call(V,he,te++)}),ee}function z(A){if(A._status===-1){var k=A._result;k=k(),k.then(function(V){(A._status===0||A._status===-1)&&(A._status=1,A._result=V)},function(V){(A._status===0||A._status===-1)&&(A._status=2,A._result=V)}),A._status===-1&&(A._status=0,A._result=k)}if(A._status===1)return A._result.default;throw A._result}var T={current:null},M={transition:null},Y={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:M,ReactCurrentOwner:G};function se(){throw Error("act(...) is not supported in production builds of React.")}return at.Children={map:ne,forEach:function(A,k,V){ne(A,function(){k.apply(this,arguments)},V)},count:function(A){var k=0;return ne(A,function(){k++}),k},toArray:function(A){return ne(A,function(k){return k})||[]},only:function(A){if(!ge(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},at.Component=b,at.Fragment=s,at.Profiler=o,at.PureComponent=C,at.StrictMode=i,at.Suspense=h,at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,at.act=se,at.cloneElement=function(A,k,V){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ee=P({},A.props),te=A.key,he=A.ref,re=A._owner;if(k!=null){if(k.ref!==void 0&&(he=k.ref,re=G.current),k.key!==void 0&&(te=""+k.key),A.type&&A.type.defaultProps)var Ne=A.type.defaultProps;for(Ae in k)$.call(k,Ae)&&!q.hasOwnProperty(Ae)&&(ee[Ae]=k[Ae]===void 0&&Ne!==void 0?Ne[Ae]:k[Ae])}var Ae=arguments.length-2;if(Ae===1)ee.children=V;else if(1<Ae){Ne=Array(Ae);for(var ze=0;ze<Ae;ze++)Ne[ze]=arguments[ze+2];ee.children=Ne}return{$$typeof:e,type:A.type,key:te,ref:he,props:ee,_owner:re}},at.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},at.createElement=J,at.createFactory=function(A){var k=J.bind(null,A);return k.type=A,k},at.createRef=function(){return{current:null}},at.forwardRef=function(A){return{$$typeof:f,render:A}},at.isValidElement=ge,at.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:z}},at.memo=function(A,k){return{$$typeof:g,type:A,compare:k===void 0?null:k}},at.startTransition=function(A){var k=M.transition;M.transition={};try{A()}finally{M.transition=k}},at.unstable_act=se,at.useCallback=function(A,k){return T.current.useCallback(A,k)},at.useContext=function(A){return T.current.useContext(A)},at.useDebugValue=function(){},at.useDeferredValue=function(A){return T.current.useDeferredValue(A)},at.useEffect=function(A,k){return T.current.useEffect(A,k)},at.useId=function(){return T.current.useId()},at.useImperativeHandle=function(A,k,V){return T.current.useImperativeHandle(A,k,V)},at.useInsertionEffect=function(A,k){return T.current.useInsertionEffect(A,k)},at.useLayoutEffect=function(A,k){return T.current.useLayoutEffect(A,k)},at.useMemo=function(A,k){return T.current.useMemo(A,k)},at.useReducer=function(A,k,V){return T.current.useReducer(A,k,V)},at.useRef=function(A){return T.current.useRef(A)},at.useState=function(A){return T.current.useState(A)},at.useSyncExternalStore=function(A,k,V){return T.current.useSyncExternalStore(A,k,V)},at.useTransition=function(){return T.current.useTransition()},at.version="18.3.1",at}var Cx;function ed(){return Cx||(Cx=1,vf.exports=MC()),vf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx;function DC(){if(kx)return go;kx=1;var e=ed(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,g){var x,y={},j=null,S=null;g!==void 0&&(j=""+g),h.key!==void 0&&(j=""+h.key),h.ref!==void 0&&(S=h.ref);for(x in h)i.call(h,x)&&!c.hasOwnProperty(x)&&(y[x]=h[x]);if(f&&f.defaultProps)for(x in h=f.defaultProps,h)y[x]===void 0&&(y[x]=h[x]);return{$$typeof:t,type:f,key:j,ref:S,props:y,_owner:o.current}}return go.Fragment=s,go.jsx=u,go.jsxs=u,go}var Px;function FC(){return Px||(Px=1,xf.exports=DC()),xf.exports}var r=FC(),hc={},yf={exports:{}},Rr={},bf={exports:{}},wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ex;function LC(){return Ex||(Ex=1,(function(e){function t(M,Y){var se=M.length;M.push(Y);e:for(;0<se;){var A=se-1>>>1,k=M[A];if(0<o(k,Y))M[A]=Y,M[se]=k,se=A;else break e}}function s(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var Y=M[0],se=M.pop();if(se!==Y){M[0]=se;e:for(var A=0,k=M.length,V=k>>>1;A<V;){var ee=2*(A+1)-1,te=M[ee],he=ee+1,re=M[he];if(0>o(te,se))he<k&&0>o(re,te)?(M[A]=re,M[he]=se,A=he):(M[A]=te,M[ee]=se,A=ee);else if(he<k&&0>o(re,se))M[A]=re,M[he]=se,A=he;else break e}}return Y}function o(M,Y){var se=M.sortIndex-Y.sortIndex;return se!==0?se:M.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],g=[],x=1,y=null,j=3,S=!1,P=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(M){for(var Y=s(g);Y!==null;){if(Y.callback===null)i(g);else if(Y.startTime<=M)i(g),Y.sortIndex=Y.expirationTime,t(h,Y);else break;Y=s(g)}}function F(M){if(w=!1,I(M),!P)if(s(h)!==null)P=!0,z($);else{var Y=s(g);Y!==null&&T(F,Y.startTime-M)}}function $(M,Y){P=!1,w&&(w=!1,E(J),J=-1),S=!0;var se=j;try{for(I(Y),y=s(h);y!==null&&(!(y.expirationTime>Y)||M&&!de());){var A=y.callback;if(typeof A=="function"){y.callback=null,j=y.priorityLevel;var k=A(y.expirationTime<=Y);Y=e.unstable_now(),typeof k=="function"?y.callback=k:y===s(h)&&i(h),I(Y)}else i(h);y=s(h)}if(y!==null)var V=!0;else{var ee=s(g);ee!==null&&T(F,ee.startTime-Y),V=!1}return V}finally{y=null,j=se,S=!1}}var G=!1,q=null,J=-1,ve=5,ge=-1;function de(){return!(e.unstable_now()-ge<ve)}function X(){if(q!==null){var M=e.unstable_now();ge=M;var Y=!0;try{Y=q(!0,M)}finally{Y?ae():(G=!1,q=null)}}else G=!1}var ae;if(typeof C=="function")ae=function(){C(X)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ne=B.port2;B.port1.onmessage=X,ae=function(){ne.postMessage(null)}}else ae=function(){b(X,0)};function z(M){q=M,G||(G=!0,ae())}function T(M,Y){J=b(function(){M(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){P||S||(P=!0,z($))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_getFirstCallbackNode=function(){return s(h)},e.unstable_next=function(M){switch(j){case 1:case 2:case 3:var Y=3;break;default:Y=j}var se=j;j=Y;try{return M()}finally{j=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,Y){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var se=j;j=M;try{return Y()}finally{j=se}},e.unstable_scheduleCallback=function(M,Y,se){var A=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?A+se:A):se=A,M){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=se+k,M={id:x++,callback:Y,priorityLevel:M,startTime:se,expirationTime:k,sortIndex:-1},se>A?(M.sortIndex=se,t(g,M),s(h)===null&&M===s(g)&&(w?(E(J),J=-1):w=!0,T(F,se-A))):(M.sortIndex=k,t(h,M),P||S||(P=!0,z($))),M},e.unstable_shouldYield=de,e.unstable_wrapCallback=function(M){var Y=j;return function(){var se=j;j=Y;try{return M.apply(this,arguments)}finally{j=se}}}})(wf)),wf}var Tx;function BC(){return Tx||(Tx=1,bf.exports=LC()),bf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function $C(){if(_x)return Rr;_x=1;var e=ed(),t=BC();function s(n){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function c(n,a){u(n,a),u(n+"Capture",a)}function u(n,a){for(o[n]=a,n=0;n<a.length;n++)i.add(a[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},y={};function j(n){return h.call(y,n)?!0:h.call(x,n)?!1:g.test(n)?y[n]=!0:(x[n]=!0,!1)}function S(n,a,l,d){if(l!==null&&l.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function P(n,a,l,d){if(a===null||typeof a>"u"||S(n,a,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(n,a,l,d,m,v,N){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=n,this.type=a,this.sanitizeURL=v,this.removeEmptyString=N}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){b[n]=new w(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var a=n[0];b[a]=new w(a,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){b[n]=new w(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){b[n]=new w(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){b[n]=new w(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){b[n]=new w(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){b[n]=new w(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){b[n]=new w(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){b[n]=new w(n,5,!1,n.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function C(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var a=n.replace(E,C);b[a]=new w(a,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var a=n.replace(E,C);b[a]=new w(a,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var a=n.replace(E,C);b[a]=new w(a,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){b[n]=new w(n,1,!1,n.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){b[n]=new w(n,1,!1,n.toLowerCase(),null,!0,!0)});function I(n,a,l,d){var m=b.hasOwnProperty(a)?b[a]:null;(m!==null?m.type!==0:d||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(P(a,l,m,d)&&(l=null),d||m===null?j(a)&&(l===null?n.removeAttribute(a):n.setAttribute(a,""+l)):m.mustUseProperty?n[m.propertyName]=l===null?m.type===3?!1:"":l:(a=m.attributeName,d=m.attributeNamespace,l===null?n.removeAttribute(a):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?n.setAttributeNS(d,a,l):n.setAttribute(a,l))))}var F=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),G=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ve=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),de=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),M=Symbol.iterator;function Y(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var se=Object.assign,A;function k(n){if(A===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);A=a&&a[1]||""}return`
`+A+n}var V=!1;function ee(n,a){if(!n||V)return"";V=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(H){var d=H}Reflect.construct(n,[],a)}else{try{a.call()}catch(H){d=H}n.call(a.prototype)}else{try{throw Error()}catch(H){d=H}n()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var m=H.stack.split(`
`),v=d.stack.split(`
`),N=m.length-1,R=v.length-1;1<=N&&0<=R&&m[N]!==v[R];)R--;for(;1<=N&&0<=R;N--,R--)if(m[N]!==v[R]){if(N!==1||R!==1)do if(N--,R--,0>R||m[N]!==v[R]){var D=`
`+m[N].replace(" at new "," at ");return n.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",n.displayName)),D}while(1<=N&&0<=R);break}}}finally{V=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?k(n):""}function te(n){switch(n.tag){case 5:return k(n.type);case 16:return k("Lazy");case 13:return k("Suspense");case 19:return k("SuspenseList");case 0:case 2:case 15:return n=ee(n.type,!1),n;case 11:return n=ee(n.type.render,!1),n;case 1:return n=ee(n.type,!0),n;default:return""}}function he(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case q:return"Fragment";case G:return"Portal";case ve:return"Profiler";case J:return"StrictMode";case ae:return"Suspense";case B:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case de:return(n.displayName||"Context")+".Consumer";case ge:return(n._context.displayName||"Context")+".Provider";case X:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ne:return a=n.displayName||null,a!==null?a:he(n.type)||"Memo";case z:a=n._payload,n=n._init;try{return he(n(a))}catch{}}return null}function re(n){var a=n.type;switch(n.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=a.render,n=n.displayName||n.name||"",a.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(a);case 8:return a===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ne(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ae(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ze(n){var a=Ae(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),d=""+n[a];if(!n.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return m.call(this)},set:function(N){d=""+N,v.call(this,N)}}),Object.defineProperty(n,a,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(N){d=""+N},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function dt(n){n._valueTracker||(n._valueTracker=ze(n))}function ft(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return n&&(d=Ae(n)?n.checked?"true":"false":n.value),n=d,n!==l?(a.setValue(n),!0):!1}function Wt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Xe(n,a){var l=a.checked;return se({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function Br(n,a){var l=a.defaultValue==null?"":a.defaultValue,d=a.checked!=null?a.checked:a.defaultChecked;l=Ne(a.value!=null?a.value:l),n._wrapperState={initialChecked:d,initialValue:l,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Xr(n,a){a=a.checked,a!=null&&I(n,"checked",a,!1)}function dn(n,a){Xr(n,a);var l=Ne(a.value),d=a.type;if(l!=null)d==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}a.hasOwnProperty("value")?ds(n,a.type,l):a.hasOwnProperty("defaultValue")&&ds(n,a.type,Ne(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(n.defaultChecked=!!a.defaultChecked)}function Ri(n,a,l){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var d=a.type;if(!(d!=="submit"&&d!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+n._wrapperState.initialValue,l||a===n.value||(n.value=a),n.defaultValue=a}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function ds(n,a,l){(a!=="number"||Wt(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var O=Array.isArray;function U(n,a,l,d){if(n=n.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<n.length;l++)m=a.hasOwnProperty("$"+n[l].value),n[l].selected!==m&&(n[l].selected=m),m&&d&&(n[l].defaultSelected=!0)}else{for(l=""+Ne(l),a=null,m=0;m<n.length;m++){if(n[m].value===l){n[m].selected=!0,d&&(n[m].defaultSelected=!0);return}a!==null||n[m].disabled||(a=n[m])}a!==null&&(a.selected=!0)}}function Z(n,a){if(a.dangerouslySetInnerHTML!=null)throw Error(s(91));return se({},a,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function we(n,a){var l=a.value;if(l==null){if(l=a.children,a=a.defaultValue,l!=null){if(a!=null)throw Error(s(92));if(O(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),l=a}n._wrapperState={initialValue:Ne(l)}}function be(n,a){var l=Ne(a.value),d=Ne(a.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),a.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),d!=null&&(n.defaultValue=""+d)}function le(n){var a=n.textContent;a===n._wrapperState.initialValue&&a!==""&&a!==null&&(n.value=a)}function Re(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(n,a){return n==null||n==="http://www.w3.org/1999/xhtml"?Re(a):n==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ge,Qt=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,l,d,m){MSApp.execUnsafeLocalFunction(function(){return n(a,l,d,m)})}:n})(function(n,a){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=a;else{for(Ge=Ge||document.createElement("div"),Ge.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ge.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;a.firstChild;)n.appendChild(a.firstChild)}});function Jr(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var Bt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_=["Webkit","ms","Moz","O"];Object.keys(Bt).forEach(function(n){_.forEach(function(a){a=a+n.charAt(0).toUpperCase()+n.substring(1),Bt[a]=Bt[n]})});function ye(n,a,l){return a==null||typeof a=="boolean"||a===""?"":l||typeof a!="number"||a===0||Bt.hasOwnProperty(n)&&Bt[n]?(""+a).trim():a+"px"}function He(n,a){n=n.style;for(var l in a)if(a.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=ye(l,a[l],d);l==="float"&&(l="cssFloat"),d?n.setProperty(l,m):n[l]=m}}var et=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pt(n,a){if(a){if(et[n]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(s(137,n));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(s(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(s(61))}if(a.style!=null&&typeof a.style!="object")throw Error(s(62))}}function us(n,a){if(n.indexOf("-")===-1)return typeof a.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tn=null;function Ad(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Rd=null,Ta=null,_a=null;function Vh(n){if(n=eo(n)){if(typeof Rd!="function")throw Error(s(280));var a=n.stateNode;a&&(a=Tl(a),Rd(n.stateNode,n.type,a))}}function zh(n){Ta?_a?_a.push(n):_a=[n]:Ta=n}function Uh(){if(Ta){var n=Ta,a=_a;if(_a=Ta=null,Vh(n),a)for(n=0;n<a.length;n++)Vh(a[n])}}function qh(n,a){return n(a)}function Kh(){}var Id=!1;function Wh(n,a,l){if(Id)return n(a,l);Id=!0;try{return qh(n,a,l)}finally{Id=!1,(Ta!==null||_a!==null)&&(Kh(),Uh())}}function Ii(n,a){var l=n.stateNode;if(l===null)return null;var d=Tl(l);if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var Od=!1;if(f)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Od=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Od=!1}function $N(n,a,l,d,m,v,N,R,D){var H=Array.prototype.slice.call(arguments,3);try{a.apply(l,H)}catch(ce){this.onError(ce)}}var Mi=!1,ol=null,ll=!1,Md=null,VN={onError:function(n){Mi=!0,ol=n}};function zN(n,a,l,d,m,v,N,R,D){Mi=!1,ol=null,$N.apply(VN,arguments)}function UN(n,a,l,d,m,v,N,R,D){if(zN.apply(this,arguments),Mi){if(Mi){var H=ol;Mi=!1,ol=null}else throw Error(s(198));ll||(ll=!0,Md=H)}}function Xs(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function Qh(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function Hh(n){if(Xs(n)!==n)throw Error(s(188))}function qN(n){var a=n.alternate;if(!a){if(a=Xs(n),a===null)throw Error(s(188));return a!==n?null:n}for(var l=n,d=a;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return Hh(m),n;if(v===d)return Hh(m),a;v=v.sibling}throw Error(s(188))}if(l.return!==d.return)l=m,d=v;else{for(var N=!1,R=m.child;R;){if(R===l){N=!0,l=m,d=v;break}if(R===d){N=!0,d=m,l=v;break}R=R.sibling}if(!N){for(R=v.child;R;){if(R===l){N=!0,l=v,d=m;break}if(R===d){N=!0,d=v,l=m;break}R=R.sibling}if(!N)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:a}function Gh(n){return n=qN(n),n!==null?Zh(n):null}function Zh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var a=Zh(n);if(a!==null)return a;n=n.sibling}return null}var Yh=t.unstable_scheduleCallback,Xh=t.unstable_cancelCallback,KN=t.unstable_shouldYield,WN=t.unstable_requestPaint,$t=t.unstable_now,QN=t.unstable_getCurrentPriorityLevel,Dd=t.unstable_ImmediatePriority,Jh=t.unstable_UserBlockingPriority,cl=t.unstable_NormalPriority,HN=t.unstable_LowPriority,ep=t.unstable_IdlePriority,dl=null,_n=null;function GN(n){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(dl,n,void 0,(n.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:XN,ZN=Math.log,YN=Math.LN2;function XN(n){return n>>>=0,n===0?32:31-(ZN(n)/YN|0)|0}var ul=64,fl=4194304;function Di(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ml(n,a){var l=n.pendingLanes;if(l===0)return 0;var d=0,m=n.suspendedLanes,v=n.pingedLanes,N=l&268435455;if(N!==0){var R=N&~m;R!==0?d=Di(R):(v&=N,v!==0&&(d=Di(v)))}else N=l&~m,N!==0?d=Di(N):v!==0&&(d=Di(v));if(d===0)return 0;if(a!==0&&a!==d&&(a&m)===0&&(m=d&-d,v=a&-a,m>=v||m===16&&(v&4194240)!==0))return a;if((d&4)!==0&&(d|=l&16),a=n.entangledLanes,a!==0)for(n=n.entanglements,a&=d;0<a;)l=31-un(a),m=1<<l,d|=n[l],a&=~m;return d}function JN(n,a){switch(n){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eS(n,a){for(var l=n.suspendedLanes,d=n.pingedLanes,m=n.expirationTimes,v=n.pendingLanes;0<v;){var N=31-un(v),R=1<<N,D=m[N];D===-1?((R&l)===0||(R&d)!==0)&&(m[N]=JN(R,a)):D<=a&&(n.expiredLanes|=R),v&=~R}}function Fd(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function tp(){var n=ul;return ul<<=1,(ul&4194240)===0&&(ul=64),n}function Ld(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function Fi(n,a,l){n.pendingLanes|=a,a!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,a=31-un(a),n[a]=l}function tS(n,a){var l=n.pendingLanes&~a;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=a,n.mutableReadLanes&=a,n.entangledLanes&=a,a=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<l;){var m=31-un(l),v=1<<m;a[m]=0,d[m]=-1,n[m]=-1,l&=~v}}function Bd(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var d=31-un(l),m=1<<d;m&a|n[d]&a&&(n[d]|=a),l&=~m}}var gt=0;function rp(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var np,$d,sp,ap,ip,Vd=!1,hl=[],fs=null,ms=null,hs=null,Li=new Map,Bi=new Map,ps=[],rS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function op(n,a){switch(n){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Li.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(a.pointerId)}}function $i(n,a,l,d,m,v){return n===null||n.nativeEvent!==v?(n={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},a!==null&&(a=eo(a),a!==null&&$d(a)),n):(n.eventSystemFlags|=d,a=n.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),n)}function nS(n,a,l,d,m){switch(a){case"focusin":return fs=$i(fs,n,a,l,d,m),!0;case"dragenter":return ms=$i(ms,n,a,l,d,m),!0;case"mouseover":return hs=$i(hs,n,a,l,d,m),!0;case"pointerover":var v=m.pointerId;return Li.set(v,$i(Li.get(v)||null,n,a,l,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Bi.set(v,$i(Bi.get(v)||null,n,a,l,d,m)),!0}return!1}function lp(n){var a=Js(n.target);if(a!==null){var l=Xs(a);if(l!==null){if(a=l.tag,a===13){if(a=Qh(l),a!==null){n.blockedOn=a,ip(n.priority,function(){sp(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pl(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=Ud(n.domEventName,n.eventSystemFlags,a[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);Tn=d,l.target.dispatchEvent(d),Tn=null}else return a=eo(l),a!==null&&$d(a),n.blockedOn=l,!1;a.shift()}return!0}function cp(n,a,l){pl(n)&&l.delete(a)}function sS(){Vd=!1,fs!==null&&pl(fs)&&(fs=null),ms!==null&&pl(ms)&&(ms=null),hs!==null&&pl(hs)&&(hs=null),Li.forEach(cp),Bi.forEach(cp)}function Vi(n,a){n.blockedOn===a&&(n.blockedOn=null,Vd||(Vd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sS)))}function zi(n){function a(m){return Vi(m,n)}if(0<hl.length){Vi(hl[0],n);for(var l=1;l<hl.length;l++){var d=hl[l];d.blockedOn===n&&(d.blockedOn=null)}}for(fs!==null&&Vi(fs,n),ms!==null&&Vi(ms,n),hs!==null&&Vi(hs,n),Li.forEach(a),Bi.forEach(a),l=0;l<ps.length;l++)d=ps[l],d.blockedOn===n&&(d.blockedOn=null);for(;0<ps.length&&(l=ps[0],l.blockedOn===null);)lp(l),l.blockedOn===null&&ps.shift()}var Aa=F.ReactCurrentBatchConfig,gl=!0;function aS(n,a,l,d){var m=gt,v=Aa.transition;Aa.transition=null;try{gt=1,zd(n,a,l,d)}finally{gt=m,Aa.transition=v}}function iS(n,a,l,d){var m=gt,v=Aa.transition;Aa.transition=null;try{gt=4,zd(n,a,l,d)}finally{gt=m,Aa.transition=v}}function zd(n,a,l,d){if(gl){var m=Ud(n,a,l,d);if(m===null)iu(n,a,d,xl,l),op(n,d);else if(nS(m,n,a,l,d))d.stopPropagation();else if(op(n,d),a&4&&-1<rS.indexOf(n)){for(;m!==null;){var v=eo(m);if(v!==null&&np(v),v=Ud(n,a,l,d),v===null&&iu(n,a,d,xl,l),v===m)break;m=v}m!==null&&d.stopPropagation()}else iu(n,a,d,null,l)}}var xl=null;function Ud(n,a,l,d){if(xl=null,n=Ad(d),n=Js(n),n!==null)if(a=Xs(n),a===null)n=null;else if(l=a.tag,l===13){if(n=Qh(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null);return xl=n,null}function dp(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QN()){case Dd:return 1;case Jh:return 4;case cl:case HN:return 16;case ep:return 536870912;default:return 16}default:return 16}}var gs=null,qd=null,vl=null;function up(){if(vl)return vl;var n,a=qd,l=a.length,d,m="value"in gs?gs.value:gs.textContent,v=m.length;for(n=0;n<l&&a[n]===m[n];n++);var N=l-n;for(d=1;d<=N&&a[l-d]===m[v-d];d++);return vl=m.slice(n,1<d?1-d:void 0)}function yl(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function bl(){return!0}function fp(){return!1}function $r(n){function a(l,d,m,v,N){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(l=n[R],this[R]=l?l(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?bl:fp,this.isPropagationStopped=fp,this}return se(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),a}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kd=$r(Ra),Ui=se({},Ra,{view:0,detail:0}),oS=$r(Ui),Wd,Qd,qi,wl=se({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gd,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qi&&(qi&&n.type==="mousemove"?(Wd=n.screenX-qi.screenX,Qd=n.screenY-qi.screenY):Qd=Wd=0,qi=n),Wd)},movementY:function(n){return"movementY"in n?n.movementY:Qd}}),mp=$r(wl),lS=se({},wl,{dataTransfer:0}),cS=$r(lS),dS=se({},Ui,{relatedTarget:0}),Hd=$r(dS),uS=se({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),fS=$r(uS),mS=se({},Ra,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),hS=$r(mS),pS=se({},Ra,{data:0}),hp=$r(pS),gS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yS(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=vS[n])?!!a[n]:!1}function Gd(){return yS}var bS=se({},Ui,{key:function(n){if(n.key){var a=gS[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=yl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?xS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gd,charCode:function(n){return n.type==="keypress"?yl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wS=$r(bS),jS=se({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pp=$r(jS),NS=se({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gd}),SS=$r(NS),CS=se({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),kS=$r(CS),PS=se({},wl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ES=$r(PS),TS=[9,13,27,32],Zd=f&&"CompositionEvent"in window,Ki=null;f&&"documentMode"in document&&(Ki=document.documentMode);var _S=f&&"TextEvent"in window&&!Ki,gp=f&&(!Zd||Ki&&8<Ki&&11>=Ki),xp=" ",vp=!1;function yp(n,a){switch(n){case"keyup":return TS.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ia=!1;function AS(n,a){switch(n){case"compositionend":return bp(a);case"keypress":return a.which!==32?null:(vp=!0,xp);case"textInput":return n=a.data,n===xp&&vp?null:n;default:return null}}function RS(n,a){if(Ia)return n==="compositionend"||!Zd&&yp(n,a)?(n=up(),vl=qd=gs=null,Ia=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return gp&&a.locale!=="ko"?null:a.data;default:return null}}var IS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!IS[n.type]:a==="textarea"}function jp(n,a,l,d){zh(d),a=kl(a,"onChange"),0<a.length&&(l=new Kd("onChange","change",null,l,d),n.push({event:l,listeners:a}))}var Wi=null,Qi=null;function OS(n){$p(n,0)}function jl(n){var a=La(n);if(ft(a))return n}function MS(n,a){if(n==="change")return a}var Np=!1;if(f){var Yd;if(f){var Xd="oninput"in document;if(!Xd){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),Xd=typeof Sp.oninput=="function"}Yd=Xd}else Yd=!1;Np=Yd&&(!document.documentMode||9<document.documentMode)}function Cp(){Wi&&(Wi.detachEvent("onpropertychange",kp),Qi=Wi=null)}function kp(n){if(n.propertyName==="value"&&jl(Qi)){var a=[];jp(a,Qi,n,Ad(n)),Wh(OS,a)}}function DS(n,a,l){n==="focusin"?(Cp(),Wi=a,Qi=l,Wi.attachEvent("onpropertychange",kp)):n==="focusout"&&Cp()}function FS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return jl(Qi)}function LS(n,a){if(n==="click")return jl(a)}function BS(n,a){if(n==="input"||n==="change")return jl(a)}function $S(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var fn=typeof Object.is=="function"?Object.is:$S;function Hi(n,a){if(fn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!h.call(a,m)||!fn(n[m],a[m]))return!1}return!0}function Pp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ep(n,a){var l=Pp(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=a&&d>=a)return{node:l,offset:a-n};n=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Pp(l)}}function Tp(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Tp(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function _p(){for(var n=window,a=Wt();a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)n=a.contentWindow;else break;a=Wt(n.document)}return a}function Jd(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function VS(n){var a=_p(),l=n.focusedElem,d=n.selectionRange;if(a!==l&&l&&l.ownerDocument&&Tp(l.ownerDocument.documentElement,l)){if(d!==null&&Jd(l)){if(a=d.start,n=d.end,n===void 0&&(n=a),"selectionStart"in l)l.selectionStart=a,l.selectionEnd=Math.min(n,l.value.length);else if(n=(a=l.ownerDocument||document)&&a.defaultView||window,n.getSelection){n=n.getSelection();var m=l.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!n.extend&&v>d&&(m=d,d=v,v=m),m=Ep(l,v);var N=Ep(l,d);m&&N&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==N.node||n.focusOffset!==N.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),n.removeAllRanges(),v>d?(n.addRange(a),n.extend(N.node,N.offset)):(a.setEnd(N.node,N.offset),n.addRange(a)))}}for(a=[],n=l;n=n.parentNode;)n.nodeType===1&&a.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<a.length;l++)n=a[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var zS=f&&"documentMode"in document&&11>=document.documentMode,Oa=null,eu=null,Gi=null,tu=!1;function Ap(n,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;tu||Oa==null||Oa!==Wt(d)||(d=Oa,"selectionStart"in d&&Jd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Gi&&Hi(Gi,d)||(Gi=d,d=kl(eu,"onSelect"),0<d.length&&(a=new Kd("onSelect","select",null,a,l),n.push({event:a,listeners:d}),a.target=Oa)))}function Nl(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var Ma={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionend:Nl("Transition","TransitionEnd")},ru={},Rp={};f&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Sl(n){if(ru[n])return ru[n];if(!Ma[n])return n;var a=Ma[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in Rp)return ru[n]=a[l];return n}var Ip=Sl("animationend"),Op=Sl("animationiteration"),Mp=Sl("animationstart"),Dp=Sl("transitionend"),Fp=new Map,Lp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(n,a){Fp.set(n,a),c(a,[n])}for(var nu=0;nu<Lp.length;nu++){var su=Lp[nu],US=su.toLowerCase(),qS=su[0].toUpperCase()+su.slice(1);xs(US,"on"+qS)}xs(Ip,"onAnimationEnd"),xs(Op,"onAnimationIteration"),xs(Mp,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(Dp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function Bp(n,a,l){var d=n.type||"unknown-event";n.currentTarget=l,UN(d,a,void 0,n),n.currentTarget=null}function $p(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],m=d.event;d=d.listeners;e:{var v=void 0;if(a)for(var N=d.length-1;0<=N;N--){var R=d[N],D=R.instance,H=R.currentTarget;if(R=R.listener,D!==v&&m.isPropagationStopped())break e;Bp(m,R,H),v=D}else for(N=0;N<d.length;N++){if(R=d[N],D=R.instance,H=R.currentTarget,R=R.listener,D!==v&&m.isPropagationStopped())break e;Bp(m,R,H),v=D}}}if(ll)throw n=Md,ll=!1,Md=null,n}function wt(n,a){var l=a[fu];l===void 0&&(l=a[fu]=new Set);var d=n+"__bubble";l.has(d)||(Vp(a,n,2,!1),l.add(d))}function au(n,a,l){var d=0;a&&(d|=4),Vp(l,n,d,a)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function Yi(n){if(!n[Cl]){n[Cl]=!0,i.forEach(function(l){l!=="selectionchange"&&(KS.has(l)||au(l,!1,n),au(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Cl]||(a[Cl]=!0,au("selectionchange",!1,a))}}function Vp(n,a,l,d){switch(dp(a)){case 1:var m=aS;break;case 4:m=iS;break;default:m=zd}l=m.bind(null,a,l,n),m=void 0,!Od||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),d?m!==void 0?n.addEventListener(a,l,{capture:!0,passive:m}):n.addEventListener(a,l,!0):m!==void 0?n.addEventListener(a,l,{passive:m}):n.addEventListener(a,l,!1)}function iu(n,a,l,d,m){var v=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var R=d.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(N===4)for(N=d.return;N!==null;){var D=N.tag;if((D===3||D===4)&&(D=N.stateNode.containerInfo,D===m||D.nodeType===8&&D.parentNode===m))return;N=N.return}for(;R!==null;){if(N=Js(R),N===null)return;if(D=N.tag,D===5||D===6){d=v=N;continue e}R=R.parentNode}}d=d.return}Wh(function(){var H=v,ce=Ad(l),me=[];e:{var oe=Fp.get(n);if(oe!==void 0){var Se=Kd,Ee=n;switch(n){case"keypress":if(yl(l)===0)break e;case"keydown":case"keyup":Se=wS;break;case"focusin":Ee="focus",Se=Hd;break;case"focusout":Ee="blur",Se=Hd;break;case"beforeblur":case"afterblur":Se=Hd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=cS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=SS;break;case Ip:case Op:case Mp:Se=fS;break;case Dp:Se=kS;break;case"scroll":Se=oS;break;case"wheel":Se=ES;break;case"copy":case"cut":case"paste":Se=hS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=pp}var Ie=(a&4)!==0,Vt=!Ie&&n==="scroll",K=Ie?oe!==null?oe+"Capture":null:oe;Ie=[];for(var L=H,W;L!==null;){W=L;var xe=W.stateNode;if(W.tag===5&&xe!==null&&(W=xe,K!==null&&(xe=Ii(L,K),xe!=null&&Ie.push(Xi(L,xe,W)))),Vt)break;L=L.return}0<Ie.length&&(oe=new Se(oe,Ee,null,l,ce),me.push({event:oe,listeners:Ie}))}}if((a&7)===0){e:{if(oe=n==="mouseover"||n==="pointerover",Se=n==="mouseout"||n==="pointerout",oe&&l!==Tn&&(Ee=l.relatedTarget||l.fromElement)&&(Js(Ee)||Ee[Kn]))break e;if((Se||oe)&&(oe=ce.window===ce?ce:(oe=ce.ownerDocument)?oe.defaultView||oe.parentWindow:window,Se?(Ee=l.relatedTarget||l.toElement,Se=H,Ee=Ee?Js(Ee):null,Ee!==null&&(Vt=Xs(Ee),Ee!==Vt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(Se=null,Ee=H),Se!==Ee)){if(Ie=mp,xe="onMouseLeave",K="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(Ie=pp,xe="onPointerLeave",K="onPointerEnter",L="pointer"),Vt=Se==null?oe:La(Se),W=Ee==null?oe:La(Ee),oe=new Ie(xe,L+"leave",Se,l,ce),oe.target=Vt,oe.relatedTarget=W,xe=null,Js(ce)===H&&(Ie=new Ie(K,L+"enter",Ee,l,ce),Ie.target=W,Ie.relatedTarget=Vt,xe=Ie),Vt=xe,Se&&Ee)t:{for(Ie=Se,K=Ee,L=0,W=Ie;W;W=Da(W))L++;for(W=0,xe=K;xe;xe=Da(xe))W++;for(;0<L-W;)Ie=Da(Ie),L--;for(;0<W-L;)K=Da(K),W--;for(;L--;){if(Ie===K||K!==null&&Ie===K.alternate)break t;Ie=Da(Ie),K=Da(K)}Ie=null}else Ie=null;Se!==null&&zp(me,oe,Se,Ie,!1),Ee!==null&&Vt!==null&&zp(me,Vt,Ee,Ie,!0)}}e:{if(oe=H?La(H):window,Se=oe.nodeName&&oe.nodeName.toLowerCase(),Se==="select"||Se==="input"&&oe.type==="file")var Me=MS;else if(wp(oe))if(Np)Me=BS;else{Me=FS;var Be=DS}else(Se=oe.nodeName)&&Se.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Me=LS);if(Me&&(Me=Me(n,H))){jp(me,Me,l,ce);break e}Be&&Be(n,oe,H),n==="focusout"&&(Be=oe._wrapperState)&&Be.controlled&&oe.type==="number"&&ds(oe,"number",oe.value)}switch(Be=H?La(H):window,n){case"focusin":(wp(Be)||Be.contentEditable==="true")&&(Oa=Be,eu=H,Gi=null);break;case"focusout":Gi=eu=Oa=null;break;case"mousedown":tu=!0;break;case"contextmenu":case"mouseup":case"dragend":tu=!1,Ap(me,l,ce);break;case"selectionchange":if(zS)break;case"keydown":case"keyup":Ap(me,l,ce)}var $e;if(Zd)e:{switch(n){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Ia?yp(n,l)&&(Qe="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Qe="onCompositionStart");Qe&&(gp&&l.locale!=="ko"&&(Ia||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Ia&&($e=up()):(gs=ce,qd="value"in gs?gs.value:gs.textContent,Ia=!0)),Be=kl(H,Qe),0<Be.length&&(Qe=new hp(Qe,n,null,l,ce),me.push({event:Qe,listeners:Be}),$e?Qe.data=$e:($e=bp(l),$e!==null&&(Qe.data=$e)))),($e=_S?AS(n,l):RS(n,l))&&(H=kl(H,"onBeforeInput"),0<H.length&&(ce=new hp("onBeforeInput","beforeinput",null,l,ce),me.push({event:ce,listeners:H}),ce.data=$e))}$p(me,a)})}function Xi(n,a,l){return{instance:n,listener:a,currentTarget:l}}function kl(n,a){for(var l=a+"Capture",d=[];n!==null;){var m=n,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Ii(n,l),v!=null&&d.unshift(Xi(n,v,m)),v=Ii(n,a),v!=null&&d.push(Xi(n,v,m))),n=n.return}return d}function Da(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function zp(n,a,l,d,m){for(var v=a._reactName,N=[];l!==null&&l!==d;){var R=l,D=R.alternate,H=R.stateNode;if(D!==null&&D===d)break;R.tag===5&&H!==null&&(R=H,m?(D=Ii(l,v),D!=null&&N.unshift(Xi(l,D,R))):m||(D=Ii(l,v),D!=null&&N.push(Xi(l,D,R)))),l=l.return}N.length!==0&&n.push({event:a,listeners:N})}var WS=/\r\n?/g,QS=/\u0000|\uFFFD/g;function Up(n){return(typeof n=="string"?n:""+n).replace(WS,`
`).replace(QS,"")}function Pl(n,a,l){if(a=Up(a),Up(n)!==a&&l)throw Error(s(425))}function El(){}var ou=null,lu=null;function cu(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,HS=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,GS=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(n){return qp.resolve(null).then(n).catch(ZS)}:du;function ZS(n){setTimeout(function(){throw n})}function uu(n,a){var l=a,d=0;do{var m=l.nextSibling;if(n.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){n.removeChild(m),zi(a);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);zi(a)}function vs(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return n}function Kp(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return n;a--}else l==="/$"&&a++}n=n.previousSibling}return null}var Fa=Math.random().toString(36).slice(2),An="__reactFiber$"+Fa,Ji="__reactProps$"+Fa,Kn="__reactContainer$"+Fa,fu="__reactEvents$"+Fa,YS="__reactListeners$"+Fa,XS="__reactHandles$"+Fa;function Js(n){var a=n[An];if(a)return a;for(var l=n.parentNode;l;){if(a=l[Kn]||l[An]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=Kp(n);n!==null;){if(l=n[An])return l;n=Kp(n)}return a}n=l,l=n.parentNode}return null}function eo(n){return n=n[An]||n[Kn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function La(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(s(33))}function Tl(n){return n[Ji]||null}var mu=[],Ba=-1;function ys(n){return{current:n}}function jt(n){0>Ba||(n.current=mu[Ba],mu[Ba]=null,Ba--)}function bt(n,a){Ba++,mu[Ba]=n.current,n.current=a}var bs={},fr=ys(bs),Pr=ys(!1),ea=bs;function $a(n,a){var l=n.type.contextTypes;if(!l)return bs;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===a)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=a[v];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=m),m}function Er(n){return n=n.childContextTypes,n!=null}function _l(){jt(Pr),jt(fr)}function Wp(n,a,l){if(fr.current!==bs)throw Error(s(168));bt(fr,a),bt(Pr,l)}function Qp(n,a,l){var d=n.stateNode;if(a=a.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in a))throw Error(s(108,re(n)||"Unknown",m));return se({},l,d)}function Al(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||bs,ea=fr.current,bt(fr,n),bt(Pr,Pr.current),!0}function Hp(n,a,l){var d=n.stateNode;if(!d)throw Error(s(169));l?(n=Qp(n,a,ea),d.__reactInternalMemoizedMergedChildContext=n,jt(Pr),jt(fr),bt(fr,n)):jt(Pr),bt(Pr,l)}var Wn=null,Rl=!1,hu=!1;function Gp(n){Wn===null?Wn=[n]:Wn.push(n)}function JS(n){Rl=!0,Gp(n)}function ws(){if(!hu&&Wn!==null){hu=!0;var n=0,a=gt;try{var l=Wn;for(gt=1;n<l.length;n++){var d=l[n];do d=d(!0);while(d!==null)}Wn=null,Rl=!1}catch(m){throw Wn!==null&&(Wn=Wn.slice(n+1)),Yh(Dd,ws),m}finally{gt=a,hu=!1}}return null}var Va=[],za=0,Il=null,Ol=0,en=[],tn=0,ta=null,Qn=1,Hn="";function ra(n,a){Va[za++]=Ol,Va[za++]=Il,Il=n,Ol=a}function Zp(n,a,l){en[tn++]=Qn,en[tn++]=Hn,en[tn++]=ta,ta=n;var d=Qn;n=Hn;var m=32-un(d)-1;d&=~(1<<m),l+=1;var v=32-un(a)+m;if(30<v){var N=m-m%5;v=(d&(1<<N)-1).toString(32),d>>=N,m-=N,Qn=1<<32-un(a)+m|l<<m|d,Hn=v+n}else Qn=1<<v|l<<m|d,Hn=n}function pu(n){n.return!==null&&(ra(n,1),Zp(n,1,0))}function gu(n){for(;n===Il;)Il=Va[--za],Va[za]=null,Ol=Va[--za],Va[za]=null;for(;n===ta;)ta=en[--tn],en[tn]=null,Hn=en[--tn],en[tn]=null,Qn=en[--tn],en[tn]=null}var Vr=null,zr=null,Ct=!1,mn=null;function Yp(n,a){var l=an(5,null,null,0);l.elementType="DELETED",l.stateNode=a,l.return=n,a=n.deletions,a===null?(n.deletions=[l],n.flags|=16):a.push(l)}function Xp(n,a){switch(n.tag){case 5:var l=n.type;return a=a.nodeType!==1||l.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(n.stateNode=a,Vr=n,zr=vs(a.firstChild),!0):!1;case 6:return a=n.pendingProps===""||a.nodeType!==3?null:a,a!==null?(n.stateNode=a,Vr=n,zr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(l=ta!==null?{id:Qn,overflow:Hn}:null,n.memoizedState={dehydrated:a,treeContext:l,retryLane:1073741824},l=an(18,null,null,0),l.stateNode=a,l.return=n,n.child=l,Vr=n,zr=null,!0):!1;default:return!1}}function xu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function vu(n){if(Ct){var a=zr;if(a){var l=a;if(!Xp(n,a)){if(xu(n))throw Error(s(418));a=vs(l.nextSibling);var d=Vr;a&&Xp(n,a)?Yp(d,l):(n.flags=n.flags&-4097|2,Ct=!1,Vr=n)}}else{if(xu(n))throw Error(s(418));n.flags=n.flags&-4097|2,Ct=!1,Vr=n}}}function Jp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Vr=n}function Ml(n){if(n!==Vr)return!1;if(!Ct)return Jp(n),Ct=!0,!1;var a;if((a=n.tag!==3)&&!(a=n.tag!==5)&&(a=n.type,a=a!=="head"&&a!=="body"&&!cu(n.type,n.memoizedProps)),a&&(a=zr)){if(xu(n))throw eg(),Error(s(418));for(;a;)Yp(n,a),a=vs(a.nextSibling)}if(Jp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(a===0){zr=vs(n.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++}n=n.nextSibling}zr=null}}else zr=Vr?vs(n.stateNode.nextSibling):null;return!0}function eg(){for(var n=zr;n;)n=vs(n.nextSibling)}function Ua(){zr=Vr=null,Ct=!1}function yu(n){mn===null?mn=[n]:mn.push(n)}var eC=F.ReactCurrentBatchConfig;function to(n,a,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(s(309));var d=l.stateNode}if(!d)throw Error(s(147,n));var m=d,v=""+n;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(N){var R=m.refs;N===null?delete R[v]:R[v]=N},a._stringRef=v,a)}if(typeof n!="string")throw Error(s(284));if(!l._owner)throw Error(s(290,n))}return n}function Dl(n,a){throw n=Object.prototype.toString.call(a),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n))}function tg(n){var a=n._init;return a(n._payload)}function rg(n){function a(K,L){if(n){var W=K.deletions;W===null?(K.deletions=[L],K.flags|=16):W.push(L)}}function l(K,L){if(!n)return null;for(;L!==null;)a(K,L),L=L.sibling;return null}function d(K,L){for(K=new Map;L!==null;)L.key!==null?K.set(L.key,L):K.set(L.index,L),L=L.sibling;return K}function m(K,L){return K=Ts(K,L),K.index=0,K.sibling=null,K}function v(K,L,W){return K.index=W,n?(W=K.alternate,W!==null?(W=W.index,W<L?(K.flags|=2,L):W):(K.flags|=2,L)):(K.flags|=1048576,L)}function N(K){return n&&K.alternate===null&&(K.flags|=2),K}function R(K,L,W,xe){return L===null||L.tag!==6?(L=uf(W,K.mode,xe),L.return=K,L):(L=m(L,W),L.return=K,L)}function D(K,L,W,xe){var Me=W.type;return Me===q?ce(K,L,W.props.children,xe,W.key):L!==null&&(L.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===z&&tg(Me)===L.type)?(xe=m(L,W.props),xe.ref=to(K,L,W),xe.return=K,xe):(xe=ic(W.type,W.key,W.props,null,K.mode,xe),xe.ref=to(K,L,W),xe.return=K,xe)}function H(K,L,W,xe){return L===null||L.tag!==4||L.stateNode.containerInfo!==W.containerInfo||L.stateNode.implementation!==W.implementation?(L=ff(W,K.mode,xe),L.return=K,L):(L=m(L,W.children||[]),L.return=K,L)}function ce(K,L,W,xe,Me){return L===null||L.tag!==7?(L=da(W,K.mode,xe,Me),L.return=K,L):(L=m(L,W),L.return=K,L)}function me(K,L,W){if(typeof L=="string"&&L!==""||typeof L=="number")return L=uf(""+L,K.mode,W),L.return=K,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case $:return W=ic(L.type,L.key,L.props,null,K.mode,W),W.ref=to(K,null,L),W.return=K,W;case G:return L=ff(L,K.mode,W),L.return=K,L;case z:var xe=L._init;return me(K,xe(L._payload),W)}if(O(L)||Y(L))return L=da(L,K.mode,W,null),L.return=K,L;Dl(K,L)}return null}function oe(K,L,W,xe){var Me=L!==null?L.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Me!==null?null:R(K,L,""+W,xe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case $:return W.key===Me?D(K,L,W,xe):null;case G:return W.key===Me?H(K,L,W,xe):null;case z:return Me=W._init,oe(K,L,Me(W._payload),xe)}if(O(W)||Y(W))return Me!==null?null:ce(K,L,W,xe,null);Dl(K,W)}return null}function Se(K,L,W,xe,Me){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return K=K.get(W)||null,R(L,K,""+xe,Me);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case $:return K=K.get(xe.key===null?W:xe.key)||null,D(L,K,xe,Me);case G:return K=K.get(xe.key===null?W:xe.key)||null,H(L,K,xe,Me);case z:var Be=xe._init;return Se(K,L,W,Be(xe._payload),Me)}if(O(xe)||Y(xe))return K=K.get(W)||null,ce(L,K,xe,Me,null);Dl(L,xe)}return null}function Ee(K,L,W,xe){for(var Me=null,Be=null,$e=L,Qe=L=0,sr=null;$e!==null&&Qe<W.length;Qe++){$e.index>Qe?(sr=$e,$e=null):sr=$e.sibling;var ht=oe(K,$e,W[Qe],xe);if(ht===null){$e===null&&($e=sr);break}n&&$e&&ht.alternate===null&&a(K,$e),L=v(ht,L,Qe),Be===null?Me=ht:Be.sibling=ht,Be=ht,$e=sr}if(Qe===W.length)return l(K,$e),Ct&&ra(K,Qe),Me;if($e===null){for(;Qe<W.length;Qe++)$e=me(K,W[Qe],xe),$e!==null&&(L=v($e,L,Qe),Be===null?Me=$e:Be.sibling=$e,Be=$e);return Ct&&ra(K,Qe),Me}for($e=d(K,$e);Qe<W.length;Qe++)sr=Se($e,K,Qe,W[Qe],xe),sr!==null&&(n&&sr.alternate!==null&&$e.delete(sr.key===null?Qe:sr.key),L=v(sr,L,Qe),Be===null?Me=sr:Be.sibling=sr,Be=sr);return n&&$e.forEach(function(_s){return a(K,_s)}),Ct&&ra(K,Qe),Me}function Ie(K,L,W,xe){var Me=Y(W);if(typeof Me!="function")throw Error(s(150));if(W=Me.call(W),W==null)throw Error(s(151));for(var Be=Me=null,$e=L,Qe=L=0,sr=null,ht=W.next();$e!==null&&!ht.done;Qe++,ht=W.next()){$e.index>Qe?(sr=$e,$e=null):sr=$e.sibling;var _s=oe(K,$e,ht.value,xe);if(_s===null){$e===null&&($e=sr);break}n&&$e&&_s.alternate===null&&a(K,$e),L=v(_s,L,Qe),Be===null?Me=_s:Be.sibling=_s,Be=_s,$e=sr}if(ht.done)return l(K,$e),Ct&&ra(K,Qe),Me;if($e===null){for(;!ht.done;Qe++,ht=W.next())ht=me(K,ht.value,xe),ht!==null&&(L=v(ht,L,Qe),Be===null?Me=ht:Be.sibling=ht,Be=ht);return Ct&&ra(K,Qe),Me}for($e=d(K,$e);!ht.done;Qe++,ht=W.next())ht=Se($e,K,Qe,ht.value,xe),ht!==null&&(n&&ht.alternate!==null&&$e.delete(ht.key===null?Qe:ht.key),L=v(ht,L,Qe),Be===null?Me=ht:Be.sibling=ht,Be=ht);return n&&$e.forEach(function(IC){return a(K,IC)}),Ct&&ra(K,Qe),Me}function Vt(K,L,W,xe){if(typeof W=="object"&&W!==null&&W.type===q&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case $:e:{for(var Me=W.key,Be=L;Be!==null;){if(Be.key===Me){if(Me=W.type,Me===q){if(Be.tag===7){l(K,Be.sibling),L=m(Be,W.props.children),L.return=K,K=L;break e}}else if(Be.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===z&&tg(Me)===Be.type){l(K,Be.sibling),L=m(Be,W.props),L.ref=to(K,Be,W),L.return=K,K=L;break e}l(K,Be);break}else a(K,Be);Be=Be.sibling}W.type===q?(L=da(W.props.children,K.mode,xe,W.key),L.return=K,K=L):(xe=ic(W.type,W.key,W.props,null,K.mode,xe),xe.ref=to(K,L,W),xe.return=K,K=xe)}return N(K);case G:e:{for(Be=W.key;L!==null;){if(L.key===Be)if(L.tag===4&&L.stateNode.containerInfo===W.containerInfo&&L.stateNode.implementation===W.implementation){l(K,L.sibling),L=m(L,W.children||[]),L.return=K,K=L;break e}else{l(K,L);break}else a(K,L);L=L.sibling}L=ff(W,K.mode,xe),L.return=K,K=L}return N(K);case z:return Be=W._init,Vt(K,L,Be(W._payload),xe)}if(O(W))return Ee(K,L,W,xe);if(Y(W))return Ie(K,L,W,xe);Dl(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,L!==null&&L.tag===6?(l(K,L.sibling),L=m(L,W),L.return=K,K=L):(l(K,L),L=uf(W,K.mode,xe),L.return=K,K=L),N(K)):l(K,L)}return Vt}var qa=rg(!0),ng=rg(!1),Fl=ys(null),Ll=null,Ka=null,bu=null;function wu(){bu=Ka=Ll=null}function ju(n){var a=Fl.current;jt(Fl),n._currentValue=a}function Nu(n,a,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),n===l)break;n=n.return}}function Wa(n,a){Ll=n,bu=Ka=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&a)!==0&&(Tr=!0),n.firstContext=null)}function rn(n){var a=n._currentValue;if(bu!==n)if(n={context:n,memoizedValue:a,next:null},Ka===null){if(Ll===null)throw Error(s(308));Ka=n,Ll.dependencies={lanes:0,firstContext:n}}else Ka=Ka.next=n;return a}var na=null;function Su(n){na===null?na=[n]:na.push(n)}function sg(n,a,l,d){var m=a.interleaved;return m===null?(l.next=l,Su(a)):(l.next=m.next,m.next=l),a.interleaved=l,Gn(n,d)}function Gn(n,a){n.lanes|=a;var l=n.alternate;for(l!==null&&(l.lanes|=a),l=n,n=n.return;n!==null;)n.childLanes|=a,l=n.alternate,l!==null&&(l.childLanes|=a),l=n,n=n.return;return l.tag===3?l.stateNode:null}var js=!1;function Cu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ag(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Zn(n,a){return{eventTime:n,lane:a,tag:0,payload:null,callback:null,next:null}}function Ns(n,a,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(mt&2)!==0){var m=d.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),d.pending=a,Gn(n,l)}return m=d.interleaved,m===null?(a.next=a,Su(d)):(a.next=m.next,m.next=a),d.interleaved=a,Gn(n,l)}function Bl(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194240)!==0)){var d=a.lanes;d&=n.pendingLanes,l|=d,a.lanes=l,Bd(n,l)}}function ig(n,a){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var N={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=N:v=v.next=N,l=l.next}while(l!==null);v===null?m=v=a:v=v.next=a}else m=v=a;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}function $l(n,a,l,d){var m=n.updateQueue;js=!1;var v=m.firstBaseUpdate,N=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var D=R,H=D.next;D.next=null,N===null?v=H:N.next=H,N=D;var ce=n.alternate;ce!==null&&(ce=ce.updateQueue,R=ce.lastBaseUpdate,R!==N&&(R===null?ce.firstBaseUpdate=H:R.next=H,ce.lastBaseUpdate=D))}if(v!==null){var me=m.baseState;N=0,ce=H=D=null,R=v;do{var oe=R.lane,Se=R.eventTime;if((d&oe)===oe){ce!==null&&(ce=ce.next={eventTime:Se,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var Ee=n,Ie=R;switch(oe=a,Se=l,Ie.tag){case 1:if(Ee=Ie.payload,typeof Ee=="function"){me=Ee.call(Se,me,oe);break e}me=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ie.payload,oe=typeof Ee=="function"?Ee.call(Se,me,oe):Ee,oe==null)break e;me=se({},me,oe);break e;case 2:js=!0}}R.callback!==null&&R.lane!==0&&(n.flags|=64,oe=m.effects,oe===null?m.effects=[R]:oe.push(R))}else Se={eventTime:Se,lane:oe,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ce===null?(H=ce=Se,D=me):ce=ce.next=Se,N|=oe;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;oe=R,R=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);if(ce===null&&(D=me),m.baseState=D,m.firstBaseUpdate=H,m.lastBaseUpdate=ce,a=m.shared.interleaved,a!==null){m=a;do N|=m.lane,m=m.next;while(m!==a)}else v===null&&(m.shared.lanes=0);ia|=N,n.lanes=N,n.memoizedState=me}}function og(n,a,l){if(n=a.effects,a.effects=null,n!==null)for(a=0;a<n.length;a++){var d=n[a],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(s(191,m));m.call(d)}}}var ro={},Rn=ys(ro),no=ys(ro),so=ys(ro);function sa(n){if(n===ro)throw Error(s(174));return n}function ku(n,a){switch(bt(so,a),bt(no,n),bt(Rn,ro),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:it(null,"");break;default:n=n===8?a.parentNode:a,a=n.namespaceURI||null,n=n.tagName,a=it(a,n)}jt(Rn),bt(Rn,a)}function Qa(){jt(Rn),jt(no),jt(so)}function lg(n){sa(so.current);var a=sa(Rn.current),l=it(a,n.type);a!==l&&(bt(no,n),bt(Rn,l))}function Pu(n){no.current===n&&(jt(Rn),jt(no))}var Pt=ys(0);function Vl(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Eu=[];function Tu(){for(var n=0;n<Eu.length;n++)Eu[n]._workInProgressVersionPrimary=null;Eu.length=0}var zl=F.ReactCurrentDispatcher,_u=F.ReactCurrentBatchConfig,aa=0,Et=null,Xt=null,rr=null,Ul=!1,ao=!1,io=0,tC=0;function mr(){throw Error(s(321))}function Au(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!fn(n[l],a[l]))return!1;return!0}function Ru(n,a,l,d,m,v){if(aa=v,Et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,zl.current=n===null||n.memoizedState===null?aC:iC,n=l(d,m),ao){v=0;do{if(ao=!1,io=0,25<=v)throw Error(s(301));v+=1,rr=Xt=null,a.updateQueue=null,zl.current=oC,n=l(d,m)}while(ao)}if(zl.current=Wl,a=Xt!==null&&Xt.next!==null,aa=0,rr=Xt=Et=null,Ul=!1,a)throw Error(s(300));return n}function Iu(){var n=io!==0;return io=0,n}function In(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?Et.memoizedState=rr=n:rr=rr.next=n,rr}function nn(){if(Xt===null){var n=Et.alternate;n=n!==null?n.memoizedState:null}else n=Xt.next;var a=rr===null?Et.memoizedState:rr.next;if(a!==null)rr=a,Xt=n;else{if(n===null)throw Error(s(310));Xt=n,n={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},rr===null?Et.memoizedState=rr=n:rr=rr.next=n}return rr}function oo(n,a){return typeof a=="function"?a(n):a}function Ou(n){var a=nn(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var d=Xt,m=d.baseQueue,v=l.pending;if(v!==null){if(m!==null){var N=m.next;m.next=v.next,v.next=N}d.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,d=d.baseState;var R=N=null,D=null,H=v;do{var ce=H.lane;if((aa&ce)===ce)D!==null&&(D=D.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:n(d,H.action);else{var me={lane:ce,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};D===null?(R=D=me,N=d):D=D.next=me,Et.lanes|=ce,ia|=ce}H=H.next}while(H!==null&&H!==v);D===null?N=d:D.next=R,fn(d,a.memoizedState)||(Tr=!0),a.memoizedState=d,a.baseState=N,a.baseQueue=D,l.lastRenderedState=d}if(n=l.interleaved,n!==null){m=n;do v=m.lane,Et.lanes|=v,ia|=v,m=m.next;while(m!==n)}else m===null&&(l.lanes=0);return[a.memoizedState,l.dispatch]}function Mu(n){var a=nn(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var d=l.dispatch,m=l.pending,v=a.memoizedState;if(m!==null){l.pending=null;var N=m=m.next;do v=n(v,N.action),N=N.next;while(N!==m);fn(v,a.memoizedState)||(Tr=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),l.lastRenderedState=v}return[v,d]}function cg(){}function dg(n,a){var l=Et,d=nn(),m=a(),v=!fn(d.memoizedState,m);if(v&&(d.memoizedState=m,Tr=!0),d=d.queue,Du(mg.bind(null,l,d,n),[n]),d.getSnapshot!==a||v||rr!==null&&rr.memoizedState.tag&1){if(l.flags|=2048,lo(9,fg.bind(null,l,d,m,a),void 0,null),nr===null)throw Error(s(349));(aa&30)!==0||ug(l,a,m)}return m}function ug(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function fg(n,a,l,d){a.value=l,a.getSnapshot=d,hg(a)&&pg(n)}function mg(n,a,l){return l(function(){hg(a)&&pg(n)})}function hg(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!fn(n,l)}catch{return!0}}function pg(n){var a=Gn(n,1);a!==null&&xn(a,n,1,-1)}function gg(n){var a=In();return typeof n=="function"&&(n=n()),a.memoizedState=a.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:n},a.queue=n,n=n.dispatch=sC.bind(null,Et,n),[a.memoizedState,n]}function lo(n,a,l,d){return n={tag:n,create:a,destroy:l,deps:d,next:null},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.lastEffect=n.next=n):(l=a.lastEffect,l===null?a.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,a.lastEffect=n)),n}function xg(){return nn().memoizedState}function ql(n,a,l,d){var m=In();Et.flags|=n,m.memoizedState=lo(1|a,l,void 0,d===void 0?null:d)}function Kl(n,a,l,d){var m=nn();d=d===void 0?null:d;var v=void 0;if(Xt!==null){var N=Xt.memoizedState;if(v=N.destroy,d!==null&&Au(d,N.deps)){m.memoizedState=lo(a,l,v,d);return}}Et.flags|=n,m.memoizedState=lo(1|a,l,v,d)}function vg(n,a){return ql(8390656,8,n,a)}function Du(n,a){return Kl(2048,8,n,a)}function yg(n,a){return Kl(4,2,n,a)}function bg(n,a){return Kl(4,4,n,a)}function wg(n,a){if(typeof a=="function")return n=n(),a(n),function(){a(null)};if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function jg(n,a,l){return l=l!=null?l.concat([n]):null,Kl(4,4,wg.bind(null,a,n),l)}function Fu(){}function Ng(n,a){var l=nn();a=a===void 0?null:a;var d=l.memoizedState;return d!==null&&a!==null&&Au(a,d[1])?d[0]:(l.memoizedState=[n,a],n)}function Sg(n,a){var l=nn();a=a===void 0?null:a;var d=l.memoizedState;return d!==null&&a!==null&&Au(a,d[1])?d[0]:(n=n(),l.memoizedState=[n,a],n)}function Cg(n,a,l){return(aa&21)===0?(n.baseState&&(n.baseState=!1,Tr=!0),n.memoizedState=l):(fn(l,a)||(l=tp(),Et.lanes|=l,ia|=l,n.baseState=!0),a)}function rC(n,a){var l=gt;gt=l!==0&&4>l?l:4,n(!0);var d=_u.transition;_u.transition={};try{n(!1),a()}finally{gt=l,_u.transition=d}}function kg(){return nn().memoizedState}function nC(n,a,l){var d=Ps(n);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Pg(n))Eg(a,l);else if(l=sg(n,a,l,d),l!==null){var m=yr();xn(l,n,d,m),Tg(l,a,d)}}function sC(n,a,l){var d=Ps(n),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Pg(n))Eg(a,m);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var N=a.lastRenderedState,R=v(N,l);if(m.hasEagerState=!0,m.eagerState=R,fn(R,N)){var D=a.interleaved;D===null?(m.next=m,Su(a)):(m.next=D.next,D.next=m),a.interleaved=m;return}}catch{}finally{}l=sg(n,a,m,d),l!==null&&(m=yr(),xn(l,n,d,m),Tg(l,a,d))}}function Pg(n){var a=n.alternate;return n===Et||a!==null&&a===Et}function Eg(n,a){ao=Ul=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function Tg(n,a,l){if((l&4194240)!==0){var d=a.lanes;d&=n.pendingLanes,l|=d,a.lanes=l,Bd(n,l)}}var Wl={readContext:rn,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},aC={readContext:rn,useCallback:function(n,a){return In().memoizedState=[n,a===void 0?null:a],n},useContext:rn,useEffect:vg,useImperativeHandle:function(n,a,l){return l=l!=null?l.concat([n]):null,ql(4194308,4,wg.bind(null,a,n),l)},useLayoutEffect:function(n,a){return ql(4194308,4,n,a)},useInsertionEffect:function(n,a){return ql(4,2,n,a)},useMemo:function(n,a){var l=In();return a=a===void 0?null:a,n=n(),l.memoizedState=[n,a],n},useReducer:function(n,a,l){var d=In();return a=l!==void 0?l(a):a,d.memoizedState=d.baseState=a,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:a},d.queue=n,n=n.dispatch=nC.bind(null,Et,n),[d.memoizedState,n]},useRef:function(n){var a=In();return n={current:n},a.memoizedState=n},useState:gg,useDebugValue:Fu,useDeferredValue:function(n){return In().memoizedState=n},useTransition:function(){var n=gg(!1),a=n[0];return n=rC.bind(null,n[1]),In().memoizedState=n,[a,n]},useMutableSource:function(){},useSyncExternalStore:function(n,a,l){var d=Et,m=In();if(Ct){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),nr===null)throw Error(s(349));(aa&30)!==0||ug(d,a,l)}m.memoizedState=l;var v={value:l,getSnapshot:a};return m.queue=v,vg(mg.bind(null,d,v,n),[n]),d.flags|=2048,lo(9,fg.bind(null,d,v,l,a),void 0,null),l},useId:function(){var n=In(),a=nr.identifierPrefix;if(Ct){var l=Hn,d=Qn;l=(d&~(1<<32-un(d)-1)).toString(32)+l,a=":"+a+"R"+l,l=io++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=tC++,a=":"+a+"r"+l.toString(32)+":";return n.memoizedState=a},unstable_isNewReconciler:!1},iC={readContext:rn,useCallback:Ng,useContext:rn,useEffect:Du,useImperativeHandle:jg,useInsertionEffect:yg,useLayoutEffect:bg,useMemo:Sg,useReducer:Ou,useRef:xg,useState:function(){return Ou(oo)},useDebugValue:Fu,useDeferredValue:function(n){var a=nn();return Cg(a,Xt.memoizedState,n)},useTransition:function(){var n=Ou(oo)[0],a=nn().memoizedState;return[n,a]},useMutableSource:cg,useSyncExternalStore:dg,useId:kg,unstable_isNewReconciler:!1},oC={readContext:rn,useCallback:Ng,useContext:rn,useEffect:Du,useImperativeHandle:jg,useInsertionEffect:yg,useLayoutEffect:bg,useMemo:Sg,useReducer:Mu,useRef:xg,useState:function(){return Mu(oo)},useDebugValue:Fu,useDeferredValue:function(n){var a=nn();return Xt===null?a.memoizedState=n:Cg(a,Xt.memoizedState,n)},useTransition:function(){var n=Mu(oo)[0],a=nn().memoizedState;return[n,a]},useMutableSource:cg,useSyncExternalStore:dg,useId:kg,unstable_isNewReconciler:!1};function hn(n,a){if(n&&n.defaultProps){a=se({},a),n=n.defaultProps;for(var l in n)a[l]===void 0&&(a[l]=n[l]);return a}return a}function Lu(n,a,l,d){a=n.memoizedState,l=l(d,a),l=l==null?a:se({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Ql={isMounted:function(n){return(n=n._reactInternals)?Xs(n)===n:!1},enqueueSetState:function(n,a,l){n=n._reactInternals;var d=yr(),m=Ps(n),v=Zn(d,m);v.payload=a,l!=null&&(v.callback=l),a=Ns(n,v,m),a!==null&&(xn(a,n,m,d),Bl(a,n,m))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var d=yr(),m=Ps(n),v=Zn(d,m);v.tag=1,v.payload=a,l!=null&&(v.callback=l),a=Ns(n,v,m),a!==null&&(xn(a,n,m,d),Bl(a,n,m))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=yr(),d=Ps(n),m=Zn(l,d);m.tag=2,a!=null&&(m.callback=a),a=Ns(n,m,d),a!==null&&(xn(a,n,d,l),Bl(a,n,d))}};function _g(n,a,l,d,m,v,N){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,v,N):a.prototype&&a.prototype.isPureReactComponent?!Hi(l,d)||!Hi(m,v):!0}function Ag(n,a,l){var d=!1,m=bs,v=a.contextType;return typeof v=="object"&&v!==null?v=rn(v):(m=Er(a)?ea:fr.current,d=a.contextTypes,v=(d=d!=null)?$a(n,m):bs),a=new a(l,v),n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ql,n.stateNode=a,a._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=v),a}function Rg(n,a,l,d){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==n&&Ql.enqueueReplaceState(a,a.state,null)}function Bu(n,a,l,d){var m=n.stateNode;m.props=l,m.state=n.memoizedState,m.refs={},Cu(n);var v=a.contextType;typeof v=="object"&&v!==null?m.context=rn(v):(v=Er(a)?ea:fr.current,m.context=$a(n,v)),m.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Lu(n,a,v,l),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&Ql.enqueueReplaceState(m,m.state,null),$l(n,l,m,d),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function Ha(n,a){try{var l="",d=a;do l+=te(d),d=d.return;while(d);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:a,stack:m,digest:null}}function $u(n,a,l){return{value:n,source:null,stack:l??null,digest:a??null}}function Vu(n,a){try{console.error(a.value)}catch(l){setTimeout(function(){throw l})}}var lC=typeof WeakMap=="function"?WeakMap:Map;function Ig(n,a,l){l=Zn(-1,l),l.tag=3,l.payload={element:null};var d=a.value;return l.callback=function(){ec||(ec=!0,rf=d),Vu(n,a)},l}function Og(n,a,l){l=Zn(-1,l),l.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var m=a.value;l.payload=function(){return d(m)},l.callback=function(){Vu(n,a)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Vu(n,a),typeof d!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var N=a.stack;this.componentDidCatch(a.value,{componentStack:N!==null?N:""})}),l}function Mg(n,a,l){var d=n.pingCache;if(d===null){d=n.pingCache=new lC;var m=new Set;d.set(a,m)}else m=d.get(a),m===void 0&&(m=new Set,d.set(a,m));m.has(l)||(m.add(l),n=jC.bind(null,n,a,l),a.then(n,n))}function Dg(n){do{var a;if((a=n.tag===13)&&(a=n.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return n;n=n.return}while(n!==null);return null}function Fg(n,a,l,d,m){return(n.mode&1)===0?(n===a?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(a=Zn(-1,1),a.tag=2,Ns(l,a,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var cC=F.ReactCurrentOwner,Tr=!1;function vr(n,a,l,d){a.child=n===null?ng(a,null,l,d):qa(a,n.child,l,d)}function Lg(n,a,l,d,m){l=l.render;var v=a.ref;return Wa(a,m),d=Ru(n,a,l,d,v,m),l=Iu(),n!==null&&!Tr?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~m,Yn(n,a,m)):(Ct&&l&&pu(a),a.flags|=1,vr(n,a,d,m),a.child)}function Bg(n,a,l,d,m){if(n===null){var v=l.type;return typeof v=="function"&&!df(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(a.tag=15,a.type=v,$g(n,a,v,d,m)):(n=ic(l.type,null,d,a,a.mode,m),n.ref=a.ref,n.return=a,a.child=n)}if(v=n.child,(n.lanes&m)===0){var N=v.memoizedProps;if(l=l.compare,l=l!==null?l:Hi,l(N,d)&&n.ref===a.ref)return Yn(n,a,m)}return a.flags|=1,n=Ts(v,d),n.ref=a.ref,n.return=a,a.child=n}function $g(n,a,l,d,m){if(n!==null){var v=n.memoizedProps;if(Hi(v,d)&&n.ref===a.ref)if(Tr=!1,a.pendingProps=d=v,(n.lanes&m)!==0)(n.flags&131072)!==0&&(Tr=!0);else return a.lanes=n.lanes,Yn(n,a,m)}return zu(n,a,l,d,m)}function Vg(n,a,l){var d=a.pendingProps,m=d.children,v=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(Za,Ur),Ur|=l;else{if((l&1073741824)===0)return n=v!==null?v.baseLanes|l:l,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:n,cachePool:null,transitions:null},a.updateQueue=null,bt(Za,Ur),Ur|=n,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,bt(Za,Ur),Ur|=d}else v!==null?(d=v.baseLanes|l,a.memoizedState=null):d=l,bt(Za,Ur),Ur|=d;return vr(n,a,m,l),a.child}function zg(n,a){var l=a.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(a.flags|=512,a.flags|=2097152)}function zu(n,a,l,d,m){var v=Er(l)?ea:fr.current;return v=$a(a,v),Wa(a,m),l=Ru(n,a,l,d,v,m),d=Iu(),n!==null&&!Tr?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~m,Yn(n,a,m)):(Ct&&d&&pu(a),a.flags|=1,vr(n,a,l,m),a.child)}function Ug(n,a,l,d,m){if(Er(l)){var v=!0;Al(a)}else v=!1;if(Wa(a,m),a.stateNode===null)Gl(n,a),Ag(a,l,d),Bu(a,l,d,m),d=!0;else if(n===null){var N=a.stateNode,R=a.memoizedProps;N.props=R;var D=N.context,H=l.contextType;typeof H=="object"&&H!==null?H=rn(H):(H=Er(l)?ea:fr.current,H=$a(a,H));var ce=l.getDerivedStateFromProps,me=typeof ce=="function"||typeof N.getSnapshotBeforeUpdate=="function";me||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(R!==d||D!==H)&&Rg(a,N,d,H),js=!1;var oe=a.memoizedState;N.state=oe,$l(a,d,N,m),D=a.memoizedState,R!==d||oe!==D||Pr.current||js?(typeof ce=="function"&&(Lu(a,l,ce,d),D=a.memoizedState),(R=js||_g(a,l,R,d,oe,D,H))?(me||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(a.flags|=4194308)):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=D),N.props=d,N.state=D,N.context=H,d=R):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{N=a.stateNode,ag(n,a),R=a.memoizedProps,H=a.type===a.elementType?R:hn(a.type,R),N.props=H,me=a.pendingProps,oe=N.context,D=l.contextType,typeof D=="object"&&D!==null?D=rn(D):(D=Er(l)?ea:fr.current,D=$a(a,D));var Se=l.getDerivedStateFromProps;(ce=typeof Se=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(R!==me||oe!==D)&&Rg(a,N,d,D),js=!1,oe=a.memoizedState,N.state=oe,$l(a,d,N,m);var Ee=a.memoizedState;R!==me||oe!==Ee||Pr.current||js?(typeof Se=="function"&&(Lu(a,l,Se,d),Ee=a.memoizedState),(H=js||_g(a,l,H,d,oe,Ee,D)||!1)?(ce||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(d,Ee,D),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(d,Ee,D)),typeof N.componentDidUpdate=="function"&&(a.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof N.componentDidUpdate!="function"||R===n.memoizedProps&&oe===n.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&oe===n.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=Ee),N.props=d,N.state=Ee,N.context=D,d=H):(typeof N.componentDidUpdate!="function"||R===n.memoizedProps&&oe===n.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&oe===n.memoizedState||(a.flags|=1024),d=!1)}return Uu(n,a,l,d,v,m)}function Uu(n,a,l,d,m,v){zg(n,a);var N=(a.flags&128)!==0;if(!d&&!N)return m&&Hp(a,l,!1),Yn(n,a,v);d=a.stateNode,cC.current=a;var R=N&&typeof l.getDerivedStateFromError!="function"?null:d.render();return a.flags|=1,n!==null&&N?(a.child=qa(a,n.child,null,v),a.child=qa(a,null,R,v)):vr(n,a,R,v),a.memoizedState=d.state,m&&Hp(a,l,!0),a.child}function qg(n){var a=n.stateNode;a.pendingContext?Wp(n,a.pendingContext,a.pendingContext!==a.context):a.context&&Wp(n,a.context,!1),ku(n,a.containerInfo)}function Kg(n,a,l,d,m){return Ua(),yu(m),a.flags|=256,vr(n,a,l,d),a.child}var qu={dehydrated:null,treeContext:null,retryLane:0};function Ku(n){return{baseLanes:n,cachePool:null,transitions:null}}function Wg(n,a,l){var d=a.pendingProps,m=Pt.current,v=!1,N=(a.flags&128)!==0,R;if((R=N)||(R=n!==null&&n.memoizedState===null?!1:(m&2)!==0),R?(v=!0,a.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),bt(Pt,m&1),n===null)return vu(a),n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((a.mode&1)===0?a.lanes=1:n.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(N=d.children,n=d.fallback,v?(d=a.mode,v=a.child,N={mode:"hidden",children:N},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=N):v=oc(N,d,0,null),n=da(n,d,l,null),v.return=a,n.return=a,v.sibling=n,a.child=v,a.child.memoizedState=Ku(l),a.memoizedState=qu,n):Wu(a,N));if(m=n.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return dC(n,a,N,d,R,m,l);if(v){v=d.fallback,N=a.mode,m=n.child,R=m.sibling;var D={mode:"hidden",children:d.children};return(N&1)===0&&a.child!==m?(d=a.child,d.childLanes=0,d.pendingProps=D,a.deletions=null):(d=Ts(m,D),d.subtreeFlags=m.subtreeFlags&14680064),R!==null?v=Ts(R,v):(v=da(v,N,l,null),v.flags|=2),v.return=a,d.return=a,d.sibling=v,a.child=d,d=v,v=a.child,N=n.child.memoizedState,N=N===null?Ku(l):{baseLanes:N.baseLanes|l,cachePool:null,transitions:N.transitions},v.memoizedState=N,v.childLanes=n.childLanes&~l,a.memoizedState=qu,d}return v=n.child,n=v.sibling,d=Ts(v,{mode:"visible",children:d.children}),(a.mode&1)===0&&(d.lanes=l),d.return=a,d.sibling=null,n!==null&&(l=a.deletions,l===null?(a.deletions=[n],a.flags|=16):l.push(n)),a.child=d,a.memoizedState=null,d}function Wu(n,a){return a=oc({mode:"visible",children:a},n.mode,0,null),a.return=n,n.child=a}function Hl(n,a,l,d){return d!==null&&yu(d),qa(a,n.child,null,l),n=Wu(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function dC(n,a,l,d,m,v,N){if(l)return a.flags&256?(a.flags&=-257,d=$u(Error(s(422))),Hl(n,a,N,d)):a.memoizedState!==null?(a.child=n.child,a.flags|=128,null):(v=d.fallback,m=a.mode,d=oc({mode:"visible",children:d.children},m,0,null),v=da(v,m,N,null),v.flags|=2,d.return=a,v.return=a,d.sibling=v,a.child=d,(a.mode&1)!==0&&qa(a,n.child,null,N),a.child.memoizedState=Ku(N),a.memoizedState=qu,v);if((a.mode&1)===0)return Hl(n,a,N,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var R=d.dgst;return d=R,v=Error(s(419)),d=$u(v,d,void 0),Hl(n,a,N,d)}if(R=(N&n.childLanes)!==0,Tr||R){if(d=nr,d!==null){switch(N&-N){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|N))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Gn(n,m),xn(d,n,m,-1))}return cf(),d=$u(Error(s(421))),Hl(n,a,N,d)}return m.data==="$?"?(a.flags|=128,a.child=n.child,a=NC.bind(null,n),m._reactRetry=a,null):(n=v.treeContext,zr=vs(m.nextSibling),Vr=a,Ct=!0,mn=null,n!==null&&(en[tn++]=Qn,en[tn++]=Hn,en[tn++]=ta,Qn=n.id,Hn=n.overflow,ta=a),a=Wu(a,d.children),a.flags|=4096,a)}function Qg(n,a,l){n.lanes|=a;var d=n.alternate;d!==null&&(d.lanes|=a),Nu(n.return,a,l)}function Qu(n,a,l,d,m){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=m)}function Hg(n,a,l){var d=a.pendingProps,m=d.revealOrder,v=d.tail;if(vr(n,a,d.children,l),d=Pt.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Qg(n,l,a);else if(n.tag===19)Qg(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(bt(Pt,d),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(l=a.child,m=null;l!==null;)n=l.alternate,n!==null&&Vl(n)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Qu(a,!1,m,l,v);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(n=m.alternate,n!==null&&Vl(n)===null){a.child=m;break}n=m.sibling,m.sibling=l,l=m,m=n}Qu(a,!0,l,null,v);break;case"together":Qu(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Gl(n,a){(a.mode&1)===0&&n!==null&&(n.alternate=null,a.alternate=null,a.flags|=2)}function Yn(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),ia|=a.lanes,(l&a.childLanes)===0)return null;if(n!==null&&a.child!==n.child)throw Error(s(153));if(a.child!==null){for(n=a.child,l=Ts(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=Ts(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function uC(n,a,l){switch(a.tag){case 3:qg(a),Ua();break;case 5:lg(a);break;case 1:Er(a.type)&&Al(a);break;case 4:ku(a,a.stateNode.containerInfo);break;case 10:var d=a.type._context,m=a.memoizedProps.value;bt(Fl,d._currentValue),d._currentValue=m;break;case 13:if(d=a.memoizedState,d!==null)return d.dehydrated!==null?(bt(Pt,Pt.current&1),a.flags|=128,null):(l&a.child.childLanes)!==0?Wg(n,a,l):(bt(Pt,Pt.current&1),n=Yn(n,a,l),n!==null?n.sibling:null);bt(Pt,Pt.current&1);break;case 19:if(d=(l&a.childLanes)!==0,(n.flags&128)!==0){if(d)return Hg(n,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),bt(Pt,Pt.current),d)break;return null;case 22:case 23:return a.lanes=0,Vg(n,a,l)}return Yn(n,a,l)}var Gg,Hu,Zg,Yg;Gg=function(n,a){for(var l=a.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Hu=function(){},Zg=function(n,a,l,d){var m=n.memoizedProps;if(m!==d){n=a.stateNode,sa(Rn.current);var v=null;switch(l){case"input":m=Xe(n,m),d=Xe(n,d),v=[];break;case"select":m=se({},m,{value:void 0}),d=se({},d,{value:void 0}),v=[];break;case"textarea":m=Z(n,m),d=Z(n,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=El)}pt(l,d);var N;l=null;for(H in m)if(!d.hasOwnProperty(H)&&m.hasOwnProperty(H)&&m[H]!=null)if(H==="style"){var R=m[H];for(N in R)R.hasOwnProperty(N)&&(l||(l={}),l[N]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?v||(v=[]):(v=v||[]).push(H,null));for(H in d){var D=d[H];if(R=m?.[H],d.hasOwnProperty(H)&&D!==R&&(D!=null||R!=null))if(H==="style")if(R){for(N in R)!R.hasOwnProperty(N)||D&&D.hasOwnProperty(N)||(l||(l={}),l[N]="");for(N in D)D.hasOwnProperty(N)&&R[N]!==D[N]&&(l||(l={}),l[N]=D[N])}else l||(v||(v=[]),v.push(H,l)),l=D;else H==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,R=R?R.__html:void 0,D!=null&&R!==D&&(v=v||[]).push(H,D)):H==="children"?typeof D!="string"&&typeof D!="number"||(v=v||[]).push(H,""+D):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(D!=null&&H==="onScroll"&&wt("scroll",n),v||R===D||(v=[])):(v=v||[]).push(H,D))}l&&(v=v||[]).push("style",l);var H=v;(a.updateQueue=H)&&(a.flags|=4)}},Yg=function(n,a,l,d){l!==d&&(a.flags|=4)};function co(n,a){if(!Ct)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function hr(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(a)for(var m=n.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=d,n.childLanes=l,a}function fC(n,a,l){var d=a.pendingProps;switch(gu(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(a),null;case 1:return Er(a.type)&&_l(),hr(a),null;case 3:return d=a.stateNode,Qa(),jt(Pr),jt(fr),Tu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Ml(a)?a.flags|=4:n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,mn!==null&&(af(mn),mn=null))),Hu(n,a),hr(a),null;case 5:Pu(a);var m=sa(so.current);if(l=a.type,n!==null&&a.stateNode!=null)Zg(n,a,l,d,m),n.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!d){if(a.stateNode===null)throw Error(s(166));return hr(a),null}if(n=sa(Rn.current),Ml(a)){d=a.stateNode,l=a.type;var v=a.memoizedProps;switch(d[An]=a,d[Ji]=v,n=(a.mode&1)!==0,l){case"dialog":wt("cancel",d),wt("close",d);break;case"iframe":case"object":case"embed":wt("load",d);break;case"video":case"audio":for(m=0;m<Zi.length;m++)wt(Zi[m],d);break;case"source":wt("error",d);break;case"img":case"image":case"link":wt("error",d),wt("load",d);break;case"details":wt("toggle",d);break;case"input":Br(d,v),wt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},wt("invalid",d);break;case"textarea":we(d,v),wt("invalid",d)}pt(l,v),m=null;for(var N in v)if(v.hasOwnProperty(N)){var R=v[N];N==="children"?typeof R=="string"?d.textContent!==R&&(v.suppressHydrationWarning!==!0&&Pl(d.textContent,R,n),m=["children",R]):typeof R=="number"&&d.textContent!==""+R&&(v.suppressHydrationWarning!==!0&&Pl(d.textContent,R,n),m=["children",""+R]):o.hasOwnProperty(N)&&R!=null&&N==="onScroll"&&wt("scroll",d)}switch(l){case"input":dt(d),Ri(d,v,!0);break;case"textarea":dt(d),le(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=El)}d=m,a.updateQueue=d,d!==null&&(a.flags|=4)}else{N=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Re(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=N.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=N.createElement(l,{is:d.is}):(n=N.createElement(l),l==="select"&&(N=n,d.multiple?N.multiple=!0:d.size&&(N.size=d.size))):n=N.createElementNS(n,l),n[An]=a,n[Ji]=d,Gg(n,a,!1,!1),a.stateNode=n;e:{switch(N=us(l,d),l){case"dialog":wt("cancel",n),wt("close",n),m=d;break;case"iframe":case"object":case"embed":wt("load",n),m=d;break;case"video":case"audio":for(m=0;m<Zi.length;m++)wt(Zi[m],n);m=d;break;case"source":wt("error",n),m=d;break;case"img":case"image":case"link":wt("error",n),wt("load",n),m=d;break;case"details":wt("toggle",n),m=d;break;case"input":Br(n,d),m=Xe(n,d),wt("invalid",n);break;case"option":m=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},m=se({},d,{value:void 0}),wt("invalid",n);break;case"textarea":we(n,d),m=Z(n,d),wt("invalid",n);break;default:m=d}pt(l,m),R=m;for(v in R)if(R.hasOwnProperty(v)){var D=R[v];v==="style"?He(n,D):v==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Qt(n,D)):v==="children"?typeof D=="string"?(l!=="textarea"||D!=="")&&Jr(n,D):typeof D=="number"&&Jr(n,""+D):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?D!=null&&v==="onScroll"&&wt("scroll",n):D!=null&&I(n,v,D,N))}switch(l){case"input":dt(n),Ri(n,d,!1);break;case"textarea":dt(n),le(n);break;case"option":d.value!=null&&n.setAttribute("value",""+Ne(d.value));break;case"select":n.multiple=!!d.multiple,v=d.value,v!=null?U(n,!!d.multiple,v,!1):d.defaultValue!=null&&U(n,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=El)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return hr(a),null;case 6:if(n&&a.stateNode!=null)Yg(n,a,n.memoizedProps,d);else{if(typeof d!="string"&&a.stateNode===null)throw Error(s(166));if(l=sa(so.current),sa(Rn.current),Ml(a)){if(d=a.stateNode,l=a.memoizedProps,d[An]=a,(v=d.nodeValue!==l)&&(n=Vr,n!==null))switch(n.tag){case 3:Pl(d.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Pl(d.nodeValue,l,(n.mode&1)!==0)}v&&(a.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[An]=a,a.stateNode=d}return hr(a),null;case 13:if(jt(Pt),d=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ct&&zr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)eg(),Ua(),a.flags|=98560,v=!1;else if(v=Ml(a),d!==null&&d.dehydrated!==null){if(n===null){if(!v)throw Error(s(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[An]=a}else Ua(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;hr(a),v=!1}else mn!==null&&(af(mn),mn=null),v=!0;if(!v)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=l,a):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(a.child.flags|=8192,(a.mode&1)!==0&&(n===null||(Pt.current&1)!==0?Jt===0&&(Jt=3):cf())),a.updateQueue!==null&&(a.flags|=4),hr(a),null);case 4:return Qa(),Hu(n,a),n===null&&Yi(a.stateNode.containerInfo),hr(a),null;case 10:return ju(a.type._context),hr(a),null;case 17:return Er(a.type)&&_l(),hr(a),null;case 19:if(jt(Pt),v=a.memoizedState,v===null)return hr(a),null;if(d=(a.flags&128)!==0,N=v.rendering,N===null)if(d)co(v,!1);else{if(Jt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(N=Vl(n),N!==null){for(a.flags|=128,co(v,!1),d=N.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),a.subtreeFlags=0,d=l,l=a.child;l!==null;)v=l,n=d,v.flags&=14680066,N=v.alternate,N===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=N.childLanes,v.lanes=N.lanes,v.child=N.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=N.memoizedProps,v.memoizedState=N.memoizedState,v.updateQueue=N.updateQueue,v.type=N.type,n=N.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return bt(Pt,Pt.current&1|2),a.child}n=n.sibling}v.tail!==null&&$t()>Ya&&(a.flags|=128,d=!0,co(v,!1),a.lanes=4194304)}else{if(!d)if(n=Vl(N),n!==null){if(a.flags|=128,d=!0,l=n.updateQueue,l!==null&&(a.updateQueue=l,a.flags|=4),co(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!Ct)return hr(a),null}else 2*$t()-v.renderingStartTime>Ya&&l!==1073741824&&(a.flags|=128,d=!0,co(v,!1),a.lanes=4194304);v.isBackwards?(N.sibling=a.child,a.child=N):(l=v.last,l!==null?l.sibling=N:a.child=N,v.last=N)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=$t(),a.sibling=null,l=Pt.current,bt(Pt,d?l&1|2:l&1),a):(hr(a),null);case 22:case 23:return lf(),d=a.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(a.flags|=8192),d&&(a.mode&1)!==0?(Ur&1073741824)!==0&&(hr(a),a.subtreeFlags&6&&(a.flags|=8192)):hr(a),null;case 24:return null;case 25:return null}throw Error(s(156,a.tag))}function mC(n,a){switch(gu(a),a.tag){case 1:return Er(a.type)&&_l(),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Qa(),jt(Pr),jt(fr),Tu(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 5:return Pu(a),null;case 13:if(jt(Pt),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Ua()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return jt(Pt),null;case 4:return Qa(),null;case 10:return ju(a.type._context),null;case 22:case 23:return lf(),null;case 24:return null;default:return null}}var Zl=!1,pr=!1,hC=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Ga(n,a){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Rt(n,a,d)}else l.current=null}function Gu(n,a,l){try{l()}catch(d){Rt(n,a,d)}}var Xg=!1;function pC(n,a){if(ou=gl,n=_p(),Jd(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var N=0,R=-1,D=-1,H=0,ce=0,me=n,oe=null;t:for(;;){for(var Se;me!==l||m!==0&&me.nodeType!==3||(R=N+m),me!==v||d!==0&&me.nodeType!==3||(D=N+d),me.nodeType===3&&(N+=me.nodeValue.length),(Se=me.firstChild)!==null;)oe=me,me=Se;for(;;){if(me===n)break t;if(oe===l&&++H===m&&(R=N),oe===v&&++ce===d&&(D=N),(Se=me.nextSibling)!==null)break;me=oe,oe=me.parentNode}me=Se}l=R===-1||D===-1?null:{start:R,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(lu={focusedElem:n,selectionRange:l},gl=!1,Pe=a;Pe!==null;)if(a=Pe,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Pe=n;else for(;Pe!==null;){a=Pe;try{var Ee=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Ie=Ee.memoizedProps,Vt=Ee.memoizedState,K=a.stateNode,L=K.getSnapshotBeforeUpdate(a.elementType===a.type?Ie:hn(a.type,Ie),Vt);K.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var W=a.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(xe){Rt(a,a.return,xe)}if(n=a.sibling,n!==null){n.return=a.return,Pe=n;break}Pe=a.return}return Ee=Xg,Xg=!1,Ee}function uo(n,a,l){var d=a.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&n)===n){var v=m.destroy;m.destroy=void 0,v!==void 0&&Gu(a,l,v)}m=m.next}while(m!==d)}}function Yl(n,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&n)===n){var d=l.create;l.destroy=d()}l=l.next}while(l!==a)}}function Zu(n){var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof a=="function"?a(n):a.current=n}}function Jg(n){var a=n.alternate;a!==null&&(n.alternate=null,Jg(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&(delete a[An],delete a[Ji],delete a[fu],delete a[YS],delete a[XS])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ex(n){return n.tag===5||n.tag===3||n.tag===4}function tx(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ex(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Yu(n,a,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(n,a):l.insertBefore(n,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(n,l)):(a=l,a.appendChild(n)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=El));else if(d!==4&&(n=n.child,n!==null))for(Yu(n,a,l),n=n.sibling;n!==null;)Yu(n,a,l),n=n.sibling}function Xu(n,a,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(Xu(n,a,l),n=n.sibling;n!==null;)Xu(n,a,l),n=n.sibling}var cr=null,pn=!1;function Ss(n,a,l){for(l=l.child;l!==null;)rx(n,a,l),l=l.sibling}function rx(n,a,l){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(dl,l)}catch{}switch(l.tag){case 5:pr||Ga(l,a);case 6:var d=cr,m=pn;cr=null,Ss(n,a,l),cr=d,pn=m,cr!==null&&(pn?(n=cr,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):cr.removeChild(l.stateNode));break;case 18:cr!==null&&(pn?(n=cr,l=l.stateNode,n.nodeType===8?uu(n.parentNode,l):n.nodeType===1&&uu(n,l),zi(n)):uu(cr,l.stateNode));break;case 4:d=cr,m=pn,cr=l.stateNode.containerInfo,pn=!0,Ss(n,a,l),cr=d,pn=m;break;case 0:case 11:case 14:case 15:if(!pr&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,N=v.destroy;v=v.tag,N!==void 0&&((v&2)!==0||(v&4)!==0)&&Gu(l,a,N),m=m.next}while(m!==d)}Ss(n,a,l);break;case 1:if(!pr&&(Ga(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(R){Rt(l,a,R)}Ss(n,a,l);break;case 21:Ss(n,a,l);break;case 22:l.mode&1?(pr=(d=pr)||l.memoizedState!==null,Ss(n,a,l),pr=d):Ss(n,a,l);break;default:Ss(n,a,l)}}function nx(n){var a=n.updateQueue;if(a!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new hC),a.forEach(function(d){var m=SC.bind(null,n,d);l.has(d)||(l.add(d),d.then(m,m))})}}function gn(n,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var v=n,N=a,R=N;e:for(;R!==null;){switch(R.tag){case 5:cr=R.stateNode,pn=!1;break e;case 3:cr=R.stateNode.containerInfo,pn=!0;break e;case 4:cr=R.stateNode.containerInfo,pn=!0;break e}R=R.return}if(cr===null)throw Error(s(160));rx(v,N,m),cr=null,pn=!1;var D=m.alternate;D!==null&&(D.return=null),m.return=null}catch(H){Rt(m,a,H)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)sx(a,n),a=a.sibling}function sx(n,a){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(gn(a,n),On(n),d&4){try{uo(3,n,n.return),Yl(3,n)}catch(Ie){Rt(n,n.return,Ie)}try{uo(5,n,n.return)}catch(Ie){Rt(n,n.return,Ie)}}break;case 1:gn(a,n),On(n),d&512&&l!==null&&Ga(l,l.return);break;case 5:if(gn(a,n),On(n),d&512&&l!==null&&Ga(l,l.return),n.flags&32){var m=n.stateNode;try{Jr(m,"")}catch(Ie){Rt(n,n.return,Ie)}}if(d&4&&(m=n.stateNode,m!=null)){var v=n.memoizedProps,N=l!==null?l.memoizedProps:v,R=n.type,D=n.updateQueue;if(n.updateQueue=null,D!==null)try{R==="input"&&v.type==="radio"&&v.name!=null&&Xr(m,v),us(R,N);var H=us(R,v);for(N=0;N<D.length;N+=2){var ce=D[N],me=D[N+1];ce==="style"?He(m,me):ce==="dangerouslySetInnerHTML"?Qt(m,me):ce==="children"?Jr(m,me):I(m,ce,me,H)}switch(R){case"input":dn(m,v);break;case"textarea":be(m,v);break;case"select":var oe=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var Se=v.value;Se!=null?U(m,!!v.multiple,Se,!1):oe!==!!v.multiple&&(v.defaultValue!=null?U(m,!!v.multiple,v.defaultValue,!0):U(m,!!v.multiple,v.multiple?[]:"",!1))}m[Ji]=v}catch(Ie){Rt(n,n.return,Ie)}}break;case 6:if(gn(a,n),On(n),d&4){if(n.stateNode===null)throw Error(s(162));m=n.stateNode,v=n.memoizedProps;try{m.nodeValue=v}catch(Ie){Rt(n,n.return,Ie)}}break;case 3:if(gn(a,n),On(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{zi(a.containerInfo)}catch(Ie){Rt(n,n.return,Ie)}break;case 4:gn(a,n),On(n);break;case 13:gn(a,n),On(n),m=n.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(tf=$t())),d&4&&nx(n);break;case 22:if(ce=l!==null&&l.memoizedState!==null,n.mode&1?(pr=(H=pr)||ce,gn(a,n),pr=H):gn(a,n),On(n),d&8192){if(H=n.memoizedState!==null,(n.stateNode.isHidden=H)&&!ce&&(n.mode&1)!==0)for(Pe=n,ce=n.child;ce!==null;){for(me=Pe=ce;Pe!==null;){switch(oe=Pe,Se=oe.child,oe.tag){case 0:case 11:case 14:case 15:uo(4,oe,oe.return);break;case 1:Ga(oe,oe.return);var Ee=oe.stateNode;if(typeof Ee.componentWillUnmount=="function"){d=oe,l=oe.return;try{a=d,Ee.props=a.memoizedProps,Ee.state=a.memoizedState,Ee.componentWillUnmount()}catch(Ie){Rt(d,l,Ie)}}break;case 5:Ga(oe,oe.return);break;case 22:if(oe.memoizedState!==null){ox(me);continue}}Se!==null?(Se.return=oe,Pe=Se):ox(me)}ce=ce.sibling}e:for(ce=null,me=n;;){if(me.tag===5){if(ce===null){ce=me;try{m=me.stateNode,H?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(R=me.stateNode,D=me.memoizedProps.style,N=D!=null&&D.hasOwnProperty("display")?D.display:null,R.style.display=ye("display",N))}catch(Ie){Rt(n,n.return,Ie)}}}else if(me.tag===6){if(ce===null)try{me.stateNode.nodeValue=H?"":me.memoizedProps}catch(Ie){Rt(n,n.return,Ie)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===n)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===n)break e;for(;me.sibling===null;){if(me.return===null||me.return===n)break e;ce===me&&(ce=null),me=me.return}ce===me&&(ce=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:gn(a,n),On(n),d&4&&nx(n);break;case 21:break;default:gn(a,n),On(n)}}function On(n){var a=n.flags;if(a&2){try{e:{for(var l=n.return;l!==null;){if(ex(l)){var d=l;break e}l=l.return}throw Error(s(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Jr(m,""),d.flags&=-33);var v=tx(n);Xu(n,v,m);break;case 3:case 4:var N=d.stateNode.containerInfo,R=tx(n);Yu(n,R,N);break;default:throw Error(s(161))}}catch(D){Rt(n,n.return,D)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function gC(n,a,l){Pe=n,ax(n)}function ax(n,a,l){for(var d=(n.mode&1)!==0;Pe!==null;){var m=Pe,v=m.child;if(m.tag===22&&d){var N=m.memoizedState!==null||Zl;if(!N){var R=m.alternate,D=R!==null&&R.memoizedState!==null||pr;R=Zl;var H=pr;if(Zl=N,(pr=D)&&!H)for(Pe=m;Pe!==null;)N=Pe,D=N.child,N.tag===22&&N.memoizedState!==null?lx(m):D!==null?(D.return=N,Pe=D):lx(m);for(;v!==null;)Pe=v,ax(v),v=v.sibling;Pe=m,Zl=R,pr=H}ix(n)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Pe=v):ix(n)}}function ix(n){for(;Pe!==null;){var a=Pe;if((a.flags&8772)!==0){var l=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:pr||Yl(5,a);break;case 1:var d=a.stateNode;if(a.flags&4&&!pr)if(l===null)d.componentDidMount();else{var m=a.elementType===a.type?l.memoizedProps:hn(a.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&og(a,v,d);break;case 3:var N=a.updateQueue;if(N!==null){if(l=null,a.child!==null)switch(a.child.tag){case 5:l=a.child.stateNode;break;case 1:l=a.child.stateNode}og(a,N,l)}break;case 5:var R=a.stateNode;if(l===null&&a.flags&4){l=R;var D=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&l.focus();break;case"img":D.src&&(l.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var H=a.alternate;if(H!==null){var ce=H.memoizedState;if(ce!==null){var me=ce.dehydrated;me!==null&&zi(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}pr||a.flags&512&&Zu(a)}catch(oe){Rt(a,a.return,oe)}}if(a===n){Pe=null;break}if(l=a.sibling,l!==null){l.return=a.return,Pe=l;break}Pe=a.return}}function ox(n){for(;Pe!==null;){var a=Pe;if(a===n){Pe=null;break}var l=a.sibling;if(l!==null){l.return=a.return,Pe=l;break}Pe=a.return}}function lx(n){for(;Pe!==null;){var a=Pe;try{switch(a.tag){case 0:case 11:case 15:var l=a.return;try{Yl(4,a)}catch(D){Rt(a,l,D)}break;case 1:var d=a.stateNode;if(typeof d.componentDidMount=="function"){var m=a.return;try{d.componentDidMount()}catch(D){Rt(a,m,D)}}var v=a.return;try{Zu(a)}catch(D){Rt(a,v,D)}break;case 5:var N=a.return;try{Zu(a)}catch(D){Rt(a,N,D)}}}catch(D){Rt(a,a.return,D)}if(a===n){Pe=null;break}var R=a.sibling;if(R!==null){R.return=a.return,Pe=R;break}Pe=a.return}}var xC=Math.ceil,Xl=F.ReactCurrentDispatcher,Ju=F.ReactCurrentOwner,sn=F.ReactCurrentBatchConfig,mt=0,nr=null,Ht=null,dr=0,Ur=0,Za=ys(0),Jt=0,fo=null,ia=0,Jl=0,ef=0,mo=null,_r=null,tf=0,Ya=1/0,Xn=null,ec=!1,rf=null,Cs=null,tc=!1,ks=null,rc=0,ho=0,nf=null,nc=-1,sc=0;function yr(){return(mt&6)!==0?$t():nc!==-1?nc:nc=$t()}function Ps(n){return(n.mode&1)===0?1:(mt&2)!==0&&dr!==0?dr&-dr:eC.transition!==null?(sc===0&&(sc=tp()),sc):(n=gt,n!==0||(n=window.event,n=n===void 0?16:dp(n.type)),n)}function xn(n,a,l,d){if(50<ho)throw ho=0,nf=null,Error(s(185));Fi(n,l,d),((mt&2)===0||n!==nr)&&(n===nr&&((mt&2)===0&&(Jl|=l),Jt===4&&Es(n,dr)),Ar(n,d),l===1&&mt===0&&(a.mode&1)===0&&(Ya=$t()+500,Rl&&ws()))}function Ar(n,a){var l=n.callbackNode;eS(n,a);var d=ml(n,n===nr?dr:0);if(d===0)l!==null&&Xh(l),n.callbackNode=null,n.callbackPriority=0;else if(a=d&-d,n.callbackPriority!==a){if(l!=null&&Xh(l),a===1)n.tag===0?JS(dx.bind(null,n)):Gp(dx.bind(null,n)),GS(function(){(mt&6)===0&&ws()}),l=null;else{switch(rp(d)){case 1:l=Dd;break;case 4:l=Jh;break;case 16:l=cl;break;case 536870912:l=ep;break;default:l=cl}l=vx(l,cx.bind(null,n))}n.callbackPriority=a,n.callbackNode=l}}function cx(n,a){if(nc=-1,sc=0,(mt&6)!==0)throw Error(s(327));var l=n.callbackNode;if(Xa()&&n.callbackNode!==l)return null;var d=ml(n,n===nr?dr:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||a)a=ac(n,d);else{a=d;var m=mt;mt|=2;var v=fx();(nr!==n||dr!==a)&&(Xn=null,Ya=$t()+500,la(n,a));do try{bC();break}catch(R){ux(n,R)}while(!0);wu(),Xl.current=v,mt=m,Ht!==null?a=0:(nr=null,dr=0,a=Jt)}if(a!==0){if(a===2&&(m=Fd(n),m!==0&&(d=m,a=sf(n,m))),a===1)throw l=fo,la(n,0),Es(n,d),Ar(n,$t()),l;if(a===6)Es(n,d);else{if(m=n.current.alternate,(d&30)===0&&!vC(m)&&(a=ac(n,d),a===2&&(v=Fd(n),v!==0&&(d=v,a=sf(n,v))),a===1))throw l=fo,la(n,0),Es(n,d),Ar(n,$t()),l;switch(n.finishedWork=m,n.finishedLanes=d,a){case 0:case 1:throw Error(s(345));case 2:ca(n,_r,Xn);break;case 3:if(Es(n,d),(d&130023424)===d&&(a=tf+500-$t(),10<a)){if(ml(n,0)!==0)break;if(m=n.suspendedLanes,(m&d)!==d){yr(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=du(ca.bind(null,n,_r,Xn),a);break}ca(n,_r,Xn);break;case 4:if(Es(n,d),(d&4194240)===d)break;for(a=n.eventTimes,m=-1;0<d;){var N=31-un(d);v=1<<N,N=a[N],N>m&&(m=N),d&=~v}if(d=m,d=$t()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*xC(d/1960))-d,10<d){n.timeoutHandle=du(ca.bind(null,n,_r,Xn),d);break}ca(n,_r,Xn);break;case 5:ca(n,_r,Xn);break;default:throw Error(s(329))}}}return Ar(n,$t()),n.callbackNode===l?cx.bind(null,n):null}function sf(n,a){var l=mo;return n.current.memoizedState.isDehydrated&&(la(n,a).flags|=256),n=ac(n,a),n!==2&&(a=_r,_r=l,a!==null&&af(a)),n}function af(n){_r===null?_r=n:_r.push.apply(_r,n)}function vC(n){for(var a=n;;){if(a.flags&16384){var l=a.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],v=m.getSnapshot;m=m.value;try{if(!fn(v(),m))return!1}catch{return!1}}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Es(n,a){for(a&=~ef,a&=~Jl,n.suspendedLanes|=a,n.pingedLanes&=~a,n=n.expirationTimes;0<a;){var l=31-un(a),d=1<<l;n[l]=-1,a&=~d}}function dx(n){if((mt&6)!==0)throw Error(s(327));Xa();var a=ml(n,0);if((a&1)===0)return Ar(n,$t()),null;var l=ac(n,a);if(n.tag!==0&&l===2){var d=Fd(n);d!==0&&(a=d,l=sf(n,d))}if(l===1)throw l=fo,la(n,0),Es(n,a),Ar(n,$t()),l;if(l===6)throw Error(s(345));return n.finishedWork=n.current.alternate,n.finishedLanes=a,ca(n,_r,Xn),Ar(n,$t()),null}function of(n,a){var l=mt;mt|=1;try{return n(a)}finally{mt=l,mt===0&&(Ya=$t()+500,Rl&&ws())}}function oa(n){ks!==null&&ks.tag===0&&(mt&6)===0&&Xa();var a=mt;mt|=1;var l=sn.transition,d=gt;try{if(sn.transition=null,gt=1,n)return n()}finally{gt=d,sn.transition=l,mt=a,(mt&6)===0&&ws()}}function lf(){Ur=Za.current,jt(Za)}function la(n,a){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,HS(l)),Ht!==null)for(l=Ht.return;l!==null;){var d=l;switch(gu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&_l();break;case 3:Qa(),jt(Pr),jt(fr),Tu();break;case 5:Pu(d);break;case 4:Qa();break;case 13:jt(Pt);break;case 19:jt(Pt);break;case 10:ju(d.type._context);break;case 22:case 23:lf()}l=l.return}if(nr=n,Ht=n=Ts(n.current,null),dr=Ur=a,Jt=0,fo=null,ef=Jl=ia=0,_r=mo=null,na!==null){for(a=0;a<na.length;a++)if(l=na[a],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,v=l.pending;if(v!==null){var N=v.next;v.next=m,d.next=N}l.pending=d}na=null}return n}function ux(n,a){do{var l=Ht;try{if(wu(),zl.current=Wl,Ul){for(var d=Et.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Ul=!1}if(aa=0,rr=Xt=Et=null,ao=!1,io=0,Ju.current=null,l===null||l.return===null){Jt=1,fo=a,Ht=null;break}e:{var v=n,N=l.return,R=l,D=a;if(a=dr,R.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var H=D,ce=R,me=ce.tag;if((ce.mode&1)===0&&(me===0||me===11||me===15)){var oe=ce.alternate;oe?(ce.updateQueue=oe.updateQueue,ce.memoizedState=oe.memoizedState,ce.lanes=oe.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var Se=Dg(N);if(Se!==null){Se.flags&=-257,Fg(Se,N,R,v,a),Se.mode&1&&Mg(v,H,a),a=Se,D=H;var Ee=a.updateQueue;if(Ee===null){var Ie=new Set;Ie.add(D),a.updateQueue=Ie}else Ee.add(D);break e}else{if((a&1)===0){Mg(v,H,a),cf();break e}D=Error(s(426))}}else if(Ct&&R.mode&1){var Vt=Dg(N);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),Fg(Vt,N,R,v,a),yu(Ha(D,R));break e}}v=D=Ha(D,R),Jt!==4&&(Jt=2),mo===null?mo=[v]:mo.push(v),v=N;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var K=Ig(v,D,a);ig(v,K);break e;case 1:R=D;var L=v.type,W=v.stateNode;if((v.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Cs===null||!Cs.has(W)))){v.flags|=65536,a&=-a,v.lanes|=a;var xe=Og(v,R,a);ig(v,xe);break e}}v=v.return}while(v!==null)}hx(l)}catch(Me){a=Me,Ht===l&&l!==null&&(Ht=l=l.return);continue}break}while(!0)}function fx(){var n=Xl.current;return Xl.current=Wl,n===null?Wl:n}function cf(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),nr===null||(ia&268435455)===0&&(Jl&268435455)===0||Es(nr,dr)}function ac(n,a){var l=mt;mt|=2;var d=fx();(nr!==n||dr!==a)&&(Xn=null,la(n,a));do try{yC();break}catch(m){ux(n,m)}while(!0);if(wu(),mt=l,Xl.current=d,Ht!==null)throw Error(s(261));return nr=null,dr=0,Jt}function yC(){for(;Ht!==null;)mx(Ht)}function bC(){for(;Ht!==null&&!KN();)mx(Ht)}function mx(n){var a=xx(n.alternate,n,Ur);n.memoizedProps=n.pendingProps,a===null?hx(n):Ht=a,Ju.current=null}function hx(n){var a=n;do{var l=a.alternate;if(n=a.return,(a.flags&32768)===0){if(l=fC(l,a,Ur),l!==null){Ht=l;return}}else{if(l=mC(l,a),l!==null){l.flags&=32767,Ht=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Jt=6,Ht=null;return}}if(a=a.sibling,a!==null){Ht=a;return}Ht=a=n}while(a!==null);Jt===0&&(Jt=5)}function ca(n,a,l){var d=gt,m=sn.transition;try{sn.transition=null,gt=1,wC(n,a,l,d)}finally{sn.transition=m,gt=d}return null}function wC(n,a,l,d){do Xa();while(ks!==null);if((mt&6)!==0)throw Error(s(327));l=n.finishedWork;var m=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0;var v=l.lanes|l.childLanes;if(tS(n,v),n===nr&&(Ht=nr=null,dr=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||tc||(tc=!0,vx(cl,function(){return Xa(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=sn.transition,sn.transition=null;var N=gt;gt=1;var R=mt;mt|=4,Ju.current=null,pC(n,l),sx(l,n),VS(lu),gl=!!ou,lu=ou=null,n.current=l,gC(l),WN(),mt=R,gt=N,sn.transition=v}else n.current=l;if(tc&&(tc=!1,ks=n,rc=m),v=n.pendingLanes,v===0&&(Cs=null),GN(l.stateNode),Ar(n,$t()),a!==null)for(d=n.onRecoverableError,l=0;l<a.length;l++)m=a[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(ec)throw ec=!1,n=rf,rf=null,n;return(rc&1)!==0&&n.tag!==0&&Xa(),v=n.pendingLanes,(v&1)!==0?n===nf?ho++:(ho=0,nf=n):ho=0,ws(),null}function Xa(){if(ks!==null){var n=rp(rc),a=sn.transition,l=gt;try{if(sn.transition=null,gt=16>n?16:n,ks===null)var d=!1;else{if(n=ks,ks=null,rc=0,(mt&6)!==0)throw Error(s(331));var m=mt;for(mt|=4,Pe=n.current;Pe!==null;){var v=Pe,N=v.child;if((Pe.flags&16)!==0){var R=v.deletions;if(R!==null){for(var D=0;D<R.length;D++){var H=R[D];for(Pe=H;Pe!==null;){var ce=Pe;switch(ce.tag){case 0:case 11:case 15:uo(8,ce,v)}var me=ce.child;if(me!==null)me.return=ce,Pe=me;else for(;Pe!==null;){ce=Pe;var oe=ce.sibling,Se=ce.return;if(Jg(ce),ce===H){Pe=null;break}if(oe!==null){oe.return=Se,Pe=oe;break}Pe=Se}}}var Ee=v.alternate;if(Ee!==null){var Ie=Ee.child;if(Ie!==null){Ee.child=null;do{var Vt=Ie.sibling;Ie.sibling=null,Ie=Vt}while(Ie!==null)}}Pe=v}}if((v.subtreeFlags&2064)!==0&&N!==null)N.return=v,Pe=N;else e:for(;Pe!==null;){if(v=Pe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:uo(9,v,v.return)}var K=v.sibling;if(K!==null){K.return=v.return,Pe=K;break e}Pe=v.return}}var L=n.current;for(Pe=L;Pe!==null;){N=Pe;var W=N.child;if((N.subtreeFlags&2064)!==0&&W!==null)W.return=N,Pe=W;else e:for(N=L;Pe!==null;){if(R=Pe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Yl(9,R)}}catch(Me){Rt(R,R.return,Me)}if(R===N){Pe=null;break e}var xe=R.sibling;if(xe!==null){xe.return=R.return,Pe=xe;break e}Pe=R.return}}if(mt=m,ws(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(dl,n)}catch{}d=!0}return d}finally{gt=l,sn.transition=a}}return!1}function px(n,a,l){a=Ha(l,a),a=Ig(n,a,1),n=Ns(n,a,1),a=yr(),n!==null&&(Fi(n,1,a),Ar(n,a))}function Rt(n,a,l){if(n.tag===3)px(n,n,l);else for(;a!==null;){if(a.tag===3){px(a,n,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Cs===null||!Cs.has(d))){n=Ha(l,n),n=Og(a,n,1),a=Ns(a,n,1),n=yr(),a!==null&&(Fi(a,1,n),Ar(a,n));break}}a=a.return}}function jC(n,a,l){var d=n.pingCache;d!==null&&d.delete(a),a=yr(),n.pingedLanes|=n.suspendedLanes&l,nr===n&&(dr&l)===l&&(Jt===4||Jt===3&&(dr&130023424)===dr&&500>$t()-tf?la(n,0):ef|=l),Ar(n,a)}function gx(n,a){a===0&&((n.mode&1)===0?a=1:(a=fl,fl<<=1,(fl&130023424)===0&&(fl=4194304)));var l=yr();n=Gn(n,a),n!==null&&(Fi(n,a,l),Ar(n,l))}function NC(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),gx(n,l)}function SC(n,a){var l=0;switch(n.tag){case 13:var d=n.stateNode,m=n.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(s(314))}d!==null&&d.delete(a),gx(n,l)}var xx;xx=function(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps||Pr.current)Tr=!0;else{if((n.lanes&l)===0&&(a.flags&128)===0)return Tr=!1,uC(n,a,l);Tr=(n.flags&131072)!==0}else Tr=!1,Ct&&(a.flags&1048576)!==0&&Zp(a,Ol,a.index);switch(a.lanes=0,a.tag){case 2:var d=a.type;Gl(n,a),n=a.pendingProps;var m=$a(a,fr.current);Wa(a,l),m=Ru(null,a,d,n,m,l);var v=Iu();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Er(d)?(v=!0,Al(a)):v=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Cu(a),m.updater=Ql,a.stateNode=m,m._reactInternals=a,Bu(a,d,n,l),a=Uu(null,a,d,!0,v,l)):(a.tag=0,Ct&&v&&pu(a),vr(null,a,m,l),a=a.child),a;case 16:d=a.elementType;e:{switch(Gl(n,a),n=a.pendingProps,m=d._init,d=m(d._payload),a.type=d,m=a.tag=kC(d),n=hn(d,n),m){case 0:a=zu(null,a,d,n,l);break e;case 1:a=Ug(null,a,d,n,l);break e;case 11:a=Lg(null,a,d,n,l);break e;case 14:a=Bg(null,a,d,hn(d.type,n),l);break e}throw Error(s(306,d,""))}return a;case 0:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:hn(d,m),zu(n,a,d,m,l);case 1:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:hn(d,m),Ug(n,a,d,m,l);case 3:e:{if(qg(a),n===null)throw Error(s(387));d=a.pendingProps,v=a.memoizedState,m=v.element,ag(n,a),$l(a,d,null,l);var N=a.memoizedState;if(d=N.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){m=Ha(Error(s(423)),a),a=Kg(n,a,d,l,m);break e}else if(d!==m){m=Ha(Error(s(424)),a),a=Kg(n,a,d,l,m);break e}else for(zr=vs(a.stateNode.containerInfo.firstChild),Vr=a,Ct=!0,mn=null,l=ng(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ua(),d===m){a=Yn(n,a,l);break e}vr(n,a,d,l)}a=a.child}return a;case 5:return lg(a),n===null&&vu(a),d=a.type,m=a.pendingProps,v=n!==null?n.memoizedProps:null,N=m.children,cu(d,m)?N=null:v!==null&&cu(d,v)&&(a.flags|=32),zg(n,a),vr(n,a,N,l),a.child;case 6:return n===null&&vu(a),null;case 13:return Wg(n,a,l);case 4:return ku(a,a.stateNode.containerInfo),d=a.pendingProps,n===null?a.child=qa(a,null,d,l):vr(n,a,d,l),a.child;case 11:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:hn(d,m),Lg(n,a,d,m,l);case 7:return vr(n,a,a.pendingProps,l),a.child;case 8:return vr(n,a,a.pendingProps.children,l),a.child;case 12:return vr(n,a,a.pendingProps.children,l),a.child;case 10:e:{if(d=a.type._context,m=a.pendingProps,v=a.memoizedProps,N=m.value,bt(Fl,d._currentValue),d._currentValue=N,v!==null)if(fn(v.value,N)){if(v.children===m.children&&!Pr.current){a=Yn(n,a,l);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var R=v.dependencies;if(R!==null){N=v.child;for(var D=R.firstContext;D!==null;){if(D.context===d){if(v.tag===1){D=Zn(-1,l&-l),D.tag=2;var H=v.updateQueue;if(H!==null){H=H.shared;var ce=H.pending;ce===null?D.next=D:(D.next=ce.next,ce.next=D),H.pending=D}}v.lanes|=l,D=v.alternate,D!==null&&(D.lanes|=l),Nu(v.return,l,a),R.lanes|=l;break}D=D.next}}else if(v.tag===10)N=v.type===a.type?null:v.child;else if(v.tag===18){if(N=v.return,N===null)throw Error(s(341));N.lanes|=l,R=N.alternate,R!==null&&(R.lanes|=l),Nu(N,l,a),N=v.sibling}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===a){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}vr(n,a,m.children,l),a=a.child}return a;case 9:return m=a.type,d=a.pendingProps.children,Wa(a,l),m=rn(m),d=d(m),a.flags|=1,vr(n,a,d,l),a.child;case 14:return d=a.type,m=hn(d,a.pendingProps),m=hn(d.type,m),Bg(n,a,d,m,l);case 15:return $g(n,a,a.type,a.pendingProps,l);case 17:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:hn(d,m),Gl(n,a),a.tag=1,Er(d)?(n=!0,Al(a)):n=!1,Wa(a,l),Ag(a,d,m),Bu(a,d,m,l),Uu(null,a,d,!0,n,l);case 19:return Hg(n,a,l);case 22:return Vg(n,a,l)}throw Error(s(156,a.tag))};function vx(n,a){return Yh(n,a)}function CC(n,a,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(n,a,l,d){return new CC(n,a,l,d)}function df(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kC(n){if(typeof n=="function")return df(n)?1:0;if(n!=null){if(n=n.$$typeof,n===X)return 11;if(n===ne)return 14}return 2}function Ts(n,a){var l=n.alternate;return l===null?(l=an(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function ic(n,a,l,d,m,v){var N=2;if(d=n,typeof n=="function")df(n)&&(N=1);else if(typeof n=="string")N=5;else e:switch(n){case q:return da(l.children,m,v,a);case J:N=8,m|=8;break;case ve:return n=an(12,l,a,m|2),n.elementType=ve,n.lanes=v,n;case ae:return n=an(13,l,a,m),n.elementType=ae,n.lanes=v,n;case B:return n=an(19,l,a,m),n.elementType=B,n.lanes=v,n;case T:return oc(l,m,v,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ge:N=10;break e;case de:N=9;break e;case X:N=11;break e;case ne:N=14;break e;case z:N=16,d=null;break e}throw Error(s(130,n==null?n:typeof n,""))}return a=an(N,l,a,m),a.elementType=n,a.type=d,a.lanes=v,a}function da(n,a,l,d){return n=an(7,n,d,a),n.lanes=l,n}function oc(n,a,l,d){return n=an(22,n,d,a),n.elementType=T,n.lanes=l,n.stateNode={isHidden:!1},n}function uf(n,a,l){return n=an(6,n,null,a),n.lanes=l,n}function ff(n,a,l){return a=an(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function PC(n,a,l,d,m){this.tag=a,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ld(0),this.expirationTimes=Ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ld(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function mf(n,a,l,d,m,v,N,R,D){return n=new PC(n,a,l,R,D),a===1?(a=1,v===!0&&(a|=8)):a=0,v=an(3,null,null,a),n.current=v,v.stateNode=n,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cu(v),n}function EC(n,a,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:d==null?null:""+d,children:n,containerInfo:a,implementation:l}}function yx(n){if(!n)return bs;n=n._reactInternals;e:{if(Xs(n)!==n||n.tag!==1)throw Error(s(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Er(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(s(171))}if(n.tag===1){var l=n.type;if(Er(l))return Qp(n,l,a)}return a}function bx(n,a,l,d,m,v,N,R,D){return n=mf(l,d,!0,n,m,v,N,R,D),n.context=yx(null),l=n.current,d=yr(),m=Ps(l),v=Zn(d,m),v.callback=a??null,Ns(l,v,m),n.current.lanes=m,Fi(n,m,d),Ar(n,d),n}function lc(n,a,l,d){var m=a.current,v=yr(),N=Ps(m);return l=yx(l),a.context===null?a.context=l:a.pendingContext=l,a=Zn(v,N),a.payload={element:n},d=d===void 0?null:d,d!==null&&(a.callback=d),n=Ns(m,a,N),n!==null&&(xn(n,m,N,v),Bl(n,m,N)),N}function cc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function wx(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function hf(n,a){wx(n,a),(n=n.alternate)&&wx(n,a)}function TC(){return null}var jx=typeof reportError=="function"?reportError:function(n){console.error(n)};function pf(n){this._internalRoot=n}dc.prototype.render=pf.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(s(409));lc(n,a,null,null)},dc.prototype.unmount=pf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;oa(function(){lc(null,n,null,null)}),a[Kn]=null}};function dc(n){this._internalRoot=n}dc.prototype.unstable_scheduleHydration=function(n){if(n){var a=ap();n={blockedOn:null,target:n,priority:a};for(var l=0;l<ps.length&&a!==0&&a<ps[l].priority;l++);ps.splice(l,0,n),l===0&&lp(n)}};function gf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function uc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Nx(){}function _C(n,a,l,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var H=cc(N);v.call(H)}}var N=bx(a,d,n,0,null,!1,!1,"",Nx);return n._reactRootContainer=N,n[Kn]=N.current,Yi(n.nodeType===8?n.parentNode:n),oa(),N}for(;m=n.lastChild;)n.removeChild(m);if(typeof d=="function"){var R=d;d=function(){var H=cc(D);R.call(H)}}var D=mf(n,0,!1,null,null,!1,!1,"",Nx);return n._reactRootContainer=D,n[Kn]=D.current,Yi(n.nodeType===8?n.parentNode:n),oa(function(){lc(a,D,l,d)}),D}function fc(n,a,l,d,m){var v=l._reactRootContainer;if(v){var N=v;if(typeof m=="function"){var R=m;m=function(){var D=cc(N);R.call(D)}}lc(a,N,n,m)}else N=_C(l,a,n,m,d);return cc(N)}np=function(n){switch(n.tag){case 3:var a=n.stateNode;if(a.current.memoizedState.isDehydrated){var l=Di(a.pendingLanes);l!==0&&(Bd(a,l|1),Ar(a,$t()),(mt&6)===0&&(Ya=$t()+500,ws()))}break;case 13:oa(function(){var d=Gn(n,1);if(d!==null){var m=yr();xn(d,n,1,m)}}),hf(n,1)}},$d=function(n){if(n.tag===13){var a=Gn(n,134217728);if(a!==null){var l=yr();xn(a,n,134217728,l)}hf(n,134217728)}},sp=function(n){if(n.tag===13){var a=Ps(n),l=Gn(n,a);if(l!==null){var d=yr();xn(l,n,a,d)}hf(n,a)}},ap=function(){return gt},ip=function(n,a){var l=gt;try{return gt=n,a()}finally{gt=l}},Rd=function(n,a,l){switch(a){case"input":if(dn(n,l),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==n&&d.form===n.form){var m=Tl(d);if(!m)throw Error(s(90));ft(d),dn(d,m)}}}break;case"textarea":be(n,l);break;case"select":a=l.value,a!=null&&U(n,!!l.multiple,a,!1)}},qh=of,Kh=oa;var AC={usingClientEntryPoint:!1,Events:[eo,La,Tl,zh,Uh,of]},po={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RC={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Gh(n),n===null?null:n.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||TC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{dl=mc.inject(RC),_n=mc}catch{}}return Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AC,Rr.createPortal=function(n,a){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gf(a))throw Error(s(200));return EC(n,a,null,l)},Rr.createRoot=function(n,a){if(!gf(n))throw Error(s(299));var l=!1,d="",m=jx;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=mf(n,1,!1,null,null,l,!1,d,m),n[Kn]=a.current,Yi(n.nodeType===8?n.parentNode:n),new pf(a)},Rr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=Gh(a),n=n===null?null:n.stateNode,n},Rr.flushSync=function(n){return oa(n)},Rr.hydrate=function(n,a,l){if(!uc(a))throw Error(s(200));return fc(null,n,a,!0,l)},Rr.hydrateRoot=function(n,a,l){if(!gf(n))throw Error(s(405));var d=l!=null&&l.hydratedSources||null,m=!1,v="",N=jx;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),a=bx(a,null,n,1,l??null,m,!1,v,N),n[Kn]=a.current,Yi(n),d)for(n=0;n<d.length;n++)l=d[n],m=l._getVersion,m=m(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,m]:a.mutableSourceEagerHydrationData.push(l,m);return new dc(a)},Rr.render=function(n,a,l){if(!uc(a))throw Error(s(200));return fc(null,n,a,!1,l)},Rr.unmountComponentAtNode=function(n){if(!uc(n))throw Error(s(40));return n._reactRootContainer?(oa(function(){fc(null,null,n,!1,function(){n._reactRootContainer=null,n[Kn]=null})}),!0):!1},Rr.unstable_batchedUpdates=of,Rr.unstable_renderSubtreeIntoContainer=function(n,a,l,d){if(!uc(l))throw Error(s(200));if(n==null||n._reactInternals===void 0)throw Error(s(38));return fc(n,a,l,!1,d)},Rr.version="18.3.1-next-f1338f8080-20240426",Rr}var Ax;function hy(){if(Ax)return yf.exports;Ax=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yf.exports=$C(),yf.exports}var Rx;function VC(){if(Rx)return hc;Rx=1;var e=hy();return hc.createRoot=e.createRoot,hc.hydrateRoot=e.hydrateRoot,hc}var zC=VC();function UC(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,i,o,c,u=[],f="",h=e.split("/");for(h[0]||h.shift();o=h.shift();)s=o[0],s==="*"?(u.push(s),f+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(i=o.indexOf("?",1),c=o.indexOf(".",1),u.push(o.substring(1,~i?i:~c?c:o.length)),f+=~i&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(f+=(~i?"?":"")+"\\"+o.substring(c))):f+="/"+o;return{keys:u,pattern:new RegExp("^"+f+(t?"(?=$|/)":"/?$"),"i")}}var p=ed();const zt=my(p),Em=OC({__proto__:null,default:zt},[p]);var jf={exports:{}},Nf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix;function qC(){if(Ix)return Nf;Ix=1;var e=ed();function t(y,j){return y===j&&(y!==0||1/y===1/j)||y!==y&&j!==j}var s=typeof Object.is=="function"?Object.is:t,i=e.useState,o=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function f(y,j){var S=j(),P=i({inst:{value:S,getSnapshot:j}}),w=P[0].inst,b=P[1];return c(function(){w.value=S,w.getSnapshot=j,h(w)&&b({inst:w})},[y,S,j]),o(function(){return h(w)&&b({inst:w}),y(function(){h(w)&&b({inst:w})})},[y]),u(S),S}function h(y){var j=y.getSnapshot;y=y.value;try{var S=j();return!s(y,S)}catch{return!0}}function g(y,j){return j()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:f;return Nf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,Nf}var Ox;function KC(){return Ox||(Ox=1,jf.exports=qC()),jf.exports}var WC=KC();const QC=Em.useInsertionEffect,HC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GC=HC?p.useLayoutEffect:p.useEffect,ZC=QC||GC,py=e=>{const t=p.useRef([e,(...s)=>t[0](...s)]).current;return ZC(()=>{t[0]=e}),t[1]},YC="popstate",Tm="pushState",_m="replaceState",XC="hashchange",Mx=[YC,Tm,_m,XC],JC=e=>{for(const t of Mx)addEventListener(t,e);return()=>{for(const t of Mx)removeEventListener(t,e)}},gy=(e,t)=>WC.useSyncExternalStore(JC,e,t),e1=()=>location.search,t1=({ssrSearch:e=""}={})=>gy(e1,()=>e),Dx=()=>location.pathname,r1=({ssrPath:e}={})=>gy(Dx,e?()=>e:Dx),n1=(e,{replace:t=!1,state:s=null}={})=>history[t?_m:Tm](s,"",e),s1=(e={})=>[r1(e),n1],Fx=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Fx]>"u"){for(const e of[Tm,_m]){const t=history[e];history[e]=function(){const s=t.apply(this,arguments),i=new Event(e);return i.arguments=arguments,dispatchEvent(i),s}}Object.defineProperty(window,Fx,{value:!0})}const a1=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",xy=(e="")=>e==="/"?"":e,i1=(e,t)=>e[0]==="~"?e.slice(1):xy(t)+e,o1=(e="",t)=>a1(Lx(xy(e)),Lx(t)),Lx=e=>{try{return decodeURI(e)}catch{return e}},vy={hook:s1,searchHook:t1,parser:UC,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},yy=p.createContext(vy),Go=()=>p.useContext(yy),by={},wy=p.createContext(by),l1=()=>p.useContext(wy),td=e=>{const[t,s]=e.hook(e);return[o1(e.base,t),py((i,o)=>s(i1(i,e.base),o))]},jy=()=>td(Go()),Ny=(e,t,s,i)=>{const{pattern:o,keys:c}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",i),u=o.exec(s)||[],[f,...h]=u;return f!==void 0?[!0,(()=>{const g=c!==!1?Object.fromEntries(c.map((y,j)=>[y,h[j]])):u.groups;let x={...h};return g&&Object.assign(x,g),x})(),...i?[f]:[]]:[!1,null]},c1=({children:e,...t})=>{const s=Go(),i=t.hook?vy:s;let o=i;const[c,u]=t.ssrPath?.split("?")??[];u&&(t.ssrSearch=u,t.ssrPath=c),t.hrefs=t.hrefs??t.hook?.hrefs;let f=p.useRef({}),h=f.current,g=h;for(let x in i){const y=x==="base"?i[x]+(t[x]||""):t[x]||i[x];h===g&&y!==g[x]&&(f.current=g={...g}),g[x]=y,(y!==i[x]||y!==o[x])&&(o=g)}return p.createElement(yy.Provider,{value:o,children:e})},Bx=({children:e,component:t},s)=>t?p.createElement(t,{params:s}):typeof e=="function"?e(s):e,d1=e=>{let t=p.useRef(by);const s=t.current;return t.current=Object.keys(e).length!==Object.keys(s).length||Object.entries(e).some(([i,o])=>o!==s[i])?e:s},As=({path:e,nest:t,match:s,...i})=>{const o=Go(),[c]=td(o),[u,f,h]=s??Ny(o.parser,e,c,t),g=d1({...l1(),...f});if(!u)return null;const x=h?p.createElement(c1,{base:h},Bx(i,g)):Bx(i,g);return p.createElement(wy.Provider,{value:g,children:x})},$x=p.forwardRef((e,t)=>{const s=Go(),[i,o]=td(s),{to:c="",href:u=c,onClick:f,asChild:h,children:g,className:x,replace:y,state:j,...S}=e,P=py(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(f?.(b),b.defaultPrevented||(b.preventDefault(),o(u,e)))}),w=s.hrefs(u[0]==="~"?u.slice(1):s.base+u,s);return h&&p.isValidElement(g)?p.cloneElement(g,{onClick:P,href:w}):p.createElement("a",{...S,onClick:P,href:w,className:x?.call?x(i===u):x,children:g,ref:t})}),Sy=e=>Array.isArray(e)?e.flatMap(t=>Sy(t&&t.type===p.Fragment?t.props.children:t)):[e],u1=({children:e,location:t})=>{const s=Go(),[i]=td(s);for(const o of Sy(e)){let c=0;if(p.isValidElement(o)&&(c=Ny(s.parser,o.props.path,t||i,o.props.nest))[0])return p.cloneElement(o,{match:c})}return null};var Si=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},f1={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},m1=class{#e=f1;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},ua=new m1;function h1(e){setTimeout(e,0)}var pa=typeof window>"u"||"Deno"in globalThis;function br(){}function p1(e,t){return typeof e=="function"?e(t):e}function Gf(e){return typeof e=="number"&&e>=0&&e!==1/0}function Cy(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Fs(e,t){return typeof e=="function"?e(t):e}function on(e,t){return typeof e=="function"?e(t):e}function Vx(e,t){const{type:s="all",exact:i,fetchStatus:o,predicate:c,queryKey:u,stale:f}=e;if(u){if(i){if(t.queryHash!==Am(u,t.options))return!1}else if(!Po(t.queryKey,u))return!1}if(s!=="all"){const h=t.isActive();if(s==="active"&&!h||s==="inactive"&&h)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||o&&o!==t.state.fetchStatus||c&&!c(t))}function zx(e,t){const{exact:s,status:i,predicate:o,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(s){if(ga(t.options.mutationKey)!==ga(c))return!1}else if(!Po(t.options.mutationKey,c))return!1}return!(i&&t.state.status!==i||o&&!o(t))}function Am(e,t){return(t?.queryKeyHashFn||ga)(e)}function ga(e){return JSON.stringify(e,(t,s)=>Zf(s)?Object.keys(s).sort().reduce((i,o)=>(i[o]=s[o],i),{}):s)}function Po(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Po(e[s],t[s])):!1}var g1=Object.prototype.hasOwnProperty;function ky(e,t){if(e===t)return e;const s=Ux(e)&&Ux(t);if(!s&&!(Zf(e)&&Zf(t)))return t;const o=(s?e:Object.keys(e)).length,c=s?t:Object.keys(t),u=c.length,f=s?new Array(u):{};let h=0;for(let g=0;g<u;g++){const x=s?g:c[g],y=e[x],j=t[x];if(y===j){f[x]=y,(s?g<o:g1.call(e,x))&&h++;continue}if(y===null||j===null||typeof y!="object"||typeof j!="object"){f[x]=j;continue}const S=ky(y,j);f[x]=S,S===y&&h++}return o===u&&h===o?e:f}function Tc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function Ux(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Zf(e){if(!qx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!qx(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function qx(e){return Object.prototype.toString.call(e)==="[object Object]"}function x1(e){return new Promise(t=>{ua.setTimeout(t,e)})}function Yf(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?ky(e,t):t}function v1(e,t,s=0){const i=[...e,t];return s&&i.length>s?i.slice(1):i}function y1(e,t,s=0){const i=[t,...e];return s&&i.length>s?i.slice(0,-1):i}var Rm=Symbol();function Py(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Rm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ey(e,t){return typeof e=="function"?e(...t):!!e}var b1=class extends Si{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!pa&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Im=new b1;function Xf(){let e,t;const s=new Promise((o,c)=>{e=o,t=c});s.status="pending",s.catch(()=>{});function i(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{i({status:"fulfilled",value:o}),e(o)},s.reject=o=>{i({status:"rejected",reason:o}),t(o)},s}var w1=h1;function j1(){let e=[],t=0,s=f=>{f()},i=f=>{f()},o=w1;const c=f=>{t?e.push(f):o(()=>{s(f)})},u=()=>{const f=e;e=[],f.length&&o(()=>{i(()=>{f.forEach(h=>{s(h)})})})};return{batch:f=>{let h;t++;try{h=f()}finally{t--,t||u()}return h},batchCalls:f=>(...h)=>{c(()=>{f(...h)})},schedule:c,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{o=f}}}var er=j1(),N1=class extends Si{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!pa&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},_c=new N1;function S1(e){return Math.min(1e3*2**e,3e4)}function Ty(e){return(e??"online")==="online"?_c.isOnline():!0}var Jf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function _y(e){let t=!1,s=0,i;const o=Xf(),c=()=>o.status!=="pending",u=w=>{if(!c()){const b=new Jf(w);j(b),e.onCancel?.(b)}},f=()=>{t=!0},h=()=>{t=!1},g=()=>Im.isFocused()&&(e.networkMode==="always"||_c.isOnline())&&e.canRun(),x=()=>Ty(e.networkMode)&&e.canRun(),y=w=>{c()||(i?.(),o.resolve(w))},j=w=>{c()||(i?.(),o.reject(w))},S=()=>new Promise(w=>{i=b=>{(c()||g())&&w(b)},e.onPause?.()}).then(()=>{i=void 0,c()||e.onContinue?.()}),P=()=>{if(c())return;let w;const b=s===0?e.initialPromise:void 0;try{w=b??e.fn()}catch(E){w=Promise.reject(E)}Promise.resolve(w).then(y).catch(E=>{if(c())return;const C=e.retry??(pa?0:3),I=e.retryDelay??S1,F=typeof I=="function"?I(s,E):I,$=C===!0||typeof C=="number"&&s<C||typeof C=="function"&&C(s,E);if(t||!$){j(E);return}s++,e.onFail?.(s,E),x1(F).then(()=>g()?void 0:S()).then(()=>{t?j(E):P()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(i?.(),o),cancelRetry:f,continueRetry:h,canStart:x,start:()=>(x()?P():S().then(P),o)}}var Ay=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Gf(this.gcTime)&&(this.#e=ua.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pa?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ua.clearTimeout(this.#e),this.#e=void 0)}},C1=class extends Ay{#e;#t;#r;#n;#s;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Kx(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Kx(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const s=Yf(this.state.data,e,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(br).catch(br):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>on(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Fs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Cy(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},o=()=>{const f=Py(this.options,t),g=(()=>{const x={client:this.#n,queryKey:this.queryKey,meta:this.meta};return i(x),x})();return this.#o=!1,this.options.persister?this.options.persister(f,g,this):f(g)},u=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:o};return i(f),f})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#a({type:"fetch",meta:u.fetchOptions?.meta}),this.#s=_y({initialPromise:t?.initialPromise,fn:u.fetchFn,onCancel:f=>{f instanceof Jf&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(f,h)=>{this.#a({type:"failed",failureCount:f,error:h})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const f=await this.#s.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#r.config.onSuccess?.(f,this),this.#r.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof Jf){if(f.silent)return this.#s.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#a({type:"error",error:f}),this.#r.config.onError?.(f,this),this.#r.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#a(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Ry(s.data,this.options),fetchMeta:e.meta??null};case"success":const i={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const o=e.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),er.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Ry(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ty(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Kx(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,i=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var k1=class extends Si{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#o=Xf(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#s;#i;#o;#a;#p;#f;#m;#c;#d;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Wx(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return em(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return em(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof on(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),t._defaulted&&!Tc(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&Qx(this.#t,s,this.options,t)&&this.#u(),this.updateResult(),i&&(this.#t!==s||on(this.options.enabled,this.#t)!==on(t.enabled,this.#t)||Fs(this.options.staleTime,this.#t)!==Fs(t.staleTime,this.#t))&&this.#g();const o=this.#x();i&&(this.#t!==s||on(this.options.enabled,this.#t)!==on(t.enabled,this.#t)||o!==this.#l)&&this.#v(o)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return E1(this,s)&&(this.#n=s,this.#i=this.options,this.#s=this.#t.state),s}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(s,i)=>(this.trackProp(i),t?.(i),i==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,i))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(e){this.#j();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(br)),t}#g(){this.#b();const e=Fs(this.options.staleTime,this.#t);if(pa||this.#n.isStale||!Gf(e))return;const s=Cy(this.#n.dataUpdatedAt,e)+1;this.#c=ua.setTimeout(()=>{this.#n.isStale||this.updateResult()},s)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(pa||on(this.options.enabled,this.#t)===!1||!Gf(this.#l)||this.#l===0)&&(this.#d=ua.setInterval(()=>{(this.options.refetchIntervalInBackground||Im.isFocused())&&this.#u()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#b(){this.#c&&(ua.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(ua.clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const s=this.#t,i=this.options,o=this.#n,c=this.#s,u=this.#i,h=e!==s?e.state:this.#r,{state:g}=e;let x={...g},y=!1,j;if(t._optimisticResults){const J=this.hasListeners(),ve=!J&&Wx(e,t),ge=J&&Qx(e,s,t,i);(ve||ge)&&(x={...x,...Ry(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:S,errorUpdatedAt:P,status:w}=x;j=x.data;let b=!1;if(t.placeholderData!==void 0&&j===void 0&&w==="pending"){let J;o?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(J=o.data,b=!0):J=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,J!==void 0&&(w="success",j=Yf(o?.data,J,t),y=!0)}if(t.select&&j!==void 0&&!b)if(o&&j===c?.data&&t.select===this.#p)j=this.#f;else try{this.#p=t.select,j=t.select(j),j=Yf(o?.data,j,t),this.#f=j,this.#a=null}catch(J){this.#a=J}this.#a&&(S=this.#a,j=this.#f,P=Date.now(),w="error");const E=x.fetchStatus==="fetching",C=w==="pending",I=w==="error",F=C&&E,$=j!==void 0,q={status:w,fetchStatus:x.fetchStatus,isPending:C,isSuccess:w==="success",isError:I,isInitialLoading:F,isLoading:F,data:j,dataUpdatedAt:x.dataUpdatedAt,error:S,errorUpdatedAt:P,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>h.dataUpdateCount||x.errorUpdateCount>h.errorUpdateCount,isFetching:E,isRefetching:E&&!C,isLoadingError:I&&!$,isPaused:x.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:I&&$,isStale:Om(e,t),refetch:this.refetch,promise:this.#o,isEnabled:on(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const J=de=>{q.status==="error"?de.reject(q.error):q.data!==void 0&&de.resolve(q.data)},ve=()=>{const de=this.#o=q.promise=Xf();J(de)},ge=this.#o;switch(ge.status){case"pending":e.queryHash===s.queryHash&&J(ge);break;case"fulfilled":(q.status==="error"||q.data!==ge.value)&&ve();break;case"rejected":(q.status!=="error"||q.error!==ge.reason)&&ve();break}}return q}updateResult(){const e=this.#n,t=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#m=this.#t),Tc(t,e))return;this.#n=t;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!this.#h.size)return!0;const c=new Set(o??this.#h);return this.options.throwOnError&&c.add("error"),Object.keys(this.#n).some(u=>{const f=u;return this.#n[f]!==e[f]&&c.has(f)})};this.#N({listeners:s()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){er.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function P1(e,t){return on(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Wx(e,t){return P1(e,t)||e.state.data!==void 0&&em(e,t,t.refetchOnMount)}function em(e,t,s){if(on(t.enabled,e)!==!1&&Fs(t.staleTime,e)!=="static"){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&Om(e,t)}return!1}function Qx(e,t,s,i){return(e!==t||on(i.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Om(e,s)}function Om(e,t){return on(t.enabled,e)!==!1&&e.isStaleByTime(Fs(t.staleTime,e))}function E1(e,t){return!Tc(e.getCurrentResult(),t)}function Hx(e){return{onFetch:(t,s)=>{const i=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},h=0;const g=async()=>{let x=!1;const y=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},j=Py(t.options,t.fetchOptions),S=async(P,w,b)=>{if(x)return Promise.reject();if(w==null&&P.pages.length)return Promise.resolve(P);const C=(()=>{const G={client:t.client,queryKey:t.queryKey,pageParam:w,direction:b?"backward":"forward",meta:t.options.meta};return y(G),G})(),I=await j(C),{maxPages:F}=t.options,$=b?y1:v1;return{pages:$(P.pages,I,F),pageParams:$(P.pageParams,w,F)}};if(o&&c.length){const P=o==="backward",w=P?T1:Gx,b={pages:c,pageParams:u},E=w(i,b);f=await S(b,E,P)}else{const P=e??c.length;do{const w=h===0?u[0]??i.initialPageParam:Gx(i,f);if(h>0&&w==null)break;f=await S(f,w),h++}while(h<P)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=g}}}function Gx(e,{pages:t,pageParams:s}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,s[i],s):void 0}function T1(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var _1=class extends Ay{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||Iy(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=_y({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(o,c)=>{this.#n({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",i=!this.#r.canStart();try{if(s)t();else{this.#n({type:"pending",variables:e,isPaused:i}),await this.#t.config.onMutate?.(e,this);const c=await this.options.onMutate?.(e);c!==this.state.context&&this.#n({type:"pending",context:c,variables:e,isPaused:i})}const o=await this.#r.start();return await this.#t.config.onSuccess?.(o,e,this.state.context,this),await this.options.onSuccess?.(o,e,this.state.context),await this.#t.config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,e,this.state.context),this.#n({type:"success",data:o}),o}catch(o){try{throw await this.#t.config.onError?.(o,e,this.state.context,this),await this.options.onError?.(o,e,this.state.context),await this.#t.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,e,this.state.context),o}finally{this.#n({type:"error",error:o})}}finally{this.#t.runNext(this)}}#n(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),er.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Iy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var A1=class extends Si{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,s){const i=new _1({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:s});return this.add(i),i}add(e){this.#e.add(e);const t=pc(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=pc(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const i=s.indexOf(e);i!==-1&&s.splice(i,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=pc(e);if(typeof t=="string"){const i=this.#t.get(t)?.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=pc(e);return typeof t=="string"?this.#t.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){er.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>zx(t,s))}findAll(e={}){return this.getAll().filter(t=>zx(e,t))}notify(e){er.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return er.batch(()=>Promise.all(e.map(t=>t.continue().catch(br))))}};function pc(e){return e.options.scope?.id}var R1=class extends Si{#e;#t=void 0;#r;#n;constructor(t,s){super(),this.#e=t,this.setOptions(s),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const s=this.options;this.options=this.#e.defaultMutationOptions(t),Tc(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),s?.mutationKey&&this.options.mutationKey&&ga(s.mutationKey)!==ga(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#i()}mutate(t,s){return this.#n=s,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#s(){const t=this.#r?.state??Iy();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){er.batch(()=>{if(this.#n&&this.hasListeners()){const s=this.#t.variables,i=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,s,i),this.#n.onSettled?.(t.data,null,s,i)):t?.type==="error"&&(this.#n.onError?.(t.error,s,i),this.#n.onSettled?.(void 0,t.error,s,i))}this.listeners.forEach(s=>{s(this.#t)})})}},I1=class extends Si{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const i=t.queryKey,o=t.queryHash??Am(i,t);let c=this.get(o);return c||(c=new C1({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(c)),c}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){er.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Vx(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>Vx(e,s)):t}notify(e){er.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){er.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},O1=class{#e;#t;#r;#n;#s;#i;#o;#a;constructor(e={}){this.#e=e.queryCache||new I1,this.#t=e.mutationCache||new A1,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=Im.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=_c.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),i=s.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Fs(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const i=s.data;return[t,i]})}setQueryData(e,t,s){const i=this.defaultQueryOptions({queryKey:e}),c=this.#e.get(i.queryHash)?.state.data,u=p1(t,c);if(u!==void 0)return this.#e.build(this,i).setData(u,{...s,manual:!0})}setQueriesData(e,t,s){return er.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;er.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return er.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},i=er.batch(()=>this.#e.findAll(e).map(o=>o.cancel(s)));return Promise.all(i).then(br).catch(br)}invalidateQueries(e,t={}){return er.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},i=er.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,s);return s.throwOnError||(c=c.catch(br)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(i).then(br)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(Fs(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(br).catch(br)}fetchInfiniteQuery(e){return e.behavior=Hx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(br).catch(br)}ensureInfiniteQueryData(e){return e.behavior=Hx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _c.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(ga(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],s={};return t.forEach(i=>{Po(e,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(e,t){this.#s.set(ga(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],s={};return t.forEach(i=>{Po(e,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Am(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Rm&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Oy=p.createContext(void 0),kr=e=>{const t=p.useContext(Oy);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},M1=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(Oy.Provider,{value:e,children:t})),My=p.createContext(!1),D1=()=>p.useContext(My);My.Provider;function F1(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var L1=p.createContext(F1()),B1=()=>p.useContext(L1),$1=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},V1=e=>{p.useEffect(()=>{e.clearReset()},[e])},z1=({result:e,errorResetBoundary:t,throwOnError:s,query:i,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(o&&e.data===void 0||Ey(s,[e.error,i])),U1=e=>{if(e.suspense){const s=o=>o==="static"?o:Math.max(o??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...o)=>s(i(...o)):s(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},q1=(e,t)=>e.isLoading&&e.isFetching&&!t,K1=(e,t)=>e?.suspense&&t.isPending,Zx=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function W1(e,t,s){const i=D1(),o=B1(),c=kr(),u=c.defaultQueryOptions(e);c.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=i?"isRestoring":"optimistic",U1(u),$1(u,o),V1(o);const f=!c.getQueryCache().get(u.queryHash),[h]=p.useState(()=>new t(c,u)),g=h.getOptimisticResult(u),x=!i&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(y=>{const j=x?h.subscribe(er.batchCalls(y)):br;return h.updateResult(),j},[h,x]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),p.useEffect(()=>{h.setOptions(u)},[u,h]),K1(u,g))throw Zx(u,h,o);if(z1({result:g,errorResetBoundary:o,throwOnError:u.throwOnError,query:c.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw g.error;return c.getDefaultOptions().queries?._experimental_afterQuery?.(u,g),u.experimental_prefetchInRender&&!pa&&q1(g,i)&&(f?Zx(u,h,o):c.getQueryCache().get(u.queryHash)?.promise)?.catch(br).finally(()=>{h.updateResult()}),u.notifyOnChangeProps?g:h.trackResult(g)}function xt(e,t){return W1(e,k1)}function We(e,t){const s=kr(),[i]=p.useState(()=>new R1(s,e));p.useEffect(()=>{i.setOptions(e)},[i,e]);const o=p.useSyncExternalStore(p.useCallback(u=>i.subscribe(er.batchCalls(u)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),c=p.useCallback((u,f)=>{i.mutate(u,f).catch(br)},[i]);if(o.error&&Ey(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:c,mutateAsync:o.mutate}}async function Dy(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function kt(e,t,s){const i={};s&&(i["Content-Type"]="application/json");const o=localStorage.getItem("auth_token");o&&(i.Authorization=`Bearer ${o}`);const c=await fetch(t,{method:e,headers:i,body:s?JSON.stringify(s):void 0,credentials:"include"});return await Dy(c),c}const Q1=({on401:e})=>async({queryKey:t})=>{const s={},i=localStorage.getItem("auth_token");i&&(s.Authorization=`Bearer ${i}`);const o=await fetch(t.join("/"),{headers:s,credentials:"include"});return await Dy(o),await o.json()},gr=new O1({defaultOptions:{queries:{queryFn:Q1({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),H1=1,G1=1e6;let Sf=0;function Z1(){return Sf=(Sf+1)%Number.MAX_SAFE_INTEGER,Sf.toString()}const Cf=new Map,Yx=e=>{if(Cf.has(e))return;const t=setTimeout(()=>{Cf.delete(e),No({type:"REMOVE_TOAST",toastId:e})},G1);Cf.set(e,t)},Y1=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,H1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?Yx(s):e.toasts.forEach(i=>{Yx(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===s||s===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},Nc=[];let Sc={toasts:[]};function No(e){Sc=Y1(Sc,e),Nc.forEach(t=>{t(Sc)})}function X1({...e}){const t=Z1(),s=o=>No({type:"UPDATE_TOAST",toast:{...o,id:t}}),i=()=>No({type:"DISMISS_TOAST",toastId:t});return No({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||i()}}}),{id:t,dismiss:i,update:s}}function tr(){const[e,t]=p.useState(Sc);return p.useEffect(()=>(Nc.push(t),()=>{const s=Nc.indexOf(t);s>-1&&Nc.splice(s,1)}),[e]),{...e,toast:X1,dismiss:s=>No({type:"DISMISS_TOAST",toastId:s})}}var Ci=hy();const J1=my(Ci);function Oe(e,t,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e?.(o),s===!1||!o.defaultPrevented)return t?.(o)}}function Xx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xa(...e){return t=>{let s=!1;const i=e.map(o=>{const c=Xx(o,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():Xx(e[o],null)}}}}function ot(...e){return p.useCallback(xa(...e),e)}function ek(e,t){const s=p.createContext(t),i=c=>{const{children:u,...f}=c,h=p.useMemo(()=>f,Object.values(f));return r.jsx(s.Provider,{value:h,children:u})};i.displayName=e+"Provider";function o(c){const u=p.useContext(s);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[i,o]}function Fr(e,t=[]){let s=[];function i(c,u){const f=p.createContext(u),h=s.length;s=[...s,u];const g=y=>{const{scope:j,children:S,...P}=y,w=j?.[e]?.[h]||f,b=p.useMemo(()=>P,Object.values(P));return r.jsx(w.Provider,{value:b,children:S})};g.displayName=c+"Provider";function x(y,j){const S=j?.[e]?.[h]||f,P=p.useContext(S);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[g,x]}const o=()=>{const c=s.map(u=>p.createContext(u));return function(f){const h=f?.[e]||c;return p.useMemo(()=>({[`__scope${e}`]:{...f,[e]:h}}),[f,h])}};return o.scopeName=e,[i,tk(o,...t)]}function tk(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const i=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=i.reduce((f,{useScope:h,scopeName:g})=>{const y=h(c)[`__scope${g}`];return{...f,...y}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return s.scopeName=t.scopeName,s}function va(e){const t=nk(e),s=p.forwardRef((i,o)=>{const{children:c,...u}=i,f=p.Children.toArray(c),h=f.find(sk);if(h){const g=h.props.children,x=f.map(y=>y===h?p.Children.count(g)>1?p.Children.only(null):p.isValidElement(g)?g.props.children:null:y);return r.jsx(t,{...u,ref:o,children:p.isValidElement(g)?p.cloneElement(g,void 0,x):null})}return r.jsx(t,{...u,ref:o,children:c})});return s.displayName=`${e}.Slot`,s}var rk=va("Slot");function nk(e){const t=p.forwardRef((s,i)=>{const{children:o,...c}=s;if(p.isValidElement(o)){const u=ik(o),f=ak(c,o.props);return o.type!==p.Fragment&&(f.ref=i?xa(i,u):u),p.cloneElement(o,f)}return p.Children.count(o)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Fy=Symbol("radix.slottable");function Ly(e){const t=({children:s})=>r.jsx(r.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=Fy,t}function sk(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Fy}function ak(e,t){const s={...t};for(const i in t){const o=e[i],c=t[i];/^on[A-Z]/.test(i)?o&&c?s[i]=(...f)=>{const h=c(...f);return o(...f),h}:o&&(s[i]=o):i==="style"?s[i]={...o,...c}:i==="className"&&(s[i]=[o,c].filter(Boolean).join(" "))}return{...e,...s}}function ik(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Mm(e){const t=e+"CollectionProvider",[s,i]=Fr(t),[o,c]=s(t,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:b,children:E}=w,C=zt.useRef(null),I=zt.useRef(new Map).current;return r.jsx(o,{scope:b,itemMap:I,collectionRef:C,children:E})};u.displayName=t;const f=e+"CollectionSlot",h=va(f),g=zt.forwardRef((w,b)=>{const{scope:E,children:C}=w,I=c(f,E),F=ot(b,I.collectionRef);return r.jsx(h,{ref:F,children:C})});g.displayName=f;const x=e+"CollectionItemSlot",y="data-radix-collection-item",j=va(x),S=zt.forwardRef((w,b)=>{const{scope:E,children:C,...I}=w,F=zt.useRef(null),$=ot(b,F),G=c(x,E);return zt.useEffect(()=>(G.itemMap.set(F,{ref:F,...I}),()=>void G.itemMap.delete(F))),r.jsx(j,{[y]:"",ref:$,children:C})});S.displayName=x;function P(w){const b=c(e+"CollectionConsumer",w);return zt.useCallback(()=>{const C=b.collectionRef.current;if(!C)return[];const I=Array.from(C.querySelectorAll(`[${y}]`));return Array.from(b.itemMap.values()).sort((G,q)=>I.indexOf(G.ref.current)-I.indexOf(q.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:u,Slot:g,ItemSlot:S},P,i]}var ok=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=ok.reduce((e,t)=>{const s=va(`Primitive.${t}`),i=p.forwardRef((o,c)=>{const{asChild:u,...f}=o,h=u?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(h,{...f,ref:c})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function By(e,t){e&&Ci.flushSync(()=>e.dispatchEvent(t))}function cn(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...s)=>t.current?.(...s),[])}function lk(e,t=globalThis?.document){const s=cn(e);p.useEffect(()=>{const i=o=>{o.key==="Escape"&&s(o)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[s,t])}var ck="DismissableLayer",tm="dismissableLayer.update",dk="dismissableLayer.pointerDownOutside",uk="dismissableLayer.focusOutside",Jx,$y=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ki=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...h}=e,g=p.useContext($y),[x,y]=p.useState(null),j=x?.ownerDocument??globalThis?.document,[,S]=p.useState({}),P=ot(t,q=>y(q)),w=Array.from(g.layers),[b]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(b),C=x?w.indexOf(x):-1,I=g.layersWithOutsidePointerEventsDisabled.size>0,F=C>=E,$=mk(q=>{const J=q.target,ve=[...g.branches].some(ge=>ge.contains(J));!F||ve||(o?.(q),u?.(q),q.defaultPrevented||f?.())},j),G=hk(q=>{const J=q.target;[...g.branches].some(ge=>ge.contains(J))||(c?.(q),u?.(q),q.defaultPrevented||f?.())},j);return lk(q=>{C===g.layers.size-1&&(i?.(q),!q.defaultPrevented&&f&&(q.preventDefault(),f()))},j),p.useEffect(()=>{if(x)return s&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Jx=j.body.style.pointerEvents,j.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(x)),g.layers.add(x),ev(),()=>{s&&g.layersWithOutsidePointerEventsDisabled.size===1&&(j.body.style.pointerEvents=Jx)}},[x,j,s,g]),p.useEffect(()=>()=>{x&&(g.layers.delete(x),g.layersWithOutsidePointerEventsDisabled.delete(x),ev())},[x,g]),p.useEffect(()=>{const q=()=>S({});return document.addEventListener(tm,q),()=>document.removeEventListener(tm,q)},[]),r.jsx(Fe.div,{...h,ref:P,style:{pointerEvents:I?F?"auto":"none":void 0,...e.style},onFocusCapture:Oe(e.onFocusCapture,G.onFocusCapture),onBlurCapture:Oe(e.onBlurCapture,G.onBlurCapture),onPointerDownCapture:Oe(e.onPointerDownCapture,$.onPointerDownCapture)})});ki.displayName=ck;var fk="DismissableLayerBranch",Vy=p.forwardRef((e,t)=>{const s=p.useContext($y),i=p.useRef(null),o=ot(t,i);return p.useEffect(()=>{const c=i.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),r.jsx(Fe.div,{...e,ref:o})});Vy.displayName=fk;function mk(e,t=globalThis?.document){const s=cn(e),i=p.useRef(!1),o=p.useRef(()=>{});return p.useEffect(()=>{const c=f=>{if(f.target&&!i.current){let h=function(){zy(dk,s,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=h,t.addEventListener("click",o.current,{once:!0})):h()}else t.removeEventListener("click",o.current);i.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",o.current)}},[t,s]),{onPointerDownCapture:()=>i.current=!0}}function hk(e,t=globalThis?.document){const s=cn(e),i=p.useRef(!1);return p.useEffect(()=>{const o=c=>{c.target&&!i.current&&zy(uk,s,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,s]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function ev(){const e=new CustomEvent(tm);document.dispatchEvent(e)}function zy(e,t,s,{discrete:i}){const o=s.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&o.addEventListener(e,t,{once:!0}),i?By(o,c):o.dispatchEvent(c)}var pk=ki,gk=Vy,ur=globalThis?.document?p.useLayoutEffect:()=>{},xk="Portal",Zo=p.forwardRef((e,t)=>{const{container:s,...i}=e,[o,c]=p.useState(!1);ur(()=>c(!0),[]);const u=s||o&&globalThis?.document?.body;return u?J1.createPortal(r.jsx(Fe.div,{...i,ref:t}),u):null});Zo.displayName=xk;function vk(e,t){return p.useReducer((s,i)=>t[s][i]??s,e)}var Pn=e=>{const{present:t,children:s}=e,i=yk(t),o=typeof s=="function"?s({present:i.isPresent}):p.Children.only(s),c=ot(i.ref,bk(o));return typeof s=="function"||i.isPresent?p.cloneElement(o,{ref:c}):null};Pn.displayName="Presence";function yk(e){const[t,s]=p.useState(),i=p.useRef(null),o=p.useRef(e),c=p.useRef("none"),u=e?"mounted":"unmounted",[f,h]=vk(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const g=gc(i.current);c.current=f==="mounted"?g:"none"},[f]),ur(()=>{const g=i.current,x=o.current;if(x!==e){const j=c.current,S=gc(g);e?h("MOUNT"):S==="none"||g?.display==="none"?h("UNMOUNT"):h(x&&j!==S?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,h]),ur(()=>{if(t){let g;const x=t.ownerDocument.defaultView??window,y=S=>{const w=gc(i.current).includes(CSS.escape(S.animationName));if(S.target===t&&w&&(h("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",g=x.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},j=S=>{S.target===t&&(c.current=gc(i.current))};return t.addEventListener("animationstart",j),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{x.clearTimeout(g),t.removeEventListener("animationstart",j),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:p.useCallback(g=>{i.current=g?getComputedStyle(g):null,s(g)},[])}}function gc(e){return e?.animationName||"none"}function bk(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var wk=Em[" useInsertionEffect ".trim().toString()]||ur;function ss({prop:e,defaultProp:t,onChange:s=()=>{},caller:i}){const[o,c,u]=jk({defaultProp:t,onChange:s}),f=e!==void 0,h=f?e:o;{const x=p.useRef(e!==void 0);p.useEffect(()=>{const y=x.current;y!==f&&console.warn(`${i} is changing from ${y?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=f},[f,i])}const g=p.useCallback(x=>{if(f){const y=Nk(x)?x(e):x;y!==e&&u.current?.(y)}else c(x)},[f,e,c,u]);return[h,g]}function jk({defaultProp:e,onChange:t}){const[s,i]=p.useState(e),o=p.useRef(s),c=p.useRef(t);return wk(()=>{c.current=t},[t]),p.useEffect(()=>{o.current!==s&&(c.current?.(s),o.current=s)},[s,o]),[s,i,c]}function Nk(e){return typeof e=="function"}var Uy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Sk="VisuallyHidden",rd=p.forwardRef((e,t)=>r.jsx(Fe.span,{...e,ref:t,style:{...Uy,...e.style}}));rd.displayName=Sk;var Ck=rd,Dm="ToastProvider",[Fm,kk,Pk]=Mm("Toast"),[qy,FM]=Fr("Toast",[Pk]),[Ek,nd]=qy(Dm),Ky=e=>{const{__scopeToast:t,label:s="Notification",duration:i=5e3,swipeDirection:o="right",swipeThreshold:c=50,children:u}=e,[f,h]=p.useState(null),[g,x]=p.useState(0),y=p.useRef(!1),j=p.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dm}\`. Expected non-empty \`string\`.`),r.jsx(Fm.Provider,{scope:t,children:r.jsx(Ek,{scope:t,label:s,duration:i,swipeDirection:o,swipeThreshold:c,toastCount:g,viewport:f,onViewportChange:h,onToastAdd:p.useCallback(()=>x(S=>S+1),[]),onToastRemove:p.useCallback(()=>x(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:j,children:u})})};Ky.displayName=Dm;var Wy="ToastViewport",Tk=["F8"],rm="toast.viewportPause",nm="toast.viewportResume",Qy=p.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:i=Tk,label:o="Notifications ({hotkey})",...c}=e,u=nd(Wy,s),f=kk(s),h=p.useRef(null),g=p.useRef(null),x=p.useRef(null),y=p.useRef(null),j=ot(t,y,u.onViewportChange),S=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=u.toastCount>0;p.useEffect(()=>{const b=E=>{i.length!==0&&i.every(I=>E[I]||E.code===I)&&y.current?.focus()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[i]),p.useEffect(()=>{const b=h.current,E=y.current;if(P&&b&&E){const C=()=>{if(!u.isClosePausedRef.current){const G=new CustomEvent(rm);E.dispatchEvent(G),u.isClosePausedRef.current=!0}},I=()=>{if(u.isClosePausedRef.current){const G=new CustomEvent(nm);E.dispatchEvent(G),u.isClosePausedRef.current=!1}},F=G=>{!b.contains(G.relatedTarget)&&I()},$=()=>{b.contains(document.activeElement)||I()};return b.addEventListener("focusin",C),b.addEventListener("focusout",F),b.addEventListener("pointermove",C),b.addEventListener("pointerleave",$),window.addEventListener("blur",C),window.addEventListener("focus",I),()=>{b.removeEventListener("focusin",C),b.removeEventListener("focusout",F),b.removeEventListener("pointermove",C),b.removeEventListener("pointerleave",$),window.removeEventListener("blur",C),window.removeEventListener("focus",I)}}},[P,u.isClosePausedRef]);const w=p.useCallback(({tabbingDirection:b})=>{const C=f().map(I=>{const F=I.ref.current,$=[F,...zk(F)];return b==="forwards"?$:$.reverse()});return(b==="forwards"?C.reverse():C).flat()},[f]);return p.useEffect(()=>{const b=y.current;if(b){const E=C=>{const I=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!I){const $=document.activeElement,G=C.shiftKey;if(C.target===b&&G){g.current?.focus();return}const ve=w({tabbingDirection:G?"backwards":"forwards"}),ge=ve.findIndex(de=>de===$);kf(ve.slice(ge+1))?C.preventDefault():G?g.current?.focus():x.current?.focus()}};return b.addEventListener("keydown",E),()=>b.removeEventListener("keydown",E)}},[f,w]),r.jsxs(gk,{ref:h,role:"region","aria-label":o.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&r.jsx(sm,{ref:g,onFocusFromOutsideViewport:()=>{const b=w({tabbingDirection:"forwards"});kf(b)}}),r.jsx(Fm.Slot,{scope:s,children:r.jsx(Fe.ol,{tabIndex:-1,...c,ref:j})}),P&&r.jsx(sm,{ref:x,onFocusFromOutsideViewport:()=>{const b=w({tabbingDirection:"backwards"});kf(b)}})]})});Qy.displayName=Wy;var Hy="ToastFocusProxy",sm=p.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:i,...o}=e,c=nd(Hy,s);return r.jsx(rd,{tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:u=>{const f=u.relatedTarget;!c.viewport?.contains(f)&&i()}})});sm.displayName=Hy;var Yo="Toast",_k="toast.swipeStart",Ak="toast.swipeMove",Rk="toast.swipeCancel",Ik="toast.swipeEnd",Gy=p.forwardRef((e,t)=>{const{forceMount:s,open:i,defaultOpen:o,onOpenChange:c,...u}=e,[f,h]=ss({prop:i,defaultProp:o??!0,onChange:c,caller:Yo});return r.jsx(Pn,{present:s||f,children:r.jsx(Dk,{open:f,...u,ref:t,onClose:()=>h(!1),onPause:cn(e.onPause),onResume:cn(e.onResume),onSwipeStart:Oe(e.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Oe(e.onSwipeMove,g=>{const{x,y}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:Oe(e.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Oe(e.onSwipeEnd,g=>{const{x,y}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),h(!1)})})})});Gy.displayName=Yo;var[Ok,Mk]=qy(Yo,{onClose(){}}),Dk=p.forwardRef((e,t)=>{const{__scopeToast:s,type:i="foreground",duration:o,open:c,onClose:u,onEscapeKeyDown:f,onPause:h,onResume:g,onSwipeStart:x,onSwipeMove:y,onSwipeCancel:j,onSwipeEnd:S,...P}=e,w=nd(Yo,s),[b,E]=p.useState(null),C=ot(t,B=>E(B)),I=p.useRef(null),F=p.useRef(null),$=o||w.duration,G=p.useRef(0),q=p.useRef($),J=p.useRef(0),{onToastAdd:ve,onToastRemove:ge}=w,de=cn(()=>{b?.contains(document.activeElement)&&w.viewport?.focus(),u()}),X=p.useCallback(B=>{!B||B===1/0||(window.clearTimeout(J.current),G.current=new Date().getTime(),J.current=window.setTimeout(de,B))},[de]);p.useEffect(()=>{const B=w.viewport;if(B){const ne=()=>{X(q.current),g?.()},z=()=>{const T=new Date().getTime()-G.current;q.current=q.current-T,window.clearTimeout(J.current),h?.()};return B.addEventListener(rm,z),B.addEventListener(nm,ne),()=>{B.removeEventListener(rm,z),B.removeEventListener(nm,ne)}}},[w.viewport,$,h,g,X]),p.useEffect(()=>{c&&!w.isClosePausedRef.current&&X($)},[c,$,w.isClosePausedRef,X]),p.useEffect(()=>(ve(),()=>ge()),[ve,ge]);const ae=p.useMemo(()=>b?r0(b):null,[b]);return w.viewport?r.jsxs(r.Fragment,{children:[ae&&r.jsx(Fk,{__scopeToast:s,role:"status","aria-live":i==="foreground"?"assertive":"polite",children:ae}),r.jsx(Ok,{scope:s,onClose:de,children:Ci.createPortal(r.jsx(Fm.ItemSlot,{scope:s,children:r.jsx(pk,{asChild:!0,onEscapeKeyDown:Oe(f,()=>{w.isFocusedToastEscapeKeyDownRef.current||de(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Fe.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":w.swipeDirection,...P,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Oe(e.onKeyDown,B=>{B.key==="Escape"&&(f?.(B.nativeEvent),B.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,de()))}),onPointerDown:Oe(e.onPointerDown,B=>{B.button===0&&(I.current={x:B.clientX,y:B.clientY})}),onPointerMove:Oe(e.onPointerMove,B=>{if(!I.current)return;const ne=B.clientX-I.current.x,z=B.clientY-I.current.y,T=!!F.current,M=["left","right"].includes(w.swipeDirection),Y=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,se=M?Y(0,ne):0,A=M?0:Y(0,z),k=B.pointerType==="touch"?10:2,V={x:se,y:A},ee={originalEvent:B,delta:V};T?(F.current=V,xc(Ak,y,ee,{discrete:!1})):tv(V,w.swipeDirection,k)?(F.current=V,xc(_k,x,ee,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(ne)>k||Math.abs(z)>k)&&(I.current=null)}),onPointerUp:Oe(e.onPointerUp,B=>{const ne=F.current,z=B.target;if(z.hasPointerCapture(B.pointerId)&&z.releasePointerCapture(B.pointerId),F.current=null,I.current=null,ne){const T=B.currentTarget,M={originalEvent:B,delta:ne};tv(ne,w.swipeDirection,w.swipeThreshold)?xc(Ik,S,M,{discrete:!0}):xc(Rk,j,M,{discrete:!0}),T.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),Fk=e=>{const{__scopeToast:t,children:s,...i}=e,o=nd(Yo,t),[c,u]=p.useState(!1),[f,h]=p.useState(!1);return $k(()=>u(!0)),p.useEffect(()=>{const g=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(g)},[]),f?null:r.jsx(Zo,{asChild:!0,children:r.jsx(rd,{...i,children:c&&r.jsxs(r.Fragment,{children:[o.label," ",s]})})})},Lk="ToastTitle",Zy=p.forwardRef((e,t)=>{const{__scopeToast:s,...i}=e;return r.jsx(Fe.div,{...i,ref:t})});Zy.displayName=Lk;var Bk="ToastDescription",Yy=p.forwardRef((e,t)=>{const{__scopeToast:s,...i}=e;return r.jsx(Fe.div,{...i,ref:t})});Yy.displayName=Bk;var Xy="ToastAction",Jy=p.forwardRef((e,t)=>{const{altText:s,...i}=e;return s.trim()?r.jsx(t0,{altText:s,asChild:!0,children:r.jsx(Lm,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Xy}\`. Expected non-empty \`string\`.`),null)});Jy.displayName=Xy;var e0="ToastClose",Lm=p.forwardRef((e,t)=>{const{__scopeToast:s,...i}=e,o=Mk(e0,s);return r.jsx(t0,{asChild:!0,children:r.jsx(Fe.button,{type:"button",...i,ref:t,onClick:Oe(e.onClick,o.onClose)})})});Lm.displayName=e0;var t0=p.forwardRef((e,t)=>{const{__scopeToast:s,altText:i,...o}=e;return r.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...o,ref:t})});function r0(e){const t=[];return Array.from(e.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),Vk(i)){const o=i.ariaHidden||i.hidden||i.style.display==="none",c=i.dataset.radixToastAnnounceExclude==="";if(!o)if(c){const u=i.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...r0(i))}}),t}function xc(e,t,s,{discrete:i}){const o=s.originalEvent.currentTarget,c=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&o.addEventListener(e,t,{once:!0}),i?By(o,c):o.dispatchEvent(c)}var tv=(e,t,s=0)=>{const i=Math.abs(e.x),o=Math.abs(e.y),c=i>o;return t==="left"||t==="right"?c&&i>s:!c&&o>s};function $k(e=()=>{}){const t=cn(e);ur(()=>{let s=0,i=0;return s=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(i)}},[t])}function Vk(e){return e.nodeType===e.ELEMENT_NODE}function zk(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function kf(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var Uk=Ky,n0=Qy,s0=Gy,a0=Zy,i0=Yy,o0=Jy,l0=Lm;function c0(e){var t,s,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(s=c0(e[t]))&&(i&&(i+=" "),i+=s)}else for(s in e)e[s]&&(i&&(i+=" "),i+=s);return i}function d0(){for(var e,t,s=0,i="",o=arguments.length;s<o;s++)(e=arguments[s])&&(t=c0(e))&&(i&&(i+=" "),i+=t);return i}const rv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,nv=d0,Xo=(e,t)=>s=>{var i;if(t?.variants==null)return nv(e,s?.class,s?.className);const{variants:o,defaultVariants:c}=t,u=Object.keys(o).map(g=>{const x=s?.[g],y=c?.[g];if(x===null)return null;const j=rv(x)||rv(y);return o[g][j]}),f=s&&Object.entries(s).reduce((g,x)=>{let[y,j]=x;return j===void 0||(g[y]=j),g},{}),h=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((g,x)=>{let{class:y,className:j,...S}=x;return Object.entries(S).every(P=>{let[w,b]=P;return Array.isArray(b)?b.includes({...c,...f}[w]):{...c,...f}[w]===b})?[...g,y,j]:g},[]);return nv(e,u,h,s?.class,s?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u0=(...e)=>e.filter((t,s,i)=>!!t&&i.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:u,...f},h)=>p.createElement("svg",{ref:h,...Kk,width:t,height:t,stroke:e,strokeWidth:i?Number(s)*24/Number(t):s,className:u0("lucide",o),...f},[...u.map(([g,x])=>p.createElement(g,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(e,t)=>{const s=p.forwardRef(({className:i,...o},c)=>p.createElement(Wk,{ref:c,iconNode:t,className:u0(`lucide-${qk(e)}`,i),...o}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=lt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=lt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=lt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=lt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=lt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=lt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=lt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=lt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=lt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=lt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=lt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=lt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=lt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=lt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=lt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=lt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=lt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=lt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=lt("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=lt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=lt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=lt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=lt("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=lt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=lt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=lt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=lt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=lt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=lt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),zm="-",nP=e=>{const t=aP(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:u=>{const f=u.split(zm);return f[0]===""&&f.length!==1&&f.shift(),p0(f,t)||sP(u)},getConflictingClassGroupIds:(u,f)=>{const h=s[u]||[];return f&&i[u]?[...h,...i[u]]:h}}},p0=(e,t)=>{if(e.length===0)return t.classGroupId;const s=e[0],i=t.nextPart.get(s),o=i?p0(e.slice(1),i):void 0;if(o)return o;if(t.validators.length===0)return;const c=e.join(zm);return t.validators.find(({validator:u})=>u(c))?.classGroupId},uv=/^\[(.+)\]$/,sP=e=>{if(uv.test(e)){const t=uv.exec(e)[1],s=t?.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},aP=e=>{const{theme:t,prefix:s}=e,i={nextPart:new Map,validators:[]};return oP(Object.entries(e.classGroups),s).forEach(([c,u])=>{am(u,i,c,t)}),i},am=(e,t,s,i)=>{e.forEach(o=>{if(typeof o=="string"){const c=o===""?t:fv(t,o);c.classGroupId=s;return}if(typeof o=="function"){if(iP(o)){am(o(i),t,s,i);return}t.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([c,u])=>{am(u,fv(t,c),s,i)})})},fv=(e,t)=>{let s=e;return t.split(zm).forEach(i=>{s.nextPart.has(i)||s.nextPart.set(i,{nextPart:new Map,validators:[]}),s=s.nextPart.get(i)}),s},iP=e=>e.isThemeGetter,oP=(e,t)=>t?e.map(([s,i])=>{const o=i.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,f])=>[t+u,f])):c);return[s,o]}):e,lP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,i=new Map;const o=(c,u)=>{s.set(c,u),t++,t>e&&(t=0,i=s,s=new Map)};return{get(c){let u=s.get(c);if(u!==void 0)return u;if((u=i.get(c))!==void 0)return o(c,u),u},set(c,u){s.has(c)?s.set(c,u):o(c,u)}}},g0="!",cP=e=>{const{separator:t,experimentalParseClassName:s}=e,i=t.length===1,o=t[0],c=t.length,u=f=>{const h=[];let g=0,x=0,y;for(let b=0;b<f.length;b++){let E=f[b];if(g===0){if(E===o&&(i||f.slice(b,b+c)===t)){h.push(f.slice(x,b)),x=b+c;continue}if(E==="/"){y=b;continue}}E==="["?g++:E==="]"&&g--}const j=h.length===0?f:f.substring(x),S=j.startsWith(g0),P=S?j.substring(1):j,w=y&&y>x?y-x:void 0;return{modifiers:h,hasImportantModifier:S,baseClassName:P,maybePostfixModifierPosition:w}};return s?f=>s({className:f,parseClassName:u}):u},dP=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(i=>{i[0]==="["?(t.push(...s.sort(),i),s=[]):s.push(i)}),t.push(...s.sort()),t},uP=e=>({cache:lP(e.cacheSize),parseClassName:cP(e),...nP(e)}),fP=/\s+/,mP=(e,t)=>{const{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:o}=t,c=[],u=e.trim().split(fP);let f="";for(let h=u.length-1;h>=0;h-=1){const g=u[h],{modifiers:x,hasImportantModifier:y,baseClassName:j,maybePostfixModifierPosition:S}=s(g);let P=!!S,w=i(P?j.substring(0,S):j);if(!w){if(!P){f=g+(f.length>0?" "+f:f);continue}if(w=i(j),!w){f=g+(f.length>0?" "+f:f);continue}P=!1}const b=dP(x).join(":"),E=y?b+g0:b,C=E+w;if(c.includes(C))continue;c.push(C);const I=o(w,P);for(let F=0;F<I.length;++F){const $=I[F];c.push(E+$)}f=g+(f.length>0?" "+f:f)}return f};function hP(){let e=0,t,s,i="";for(;e<arguments.length;)(t=arguments[e++])&&(s=x0(t))&&(i&&(i+=" "),i+=s);return i}const x0=e=>{if(typeof e=="string")return e;let t,s="";for(let i=0;i<e.length;i++)e[i]&&(t=x0(e[i]))&&(s&&(s+=" "),s+=t);return s};function pP(e,...t){let s,i,o,c=u;function u(h){const g=t.reduce((x,y)=>y(x),e());return s=uP(g),i=s.cache.get,o=s.cache.set,c=f,f(h)}function f(h){const g=i(h);if(g)return g;const x=mP(h,s);return o(h,x),x}return function(){return c(hP.apply(null,arguments))}}const Nt=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},v0=/^\[(?:([a-z-]+):)?(.+)\]$/i,gP=/^\d+\/\d+$/,xP=new Set(["px","full","screen"]),vP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jn=e=>di(e)||xP.has(e)||gP.test(e),Rs=e=>Pi(e,"length",_P),di=e=>!!e&&!Number.isNaN(Number(e)),Ef=e=>Pi(e,"number",di),xo=e=>!!e&&Number.isInteger(Number(e)),NP=e=>e.endsWith("%")&&di(e.slice(0,-1)),tt=e=>v0.test(e),Is=e=>vP.test(e),SP=new Set(["length","size","percentage"]),CP=e=>Pi(e,SP,y0),kP=e=>Pi(e,"position",y0),PP=new Set(["image","url"]),EP=e=>Pi(e,PP,RP),TP=e=>Pi(e,"",AP),vo=()=>!0,Pi=(e,t,s)=>{const i=v0.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):s(i[2]):!1},_P=e=>yP.test(e)&&!bP.test(e),y0=()=>!1,AP=e=>wP.test(e),RP=e=>jP.test(e),IP=()=>{const e=Nt("colors"),t=Nt("spacing"),s=Nt("blur"),i=Nt("brightness"),o=Nt("borderColor"),c=Nt("borderRadius"),u=Nt("borderSpacing"),f=Nt("borderWidth"),h=Nt("contrast"),g=Nt("grayscale"),x=Nt("hueRotate"),y=Nt("invert"),j=Nt("gap"),S=Nt("gradientColorStops"),P=Nt("gradientColorStopPositions"),w=Nt("inset"),b=Nt("margin"),E=Nt("opacity"),C=Nt("padding"),I=Nt("saturate"),F=Nt("scale"),$=Nt("sepia"),G=Nt("skew"),q=Nt("space"),J=Nt("translate"),ve=()=>["auto","contain","none"],ge=()=>["auto","hidden","clip","visible","scroll"],de=()=>["auto",tt,t],X=()=>[tt,t],ae=()=>["",Jn,Rs],B=()=>["auto",di,tt],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],T=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",tt],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[di,tt];return{cacheSize:500,separator:":",theme:{colors:[vo],spacing:[Jn,Rs],blur:["none","",Is,tt],brightness:A(),borderColor:[e],borderRadius:["none","","full",Is,tt],borderSpacing:X(),borderWidth:ae(),contrast:A(),grayscale:Y(),hueRotate:A(),invert:Y(),gap:X(),gradientColorStops:[e],gradientColorStopPositions:[NP,Rs],inset:de(),margin:de(),opacity:A(),padding:X(),saturate:A(),scale:A(),sepia:Y(),skew:A(),space:X(),translate:X()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[Is]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),tt]}],overflow:[{overflow:ge()}],"overflow-x":[{"overflow-x":ge()}],"overflow-y":[{"overflow-y":ge()}],overscroll:[{overscroll:ve()}],"overscroll-x":[{"overscroll-x":ve()}],"overscroll-y":[{"overscroll-y":ve()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xo,tt]}],basis:[{basis:de()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",xo,tt]}],"grid-cols":[{"grid-cols":[vo]}],"col-start-end":[{col:["auto",{span:["full",xo,tt]},tt]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[vo]}],"row-start-end":[{row:["auto",{span:[xo,tt]},tt]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[j]}],"gap-x":[{"gap-x":[j]}],"gap-y":[{"gap-y":[j]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,t]}],"min-w":[{"min-w":[tt,t,"min","max","fit"]}],"max-w":[{"max-w":[tt,t,"none","full","min","max","fit","prose",{screen:[Is]},Is]}],h:[{h:[tt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Is,Rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ef]}],"font-family":[{font:[vo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",di,Ef]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jn,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jn,Rs]}],"underline-offset":[{"underline-offset":["auto",Jn,tt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),kP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",CP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},EP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:z()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Jn,tt]}],"outline-w":[{outline:[Jn,Rs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Jn,Rs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Is,TP]}],"shadow-color":[{shadow:[vo]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...T(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[i]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Is,tt]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[y]}],saturate:[{saturate:[I]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[F]}],"scale-x":[{"scale-x":[F]}],"scale-y":[{"scale-y":[F]}],rotate:[{rotate:[xo,tt]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Jn,Rs,Ef]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},OP=pP(IP);function ke(...e){return OP(d0(e))}const MP=Uk,b0=p.forwardRef(({className:e,...t},s)=>r.jsx(n0,{ref:s,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));b0.displayName=n0.displayName;const DP=Xo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),w0=p.forwardRef(({className:e,variant:t,...s},i)=>r.jsx(s0,{ref:i,className:ke(DP({variant:t}),e),...s}));w0.displayName=s0.displayName;const FP=p.forwardRef(({className:e,...t},s)=>r.jsx(o0,{ref:s,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));FP.displayName=o0.displayName;const j0=p.forwardRef(({className:e,...t},s)=>r.jsx(l0,{ref:s,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(h0,{className:"h-4 w-4"})}));j0.displayName=l0.displayName;const N0=p.forwardRef(({className:e,...t},s)=>r.jsx(a0,{ref:s,className:ke("text-sm font-semibold",e),...t}));N0.displayName=a0.displayName;const S0=p.forwardRef(({className:e,...t},s)=>r.jsx(i0,{ref:s,className:ke("text-sm opacity-90",e),...t}));S0.displayName=i0.displayName;function LP(){const{toasts:e}=tr();return r.jsxs(MP,{children:[e.map(function({id:t,title:s,description:i,action:o,...c}){return r.jsxs(w0,{...c,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(N0,{children:s}),i&&r.jsx(S0,{children:i})]}),o,r.jsx(j0,{})]},t)}),r.jsx(b0,{})]})}var BP=Em[" useId ".trim().toString()]||(()=>{}),$P=0;function Sr(e){const[t,s]=p.useState(BP());return ur(()=>{s(i=>i??String($P++))},[e]),t?`radix-${t}`:""}const VP=["top","right","bottom","left"],Bs=Math.min,Wr=Math.max,Rc=Math.round,vc=Math.floor,Bn=e=>({x:e,y:e}),zP={left:"right",right:"left",bottom:"top",top:"bottom"},UP={start:"end",end:"start"};function im(e,t,s){return Wr(e,Bs(t,s))}function as(e,t){return typeof e=="function"?e(t):e}function is(e){return e.split("-")[0]}function Ei(e){return e.split("-")[1]}function Um(e){return e==="x"?"y":"x"}function qm(e){return e==="y"?"height":"width"}const qP=new Set(["top","bottom"]);function Fn(e){return qP.has(is(e))?"y":"x"}function Km(e){return Um(Fn(e))}function KP(e,t,s){s===void 0&&(s=!1);const i=Ei(e),o=Km(e),c=qm(o);let u=o==="x"?i===(s?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(u=Ic(u)),[u,Ic(u)]}function WP(e){const t=Ic(e);return[om(e),t,om(t)]}function om(e){return e.replace(/start|end/g,t=>UP[t])}const mv=["left","right"],hv=["right","left"],QP=["top","bottom"],HP=["bottom","top"];function GP(e,t,s){switch(e){case"top":case"bottom":return s?t?hv:mv:t?mv:hv;case"left":case"right":return t?QP:HP;default:return[]}}function ZP(e,t,s,i){const o=Ei(e);let c=GP(is(e),s==="start",i);return o&&(c=c.map(u=>u+"-"+o),t&&(c=c.concat(c.map(om)))),c}function Ic(e){return e.replace(/left|right|bottom|top/g,t=>zP[t])}function YP(e){return{top:0,right:0,bottom:0,left:0,...e}}function C0(e){return typeof e!="number"?YP(e):{top:e,right:e,bottom:e,left:e}}function Oc(e){const{x:t,y:s,width:i,height:o}=e;return{width:i,height:o,top:s,left:t,right:t+i,bottom:s+o,x:t,y:s}}function pv(e,t,s){let{reference:i,floating:o}=e;const c=Fn(t),u=Km(t),f=qm(u),h=is(t),g=c==="y",x=i.x+i.width/2-o.width/2,y=i.y+i.height/2-o.height/2,j=i[f]/2-o[f]/2;let S;switch(h){case"top":S={x,y:i.y-o.height};break;case"bottom":S={x,y:i.y+i.height};break;case"right":S={x:i.x+i.width,y};break;case"left":S={x:i.x-o.width,y};break;default:S={x:i.x,y:i.y}}switch(Ei(t)){case"start":S[u]-=j*(s&&g?-1:1);break;case"end":S[u]+=j*(s&&g?-1:1);break}return S}const XP=async(e,t,s)=>{const{placement:i="bottom",strategy:o="absolute",middleware:c=[],platform:u}=s,f=c.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(t));let g=await u.getElementRects({reference:e,floating:t,strategy:o}),{x,y}=pv(g,i,h),j=i,S={},P=0;for(let w=0;w<f.length;w++){const{name:b,fn:E}=f[w],{x:C,y:I,data:F,reset:$}=await E({x,y,initialPlacement:i,placement:j,strategy:o,middlewareData:S,rects:g,platform:u,elements:{reference:e,floating:t}});x=C??x,y=I??y,S={...S,[b]:{...S[b],...F}},$&&P<=50&&(P++,typeof $=="object"&&($.placement&&(j=$.placement),$.rects&&(g=$.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:o}):$.rects),{x,y}=pv(g,j,h)),w=-1)}return{x,y,placement:j,strategy:o,middlewareData:S}};async function Eo(e,t){var s;t===void 0&&(t={});const{x:i,y:o,platform:c,rects:u,elements:f,strategy:h}=e,{boundary:g="clippingAncestors",rootBoundary:x="viewport",elementContext:y="floating",altBoundary:j=!1,padding:S=0}=as(t,e),P=C0(S),b=f[j?y==="floating"?"reference":"floating":y],E=Oc(await c.getClippingRect({element:(s=await(c.isElement==null?void 0:c.isElement(b)))==null||s?b:b.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:g,rootBoundary:x,strategy:h})),C=y==="floating"?{x:i,y:o,width:u.floating.width,height:u.floating.height}:u.reference,I=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),F=await(c.isElement==null?void 0:c.isElement(I))?await(c.getScale==null?void 0:c.getScale(I))||{x:1,y:1}:{x:1,y:1},$=Oc(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:C,offsetParent:I,strategy:h}):C);return{top:(E.top-$.top+P.top)/F.y,bottom:($.bottom-E.bottom+P.bottom)/F.y,left:(E.left-$.left+P.left)/F.x,right:($.right-E.right+P.right)/F.x}}const JP=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:i,placement:o,rects:c,platform:u,elements:f,middlewareData:h}=t,{element:g,padding:x=0}=as(e,t)||{};if(g==null)return{};const y=C0(x),j={x:s,y:i},S=Km(o),P=qm(S),w=await u.getDimensions(g),b=S==="y",E=b?"top":"left",C=b?"bottom":"right",I=b?"clientHeight":"clientWidth",F=c.reference[P]+c.reference[S]-j[S]-c.floating[P],$=j[S]-c.reference[S],G=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let q=G?G[I]:0;(!q||!await(u.isElement==null?void 0:u.isElement(G)))&&(q=f.floating[I]||c.floating[P]);const J=F/2-$/2,ve=q/2-w[P]/2-1,ge=Bs(y[E],ve),de=Bs(y[C],ve),X=ge,ae=q-w[P]-de,B=q/2-w[P]/2+J,ne=im(X,B,ae),z=!h.arrow&&Ei(o)!=null&&B!==ne&&c.reference[P]/2-(B<X?ge:de)-w[P]/2<0,T=z?B<X?B-X:B-ae:0;return{[S]:j[S]+T,data:{[S]:ne,centerOffset:B-ne-T,...z&&{alignmentOffset:T}},reset:z}}}),e2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,i;const{placement:o,middlewareData:c,rects:u,initialPlacement:f,platform:h,elements:g}=t,{mainAxis:x=!0,crossAxis:y=!0,fallbackPlacements:j,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:w=!0,...b}=as(e,t);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const E=is(o),C=Fn(f),I=is(f)===f,F=await(h.isRTL==null?void 0:h.isRTL(g.floating)),$=j||(I||!w?[Ic(f)]:WP(f)),G=P!=="none";!j&&G&&$.push(...ZP(f,w,P,F));const q=[f,...$],J=await Eo(t,b),ve=[];let ge=((i=c.flip)==null?void 0:i.overflows)||[];if(x&&ve.push(J[E]),y){const B=KP(o,u,F);ve.push(J[B[0]],J[B[1]])}if(ge=[...ge,{placement:o,overflows:ve}],!ve.every(B=>B<=0)){var de,X;const B=(((de=c.flip)==null?void 0:de.index)||0)+1,ne=q[B];if(ne&&(!(y==="alignment"?C!==Fn(ne):!1)||ge.every(M=>Fn(M.placement)===C?M.overflows[0]>0:!0)))return{data:{index:B,overflows:ge},reset:{placement:ne}};let z=(X=ge.filter(T=>T.overflows[0]<=0).sort((T,M)=>T.overflows[1]-M.overflows[1])[0])==null?void 0:X.placement;if(!z)switch(S){case"bestFit":{var ae;const T=(ae=ge.filter(M=>{if(G){const Y=Fn(M.placement);return Y===C||Y==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(Y=>Y>0).reduce((Y,se)=>Y+se,0)]).sort((M,Y)=>M[1]-Y[1])[0])==null?void 0:ae[0];T&&(z=T);break}case"initialPlacement":z=f;break}if(o!==z)return{reset:{placement:z}}}return{}}}};function gv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function xv(e){return VP.some(t=>e[t]>=0)}const t2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:i="referenceHidden",...o}=as(e,t);switch(i){case"referenceHidden":{const c=await Eo(t,{...o,elementContext:"reference"}),u=gv(c,s.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:xv(u)}}}case"escaped":{const c=await Eo(t,{...o,altBoundary:!0}),u=gv(c,s.floating);return{data:{escapedOffsets:u,escaped:xv(u)}}}default:return{}}}}},k0=new Set(["left","top"]);async function r2(e,t){const{placement:s,platform:i,elements:o}=e,c=await(i.isRTL==null?void 0:i.isRTL(o.floating)),u=is(s),f=Ei(s),h=Fn(s)==="y",g=k0.has(u)?-1:1,x=c&&h?-1:1,y=as(t,e);let{mainAxis:j,crossAxis:S,alignmentAxis:P}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return f&&typeof P=="number"&&(S=f==="end"?P*-1:P),h?{x:S*x,y:j*g}:{x:j*g,y:S*x}}const n2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,i;const{x:o,y:c,placement:u,middlewareData:f}=t,h=await r2(t,e);return u===((s=f.offset)==null?void 0:s.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:o+h.x,y:c+h.y,data:{...h,placement:u}}}}},s2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:i,placement:o}=t,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:b=>{let{x:E,y:C}=b;return{x:E,y:C}}},...h}=as(e,t),g={x:s,y:i},x=await Eo(t,h),y=Fn(is(o)),j=Um(y);let S=g[j],P=g[y];if(c){const b=j==="y"?"top":"left",E=j==="y"?"bottom":"right",C=S+x[b],I=S-x[E];S=im(C,S,I)}if(u){const b=y==="y"?"top":"left",E=y==="y"?"bottom":"right",C=P+x[b],I=P-x[E];P=im(C,P,I)}const w=f.fn({...t,[j]:S,[y]:P});return{...w,data:{x:w.x-s,y:w.y-i,enabled:{[j]:c,[y]:u}}}}}},a2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:i,placement:o,rects:c,middlewareData:u}=t,{offset:f=0,mainAxis:h=!0,crossAxis:g=!0}=as(e,t),x={x:s,y:i},y=Fn(o),j=Um(y);let S=x[j],P=x[y];const w=as(f,t),b=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(h){const I=j==="y"?"height":"width",F=c.reference[j]-c.floating[I]+b.mainAxis,$=c.reference[j]+c.reference[I]-b.mainAxis;S<F?S=F:S>$&&(S=$)}if(g){var E,C;const I=j==="y"?"width":"height",F=k0.has(is(o)),$=c.reference[y]-c.floating[I]+(F&&((E=u.offset)==null?void 0:E[y])||0)+(F?0:b.crossAxis),G=c.reference[y]+c.reference[I]+(F?0:((C=u.offset)==null?void 0:C[y])||0)-(F?b.crossAxis:0);P<$?P=$:P>G&&(P=G)}return{[j]:S,[y]:P}}}},i2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,i;const{placement:o,rects:c,platform:u,elements:f}=t,{apply:h=()=>{},...g}=as(e,t),x=await Eo(t,g),y=is(o),j=Ei(o),S=Fn(o)==="y",{width:P,height:w}=c.floating;let b,E;y==="top"||y==="bottom"?(b=y,E=j===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(E=y,b=j==="end"?"top":"bottom");const C=w-x.top-x.bottom,I=P-x.left-x.right,F=Bs(w-x[b],C),$=Bs(P-x[E],I),G=!t.middlewareData.shift;let q=F,J=$;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(J=I),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(q=C),G&&!j){const ge=Wr(x.left,0),de=Wr(x.right,0),X=Wr(x.top,0),ae=Wr(x.bottom,0);S?J=P-2*(ge!==0||de!==0?ge+de:Wr(x.left,x.right)):q=w-2*(X!==0||ae!==0?X+ae:Wr(x.top,x.bottom))}await h({...t,availableWidth:J,availableHeight:q});const ve=await u.getDimensions(f.floating);return P!==ve.width||w!==ve.height?{reset:{rects:!0}}:{}}}};function sd(){return typeof window<"u"}function Ti(e){return P0(e)?(e.nodeName||"").toLowerCase():"#document"}function Gr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qn(e){var t;return(t=(P0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function P0(e){return sd()?e instanceof Node||e instanceof Gr(e).Node:!1}function Sn(e){return sd()?e instanceof Element||e instanceof Gr(e).Element:!1}function Vn(e){return sd()?e instanceof HTMLElement||e instanceof Gr(e).HTMLElement:!1}function vv(e){return!sd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gr(e).ShadowRoot}const o2=new Set(["inline","contents"]);function Jo(e){const{overflow:t,overflowX:s,overflowY:i,display:o}=Cn(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+s)&&!o2.has(o)}const l2=new Set(["table","td","th"]);function c2(e){return l2.has(Ti(e))}const d2=[":popover-open",":modal"];function ad(e){return d2.some(t=>{try{return e.matches(t)}catch{return!1}})}const u2=["transform","translate","scale","rotate","perspective"],f2=["transform","translate","scale","rotate","perspective","filter"],m2=["paint","layout","strict","content"];function Wm(e){const t=Qm(),s=Sn(e)?Cn(e):e;return u2.some(i=>s[i]?s[i]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||f2.some(i=>(s.willChange||"").includes(i))||m2.some(i=>(s.contain||"").includes(i))}function h2(e){let t=$s(e);for(;Vn(t)&&!vi(t);){if(Wm(t))return t;if(ad(t))return null;t=$s(t)}return null}function Qm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const p2=new Set(["html","body","#document"]);function vi(e){return p2.has(Ti(e))}function Cn(e){return Gr(e).getComputedStyle(e)}function id(e){return Sn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $s(e){if(Ti(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vv(e)&&e.host||qn(e);return vv(t)?t.host:t}function E0(e){const t=$s(e);return vi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vn(t)&&Jo(t)?t:E0(t)}function To(e,t,s){var i;t===void 0&&(t=[]),s===void 0&&(s=!0);const o=E0(e),c=o===((i=e.ownerDocument)==null?void 0:i.body),u=Gr(o);if(c){const f=lm(u);return t.concat(u,u.visualViewport||[],Jo(o)?o:[],f&&s?To(f):[])}return t.concat(o,To(o,[],s))}function lm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function T0(e){const t=Cn(e);let s=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=Vn(e),c=o?e.offsetWidth:s,u=o?e.offsetHeight:i,f=Rc(s)!==c||Rc(i)!==u;return f&&(s=c,i=u),{width:s,height:i,$:f}}function Hm(e){return Sn(e)?e:e.contextElement}function ui(e){const t=Hm(e);if(!Vn(t))return Bn(1);const s=t.getBoundingClientRect(),{width:i,height:o,$:c}=T0(t);let u=(c?Rc(s.width):s.width)/i,f=(c?Rc(s.height):s.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const g2=Bn(0);function _0(e){const t=Gr(e);return!Qm()||!t.visualViewport?g2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function x2(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Gr(e)?!1:t}function ba(e,t,s,i){t===void 0&&(t=!1),s===void 0&&(s=!1);const o=e.getBoundingClientRect(),c=Hm(e);let u=Bn(1);t&&(i?Sn(i)&&(u=ui(i)):u=ui(e));const f=x2(c,s,i)?_0(c):Bn(0);let h=(o.left+f.x)/u.x,g=(o.top+f.y)/u.y,x=o.width/u.x,y=o.height/u.y;if(c){const j=Gr(c),S=i&&Sn(i)?Gr(i):i;let P=j,w=lm(P);for(;w&&i&&S!==P;){const b=ui(w),E=w.getBoundingClientRect(),C=Cn(w),I=E.left+(w.clientLeft+parseFloat(C.paddingLeft))*b.x,F=E.top+(w.clientTop+parseFloat(C.paddingTop))*b.y;h*=b.x,g*=b.y,x*=b.x,y*=b.y,h+=I,g+=F,P=Gr(w),w=lm(P)}}return Oc({width:x,height:y,x:h,y:g})}function od(e,t){const s=id(e).scrollLeft;return t?t.left+s:ba(qn(e)).left+s}function A0(e,t){const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-od(e,s),o=s.top+t.scrollTop;return{x:i,y:o}}function v2(e){let{elements:t,rect:s,offsetParent:i,strategy:o}=e;const c=o==="fixed",u=qn(i),f=t?ad(t.floating):!1;if(i===u||f&&c)return s;let h={scrollLeft:0,scrollTop:0},g=Bn(1);const x=Bn(0),y=Vn(i);if((y||!y&&!c)&&((Ti(i)!=="body"||Jo(u))&&(h=id(i)),Vn(i))){const S=ba(i);g=ui(i),x.x=S.x+i.clientLeft,x.y=S.y+i.clientTop}const j=u&&!y&&!c?A0(u,h):Bn(0);return{width:s.width*g.x,height:s.height*g.y,x:s.x*g.x-h.scrollLeft*g.x+x.x+j.x,y:s.y*g.y-h.scrollTop*g.y+x.y+j.y}}function y2(e){return Array.from(e.getClientRects())}function b2(e){const t=qn(e),s=id(e),i=e.ownerDocument.body,o=Wr(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),c=Wr(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let u=-s.scrollLeft+od(e);const f=-s.scrollTop;return Cn(i).direction==="rtl"&&(u+=Wr(t.clientWidth,i.clientWidth)-o),{width:o,height:c,x:u,y:f}}const yv=25;function w2(e,t){const s=Gr(e),i=qn(e),o=s.visualViewport;let c=i.clientWidth,u=i.clientHeight,f=0,h=0;if(o){c=o.width,u=o.height;const x=Qm();(!x||x&&t==="fixed")&&(f=o.offsetLeft,h=o.offsetTop)}const g=od(i);if(g<=0){const x=i.ownerDocument,y=x.body,j=getComputedStyle(y),S=x.compatMode==="CSS1Compat"&&parseFloat(j.marginLeft)+parseFloat(j.marginRight)||0,P=Math.abs(i.clientWidth-y.clientWidth-S);P<=yv&&(c-=P)}else g<=yv&&(c+=g);return{width:c,height:u,x:f,y:h}}const j2=new Set(["absolute","fixed"]);function N2(e,t){const s=ba(e,!0,t==="fixed"),i=s.top+e.clientTop,o=s.left+e.clientLeft,c=Vn(e)?ui(e):Bn(1),u=e.clientWidth*c.x,f=e.clientHeight*c.y,h=o*c.x,g=i*c.y;return{width:u,height:f,x:h,y:g}}function bv(e,t,s){let i;if(t==="viewport")i=w2(e,s);else if(t==="document")i=b2(qn(e));else if(Sn(t))i=N2(t,s);else{const o=_0(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Oc(i)}function R0(e,t){const s=$s(e);return s===t||!Sn(s)||vi(s)?!1:Cn(s).position==="fixed"||R0(s,t)}function S2(e,t){const s=t.get(e);if(s)return s;let i=To(e,[],!1).filter(f=>Sn(f)&&Ti(f)!=="body"),o=null;const c=Cn(e).position==="fixed";let u=c?$s(e):e;for(;Sn(u)&&!vi(u);){const f=Cn(u),h=Wm(u);!h&&f.position==="fixed"&&(o=null),(c?!h&&!o:!h&&f.position==="static"&&!!o&&j2.has(o.position)||Jo(u)&&!h&&R0(e,u))?i=i.filter(x=>x!==u):o=f,u=$s(u)}return t.set(e,i),i}function C2(e){let{element:t,boundary:s,rootBoundary:i,strategy:o}=e;const u=[...s==="clippingAncestors"?ad(t)?[]:S2(t,this._c):[].concat(s),i],f=u[0],h=u.reduce((g,x)=>{const y=bv(t,x,o);return g.top=Wr(y.top,g.top),g.right=Bs(y.right,g.right),g.bottom=Bs(y.bottom,g.bottom),g.left=Wr(y.left,g.left),g},bv(t,f,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function k2(e){const{width:t,height:s}=T0(e);return{width:t,height:s}}function P2(e,t,s){const i=Vn(t),o=qn(t),c=s==="fixed",u=ba(e,!0,c,t);let f={scrollLeft:0,scrollTop:0};const h=Bn(0);function g(){h.x=od(o)}if(i||!i&&!c)if((Ti(t)!=="body"||Jo(o))&&(f=id(t)),i){const S=ba(t,!0,c,t);h.x=S.x+t.clientLeft,h.y=S.y+t.clientTop}else o&&g();c&&!i&&o&&g();const x=o&&!i&&!c?A0(o,f):Bn(0),y=u.left+f.scrollLeft-h.x-x.x,j=u.top+f.scrollTop-h.y-x.y;return{x:y,y:j,width:u.width,height:u.height}}function Tf(e){return Cn(e).position==="static"}function wv(e,t){if(!Vn(e)||Cn(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return qn(e)===s&&(s=s.ownerDocument.body),s}function I0(e,t){const s=Gr(e);if(ad(e))return s;if(!Vn(e)){let o=$s(e);for(;o&&!vi(o);){if(Sn(o)&&!Tf(o))return o;o=$s(o)}return s}let i=wv(e,t);for(;i&&c2(i)&&Tf(i);)i=wv(i,t);return i&&vi(i)&&Tf(i)&&!Wm(i)?s:i||h2(e)||s}const E2=async function(e){const t=this.getOffsetParent||I0,s=this.getDimensions,i=await s(e.floating);return{reference:P2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function T2(e){return Cn(e).direction==="rtl"}const _2={convertOffsetParentRelativeRectToViewportRelativeRect:v2,getDocumentElement:qn,getClippingRect:C2,getOffsetParent:I0,getElementRects:E2,getClientRects:y2,getDimensions:k2,getScale:ui,isElement:Sn,isRTL:T2};function O0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function A2(e,t){let s=null,i;const o=qn(e);function c(){var f;clearTimeout(i),(f=s)==null||f.disconnect(),s=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),c();const g=e.getBoundingClientRect(),{left:x,top:y,width:j,height:S}=g;if(f||t(),!j||!S)return;const P=vc(y),w=vc(o.clientWidth-(x+j)),b=vc(o.clientHeight-(y+S)),E=vc(x),I={rootMargin:-P+"px "+-w+"px "+-b+"px "+-E+"px",threshold:Wr(0,Bs(1,h))||1};let F=!0;function $(G){const q=G[0].intersectionRatio;if(q!==h){if(!F)return u();q?u(!1,q):i=setTimeout(()=>{u(!1,1e-7)},1e3)}q===1&&!O0(g,e.getBoundingClientRect())&&u(),F=!1}try{s=new IntersectionObserver($,{...I,root:o.ownerDocument})}catch{s=new IntersectionObserver($,I)}s.observe(e)}return u(!0),c}function R2(e,t,s,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,g=Hm(e),x=o||c?[...g?To(g):[],...To(t)]:[];x.forEach(E=>{o&&E.addEventListener("scroll",s,{passive:!0}),c&&E.addEventListener("resize",s)});const y=g&&f?A2(g,s):null;let j=-1,S=null;u&&(S=new ResizeObserver(E=>{let[C]=E;C&&C.target===g&&S&&(S.unobserve(t),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var I;(I=S)==null||I.observe(t)})),s()}),g&&!h&&S.observe(g),S.observe(t));let P,w=h?ba(e):null;h&&b();function b(){const E=ba(e);w&&!O0(w,E)&&s(),w=E,P=requestAnimationFrame(b)}return s(),()=>{var E;x.forEach(C=>{o&&C.removeEventListener("scroll",s),c&&C.removeEventListener("resize",s)}),y?.(),(E=S)==null||E.disconnect(),S=null,h&&cancelAnimationFrame(P)}}const I2=n2,O2=s2,M2=e2,D2=i2,F2=t2,jv=JP,L2=a2,B2=(e,t,s)=>{const i=new Map,o={platform:_2,...s},c={...o.platform,_c:i};return XP(e,t,{...o,platform:c})};var $2=typeof document<"u",V2=function(){},Cc=$2?p.useLayoutEffect:V2;function Mc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(i=s;i--!==0;)if(!Mc(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),s=o.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=s;i--!==0;){const c=o[i];if(!(c==="_owner"&&e.$$typeof)&&!Mc(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function M0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Nv(e,t){const s=M0(e);return Math.round(t*s)/s}function _f(e){const t=p.useRef(e);return Cc(()=>{t.current=e}),t}function z2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:i=[],platform:o,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:h,open:g}=e,[x,y]=p.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[j,S]=p.useState(i);Mc(j,i)||S(i);const[P,w]=p.useState(null),[b,E]=p.useState(null),C=p.useCallback(M=>{M!==G.current&&(G.current=M,w(M))},[]),I=p.useCallback(M=>{M!==q.current&&(q.current=M,E(M))},[]),F=c||P,$=u||b,G=p.useRef(null),q=p.useRef(null),J=p.useRef(x),ve=h!=null,ge=_f(h),de=_f(o),X=_f(g),ae=p.useCallback(()=>{if(!G.current||!q.current)return;const M={placement:t,strategy:s,middleware:j};de.current&&(M.platform=de.current),B2(G.current,q.current,M).then(Y=>{const se={...Y,isPositioned:X.current!==!1};B.current&&!Mc(J.current,se)&&(J.current=se,Ci.flushSync(()=>{y(se)}))})},[j,t,s,de,X]);Cc(()=>{g===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,y(M=>({...M,isPositioned:!1})))},[g]);const B=p.useRef(!1);Cc(()=>(B.current=!0,()=>{B.current=!1}),[]),Cc(()=>{if(F&&(G.current=F),$&&(q.current=$),F&&$){if(ge.current)return ge.current(F,$,ae);ae()}},[F,$,ae,ge,ve]);const ne=p.useMemo(()=>({reference:G,floating:q,setReference:C,setFloating:I}),[C,I]),z=p.useMemo(()=>({reference:F,floating:$}),[F,$]),T=p.useMemo(()=>{const M={position:s,left:0,top:0};if(!z.floating)return M;const Y=Nv(z.floating,x.x),se=Nv(z.floating,x.y);return f?{...M,transform:"translate("+Y+"px, "+se+"px)",...M0(z.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:Y,top:se}},[s,f,z.floating,x.x,x.y]);return p.useMemo(()=>({...x,update:ae,refs:ne,elements:z,floatingStyles:T}),[x,ae,ne,z,T])}const U2=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:i,padding:o}=typeof e=="function"?e(s):e;return i&&t(i)?i.current!=null?jv({element:i.current,padding:o}).fn(s):{}:i?jv({element:i,padding:o}).fn(s):{}}}},q2=(e,t)=>({...I2(e),options:[e,t]}),K2=(e,t)=>({...O2(e),options:[e,t]}),W2=(e,t)=>({...L2(e),options:[e,t]}),Q2=(e,t)=>({...M2(e),options:[e,t]}),H2=(e,t)=>({...D2(e),options:[e,t]}),G2=(e,t)=>({...F2(e),options:[e,t]}),Z2=(e,t)=>({...U2(e),options:[e,t]});var Y2="Arrow",D0=p.forwardRef((e,t)=>{const{children:s,width:i=10,height:o=5,...c}=e;return r.jsx(Fe.svg,{...c,ref:t,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});D0.displayName=Y2;var X2=D0;function Gm(e){const[t,s]=p.useState(void 0);return ur(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,f;if("borderBoxSize"in c){const h=c.borderBoxSize,g=Array.isArray(h)?h[0]:h;u=g.inlineSize,f=g.blockSize}else u=e.offsetWidth,f=e.offsetHeight;s({width:u,height:f})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else s(void 0)},[e]),t}var Zm="Popper",[F0,_i]=Fr(Zm),[J2,L0]=F0(Zm),B0=e=>{const{__scopePopper:t,children:s}=e,[i,o]=p.useState(null);return r.jsx(J2,{scope:t,anchor:i,onAnchorChange:o,children:s})};B0.displayName=Zm;var $0="PopperAnchor",V0=p.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:i,...o}=e,c=L0($0,s),u=p.useRef(null),f=ot(t,u),h=p.useRef(null);return p.useEffect(()=>{const g=h.current;h.current=i?.current||u.current,g!==h.current&&c.onAnchorChange(h.current)}),i?null:r.jsx(Fe.div,{...o,ref:f})});V0.displayName=$0;var Ym="PopperContent",[eE,tE]=F0(Ym),z0=p.forwardRef((e,t)=>{const{__scopePopper:s,side:i="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:g=[],collisionPadding:x=0,sticky:y="partial",hideWhenDetached:j=!1,updatePositionStrategy:S="optimized",onPlaced:P,...w}=e,b=L0(Ym,s),[E,C]=p.useState(null),I=ot(t,re=>C(re)),[F,$]=p.useState(null),G=Gm(F),q=G?.width??0,J=G?.height??0,ve=i+(c!=="center"?"-"+c:""),ge=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},de=Array.isArray(g)?g:[g],X=de.length>0,ae={padding:ge,boundary:de.filter(nE),altBoundary:X},{refs:B,floatingStyles:ne,placement:z,isPositioned:T,middlewareData:M}=z2({strategy:"fixed",placement:ve,whileElementsMounted:(...re)=>R2(...re,{animationFrame:S==="always"}),elements:{reference:b.anchor},middleware:[q2({mainAxis:o+J,alignmentAxis:u}),h&&K2({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?W2():void 0,...ae}),h&&Q2({...ae}),H2({...ae,apply:({elements:re,rects:Ne,availableWidth:Ae,availableHeight:ze})=>{const{width:dt,height:ft}=Ne.reference,Wt=re.floating.style;Wt.setProperty("--radix-popper-available-width",`${Ae}px`),Wt.setProperty("--radix-popper-available-height",`${ze}px`),Wt.setProperty("--radix-popper-anchor-width",`${dt}px`),Wt.setProperty("--radix-popper-anchor-height",`${ft}px`)}}),F&&Z2({element:F,padding:f}),sE({arrowWidth:q,arrowHeight:J}),j&&G2({strategy:"referenceHidden",...ae})]}),[Y,se]=K0(z),A=cn(P);ur(()=>{T&&A?.()},[T,A]);const k=M.arrow?.x,V=M.arrow?.y,ee=M.arrow?.centerOffset!==0,[te,he]=p.useState();return ur(()=>{E&&he(window.getComputedStyle(E).zIndex)},[E]),r.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:T?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(eE,{scope:s,placedSide:Y,onArrowChange:$,arrowX:k,arrowY:V,shouldHideArrow:ee,children:r.jsx(Fe.div,{"data-side":Y,"data-align":se,...w,ref:I,style:{...w.style,animation:T?void 0:"none"}})})})});z0.displayName=Ym;var U0="PopperArrow",rE={top:"bottom",right:"left",bottom:"top",left:"right"},q0=p.forwardRef(function(t,s){const{__scopePopper:i,...o}=t,c=tE(U0,i),u=rE[c.placedSide];return r.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:r.jsx(X2,{...o,ref:s,style:{...o.style,display:"block"}})})});q0.displayName=U0;function nE(e){return e!==null}var sE=e=>({name:"transformOrigin",options:e,fn(t){const{placement:s,rects:i,middlewareData:o}=t,u=o.arrow?.centerOffset!==0,f=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[g,x]=K0(s),y={start:"0%",center:"50%",end:"100%"}[x],j=(o.arrow?.x??0)+f/2,S=(o.arrow?.y??0)+h/2;let P="",w="";return g==="bottom"?(P=u?y:`${j}px`,w=`${-h}px`):g==="top"?(P=u?y:`${j}px`,w=`${i.floating.height+h}px`):g==="right"?(P=`${-h}px`,w=u?y:`${S}px`):g==="left"&&(P=`${i.floating.width+h}px`,w=u?y:`${S}px`),{data:{x:P,y:w}}}});function K0(e){const[t,s="center"]=e.split("-");return[t,s]}var W0=B0,ld=V0,Xm=z0,Jm=q0,[cd,LM]=Fr("Tooltip",[_i]),eh=_i(),Q0="TooltipProvider",aE=700,Sv="tooltip.open",[iE,H0]=cd(Q0),G0=e=>{const{__scopeTooltip:t,delayDuration:s=aE,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:c}=e,u=p.useRef(!0),f=p.useRef(!1),h=p.useRef(0);return p.useEffect(()=>{const g=h.current;return()=>window.clearTimeout(g)},[]),r.jsx(iE,{scope:t,isOpenDelayedRef:u,delayDuration:s,onOpen:p.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,i)},[i]),isPointerInTransitRef:f,onPointerInTransitChange:p.useCallback(g=>{f.current=g},[]),disableHoverableContent:o,children:c})};G0.displayName=Q0;var Z0="Tooltip",[BM,dd]=cd(Z0),cm="TooltipTrigger",oE=p.forwardRef((e,t)=>{const{__scopeTooltip:s,...i}=e,o=dd(cm,s),c=H0(cm,s),u=eh(s),f=p.useRef(null),h=ot(t,f,o.onTriggerChange),g=p.useRef(!1),x=p.useRef(!1),y=p.useCallback(()=>g.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),r.jsx(ld,{asChild:!0,...u,children:r.jsx(Fe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:h,onPointerMove:Oe(e.onPointerMove,j=>{j.pointerType!=="touch"&&!x.current&&!c.isPointerInTransitRef.current&&(o.onTriggerEnter(),x.current=!0)}),onPointerLeave:Oe(e.onPointerLeave,()=>{o.onTriggerLeave(),x.current=!1}),onPointerDown:Oe(e.onPointerDown,()=>{o.open&&o.onClose(),g.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:Oe(e.onFocus,()=>{g.current||o.onOpen()}),onBlur:Oe(e.onBlur,o.onClose),onClick:Oe(e.onClick,o.onClose)})})});oE.displayName=cm;var lE="TooltipPortal",[$M,cE]=cd(lE,{forceMount:void 0}),yi="TooltipContent",Y0=p.forwardRef((e,t)=>{const s=cE(yi,e.__scopeTooltip),{forceMount:i=s.forceMount,side:o="top",...c}=e,u=dd(yi,e.__scopeTooltip);return r.jsx(Pn,{present:i||u.open,children:u.disableHoverableContent?r.jsx(X0,{side:o,...c,ref:t}):r.jsx(dE,{side:o,...c,ref:t})})}),dE=p.forwardRef((e,t)=>{const s=dd(yi,e.__scopeTooltip),i=H0(yi,e.__scopeTooltip),o=p.useRef(null),c=ot(t,o),[u,f]=p.useState(null),{trigger:h,onClose:g}=s,x=o.current,{onPointerInTransitChange:y}=i,j=p.useCallback(()=>{f(null),y(!1)},[y]),S=p.useCallback((P,w)=>{const b=P.currentTarget,E={x:P.clientX,y:P.clientY},C=pE(E,b.getBoundingClientRect()),I=gE(E,C),F=xE(w.getBoundingClientRect()),$=yE([...I,...F]);f($),y(!0)},[y]);return p.useEffect(()=>()=>j(),[j]),p.useEffect(()=>{if(h&&x){const P=b=>S(b,x),w=b=>S(b,h);return h.addEventListener("pointerleave",P),x.addEventListener("pointerleave",w),()=>{h.removeEventListener("pointerleave",P),x.removeEventListener("pointerleave",w)}}},[h,x,S,j]),p.useEffect(()=>{if(u){const P=w=>{const b=w.target,E={x:w.clientX,y:w.clientY},C=h?.contains(b)||x?.contains(b),I=!vE(E,u);C?j():I&&(j(),g())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[h,x,u,g,j]),r.jsx(X0,{...e,ref:c})}),[uE,fE]=cd(Z0,{isInside:!1}),mE=Ly("TooltipContent"),X0=p.forwardRef((e,t)=>{const{__scopeTooltip:s,children:i,"aria-label":o,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=e,h=dd(yi,s),g=eh(s),{onClose:x}=h;return p.useEffect(()=>(document.addEventListener(Sv,x),()=>document.removeEventListener(Sv,x)),[x]),p.useEffect(()=>{if(h.trigger){const y=j=>{j.target?.contains(h.trigger)&&x()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[h.trigger,x]),r.jsx(ki,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:y=>y.preventDefault(),onDismiss:x,children:r.jsxs(Xm,{"data-state":h.stateAttribute,...g,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(mE,{children:i}),r.jsx(uE,{scope:s,isInside:!0,children:r.jsx(Ck,{id:h.contentId,role:"tooltip",children:o||i})})]})})});Y0.displayName=yi;var J0="TooltipArrow",hE=p.forwardRef((e,t)=>{const{__scopeTooltip:s,...i}=e,o=eh(s);return fE(J0,s).isInside?null:r.jsx(Jm,{...o,...i,ref:t})});hE.displayName=J0;function pE(e,t){const s=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),c=Math.abs(t.left-e.x);switch(Math.min(s,i,o,c)){case c:return"left";case o:return"right";case s:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function gE(e,t,s=5){const i=[];switch(t){case"top":i.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":i.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":i.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":i.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return i}function xE(e){const{top:t,right:s,bottom:i,left:o}=e;return[{x:o,y:t},{x:s,y:t},{x:s,y:i},{x:o,y:i}]}function vE(e,t){const{x:s,y:i}=e;let o=!1;for(let c=0,u=t.length-1;c<t.length;u=c++){const f=t[c],h=t[u],g=f.x,x=f.y,y=h.x,j=h.y;x>i!=j>i&&s<(y-g)*(i-x)/(j-x)+g&&(o=!o)}return o}function yE(e){const t=e.slice();return t.sort((s,i)=>s.x<i.x?-1:s.x>i.x?1:s.y<i.y?-1:s.y>i.y?1:0),bE(t)}function bE(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const o=e[i];for(;t.length>=2;){const c=t[t.length-1],u=t[t.length-2];if((c.x-u.x)*(o.y-u.y)>=(c.y-u.y)*(o.x-u.x))t.pop();else break}t.push(o)}t.pop();const s=[];for(let i=e.length-1;i>=0;i--){const o=e[i];for(;s.length>=2;){const c=s[s.length-1],u=s[s.length-2];if((c.x-u.x)*(o.y-u.y)>=(c.y-u.y)*(o.x-u.x))s.pop();else break}s.push(o)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var wE=G0,eb=Y0;const jE=wE,NE=p.forwardRef(({className:e,sideOffset:t=4,...s},i)=>r.jsx(eb,{ref:i,sideOffset:t,className:ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...s}));NE.displayName=eb.displayName;const ue=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ue.displayName="Card";const Le=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ke("flex flex-col space-y-1.5 p-6",e),...t}));Le.displayName="CardHeader";const Ve=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ke("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ve.displayName="CardTitle";const nt=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ke("text-sm text-muted-foreground",e),...t}));nt.displayName="CardDescription";const fe=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ke("p-6 pt-0",e),...t}));fe.displayName="CardContent";const SE=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ke("flex items-center p-6 pt-0",e),...t}));SE.displayName="CardFooter";const th=Xo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=p.forwardRef(({className:e,variant:t,size:s,asChild:i=!1,...o},c)=>{const u=i?rk:"button";return r.jsx(u,{className:ke(th({variant:t,size:s,className:e})),ref:c,...o})});Q.displayName="Button";var Af="focusScope.autoFocusOnMount",Rf="focusScope.autoFocusOnUnmount",Cv={bubbles:!1,cancelable:!0},CE="FocusScope",ud=p.forwardRef((e,t)=>{const{loop:s=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=e,[f,h]=p.useState(null),g=cn(o),x=cn(c),y=p.useRef(null),j=ot(t,w=>h(w)),S=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(i){let w=function(I){if(S.paused||!f)return;const F=I.target;f.contains(F)?y.current=F:Os(y.current,{select:!0})},b=function(I){if(S.paused||!f)return;const F=I.relatedTarget;F!==null&&(f.contains(F)||Os(y.current,{select:!0}))},E=function(I){if(document.activeElement===document.body)for(const $ of I)$.removedNodes.length>0&&Os(f)};document.addEventListener("focusin",w),document.addEventListener("focusout",b);const C=new MutationObserver(E);return f&&C.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",b),C.disconnect()}}},[i,f,S.paused]),p.useEffect(()=>{if(f){Pv.add(S);const w=document.activeElement;if(!f.contains(w)){const E=new CustomEvent(Af,Cv);f.addEventListener(Af,g),f.dispatchEvent(E),E.defaultPrevented||(kE(AE(tb(f)),{select:!0}),document.activeElement===w&&Os(f))}return()=>{f.removeEventListener(Af,g),setTimeout(()=>{const E=new CustomEvent(Rf,Cv);f.addEventListener(Rf,x),f.dispatchEvent(E),E.defaultPrevented||Os(w??document.body,{select:!0}),f.removeEventListener(Rf,x),Pv.remove(S)},0)}}},[f,g,x,S]);const P=p.useCallback(w=>{if(!s&&!i||S.paused)return;const b=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(b&&E){const C=w.currentTarget,[I,F]=PE(C);I&&F?!w.shiftKey&&E===F?(w.preventDefault(),s&&Os(I,{select:!0})):w.shiftKey&&E===I&&(w.preventDefault(),s&&Os(F,{select:!0})):E===C&&w.preventDefault()}},[s,i,S.paused]);return r.jsx(Fe.div,{tabIndex:-1,...u,ref:j,onKeyDown:P})});ud.displayName=CE;function kE(e,{select:t=!1}={}){const s=document.activeElement;for(const i of e)if(Os(i,{select:t}),document.activeElement!==s)return}function PE(e){const t=tb(e),s=kv(t,e),i=kv(t.reverse(),e);return[s,i]}function tb(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function kv(e,t){for(const s of e)if(!EE(s,{upTo:t}))return s}function EE(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function TE(e){return e instanceof HTMLInputElement&&"select"in e}function Os(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&TE(e)&&t&&e.select()}}var Pv=_E();function _E(){let e=[];return{add(t){const s=e[0];t!==s&&s?.pause(),e=Ev(e,t),e.unshift(t)},remove(t){e=Ev(e,t),e[0]?.resume()}}}function Ev(e,t){const s=[...e],i=s.indexOf(t);return i!==-1&&s.splice(i,1),s}function AE(e){return e.filter(t=>t.tagName!=="A")}var If=0;function rh(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Tv()),document.body.insertAdjacentElement("beforeend",e[1]??Tv()),If++,()=>{If===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),If--}},[])}function Tv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Dn=function(){return Dn=Object.assign||function(t){for(var s,i=1,o=arguments.length;i<o;i++){s=arguments[i];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(t[c]=s[c])}return t},Dn.apply(this,arguments)};function rb(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(s[i[o]]=e[i[o]]);return s}function RE(e,t,s){if(s||arguments.length===2)for(var i=0,o=t.length,c;i<o;i++)(c||!(i in t))&&(c||(c=Array.prototype.slice.call(t,0,i)),c[i]=t[i]);return e.concat(c||Array.prototype.slice.call(t))}var kc="right-scroll-bar-position",Pc="width-before-scroll-bar",IE="with-scroll-bars-hidden",OE="--removed-body-scroll-bar-size";function Of(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ME(e,t){var s=p.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(i){var o=s.value;o!==i&&(s.value=i,s.callback(i,o))}}}})[0];return s.callback=t,s.facade}var DE=typeof window<"u"?p.useLayoutEffect:p.useEffect,_v=new WeakMap;function FE(e,t){var s=ME(null,function(i){return e.forEach(function(o){return Of(o,i)})});return DE(function(){var i=_v.get(s);if(i){var o=new Set(i),c=new Set(e),u=s.current;o.forEach(function(f){c.has(f)||Of(f,null)}),c.forEach(function(f){o.has(f)||Of(f,u)})}_v.set(s,e)},[e]),s}function LE(e){return e}function BE(e,t){t===void 0&&(t=LE);var s=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(c){var u=t(c,i);return s.push(u),function(){s=s.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(i=!0;s.length;){var u=s;s=[],u.forEach(c)}s={push:function(f){return c(f)},filter:function(){return s}}},assignMedium:function(c){i=!0;var u=[];if(s.length){var f=s;s=[],f.forEach(c),u=s}var h=function(){var x=u;u=[],x.forEach(c)},g=function(){return Promise.resolve().then(h)};g(),s={push:function(x){u.push(x),g()},filter:function(x){return u=u.filter(x),s}}}};return o}function $E(e){e===void 0&&(e={});var t=BE(null);return t.options=Dn({async:!0,ssr:!1},e),t}var nb=function(e){var t=e.sideCar,s=rb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return p.createElement(i,Dn({},s))};nb.isSideCarExport=!0;function VE(e,t){return e.useMedium(t),nb}var sb=$E(),Mf=function(){},fd=p.forwardRef(function(e,t){var s=p.useRef(null),i=p.useState({onScrollCapture:Mf,onWheelCapture:Mf,onTouchMoveCapture:Mf}),o=i[0],c=i[1],u=e.forwardProps,f=e.children,h=e.className,g=e.removeScrollBar,x=e.enabled,y=e.shards,j=e.sideCar,S=e.noRelative,P=e.noIsolation,w=e.inert,b=e.allowPinchZoom,E=e.as,C=E===void 0?"div":E,I=e.gapMode,F=rb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=j,G=FE([s,t]),q=Dn(Dn({},F),o);return p.createElement(p.Fragment,null,x&&p.createElement($,{sideCar:sb,removeScrollBar:g,shards:y,noRelative:S,noIsolation:P,inert:w,setCallbacks:c,allowPinchZoom:!!b,lockRef:s,gapMode:I}),u?p.cloneElement(p.Children.only(f),Dn(Dn({},q),{ref:G})):p.createElement(C,Dn({},q,{className:h,ref:G}),f))});fd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fd.classNames={fullWidth:Pc,zeroRight:kc};var zE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function UE(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=zE();return t&&e.setAttribute("nonce",t),e}function qE(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function KE(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var WE=function(){var e=0,t=null;return{add:function(s){e==0&&(t=UE())&&(qE(t,s),KE(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},QE=function(){var e=WE();return function(t,s){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},ab=function(){var e=QE(),t=function(s){var i=s.styles,o=s.dynamic;return e(i,o),null};return t},HE={left:0,top:0,right:0,gap:0},Df=function(e){return parseInt(e||"",10)||0},GE=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Df(s),Df(i),Df(o)]},ZE=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return HE;var t=GE(e),s=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-s+t[2]-t[0])}},YE=ab(),fi="data-scroll-locked",XE=function(e,t,s,i){var o=e.left,c=e.top,u=e.right,f=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(IE,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(fi,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),s==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),s==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kc,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Pc,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(kc," .").concat(kc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Pc," .").concat(Pc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(fi,`] {
    `).concat(OE,": ").concat(f,`px;
  }
`)},Av=function(){var e=parseInt(document.body.getAttribute(fi)||"0",10);return isFinite(e)?e:0},JE=function(){p.useEffect(function(){return document.body.setAttribute(fi,(Av()+1).toString()),function(){var e=Av()-1;e<=0?document.body.removeAttribute(fi):document.body.setAttribute(fi,e.toString())}},[])},eT=function(e){var t=e.noRelative,s=e.noImportant,i=e.gapMode,o=i===void 0?"margin":i;JE();var c=p.useMemo(function(){return ZE(o)},[o]);return p.createElement(YE,{styles:XE(c,!t,o,s?"":"!important")})},dm=!1;if(typeof window<"u")try{var yc=Object.defineProperty({},"passive",{get:function(){return dm=!0,!0}});window.addEventListener("test",yc,yc),window.removeEventListener("test",yc,yc)}catch{dm=!1}var Ja=dm?{passive:!1}:!1,tT=function(e){return e.tagName==="TEXTAREA"},ib=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!tT(e)&&s[t]==="visible")},rT=function(e){return ib(e,"overflowY")},nT=function(e){return ib(e,"overflowX")},Rv=function(e,t){var s=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=ob(e,i);if(o){var c=lb(e,i),u=c[1],f=c[2];if(u>f)return!0}i=i.parentNode}while(i&&i!==s.body);return!1},sT=function(e){var t=e.scrollTop,s=e.scrollHeight,i=e.clientHeight;return[t,s,i]},aT=function(e){var t=e.scrollLeft,s=e.scrollWidth,i=e.clientWidth;return[t,s,i]},ob=function(e,t){return e==="v"?rT(t):nT(t)},lb=function(e,t){return e==="v"?sT(t):aT(t)},iT=function(e,t){return e==="h"&&t==="rtl"?-1:1},oT=function(e,t,s,i,o){var c=iT(e,window.getComputedStyle(t).direction),u=c*i,f=s.target,h=t.contains(f),g=!1,x=u>0,y=0,j=0;do{if(!f)break;var S=lb(e,f),P=S[0],w=S[1],b=S[2],E=w-b-c*P;(P||E)&&ob(e,f)&&(y+=E,j+=P);var C=f.parentNode;f=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!h&&f!==document.body||h&&(t.contains(f)||t===f));return(x&&Math.abs(y)<1||!x&&Math.abs(j)<1)&&(g=!0),g},bc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Iv=function(e){return[e.deltaX,e.deltaY]},Ov=function(e){return e&&"current"in e?e.current:e},lT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dT=0,ei=[];function uT(e){var t=p.useRef([]),s=p.useRef([0,0]),i=p.useRef(),o=p.useState(dT++)[0],c=p.useState(ab)[0],u=p.useRef(e);p.useEffect(function(){u.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=RE([e.lockRef.current],(e.shards||[]).map(Ov),!0).filter(Boolean);return w.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var f=p.useCallback(function(w,b){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!u.current.allowPinchZoom;var E=bc(w),C=s.current,I="deltaX"in w?w.deltaX:C[0]-E[0],F="deltaY"in w?w.deltaY:C[1]-E[1],$,G=w.target,q=Math.abs(I)>Math.abs(F)?"h":"v";if("touches"in w&&q==="h"&&G.type==="range")return!1;var J=Rv(q,G);if(!J)return!0;if(J?$=q:($=q==="v"?"h":"v",J=Rv(q,G)),!J)return!1;if(!i.current&&"changedTouches"in w&&(I||F)&&(i.current=$),!$)return!0;var ve=i.current||$;return oT(ve,b,w,ve==="h"?I:F)},[]),h=p.useCallback(function(w){var b=w;if(!(!ei.length||ei[ei.length-1]!==c)){var E="deltaY"in b?Iv(b):bc(b),C=t.current.filter(function($){return $.name===b.type&&($.target===b.target||b.target===$.shadowParent)&&lT($.delta,E)})[0];if(C&&C.should){b.cancelable&&b.preventDefault();return}if(!C){var I=(u.current.shards||[]).map(Ov).filter(Boolean).filter(function($){return $.contains(b.target)}),F=I.length>0?f(b,I[0]):!u.current.noIsolation;F&&b.cancelable&&b.preventDefault()}}},[]),g=p.useCallback(function(w,b,E,C){var I={name:w,delta:b,target:E,should:C,shadowParent:fT(E)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(F){return F!==I})},1)},[]),x=p.useCallback(function(w){s.current=bc(w),i.current=void 0},[]),y=p.useCallback(function(w){g(w.type,Iv(w),w.target,f(w,e.lockRef.current))},[]),j=p.useCallback(function(w){g(w.type,bc(w),w.target,f(w,e.lockRef.current))},[]);p.useEffect(function(){return ei.push(c),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:j}),document.addEventListener("wheel",h,Ja),document.addEventListener("touchmove",h,Ja),document.addEventListener("touchstart",x,Ja),function(){ei=ei.filter(function(w){return w!==c}),document.removeEventListener("wheel",h,Ja),document.removeEventListener("touchmove",h,Ja),document.removeEventListener("touchstart",x,Ja)}},[]);var S=e.removeScrollBar,P=e.inert;return p.createElement(p.Fragment,null,P?p.createElement(c,{styles:cT(o)}):null,S?p.createElement(eT,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function fT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const mT=VE(sb,uT);var md=p.forwardRef(function(e,t){return p.createElement(fd,Dn({},e,{ref:t,sideCar:mT}))});md.classNames=fd.classNames;var hT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ti=new WeakMap,wc=new WeakMap,jc={},Ff=0,cb=function(e){return e&&(e.host||cb(e.parentNode))},pT=function(e,t){return t.map(function(s){if(e.contains(s))return s;var i=cb(s);return i&&e.contains(i)?i:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},gT=function(e,t,s,i){var o=pT(t,Array.isArray(e)?e:[e]);jc[s]||(jc[s]=new WeakMap);var c=jc[s],u=[],f=new Set,h=new Set(o),g=function(y){!y||f.has(y)||(f.add(y),g(y.parentNode))};o.forEach(g);var x=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(j){if(f.has(j))x(j);else try{var S=j.getAttribute(i),P=S!==null&&S!=="false",w=(ti.get(j)||0)+1,b=(c.get(j)||0)+1;ti.set(j,w),c.set(j,b),u.push(j),w===1&&P&&wc.set(j,!0),b===1&&j.setAttribute(s,"true"),P||j.setAttribute(i,"true")}catch(E){console.error("aria-hidden: cannot operate on ",j,E)}})};return x(t),f.clear(),Ff++,function(){u.forEach(function(y){var j=ti.get(y)-1,S=c.get(y)-1;ti.set(y,j),c.set(y,S),j||(wc.has(y)||y.removeAttribute(i),wc.delete(y)),S||y.removeAttribute(s)}),Ff--,Ff||(ti=new WeakMap,ti=new WeakMap,wc=new WeakMap,jc={})}},nh=function(e,t,s){s===void 0&&(s="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),o=hT(e);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),gT(i,o,s,"aria-hidden")):function(){return null}},hd="Dialog",[db,ub]=Fr(hd),[xT,En]=db(hd),fb=e=>{const{__scopeDialog:t,children:s,open:i,defaultOpen:o,onOpenChange:c,modal:u=!0}=e,f=p.useRef(null),h=p.useRef(null),[g,x]=ss({prop:i,defaultProp:o??!1,onChange:c,caller:hd});return r.jsx(xT,{scope:t,triggerRef:f,contentRef:h,contentId:Sr(),titleId:Sr(),descriptionId:Sr(),open:g,onOpenChange:x,onOpenToggle:p.useCallback(()=>x(y=>!y),[x]),modal:u,children:s})};fb.displayName=hd;var mb="DialogTrigger",hb=p.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,o=En(mb,s),c=ot(t,o.triggerRef);return r.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ih(o.open),...i,ref:c,onClick:Oe(e.onClick,o.onOpenToggle)})});hb.displayName=mb;var sh="DialogPortal",[vT,pb]=db(sh,{forceMount:void 0}),gb=e=>{const{__scopeDialog:t,forceMount:s,children:i,container:o}=e,c=En(sh,t);return r.jsx(vT,{scope:t,forceMount:s,children:p.Children.map(i,u=>r.jsx(Pn,{present:s||c.open,children:r.jsx(Zo,{asChild:!0,container:o,children:u})}))})};gb.displayName=sh;var Dc="DialogOverlay",xb=p.forwardRef((e,t)=>{const s=pb(Dc,e.__scopeDialog),{forceMount:i=s.forceMount,...o}=e,c=En(Dc,e.__scopeDialog);return c.modal?r.jsx(Pn,{present:i||c.open,children:r.jsx(bT,{...o,ref:t})}):null});xb.displayName=Dc;var yT=va("DialogOverlay.RemoveScroll"),bT=p.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,o=En(Dc,s);return r.jsx(md,{as:yT,allowPinchZoom:!0,shards:[o.contentRef],children:r.jsx(Fe.div,{"data-state":ih(o.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),wa="DialogContent",vb=p.forwardRef((e,t)=>{const s=pb(wa,e.__scopeDialog),{forceMount:i=s.forceMount,...o}=e,c=En(wa,e.__scopeDialog);return r.jsx(Pn,{present:i||c.open,children:c.modal?r.jsx(wT,{...o,ref:t}):r.jsx(jT,{...o,ref:t})})});vb.displayName=wa;var wT=p.forwardRef((e,t)=>{const s=En(wa,e.__scopeDialog),i=p.useRef(null),o=ot(t,s.contentRef,i);return p.useEffect(()=>{const c=i.current;if(c)return nh(c)},[]),r.jsx(yb,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(e.onCloseAutoFocus,c=>{c.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:Oe(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&c.preventDefault()}),onFocusOutside:Oe(e.onFocusOutside,c=>c.preventDefault())})}),jT=p.forwardRef((e,t)=>{const s=En(wa,e.__scopeDialog),i=p.useRef(!1),o=p.useRef(!1);return r.jsx(yb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(i.current||s.triggerRef.current?.focus(),c.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;s.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),yb=p.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,...u}=e,f=En(wa,s),h=p.useRef(null),g=ot(t,h);return rh(),r.jsxs(r.Fragment,{children:[r.jsx(ud,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:c,children:r.jsx(ki,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":ih(f.open),...u,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(ST,{titleId:f.titleId}),r.jsx(kT,{contentRef:h,descriptionId:f.descriptionId})]})]})}),ah="DialogTitle",bb=p.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,o=En(ah,s);return r.jsx(Fe.h2,{id:o.titleId,...i,ref:t})});bb.displayName=ah;var wb="DialogDescription",jb=p.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,o=En(wb,s);return r.jsx(Fe.p,{id:o.descriptionId,...i,ref:t})});jb.displayName=wb;var Nb="DialogClose",Sb=p.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,o=En(Nb,s);return r.jsx(Fe.button,{type:"button",...i,ref:t,onClick:Oe(e.onClick,()=>o.onOpenChange(!1))})});Sb.displayName=Nb;function ih(e){return e?"open":"closed"}var Cb="DialogTitleWarning",[NT,kb]=ek(Cb,{contentName:wa,titleName:ah,docsSlug:"dialog"}),ST=({titleId:e})=>{const t=kb(Cb),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},CT="DialogDescriptionWarning",kT=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kb(CT).contentName}}.`;return p.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},oh=fb,Pb=hb,lh=gb,pd=xb,gd=vb,ch=bb,dh=jb,uh=Sb;const qt=oh,PT=Pb,ET=lh,Eb=p.forwardRef(({className:e,...t},s)=>r.jsx(pd,{ref:s,className:ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Eb.displayName=pd.displayName;const Ot=p.forwardRef(({className:e,children:t,...s},i)=>r.jsxs(ET,{children:[r.jsx(Eb,{}),r.jsxs(gd,{ref:i,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,r.jsxs(uh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(h0,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ot.displayName=gd.displayName;const Mt=({className:e,...t})=>r.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Mt.displayName="DialogHeader";const Dt=p.forwardRef(({className:e,...t},s)=>r.jsx(ch,{ref:s,className:ke("text-lg font-semibold leading-none tracking-tight",e),...t}));Dt.displayName=ch.displayName;const _o=p.forwardRef(({className:e,...t},s)=>r.jsx(dh,{ref:s,className:ke("text-sm text-muted-foreground",e),...t}));_o.displayName=dh.displayName;function fh(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var xd="Checkbox",[TT,VM]=Fr(xd),[_T,mh]=TT(xd);function AT(e){const{__scopeCheckbox:t,checked:s,children:i,defaultChecked:o,disabled:c,form:u,name:f,onCheckedChange:h,required:g,value:x="on",internal_do_not_use_render:y}=e,[j,S]=ss({prop:s,defaultProp:o??!1,onChange:h,caller:xd}),[P,w]=p.useState(null),[b,E]=p.useState(null),C=p.useRef(!1),I=P?!!u||!!P.closest("form"):!0,F={checked:j,disabled:c,setChecked:S,control:P,setControl:w,name:f,form:u,value:x,hasConsumerStoppedPropagationRef:C,required:g,defaultChecked:Ls(o)?!1:o,isFormControl:I,bubbleInput:b,setBubbleInput:E};return r.jsx(_T,{scope:t,...F,children:RT(y)?y(F):i})}var Tb="CheckboxTrigger",_b=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...i},o)=>{const{control:c,value:u,disabled:f,checked:h,required:g,setControl:x,setChecked:y,hasConsumerStoppedPropagationRef:j,isFormControl:S,bubbleInput:P}=mh(Tb,e),w=ot(o,x),b=p.useRef(h);return p.useEffect(()=>{const E=c?.form;if(E){const C=()=>y(b.current);return E.addEventListener("reset",C),()=>E.removeEventListener("reset",C)}},[c,y]),r.jsx(Fe.button,{type:"button",role:"checkbox","aria-checked":Ls(h)?"mixed":h,"aria-required":g,"data-state":Mb(h),"data-disabled":f?"":void 0,disabled:f,value:u,...i,ref:w,onKeyDown:Oe(t,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Oe(s,E=>{y(C=>Ls(C)?!0:!C),P&&S&&(j.current=E.isPropagationStopped(),j.current||E.stopPropagation())})})});_b.displayName=Tb;var hh=p.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:i,checked:o,defaultChecked:c,required:u,disabled:f,value:h,onCheckedChange:g,form:x,...y}=e;return r.jsx(AT,{__scopeCheckbox:s,checked:o,defaultChecked:c,disabled:f,required:u,onCheckedChange:g,name:i,form:x,value:h,internal_do_not_use_render:({isFormControl:j})=>r.jsxs(r.Fragment,{children:[r.jsx(_b,{...y,ref:t,__scopeCheckbox:s}),j&&r.jsx(Ob,{__scopeCheckbox:s})]})})});hh.displayName=xd;var Ab="CheckboxIndicator",Rb=p.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:i,...o}=e,c=mh(Ab,s);return r.jsx(Pn,{present:i||Ls(c.checked)||c.checked===!0,children:r.jsx(Fe.span,{"data-state":Mb(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Rb.displayName=Ab;var Ib="CheckboxBubbleInput",Ob=p.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:i,hasConsumerStoppedPropagationRef:o,checked:c,defaultChecked:u,required:f,disabled:h,name:g,value:x,form:y,bubbleInput:j,setBubbleInput:S}=mh(Ib,e),P=ot(s,S),w=fh(c),b=Gm(i);p.useEffect(()=>{const C=j;if(!C)return;const I=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(I,"checked").set,G=!o.current;if(w!==c&&$){const q=new Event("click",{bubbles:G});C.indeterminate=Ls(c),$.call(C,Ls(c)?!1:c),C.dispatchEvent(q)}},[j,w,c,o]);const E=p.useRef(Ls(c)?!1:c);return r.jsx(Fe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??E.current,required:f,disabled:h,name:g,value:x,form:y,...t,tabIndex:-1,ref:P,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ob.displayName=Ib;function RT(e){return typeof e=="function"}function Ls(e){return e==="indeterminate"}function Mb(e){return Ls(e)?"indeterminate":e?"checked":"unchecked"}const Hr=p.forwardRef(({className:e,...t},s)=>r.jsx(hh,{ref:s,className:ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(Rb,{className:ke("flex items-center justify-center text-current"),children:r.jsx(f0,{className:"h-4 w-4"})})}));Hr.displayName=hh.displayName;var IT="Label",Db=p.forwardRef((e,t)=>r.jsx(Fe.label,{...e,ref:t,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Db.displayName=IT;var Fb=Db;const OT=Xo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_e=p.forwardRef(({className:e,...t},s)=>r.jsx(Fb,{ref:s,className:ke(OT(),e),...t}));_e.displayName=Fb.displayName;function Lb(){const e=kr(),{toast:t}=tr(),s=p.useRef(null),i=p.useRef(null);return p.useEffect(()=>{const o=()=>{const f=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,h=new WebSocket(f);s.current=h,h.onopen=()=>{console.log("WebSocket connected")},h.onmessage=g=>{try{const x=JSON.parse(g.data);c(x)}catch(x){console.error("Failed to parse WebSocket message:",x)}},h.onclose=()=>{console.log("WebSocket disconnected"),i.current=setTimeout(o,3e3)},h.onerror=g=>{console.error("WebSocket error:",g)}},c=u=>{switch(u.type){case"BOT_CREATED":case"BOT_UPDATED":case"BOT_DELETED":case"BOT_STATUS_CHANGED":e.invalidateQueries({queryKey:["/api/bot-instances"]}),e.invalidateQueries({queryKey:["/api/dashboard/stats"]});break;case"COMMAND_CREATED":case"COMMAND_UPDATED":case"COMMAND_DELETED":e.invalidateQueries({queryKey:["/api/commands"]});break;case"ACTIVITY_CREATED":e.invalidateQueries({queryKey:["/api/activities"]});break;case"BOT_ERROR":t({title:"Bot Error",description:u.message||"A bot encountered an error",variant:"destructive"});break;case"BOT_CONNECTED":t({title:"Bot Connected",description:`${u.botName} is now online`});break;default:console.log("Unknown WebSocket message type:",u.type)}};return o(),()=>{i.current&&clearTimeout(i.current),s.current&&s.current.close()}},[e,t]),s.current}const Bb=p.createContext(void 0);function MT({children:e}){const[t,s]=p.useState(null),[i,o]=p.useState(null);p.useEffect(()=>{const h=localStorage.getItem("auth_token"),g=localStorage.getItem("user");if(h&&g)try{const x=JSON.parse(g);o(h),s(x)}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("user")}},[]);const f={user:t,token:i,login:(h,g)=>{o(h),s(g),localStorage.setItem("auth_token",h),localStorage.setItem("user",JSON.stringify(g))},logout:()=>{o(null),s(null),localStorage.removeItem("auth_token"),localStorage.removeItem("user")},isAuthenticated:!!i,isAdmin:!!t?.isAdmin};return r.jsx(Bb.Provider,{value:f,children:e})}function el(){const e=p.useContext(Bb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Yt=p.forwardRef(({className:e,type:t,...s},i)=>r.jsx("input",{type:t,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...s}));Yt.displayName="Input";function Mv(e,[t,s]){return Math.min(s,Math.max(t,e))}var DT=p.createContext(void 0);function vd(e){const t=p.useContext(DT);return e||t||"ltr"}var FT=[" ","Enter","ArrowUp","ArrowDown"],LT=[" ","Enter"],ja="Select",[yd,bd,BT]=Mm(ja),[Ai,zM]=Fr(ja,[BT,_i]),wd=_i(),[$T,Ws]=Ai(ja),[VT,zT]=Ai(ja),$b=e=>{const{__scopeSelect:t,children:s,open:i,defaultOpen:o,onOpenChange:c,value:u,defaultValue:f,onValueChange:h,dir:g,name:x,autoComplete:y,disabled:j,required:S,form:P}=e,w=wd(t),[b,E]=p.useState(null),[C,I]=p.useState(null),[F,$]=p.useState(!1),G=vd(g),[q,J]=ss({prop:i,defaultProp:o??!1,onChange:c,caller:ja}),[ve,ge]=ss({prop:u,defaultProp:f,onChange:h,caller:ja}),de=p.useRef(null),X=b?P||!!b.closest("form"):!0,[ae,B]=p.useState(new Set),ne=Array.from(ae).map(z=>z.props.value).join(";");return r.jsx(W0,{...w,children:r.jsxs($T,{required:S,scope:t,trigger:b,onTriggerChange:E,valueNode:C,onValueNodeChange:I,valueNodeHasChildren:F,onValueNodeHasChildrenChange:$,contentId:Sr(),value:ve,onValueChange:ge,open:q,onOpenChange:J,dir:G,triggerPointerDownPosRef:de,disabled:j,children:[r.jsx(yd.Provider,{scope:t,children:r.jsx(VT,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(z=>{B(T=>new Set(T).add(z))},[]),onNativeOptionRemove:p.useCallback(z=>{B(T=>{const M=new Set(T);return M.delete(z),M})},[]),children:s})}),X?r.jsxs(dw,{"aria-hidden":!0,required:S,tabIndex:-1,name:x,autoComplete:y,value:ve,onChange:z=>ge(z.target.value),disabled:j,form:P,children:[ve===void 0?r.jsx("option",{value:""}):null,Array.from(ae)]},ne):null]})})};$b.displayName=ja;var Vb="SelectTrigger",zb=p.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:i=!1,...o}=e,c=wd(s),u=Ws(Vb,s),f=u.disabled||i,h=ot(t,u.onTriggerChange),g=bd(s),x=p.useRef("touch"),[y,j,S]=fw(w=>{const b=g().filter(I=>!I.disabled),E=b.find(I=>I.value===u.value),C=mw(b,w,E);C!==void 0&&u.onValueChange(C.value)}),P=w=>{f||(u.onOpenChange(!0),S()),w&&(u.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return r.jsx(ld,{asChild:!0,...c,children:r.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":uw(u.value)?"":void 0,...o,ref:h,onClick:Oe(o.onClick,w=>{w.currentTarget.focus(),x.current!=="mouse"&&P(w)}),onPointerDown:Oe(o.onPointerDown,w=>{x.current=w.pointerType;const b=w.target;b.hasPointerCapture(w.pointerId)&&b.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(P(w),w.preventDefault())}),onKeyDown:Oe(o.onKeyDown,w=>{const b=y.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&j(w.key),!(b&&w.key===" ")&&FT.includes(w.key)&&(P(),w.preventDefault())})})})});zb.displayName=Vb;var Ub="SelectValue",qb=p.forwardRef((e,t)=>{const{__scopeSelect:s,className:i,style:o,children:c,placeholder:u="",...f}=e,h=Ws(Ub,s),{onValueNodeHasChildrenChange:g}=h,x=c!==void 0,y=ot(t,h.onValueNodeChange);return ur(()=>{g(x)},[g,x]),r.jsx(Fe.span,{...f,ref:y,style:{pointerEvents:"none"},children:uw(h.value)?r.jsx(r.Fragment,{children:u}):c})});qb.displayName=Ub;var UT="SelectIcon",Kb=p.forwardRef((e,t)=>{const{__scopeSelect:s,children:i,...o}=e;return r.jsx(Fe.span,{"aria-hidden":!0,...o,ref:t,children:i||""})});Kb.displayName=UT;var qT="SelectPortal",Wb=e=>r.jsx(Zo,{asChild:!0,...e});Wb.displayName=qT;var Na="SelectContent",Qb=p.forwardRef((e,t)=>{const s=Ws(Na,e.__scopeSelect),[i,o]=p.useState();if(ur(()=>{o(new DocumentFragment)},[]),!s.open){const c=i;return c?Ci.createPortal(r.jsx(Hb,{scope:e.__scopeSelect,children:r.jsx(yd.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),c):null}return r.jsx(Gb,{...e,ref:t})});Qb.displayName=Na;var vn=10,[Hb,Qs]=Ai(Na),KT="SelectContentImpl",WT=va("SelectContent.RemoveScroll"),Gb=p.forwardRef((e,t)=>{const{__scopeSelect:s,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:u,side:f,sideOffset:h,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:j,collisionPadding:S,sticky:P,hideWhenDetached:w,avoidCollisions:b,...E}=e,C=Ws(Na,s),[I,F]=p.useState(null),[$,G]=p.useState(null),q=ot(t,re=>F(re)),[J,ve]=p.useState(null),[ge,de]=p.useState(null),X=bd(s),[ae,B]=p.useState(!1),ne=p.useRef(!1);p.useEffect(()=>{if(I)return nh(I)},[I]),rh();const z=p.useCallback(re=>{const[Ne,...Ae]=X().map(ft=>ft.ref.current),[ze]=Ae.slice(-1),dt=document.activeElement;for(const ft of re)if(ft===dt||(ft?.scrollIntoView({block:"nearest"}),ft===Ne&&$&&($.scrollTop=0),ft===ze&&$&&($.scrollTop=$.scrollHeight),ft?.focus(),document.activeElement!==dt))return},[X,$]),T=p.useCallback(()=>z([J,I]),[z,J,I]);p.useEffect(()=>{ae&&T()},[ae,T]);const{onOpenChange:M,triggerPointerDownPosRef:Y}=C;p.useEffect(()=>{if(I){let re={x:0,y:0};const Ne=ze=>{re={x:Math.abs(Math.round(ze.pageX)-(Y.current?.x??0)),y:Math.abs(Math.round(ze.pageY)-(Y.current?.y??0))}},Ae=ze=>{re.x<=10&&re.y<=10?ze.preventDefault():I.contains(ze.target)||M(!1),document.removeEventListener("pointermove",Ne),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[I,M,Y]),p.useEffect(()=>{const re=()=>M(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[M]);const[se,A]=fw(re=>{const Ne=X().filter(dt=>!dt.disabled),Ae=Ne.find(dt=>dt.ref.current===document.activeElement),ze=mw(Ne,re,Ae);ze&&setTimeout(()=>ze.ref.current.focus())}),k=p.useCallback((re,Ne,Ae)=>{const ze=!ne.current&&!Ae;(C.value!==void 0&&C.value===Ne||ze)&&(ve(re),ze&&(ne.current=!0))},[C.value]),V=p.useCallback(()=>I?.focus(),[I]),ee=p.useCallback((re,Ne,Ae)=>{const ze=!ne.current&&!Ae;(C.value!==void 0&&C.value===Ne||ze)&&de(re)},[C.value]),te=i==="popper"?um:Zb,he=te===um?{side:f,sideOffset:h,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:j,collisionPadding:S,sticky:P,hideWhenDetached:w,avoidCollisions:b}:{};return r.jsx(Hb,{scope:s,content:I,viewport:$,onViewportChange:G,itemRefCallback:k,selectedItem:J,onItemLeave:V,itemTextRefCallback:ee,focusSelectedItem:T,selectedItemText:ge,position:i,isPositioned:ae,searchRef:se,children:r.jsx(md,{as:WT,allowPinchZoom:!0,children:r.jsx(ud,{asChild:!0,trapped:C.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Oe(o,re=>{C.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:r.jsx(ki,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:r.jsx(te,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:re=>re.preventDefault(),...E,...he,onPlaced:()=>B(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Oe(E.onKeyDown,re=>{const Ne=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Ne&&re.key.length===1&&A(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let ze=X().filter(dt=>!dt.disabled).map(dt=>dt.ref.current);if(["ArrowUp","End"].includes(re.key)&&(ze=ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const dt=re.target,ft=ze.indexOf(dt);ze=ze.slice(ft+1)}setTimeout(()=>z(ze)),re.preventDefault()}})})})})})})});Gb.displayName=KT;var QT="SelectItemAlignedPosition",Zb=p.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:i,...o}=e,c=Ws(Na,s),u=Qs(Na,s),[f,h]=p.useState(null),[g,x]=p.useState(null),y=ot(t,q=>x(q)),j=bd(s),S=p.useRef(!1),P=p.useRef(!0),{viewport:w,selectedItem:b,selectedItemText:E,focusSelectedItem:C}=u,I=p.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&g&&w&&b&&E){const q=c.trigger.getBoundingClientRect(),J=g.getBoundingClientRect(),ve=c.valueNode.getBoundingClientRect(),ge=E.getBoundingClientRect();if(c.dir!=="rtl"){const dt=ge.left-J.left,ft=ve.left-dt,Wt=q.left-ft,Xe=q.width+Wt,Br=Math.max(Xe,J.width),Xr=window.innerWidth-vn,dn=Mv(ft,[vn,Math.max(vn,Xr-Br)]);f.style.minWidth=Xe+"px",f.style.left=dn+"px"}else{const dt=J.right-ge.right,ft=window.innerWidth-ve.right-dt,Wt=window.innerWidth-q.right-ft,Xe=q.width+Wt,Br=Math.max(Xe,J.width),Xr=window.innerWidth-vn,dn=Mv(ft,[vn,Math.max(vn,Xr-Br)]);f.style.minWidth=Xe+"px",f.style.right=dn+"px"}const de=j(),X=window.innerHeight-vn*2,ae=w.scrollHeight,B=window.getComputedStyle(g),ne=parseInt(B.borderTopWidth,10),z=parseInt(B.paddingTop,10),T=parseInt(B.borderBottomWidth,10),M=parseInt(B.paddingBottom,10),Y=ne+z+ae+M+T,se=Math.min(b.offsetHeight*5,Y),A=window.getComputedStyle(w),k=parseInt(A.paddingTop,10),V=parseInt(A.paddingBottom,10),ee=q.top+q.height/2-vn,te=X-ee,he=b.offsetHeight/2,re=b.offsetTop+he,Ne=ne+z+re,Ae=Y-Ne;if(Ne<=ee){const dt=de.length>0&&b===de[de.length-1].ref.current;f.style.bottom="0px";const ft=g.clientHeight-w.offsetTop-w.offsetHeight,Wt=Math.max(te,he+(dt?V:0)+ft+T),Xe=Ne+Wt;f.style.height=Xe+"px"}else{const dt=de.length>0&&b===de[0].ref.current;f.style.top="0px";const Wt=Math.max(ee,ne+w.offsetTop+(dt?k:0)+he)+Ae;f.style.height=Wt+"px",w.scrollTop=Ne-ee+w.offsetTop}f.style.margin=`${vn}px 0`,f.style.minHeight=se+"px",f.style.maxHeight=X+"px",i?.(),requestAnimationFrame(()=>S.current=!0)}},[j,c.trigger,c.valueNode,f,g,w,b,E,c.dir,i]);ur(()=>I(),[I]);const[F,$]=p.useState();ur(()=>{g&&$(window.getComputedStyle(g).zIndex)},[g]);const G=p.useCallback(q=>{q&&P.current===!0&&(I(),C?.(),P.current=!1)},[I,C]);return r.jsx(GT,{scope:s,contentWrapper:f,shouldExpandOnScrollRef:S,onScrollButtonChange:G,children:r.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:r.jsx(Fe.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Zb.displayName=QT;var HT="SelectPopperPosition",um=p.forwardRef((e,t)=>{const{__scopeSelect:s,align:i="start",collisionPadding:o=vn,...c}=e,u=wd(s);return r.jsx(Xm,{...u,...c,ref:t,align:i,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});um.displayName=HT;var[GT,ph]=Ai(Na,{}),fm="SelectViewport",Yb=p.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:i,...o}=e,c=Qs(fm,s),u=ph(fm,s),f=ot(t,c.onViewportChange),h=p.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),r.jsx(yd.Slot,{scope:s,children:r.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Oe(o.onScroll,g=>{const x=g.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:j}=u;if(j?.current&&y){const S=Math.abs(h.current-x.scrollTop);if(S>0){const P=window.innerHeight-vn*2,w=parseFloat(y.style.minHeight),b=parseFloat(y.style.height),E=Math.max(w,b);if(E<P){const C=E+S,I=Math.min(P,C),F=C-I;y.style.height=I+"px",y.style.bottom==="0px"&&(x.scrollTop=F>0?F:0,y.style.justifyContent="flex-end")}}}h.current=x.scrollTop})})})]})});Yb.displayName=fm;var Xb="SelectGroup",[ZT,YT]=Ai(Xb),XT=p.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,o=Sr();return r.jsx(ZT,{scope:s,id:o,children:r.jsx(Fe.div,{role:"group","aria-labelledby":o,...i,ref:t})})});XT.displayName=Xb;var Jb="SelectLabel",ew=p.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,o=YT(Jb,s);return r.jsx(Fe.div,{id:o.id,...i,ref:t})});ew.displayName=Jb;var Fc="SelectItem",[JT,tw]=Ai(Fc),rw=p.forwardRef((e,t)=>{const{__scopeSelect:s,value:i,disabled:o=!1,textValue:c,...u}=e,f=Ws(Fc,s),h=Qs(Fc,s),g=f.value===i,[x,y]=p.useState(c??""),[j,S]=p.useState(!1),P=ot(t,C=>h.itemRefCallback?.(C,i,o)),w=Sr(),b=p.useRef("touch"),E=()=>{o||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(JT,{scope:s,value:i,disabled:o,textId:w,isSelected:g,onItemTextChange:p.useCallback(C=>{y(I=>I||(C?.textContent??"").trim())},[]),children:r.jsx(yd.ItemSlot,{scope:s,value:i,disabled:o,textValue:x,children:r.jsx(Fe.div,{role:"option","aria-labelledby":w,"data-highlighted":j?"":void 0,"aria-selected":g&&j,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:P,onFocus:Oe(u.onFocus,()=>S(!0)),onBlur:Oe(u.onBlur,()=>S(!1)),onClick:Oe(u.onClick,()=>{b.current!=="mouse"&&E()}),onPointerUp:Oe(u.onPointerUp,()=>{b.current==="mouse"&&E()}),onPointerDown:Oe(u.onPointerDown,C=>{b.current=C.pointerType}),onPointerMove:Oe(u.onPointerMove,C=>{b.current=C.pointerType,o?h.onItemLeave?.():b.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Oe(u.onPointerLeave,C=>{C.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Oe(u.onKeyDown,C=>{h.searchRef?.current!==""&&C.key===" "||(LT.includes(C.key)&&E(),C.key===" "&&C.preventDefault())})})})})});rw.displayName=Fc;var jo="SelectItemText",nw=p.forwardRef((e,t)=>{const{__scopeSelect:s,className:i,style:o,...c}=e,u=Ws(jo,s),f=Qs(jo,s),h=tw(jo,s),g=zT(jo,s),[x,y]=p.useState(null),j=ot(t,E=>y(E),h.onItemTextChange,E=>f.itemTextRefCallback?.(E,h.value,h.disabled)),S=x?.textContent,P=p.useMemo(()=>r.jsx("option",{value:h.value,disabled:h.disabled,children:S},h.value),[h.disabled,h.value,S]),{onNativeOptionAdd:w,onNativeOptionRemove:b}=g;return ur(()=>(w(P),()=>b(P)),[w,b,P]),r.jsxs(r.Fragment,{children:[r.jsx(Fe.span,{id:h.textId,...c,ref:j}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Ci.createPortal(c.children,u.valueNode):null]})});nw.displayName=jo;var sw="SelectItemIndicator",aw=p.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e;return tw(sw,s).isSelected?r.jsx(Fe.span,{"aria-hidden":!0,...i,ref:t}):null});aw.displayName=sw;var mm="SelectScrollUpButton",iw=p.forwardRef((e,t)=>{const s=Qs(mm,e.__scopeSelect),i=ph(mm,e.__scopeSelect),[o,c]=p.useState(!1),u=ot(t,i.onScrollButtonChange);return ur(()=>{if(s.viewport&&s.isPositioned){let f=function(){const g=h.scrollTop>0;c(g)};const h=s.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),o?r.jsx(lw,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=s;f&&h&&(f.scrollTop=f.scrollTop-h.offsetHeight)}}):null});iw.displayName=mm;var hm="SelectScrollDownButton",ow=p.forwardRef((e,t)=>{const s=Qs(hm,e.__scopeSelect),i=ph(hm,e.__scopeSelect),[o,c]=p.useState(!1),u=ot(t,i.onScrollButtonChange);return ur(()=>{if(s.viewport&&s.isPositioned){let f=function(){const g=h.scrollHeight-h.clientHeight,x=Math.ceil(h.scrollTop)<g;c(x)};const h=s.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),o?r.jsx(lw,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=s;f&&h&&(f.scrollTop=f.scrollTop+h.offsetHeight)}}):null});ow.displayName=hm;var lw=p.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:i,...o}=e,c=Qs("SelectScrollButton",s),u=p.useRef(null),f=bd(s),h=p.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return p.useEffect(()=>()=>h(),[h]),ur(()=>{f().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),r.jsx(Fe.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Oe(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:Oe(o.onPointerMove,()=>{c.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:Oe(o.onPointerLeave,()=>{h()})})}),e_="SelectSeparator",cw=p.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e;return r.jsx(Fe.div,{"aria-hidden":!0,...i,ref:t})});cw.displayName=e_;var pm="SelectArrow",t_=p.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,o=wd(s),c=Ws(pm,s),u=Qs(pm,s);return c.open&&u.position==="popper"?r.jsx(Jm,{...o,...i,ref:t}):null});t_.displayName=pm;var r_="SelectBubbleInput",dw=p.forwardRef(({__scopeSelect:e,value:t,...s},i)=>{const o=p.useRef(null),c=ot(i,o),u=fh(t);return p.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==t&&x){const y=new Event("change",{bubbles:!0});x.call(f,t),f.dispatchEvent(y)}},[u,t]),r.jsx(Fe.select,{...s,style:{...Uy,...s.style},ref:c,defaultValue:t})});dw.displayName=r_;function uw(e){return e===""||e===void 0}function fw(e){const t=cn(e),s=p.useRef(""),i=p.useRef(0),o=p.useCallback(u=>{const f=s.current+u;t(f),(function h(g){s.current=g,window.clearTimeout(i.current),g!==""&&(i.current=window.setTimeout(()=>h(""),1e3))})(f)},[t]),c=p.useCallback(()=>{s.current="",window.clearTimeout(i.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(i.current),[]),[s,o,c]}function mw(e,t,s){const o=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,c=s?e.indexOf(s):-1;let u=n_(e,Math.max(c,0));o.length===1&&(u=u.filter(g=>g!==s));const h=u.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==s?h:void 0}function n_(e,t){return e.map((s,i)=>e[(t+i)%e.length])}var s_=$b,hw=zb,a_=qb,i_=Kb,o_=Wb,pw=Qb,l_=Yb,gw=ew,xw=rw,c_=nw,d_=aw,vw=iw,yw=ow,bw=cw;const Or=s_,Mr=a_,wr=p.forwardRef(({className:e,children:t,...s},i)=>r.jsxs(hw,{ref:i,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,r.jsx(i_,{asChild:!0,children:r.jsx($m,{className:"h-4 w-4 opacity-50"})})]}));wr.displayName=hw.displayName;const ww=p.forwardRef(({className:e,...t},s)=>r.jsx(vw,{ref:s,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Hk,{className:"h-4 w-4"})}));ww.displayName=vw.displayName;const jw=p.forwardRef(({className:e,...t},s)=>r.jsx(yw,{ref:s,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx($m,{className:"h-4 w-4"})}));jw.displayName=yw.displayName;const jr=p.forwardRef(({className:e,children:t,position:s="popper",...i},o)=>r.jsx(o_,{children:r.jsxs(pw,{ref:o,className:ke("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...i,children:[r.jsx(ww,{}),r.jsx(l_,{className:ke("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(jw,{})]})}));jr.displayName=pw.displayName;const u_=p.forwardRef(({className:e,...t},s)=>r.jsx(gw,{ref:s,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));u_.displayName=gw.displayName;const Ue=p.forwardRef(({className:e,children:t,...s},i)=>r.jsxs(xw,{ref:i,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(d_,{children:r.jsx(f0,{className:"h-4 w-4"})})}),r.jsx(c_,{children:t})]}));Ue.displayName=xw.displayName;const f_=p.forwardRef(({className:e,...t},s)=>r.jsx(bw,{ref:s,className:ke("-mx-1 my-1 h-px bg-muted",e),...t}));f_.displayName=bw.displayName;var tl=e=>e.type==="checkbox",fa=e=>e instanceof Date,Nr=e=>e==null;const Nw=e=>typeof e=="object";var Kt=e=>!Nr(e)&&!Array.isArray(e)&&Nw(e)&&!fa(e),m_=e=>Kt(e)&&e.target?tl(e.target)?e.target.checked:e.target.value:e,h_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,p_=(e,t)=>e.has(h_(t)),g_=e=>{const t=e.constructor&&e.constructor.prototype;return Kt(t)&&t.hasOwnProperty("isPrototypeOf")},gh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ar(e){let t;const s=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(gh&&(e instanceof Blob||i))&&(s||Kt(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!g_(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=ar(e[o]));else return e;return t}var jd=e=>/^\w*$/.test(e),Zt=e=>e===void 0,xh=e=>Array.isArray(e)?e.filter(Boolean):[],vh=e=>xh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(e,t,s)=>{if(!t||!Kt(e))return s;const i=(jd(t)?[t]:vh(t)).reduce((o,c)=>Nr(o)?o:o[c],e);return Zt(i)||i===e?Zt(e[t])?s:e[t]:i},Mn=e=>typeof e=="boolean",vt=(e,t,s)=>{let i=-1;const o=jd(t)?[t]:vh(t),c=o.length,u=c-1;for(;++i<c;){const f=o[i];let h=s;if(i!==u){const g=e[f];h=Kt(g)||Array.isArray(g)?g:isNaN(+o[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=h,e=e[f]}};const Dv={BLUR:"blur",FOCUS_OUT:"focusout"},bn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},es={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},x_=zt.createContext(null);x_.displayName="HookFormContext";var v_=(e,t,s,i=!0)=>{const o={defaultValues:t._defaultValues};for(const c in e)Object.defineProperty(o,c,{get:()=>{const u=c;return t._proxyFormState[u]!==bn.all&&(t._proxyFormState[u]=!i||bn.all),e[u]}});return o};const y_=typeof window<"u"?zt.useLayoutEffect:zt.useEffect;var Ln=e=>typeof e=="string",b_=(e,t,s,i,o)=>Ln(e)?(i&&t.watch.add(e),Te(s,e,o)):Array.isArray(e)?e.map(c=>(i&&t.watch.add(c),Te(s,c))):(i&&(t.watchAll=!0),s),gm=e=>Nr(e)||!Nw(e);function Ms(e,t,s=new WeakSet){if(gm(e)||gm(t))return e===t;if(fa(e)&&fa(t))return e.getTime()===t.getTime();const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const c of i){const u=e[c];if(!o.includes(c))return!1;if(c!=="ref"){const f=t[c];if(fa(u)&&fa(f)||Kt(u)&&Kt(f)||Array.isArray(u)&&Array.isArray(f)?!Ms(u,f,s):u!==f)return!1}}return!0}var Sw=(e,t,s,i,o)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[i]:o||!0}}:{},Co=e=>Array.isArray(e)?e:[e],Fv=()=>{let e=[];return{get observers(){return e},next:o=>{for(const c of e)c.next&&c.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(c=>c!==o)}}),unsubscribe:()=>{e=[]}}},Ir=e=>Kt(e)&&!Object.keys(e).length,yh=e=>e.type==="file",wn=e=>typeof e=="function",Lc=e=>{if(!gh)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Cw=e=>e.type==="select-multiple",bh=e=>e.type==="radio",w_=e=>bh(e)||tl(e),Lf=e=>Lc(e)&&e.isConnected;function j_(e,t){const s=t.slice(0,-1).length;let i=0;for(;i<s;)e=Zt(e)?i++:e[t[i++]];return e}function N_(e){for(const t in e)if(e.hasOwnProperty(t)&&!Zt(e[t]))return!1;return!0}function Gt(e,t){const s=Array.isArray(t)?t:jd(t)?[t]:vh(t),i=s.length===1?e:j_(e,s),o=s.length-1,c=s[o];return i&&delete i[c],o!==0&&(Kt(i)&&Ir(i)||Array.isArray(i)&&N_(i))&&Gt(e,s.slice(0,-1)),e}var kw=e=>{for(const t in e)if(wn(e[t]))return!0;return!1};function Bc(e,t={}){const s=Array.isArray(e);if(Kt(e)||s)for(const i in e)Array.isArray(e[i])||Kt(e[i])&&!kw(e[i])?(t[i]=Array.isArray(e[i])?[]:{},Bc(e[i],t[i])):Nr(e[i])||(t[i]=!0);return t}function Pw(e,t,s){const i=Array.isArray(e);if(Kt(e)||i)for(const o in e)Array.isArray(e[o])||Kt(e[o])&&!kw(e[o])?Zt(t)||gm(s[o])?s[o]=Array.isArray(e[o])?Bc(e[o],[]):{...Bc(e[o])}:Pw(e[o],Nr(t)?{}:t[o],s[o]):s[o]=!Ms(e[o],t[o]);return s}var yo=(e,t)=>Pw(e,t,Bc(t));const Lv={value:!1,isValid:!1},Bv={value:!0,isValid:!0};var Ew=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Zt(e[0].attributes.value)?Zt(e[0].value)||e[0].value===""?Bv:{value:e[0].value,isValid:!0}:Bv:Lv}return Lv},Tw=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:i})=>Zt(e)?e:t?e===""?NaN:e&&+e:s&&Ln(e)?new Date(e):i?i(e):e;const $v={isValid:!1,value:null};var _w=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,$v):$v;function Vv(e){const t=e.ref;return yh(t)?t.files:bh(t)?_w(e.refs).value:Cw(t)?[...t.selectedOptions].map(({value:s})=>s):tl(t)?Ew(e.refs).value:Tw(Zt(t.value)?e.ref.value:t.value,e)}var S_=(e,t,s,i)=>{const o={};for(const c of e){const u=Te(t,c);u&&vt(o,c,u._f)}return{criteriaMode:s,names:[...e],fields:o,shouldUseNativeValidation:i}},$c=e=>e instanceof RegExp,bo=e=>Zt(e)?e:$c(e)?e.source:Kt(e)?$c(e.value)?e.value.source:e.value:e,zv=e=>({isOnSubmit:!e||e===bn.onSubmit,isOnBlur:e===bn.onBlur,isOnChange:e===bn.onChange,isOnAll:e===bn.all,isOnTouch:e===bn.onTouched});const Uv="AsyncFunction";var C_=e=>!!e&&!!e.validate&&!!(wn(e.validate)&&e.validate.constructor.name===Uv||Kt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Uv)),k_=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),qv=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ko=(e,t,s,i)=>{for(const o of s||Object.keys(e)){const c=Te(e,o);if(c){const{_f:u,...f}=c;if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],o)&&!i)return!0;if(u.ref&&t(u.ref,u.name)&&!i)return!0;if(ko(f,t))break}else if(Kt(f)&&ko(f,t))break}}};function Kv(e,t,s){const i=Te(e,s);if(i||jd(s))return{error:i,name:s};const o=s.split(".");for(;o.length;){const c=o.join("."),u=Te(t,c),f=Te(e,c);if(u&&!Array.isArray(u)&&s!==c)return{name:s};if(f&&f.type)return{name:c,error:f};if(f&&f.root&&f.root.type)return{name:`${c}.root`,error:f.root};o.pop()}return{name:s}}var P_=(e,t,s,i)=>{s(e);const{name:o,...c}=e;return Ir(c)||Object.keys(c).length>=Object.keys(t).length||Object.keys(c).find(u=>t[u]===(!i||bn.all))},E_=(e,t,s)=>!e||!t||e===t||Co(e).some(i=>i&&(s?i===t:i.startsWith(t)||t.startsWith(i))),T_=(e,t,s,i,o)=>o.isOnAll?!1:!s&&o.isOnTouch?!(t||e):(s?i.isOnBlur:o.isOnBlur)?!e:(s?i.isOnChange:o.isOnChange)?e:!0,__=(e,t)=>!xh(Te(e,t)).length&&Gt(e,t),A_=(e,t,s)=>{const i=Co(Te(e,s));return vt(i,"root",t[s]),vt(e,s,i),e},Ec=e=>Ln(e);function Wv(e,t,s="validate"){if(Ec(e)||Array.isArray(e)&&e.every(Ec)||Mn(e)&&!e)return{type:s,message:Ec(e)?e:"",ref:t}}var ri=e=>Kt(e)&&!$c(e)?e:{value:e,message:""},Qv=async(e,t,s,i,o,c)=>{const{ref:u,refs:f,required:h,maxLength:g,minLength:x,min:y,max:j,pattern:S,validate:P,name:w,valueAsNumber:b,mount:E}=e._f,C=Te(s,w);if(!E||t.has(w))return{};const I=f?f[0]:u,F=X=>{o&&I.reportValidity&&(I.setCustomValidity(Mn(X)?"":X||""),I.reportValidity())},$={},G=bh(u),q=tl(u),J=G||q,ve=(b||yh(u))&&Zt(u.value)&&Zt(C)||Lc(u)&&u.value===""||C===""||Array.isArray(C)&&!C.length,ge=Sw.bind(null,w,i,$),de=(X,ae,B,ne=es.maxLength,z=es.minLength)=>{const T=X?ae:B;$[w]={type:X?ne:z,message:T,ref:u,...ge(X?ne:z,T)}};if(c?!Array.isArray(C)||!C.length:h&&(!J&&(ve||Nr(C))||Mn(C)&&!C||q&&!Ew(f).isValid||G&&!_w(f).isValid)){const{value:X,message:ae}=Ec(h)?{value:!!h,message:h}:ri(h);if(X&&($[w]={type:es.required,message:ae,ref:I,...ge(es.required,ae)},!i))return F(ae),$}if(!ve&&(!Nr(y)||!Nr(j))){let X,ae;const B=ri(j),ne=ri(y);if(!Nr(C)&&!isNaN(C)){const z=u.valueAsNumber||C&&+C;Nr(B.value)||(X=z>B.value),Nr(ne.value)||(ae=z<ne.value)}else{const z=u.valueAsDate||new Date(C),T=se=>new Date(new Date().toDateString()+" "+se),M=u.type=="time",Y=u.type=="week";Ln(B.value)&&C&&(X=M?T(C)>T(B.value):Y?C>B.value:z>new Date(B.value)),Ln(ne.value)&&C&&(ae=M?T(C)<T(ne.value):Y?C<ne.value:z<new Date(ne.value))}if((X||ae)&&(de(!!X,B.message,ne.message,es.max,es.min),!i))return F($[w].message),$}if((g||x)&&!ve&&(Ln(C)||c&&Array.isArray(C))){const X=ri(g),ae=ri(x),B=!Nr(X.value)&&C.length>+X.value,ne=!Nr(ae.value)&&C.length<+ae.value;if((B||ne)&&(de(B,X.message,ae.message),!i))return F($[w].message),$}if(S&&!ve&&Ln(C)){const{value:X,message:ae}=ri(S);if($c(X)&&!C.match(X)&&($[w]={type:es.pattern,message:ae,ref:u,...ge(es.pattern,ae)},!i))return F(ae),$}if(P){if(wn(P)){const X=await P(C,s),ae=Wv(X,I);if(ae&&($[w]={...ae,...ge(es.validate,ae.message)},!i))return F(ae.message),$}else if(Kt(P)){let X={};for(const ae in P){if(!Ir(X)&&!i)break;const B=Wv(await P[ae](C,s),I,ae);B&&(X={...B,...ge(ae,B.message)},F(B.message),i&&($[w]=X))}if(!Ir(X)&&($[w]={ref:I,...X},!i))return $}}return F(!0),$};const R_={mode:bn.onSubmit,reValidateMode:bn.onChange,shouldFocusError:!0};function I_(e={}){let t={...R_,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:wn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},o=Kt(t.defaultValues)||Kt(t.values)?ar(t.defaultValues||t.values)||{}:{},c=t.shouldUnregister?{}:ar(o),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,g=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...x};const j={array:Fv(),state:Fv()},S=t.criteriaMode===bn.all,P=O=>U=>{clearTimeout(g),g=setTimeout(O,U)},w=async O=>{if(!t.disabled&&(x.isValid||y.isValid||O)){const U=t.resolver?Ir((await q()).errors):await ve(i,!0);U!==s.isValid&&j.state.next({isValid:U})}},b=(O,U)=>{!t.disabled&&(x.isValidating||x.validatingFields||y.isValidating||y.validatingFields)&&((O||Array.from(f.mount)).forEach(Z=>{Z&&(U?vt(s.validatingFields,Z,U):Gt(s.validatingFields,Z))}),j.state.next({validatingFields:s.validatingFields,isValidating:!Ir(s.validatingFields)}))},E=(O,U=[],Z,we,be=!0,le=!0)=>{if(we&&Z&&!t.disabled){if(u.action=!0,le&&Array.isArray(Te(i,O))){const Re=Z(Te(i,O),we.argA,we.argB);be&&vt(i,O,Re)}if(le&&Array.isArray(Te(s.errors,O))){const Re=Z(Te(s.errors,O),we.argA,we.argB);be&&vt(s.errors,O,Re),__(s.errors,O)}if((x.touchedFields||y.touchedFields)&&le&&Array.isArray(Te(s.touchedFields,O))){const Re=Z(Te(s.touchedFields,O),we.argA,we.argB);be&&vt(s.touchedFields,O,Re)}(x.dirtyFields||y.dirtyFields)&&(s.dirtyFields=yo(o,c)),j.state.next({name:O,isDirty:de(O,U),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else vt(c,O,U)},C=(O,U)=>{vt(s.errors,O,U),j.state.next({errors:s.errors})},I=O=>{s.errors=O,j.state.next({errors:s.errors,isValid:!1})},F=(O,U,Z,we)=>{const be=Te(i,O);if(be){const le=Te(c,O,Zt(Z)?Te(o,O):Z);Zt(le)||we&&we.defaultChecked||U?vt(c,O,U?le:Vv(be._f)):B(O,le),u.mount&&w()}},$=(O,U,Z,we,be)=>{let le=!1,Re=!1;const it={name:O};if(!t.disabled){if(!Z||we){(x.isDirty||y.isDirty)&&(Re=s.isDirty,s.isDirty=it.isDirty=de(),le=Re!==it.isDirty);const Ge=Ms(Te(o,O),U);Re=!!Te(s.dirtyFields,O),Ge?Gt(s.dirtyFields,O):vt(s.dirtyFields,O,!0),it.dirtyFields=s.dirtyFields,le=le||(x.dirtyFields||y.dirtyFields)&&Re!==!Ge}if(Z){const Ge=Te(s.touchedFields,O);Ge||(vt(s.touchedFields,O,Z),it.touchedFields=s.touchedFields,le=le||(x.touchedFields||y.touchedFields)&&Ge!==Z)}le&&be&&j.state.next(it)}return le?it:{}},G=(O,U,Z,we)=>{const be=Te(s.errors,O),le=(x.isValid||y.isValid)&&Mn(U)&&s.isValid!==U;if(t.delayError&&Z?(h=P(()=>C(O,Z)),h(t.delayError)):(clearTimeout(g),h=null,Z?vt(s.errors,O,Z):Gt(s.errors,O)),(Z?!Ms(be,Z):be)||!Ir(we)||le){const Re={...we,...le&&Mn(U)?{isValid:U}:{},errors:s.errors,name:O};s={...s,...Re},j.state.next(Re)}},q=async O=>{b(O,!0);const U=await t.resolver(c,t.context,S_(O||f.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return b(O),U},J=async O=>{const{errors:U}=await q(O);if(O)for(const Z of O){const we=Te(U,Z);we?vt(s.errors,Z,we):Gt(s.errors,Z)}else s.errors=U;return U},ve=async(O,U,Z={valid:!0})=>{for(const we in O){const be=O[we];if(be){const{_f:le,...Re}=be;if(le){const it=f.array.has(le.name),Ge=be._f&&C_(be._f);Ge&&x.validatingFields&&b([we],!0);const Qt=await Qv(be,f.disabled,c,S,t.shouldUseNativeValidation&&!U,it);if(Ge&&x.validatingFields&&b([we]),Qt[le.name]&&(Z.valid=!1,U))break;!U&&(Te(Qt,le.name)?it?A_(s.errors,Qt,le.name):vt(s.errors,le.name,Qt[le.name]):Gt(s.errors,le.name))}!Ir(Re)&&await ve(Re,U,Z)}}return Z.valid},ge=()=>{for(const O of f.unMount){const U=Te(i,O);U&&(U._f.refs?U._f.refs.every(Z=>!Lf(Z)):!Lf(U._f.ref))&&re(O)}f.unMount=new Set},de=(O,U)=>!t.disabled&&(O&&U&&vt(c,O,U),!Ms(se(),o)),X=(O,U,Z)=>b_(O,f,{...u.mount?c:Zt(U)?o:Ln(O)?{[O]:U}:U},Z,U),ae=O=>xh(Te(u.mount?c:o,O,t.shouldUnregister?Te(o,O,[]):[])),B=(O,U,Z={})=>{const we=Te(i,O);let be=U;if(we){const le=we._f;le&&(!le.disabled&&vt(c,O,Tw(U,le)),be=Lc(le.ref)&&Nr(U)?"":U,Cw(le.ref)?[...le.ref.options].forEach(Re=>Re.selected=be.includes(Re.value)):le.refs?tl(le.ref)?le.refs.forEach(Re=>{(!Re.defaultChecked||!Re.disabled)&&(Array.isArray(be)?Re.checked=!!be.find(it=>it===Re.value):Re.checked=be===Re.value||!!be)}):le.refs.forEach(Re=>Re.checked=Re.value===be):yh(le.ref)?le.ref.value="":(le.ref.value=be,le.ref.type||j.state.next({name:O,values:ar(c)})))}(Z.shouldDirty||Z.shouldTouch)&&$(O,be,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&Y(O)},ne=(O,U,Z)=>{for(const we in U){if(!U.hasOwnProperty(we))return;const be=U[we],le=O+"."+we,Re=Te(i,le);(f.array.has(O)||Kt(be)||Re&&!Re._f)&&!fa(be)?ne(le,be,Z):B(le,be,Z)}},z=(O,U,Z={})=>{const we=Te(i,O),be=f.array.has(O),le=ar(U);vt(c,O,le),be?(j.array.next({name:O,values:ar(c)}),(x.isDirty||x.dirtyFields||y.isDirty||y.dirtyFields)&&Z.shouldDirty&&j.state.next({name:O,dirtyFields:yo(o,c),isDirty:de(O,le)})):we&&!we._f&&!Nr(le)?ne(O,le,Z):B(O,le,Z),qv(O,f)&&j.state.next({...s,name:O}),j.state.next({name:u.mount?O:void 0,values:ar(c)})},T=async O=>{u.mount=!0;const U=O.target;let Z=U.name,we=!0;const be=Te(i,Z),le=Ge=>{we=Number.isNaN(Ge)||fa(Ge)&&isNaN(Ge.getTime())||Ms(Ge,Te(c,Z,Ge))},Re=zv(t.mode),it=zv(t.reValidateMode);if(be){let Ge,Qt;const Jr=U.type?Vv(be._f):m_(O),Bt=O.type===Dv.BLUR||O.type===Dv.FOCUS_OUT,_=!k_(be._f)&&!t.resolver&&!Te(s.errors,Z)&&!be._f.deps||T_(Bt,Te(s.touchedFields,Z),s.isSubmitted,it,Re),ye=qv(Z,f,Bt);vt(c,Z,Jr),Bt?(!U||!U.readOnly)&&(be._f.onBlur&&be._f.onBlur(O),h&&h(0)):be._f.onChange&&be._f.onChange(O);const He=$(Z,Jr,Bt),et=!Ir(He)||ye;if(!Bt&&j.state.next({name:Z,type:O.type,values:ar(c)}),_)return(x.isValid||y.isValid)&&(t.mode==="onBlur"?Bt&&w():Bt||w()),et&&j.state.next({name:Z,...ye?{}:He});if(!Bt&&ye&&j.state.next({...s}),t.resolver){const{errors:pt}=await q([Z]);if(le(Jr),we){const us=Kv(s.errors,i,Z),Tn=Kv(pt,i,us.name||Z);Ge=Tn.error,Z=Tn.name,Qt=Ir(pt)}}else b([Z],!0),Ge=(await Qv(be,f.disabled,c,S,t.shouldUseNativeValidation))[Z],b([Z]),le(Jr),we&&(Ge?Qt=!1:(x.isValid||y.isValid)&&(Qt=await ve(i,!0)));we&&(be._f.deps&&Y(be._f.deps),G(Z,Qt,Ge,He))}},M=(O,U)=>{if(Te(s.errors,U)&&O.focus)return O.focus(),1},Y=async(O,U={})=>{let Z,we;const be=Co(O);if(t.resolver){const le=await J(Zt(O)?O:be);Z=Ir(le),we=O?!be.some(Re=>Te(le,Re)):Z}else O?(we=(await Promise.all(be.map(async le=>{const Re=Te(i,le);return await ve(Re&&Re._f?{[le]:Re}:Re)}))).every(Boolean),!(!we&&!s.isValid)&&w()):we=Z=await ve(i);return j.state.next({...!Ln(O)||(x.isValid||y.isValid)&&Z!==s.isValid?{}:{name:O},...t.resolver||!O?{isValid:Z}:{},errors:s.errors}),U.shouldFocus&&!we&&ko(i,M,O?be:f.mount),we},se=O=>{const U={...u.mount?c:o};return Zt(O)?U:Ln(O)?Te(U,O):O.map(Z=>Te(U,Z))},A=(O,U)=>({invalid:!!Te((U||s).errors,O),isDirty:!!Te((U||s).dirtyFields,O),error:Te((U||s).errors,O),isValidating:!!Te(s.validatingFields,O),isTouched:!!Te((U||s).touchedFields,O)}),k=O=>{O&&Co(O).forEach(U=>Gt(s.errors,U)),j.state.next({errors:O?s.errors:{}})},V=(O,U,Z)=>{const we=(Te(i,O,{_f:{}})._f||{}).ref,be=Te(s.errors,O)||{},{ref:le,message:Re,type:it,...Ge}=be;vt(s.errors,O,{...Ge,...U,ref:we}),j.state.next({name:O,errors:s.errors,isValid:!1}),Z&&Z.shouldFocus&&we&&we.focus&&we.focus()},ee=(O,U)=>wn(O)?j.state.subscribe({next:Z=>"values"in Z&&O(X(void 0,U),Z)}):X(O,U,!0),te=O=>j.state.subscribe({next:U=>{E_(O.name,U.name,O.exact)&&P_(U,O.formState||x,dn,O.reRenderRoot)&&O.callback({values:{...c},...s,...U,defaultValues:o})}}).unsubscribe,he=O=>(u.mount=!0,y={...y,...O.formState},te({...O,formState:y})),re=(O,U={})=>{for(const Z of O?Co(O):f.mount)f.mount.delete(Z),f.array.delete(Z),U.keepValue||(Gt(i,Z),Gt(c,Z)),!U.keepError&&Gt(s.errors,Z),!U.keepDirty&&Gt(s.dirtyFields,Z),!U.keepTouched&&Gt(s.touchedFields,Z),!U.keepIsValidating&&Gt(s.validatingFields,Z),!t.shouldUnregister&&!U.keepDefaultValue&&Gt(o,Z);j.state.next({values:ar(c)}),j.state.next({...s,...U.keepDirty?{isDirty:de()}:{}}),!U.keepIsValid&&w()},Ne=({disabled:O,name:U})=>{(Mn(O)&&u.mount||O||f.disabled.has(U))&&(O?f.disabled.add(U):f.disabled.delete(U))},Ae=(O,U={})=>{let Z=Te(i,O);const we=Mn(U.disabled)||Mn(t.disabled);return vt(i,O,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:O}},name:O,mount:!0,...U}}),f.mount.add(O),Z?Ne({disabled:Mn(U.disabled)?U.disabled:t.disabled,name:O}):F(O,!0,U.value),{...we?{disabled:U.disabled||t.disabled}:{},...t.progressive?{required:!!U.required,min:bo(U.min),max:bo(U.max),minLength:bo(U.minLength),maxLength:bo(U.maxLength),pattern:bo(U.pattern)}:{},name:O,onChange:T,onBlur:T,ref:be=>{if(be){Ae(O,U),Z=Te(i,O);const le=Zt(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,Re=w_(le),it=Z._f.refs||[];if(Re?it.find(Ge=>Ge===le):le===Z._f.ref)return;vt(i,O,{_f:{...Z._f,...Re?{refs:[...it.filter(Lf),le,...Array.isArray(Te(o,O))?[{}]:[]],ref:{type:le.type,name:O}}:{ref:le}}}),F(O,!1,void 0,le)}else Z=Te(i,O,{}),Z._f&&(Z._f.mount=!1),(t.shouldUnregister||U.shouldUnregister)&&!(p_(f.array,O)&&u.action)&&f.unMount.add(O)}}},ze=()=>t.shouldFocusError&&ko(i,M,f.mount),dt=O=>{Mn(O)&&(j.state.next({disabled:O}),ko(i,(U,Z)=>{const we=Te(i,Z);we&&(U.disabled=we._f.disabled||O,Array.isArray(we._f.refs)&&we._f.refs.forEach(be=>{be.disabled=we._f.disabled||O}))},0,!1))},ft=(O,U)=>async Z=>{let we;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let be=ar(c);if(j.state.next({isSubmitting:!0}),t.resolver){const{errors:le,values:Re}=await q();s.errors=le,be=ar(Re)}else await ve(i);if(f.disabled.size)for(const le of f.disabled)Gt(be,le);if(Gt(s.errors,"root"),Ir(s.errors)){j.state.next({errors:{}});try{await O(be,Z)}catch(le){we=le}}else U&&await U({...s.errors},Z),ze(),setTimeout(ze);if(j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ir(s.errors)&&!we,submitCount:s.submitCount+1,errors:s.errors}),we)throw we},Wt=(O,U={})=>{Te(i,O)&&(Zt(U.defaultValue)?z(O,ar(Te(o,O))):(z(O,U.defaultValue),vt(o,O,ar(U.defaultValue))),U.keepTouched||Gt(s.touchedFields,O),U.keepDirty||(Gt(s.dirtyFields,O),s.isDirty=U.defaultValue?de(O,ar(Te(o,O))):de()),U.keepError||(Gt(s.errors,O),x.isValid&&w()),j.state.next({...s}))},Xe=(O,U={})=>{const Z=O?ar(O):o,we=ar(Z),be=Ir(O),le=be?o:we;if(U.keepDefaultValues||(o=Z),!U.keepValues){if(U.keepDirtyValues){const Re=new Set([...f.mount,...Object.keys(yo(o,c))]);for(const it of Array.from(Re))Te(s.dirtyFields,it)?vt(le,it,Te(c,it)):z(it,Te(le,it))}else{if(gh&&Zt(O))for(const Re of f.mount){const it=Te(i,Re);if(it&&it._f){const Ge=Array.isArray(it._f.refs)?it._f.refs[0]:it._f.ref;if(Lc(Ge)){const Qt=Ge.closest("form");if(Qt){Qt.reset();break}}}}if(U.keepFieldsRef)for(const Re of f.mount)z(Re,Te(le,Re));else i={}}c=t.shouldUnregister?U.keepDefaultValues?ar(o):{}:ar(le),j.array.next({values:{...le}}),j.state.next({values:{...le}})}f={mount:U.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!x.isValid||!!U.keepIsValid||!!U.keepDirtyValues,u.watch=!!t.shouldUnregister,j.state.next({submitCount:U.keepSubmitCount?s.submitCount:0,isDirty:be?!1:U.keepDirty?s.isDirty:!!(U.keepDefaultValues&&!Ms(O,o)),isSubmitted:U.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:be?{}:U.keepDirtyValues?U.keepDefaultValues&&c?yo(o,c):s.dirtyFields:U.keepDefaultValues&&O?yo(o,O):U.keepDirty?s.dirtyFields:{},touchedFields:U.keepTouched?s.touchedFields:{},errors:U.keepErrors?s.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Br=(O,U)=>Xe(wn(O)?O(c):O,U),Xr=(O,U={})=>{const Z=Te(i,O),we=Z&&Z._f;if(we){const be=we.refs?we.refs[0]:we.ref;be.focus&&(be.focus(),U.shouldSelect&&wn(be.select)&&be.select())}},dn=O=>{s={...s,...O}},ds={control:{register:Ae,unregister:re,getFieldState:A,handleSubmit:ft,setError:V,_subscribe:te,_runSchema:q,_focusError:ze,_getWatch:X,_getDirty:de,_setValid:w,_setFieldArray:E,_setDisabledField:Ne,_setErrors:I,_getFieldArray:ae,_reset:Xe,_resetDefaultValues:()=>wn(t.defaultValues)&&t.defaultValues().then(O=>{Br(O,t.resetOptions),j.state.next({isLoading:!1})}),_removeUnmounted:ge,_disableForm:dt,_subjects:j,_proxyFormState:x,get _fields(){return i},get _formValues(){return c},get _state(){return u},set _state(O){u=O},get _defaultValues(){return o},get _names(){return f},set _names(O){f=O},get _formState(){return s},get _options(){return t},set _options(O){t={...t,...O}}},subscribe:he,trigger:Y,register:Ae,handleSubmit:ft,watch:ee,setValue:z,getValues:se,reset:Br,resetField:Wt,clearErrors:k,unregister:re,setError:V,setFocus:Xr,getFieldState:A};return{...ds,formControl:ds}}function Aw(e={}){const t=zt.useRef(void 0),s=zt.useRef(void 0),[i,o]=zt.useState({isDirty:!1,isValidating:!1,isLoading:wn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:wn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:i},e.defaultValues&&!wn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...f}=I_(e);t.current={...f,formState:i}}const c=t.current.control;return c._options=e,y_(()=>{const u=c._subscribe({formState:c._proxyFormState,callback:()=>o({...c._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),c._formState.isReady=!0,u},[c]),zt.useEffect(()=>c._disableForm(e.disabled),[c,e.disabled]),zt.useEffect(()=>{e.mode&&(c._options.mode=e.mode),e.reValidateMode&&(c._options.reValidateMode=e.reValidateMode)},[c,e.mode,e.reValidateMode]),zt.useEffect(()=>{e.errors&&(c._setErrors(e.errors),c._focusError())},[c,e.errors]),zt.useEffect(()=>{e.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,e.shouldUnregister]),zt.useEffect(()=>{if(c._proxyFormState.isDirty){const u=c._getDirty();u!==i.isDirty&&c._subjects.state.next({isDirty:u})}},[c,i.isDirty]),zt.useEffect(()=>{e.values&&!Ms(e.values,s.current)?(c._reset(e.values,{keepFieldsRef:!0,...c._options.resetOptions}),s.current=e.values,o(u=>({...u}))):c._resetDefaultValues()},[c,e.values]),zt.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),t.current.formState=v_(i,c),t.current}const Hv=(e,t,s)=>{if(e&&"reportValidity"in e){const i=Te(s,t);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Rw=(e,t)=>{for(const s in t.fields){const i=t.fields[s];i&&i.ref&&"reportValidity"in i.ref?Hv(i.ref,s,e):i.refs&&i.refs.forEach(o=>Hv(o,s,e))}},O_=(e,t)=>{t.shouldUseNativeValidation&&Rw(e,t);const s={};for(const i in e){const o=Te(t.fields,i),c=Object.assign(e[i]||{},{ref:o&&o.ref});if(M_(t.names||Object.keys(e),i)){const u=Object.assign({},Te(s,i));vt(u,"root",c),vt(s,i,u)}else vt(s,i,c)}return s},M_=(e,t)=>e.some(s=>s.startsWith(t+"."));var D_=function(e,t){for(var s={};e.length;){var i=e[0],o=i.code,c=i.message,u=i.path.join(".");if(!s[u])if("unionErrors"in i){var f=i.unionErrors[0].errors[0];s[u]={message:f.message,type:f.code}}else s[u]={message:c,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(x){return x.errors.forEach(function(y){return e.push(y)})}),t){var h=s[u].types,g=h&&h[i.code];s[u]=Sw(u,t,s,o,g?[].concat(g,i.message):i.message)}e.shift()}return s},Iw=function(e,t,s){return s===void 0&&(s={}),function(i,o,c){try{return Promise.resolve((function(u,f){try{var h=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](i,t)).then(function(g){return c.shouldUseNativeValidation&&Rw({},c),{errors:{},values:s.raw?i:g}})}catch(g){return f(g)}return h&&h.then?h.then(void 0,f):h})(0,function(u){if((function(f){return Array.isArray(f?.errors)})(u))return{values:{},errors:O_(D_(u.errors,!c.shouldUseNativeValidation&&c.criteriaMode==="all"),c)};throw u}))}catch(u){return Promise.reject(u)}}};const ie=Symbol.for("drizzle:entityKind");function ir(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,ie))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let s=Object.getPrototypeOf(e).constructor;if(s)for(;s;){if(ie in s&&s[ie]===t[ie])return!0;s=Object.getPrototypeOf(s)}return!1}class Ao{constructor(t,s){this.table=t,this.config=s,this.name=s.name,this.keyAsName=s.keyAsName,this.notNull=s.notNull,this.default=s.default,this.defaultFn=s.defaultFn,this.onUpdateFn=s.onUpdateFn,this.hasDefault=s.hasDefault,this.primary=s.primaryKey,this.isUnique=s.isUnique,this.uniqueName=s.uniqueName,this.uniqueType=s.uniqueType,this.dataType=s.dataType,this.columnType=s.columnType,this.generated=s.generated,this.generatedIdentity=s.generatedIdentity}static[ie]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class F_{static[ie]="ColumnBuilder";config;constructor(t,s,i){this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:s,columnType:i,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}const mi=Symbol.for("drizzle:Name");class L_{static[ie]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(t,s){this.reference=()=>{const{name:i,columns:o,foreignColumns:c}=t();return{name:i,columns:o,foreignTable:c[0].table,foreignColumns:c}},s&&(this._onUpdate=s.onUpdate,this._onDelete=s.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new B_(t,this)}}class B_{constructor(t,s){this.table=t,this.reference=s.reference,this.onUpdate=s._onUpdate,this.onDelete=s._onDelete}static[ie]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:t,columns:s,foreignColumns:i}=this.reference(),o=s.map(f=>f.name),c=i.map(f=>f.name),u=[this.table[mi],...o,i[0].table[mi],...c];return t??`${u.join("_")}_fk`}}function $_(e,...t){return e(...t)}function V_(e,t){return`${e[mi]}_${t.join("_")}_unique`}function Gv(e,t,s){for(let i=t;i<e.length;i++){const o=e[i];if(o==="\\"){i++;continue}if(o==='"')return[e.slice(t,i).replace(/\\/g,""),i+1];if(!s&&(o===","||o==="}"))return[e.slice(t,i).replace(/\\/g,""),i]}return[e.slice(t).replace(/\\/g,""),e.length]}function Ow(e,t=0){const s=[];let i=t,o=!1;for(;i<e.length;){const c=e[i];if(c===","){(o||i===t)&&s.push(""),o=!0,i++;continue}if(o=!1,c==="\\"){i+=2;continue}if(c==='"'){const[h,g]=Gv(e,i+1,!0);s.push(h),i=g;continue}if(c==="}")return[s,i+1];if(c==="{"){const[h,g]=Ow(e,i+1);s.push(h),i=g;continue}const[u,f]=Gv(e,i,!1);s.push(u),i=f}return[s,i]}function z_(e){const[t]=Ow(e,1);return t}function Mw(e){return`{${e.map(t=>Array.isArray(t)?Mw(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}class ct extends F_{foreignKeyConfigs=[];static[ie]="PgColumnBuilder";array(t){return new q_(this.config.name,this,t)}references(t,s={}){return this.foreignKeyConfigs.push({ref:t,actions:s}),this}unique(t,s){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=s?.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,s){return this.foreignKeyConfigs.map(({ref:i,actions:o})=>$_((c,u)=>{const f=new L_(()=>{const h=c();return{columns:[t],foreignColumns:[h]}});return u.onUpdate&&f.onUpdate(u.onUpdate),u.onDelete&&f.onDelete(u.onDelete),f.build(s)},i,o))}buildExtraConfigColumn(t){return new U_(t,this.config)}}class Ye extends Ao{constructor(t,s){s.uniqueName||(s.uniqueName=V_(t,[s.name])),super(t,s),this.table=t}static[ie]="PgColumn"}class U_ extends Ye{static[ie]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}}class q_ extends ct{static[ie]="PgArrayBuilder";constructor(t,s,i){super(t,"array","PgArray"),this.config.baseBuilder=s,this.config.size=i}build(t){const s=this.config.baseBuilder.build(t);return new wh(t,this.config,s)}}class wh extends Ye{constructor(t,s,i,o){super(t,s),this.baseColumn=i,this.range=o,this.size=s.size}size;static[ie]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=z_(t)),t.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(t,s=!1){const i=t.map(o=>o===null?null:ir(this.baseColumn,wh)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return s?i:Mw(i)}}const Zv=Symbol.for("drizzle:isPgEnum");function K_(e){return!!e&&typeof e=="function"&&Zv in e&&e[Zv]===!0}class Dw{static[ie]="Subquery";constructor(t,s,i,o=!1,c=[]){this._={brand:"Subquery",sql:t,selectedFields:s,alias:i,isWith:o,usedTables:c}}}const W_={startActiveSpan(e,t){return t()}},hi=Symbol.for("drizzle:ViewBaseConfig"),Bf=Symbol.for("drizzle:Schema"),Yv=Symbol.for("drizzle:Columns"),Xv=Symbol.for("drizzle:ExtraConfigColumns"),$f=Symbol.for("drizzle:OriginalName"),Vf=Symbol.for("drizzle:BaseName"),Vc=Symbol.for("drizzle:IsAlias"),Jv=Symbol.for("drizzle:ExtraConfigBuilder"),Fw=Symbol.for("drizzle:IsDrizzleTable");let or=class{static[ie]="Table";static Symbol={Name:mi,Schema:Bf,OriginalName:$f,Columns:Yv,ExtraConfigColumns:Xv,BaseName:Vf,IsAlias:Vc,ExtraConfigBuilder:Jv};[mi];[$f];[Bf];[Yv];[Xv];[Vf];[Vc]=!1;[Fw]=!0;[Jv]=void 0;constructor(t,s,i){this[mi]=this[$f]=t,this[Bf]=s,this[Vf]=i}};function Lw(e){return typeof e=="object"&&e!==null&&Fw in e}function Q_(e){return e!=null&&typeof e.getSQL=="function"}function H_(e){const t={sql:"",params:[]};for(const s of e)t.sql+=s.sql,t.params.push(...s.params),s.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...s.typings));return t}class yn{static[ie]="StringChunk";value;constructor(t){this.value=Array.isArray(t)?t:[t]}getSQL(){return new Ft([this])}}class Ft{constructor(t){this.queryChunks=t;for(const s of t)if(ir(s,or)){const i=s[or.Symbol.Schema];this.usedTables.push(i===void 0?s[or.Symbol.Name]:i+"."+s[or.Symbol.Name])}}static[ie]="SQL";decoder=Bw;shouldInlineParams=!1;usedTables=[];append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return W_.startActiveSpan("drizzle.buildSQL",s=>{const i=this.buildQueryFromSourceParams(this.queryChunks,t);return s?.setAttributes({"drizzle.query.text":i.sql,"drizzle.query.params":JSON.stringify(i.params)}),i})}buildQueryFromSourceParams(t,s){const i=Object.assign({},s,{inlineParams:s.inlineParams||this.shouldInlineParams,paramStartIndex:s.paramStartIndex||{value:0}}),{casing:o,escapeName:c,escapeParam:u,prepareTyping:f,inlineParams:h,paramStartIndex:g}=i;return H_(t.map(x=>{if(ir(x,yn))return{sql:x.value.join(""),params:[]};if(ir(x,xm))return{sql:c(x.value),params:[]};if(x===void 0)return{sql:"",params:[]};if(Array.isArray(x)){const y=[new yn("(")];for(const[j,S]of x.entries())y.push(S),j<x.length-1&&y.push(new yn(", "));return y.push(new yn(")")),this.buildQueryFromSourceParams(y,i)}if(ir(x,Ft))return this.buildQueryFromSourceParams(x.queryChunks,{...i,inlineParams:h||x.shouldInlineParams});if(ir(x,or)){const y=x[or.Symbol.Schema],j=x[or.Symbol.Name];return{sql:y===void 0||x[Vc]?c(j):c(y)+"."+c(j),params:[]}}if(ir(x,Ao)){const y=o.getColumnCasing(x);if(s.invokeSource==="indexes")return{sql:c(y),params:[]};const j=x.table[or.Symbol.Schema];return{sql:x.table[Vc]||j===void 0?c(x.table[or.Symbol.Name])+"."+c(y):c(j)+"."+c(x.table[or.Symbol.Name])+"."+c(y),params:[]}}if(ir(x,G_)){const y=x[hi].schema,j=x[hi].name;return{sql:y===void 0||x[hi].isAlias?c(j):c(y)+"."+c(j),params:[]}}if(ir(x,Vw)){if(ir(x.value,vm))return{sql:u(g.value++,x),params:[x],typings:["none"]};const y=x.value===null?null:x.encoder.mapToDriverValue(x.value);if(ir(y,Ft))return this.buildQueryFromSourceParams([y],i);if(h)return{sql:this.mapInlineParam(y,i),params:[]};let j=["none"];return f&&(j=[f(x.encoder)]),{sql:u(g.value++,y),params:[y],typings:j}}return ir(x,vm)?{sql:u(g.value++,x),params:[x],typings:["none"]}:ir(x,Ft.Aliased)&&x.fieldAlias!==void 0?{sql:c(x.fieldAlias),params:[]}:ir(x,Dw)?x._.isWith?{sql:c(x._.alias),params:[]}:this.buildQueryFromSourceParams([new yn("("),x._.sql,new yn(") "),new xm(x._.alias)],i):K_(x)?x.schema?{sql:c(x.schema)+"."+c(x.enumName),params:[]}:{sql:c(x.enumName),params:[]}:Q_(x)?x.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([x.getSQL()],i):this.buildQueryFromSourceParams([new yn("("),x.getSQL(),new yn(")")],i):h?{sql:this.mapInlineParam(x,i),params:[]}:{sql:u(g.value++,x),params:[x],typings:["none"]}}))}mapInlineParam(t,{escapeString:s}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return s(t);if(typeof t=="object"){const i=t.toString();return s(i==="[object Object]"?JSON.stringify(t):i)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Ft.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}}class xm{constructor(t){this.value=t}static[ie]="Name";brand;getSQL(){return new Ft([this])}}const Bw={mapFromDriverValue:e=>e},$w={mapToDriverValue:e=>e};({...Bw,...$w});class Vw{constructor(t,s=$w){this.value=t,this.encoder=s}static[ie]="Param";brand;getSQL(){return new Ft([this])}}function Lt(e,...t){const s=[];(t.length>0||e.length>0&&e[0]!=="")&&s.push(new yn(e[0]));for(const[i,o]of t.entries())s.push(o,new yn(e[i+1]));return new Ft(s)}(e=>{function t(){return new Ft([])}e.empty=t;function s(h){return new Ft(h)}e.fromList=s;function i(h){return new Ft([new yn(h)])}e.raw=i;function o(h,g){const x=[];for(const[y,j]of h.entries())y>0&&g!==void 0&&x.push(g),x.push(j);return new Ft(x)}e.join=o;function c(h){return new xm(h)}e.identifier=c;function u(h){return new vm(h)}e.placeholder=u;function f(h,g){return new Vw(h,g)}e.param=f})(Lt||(Lt={}));(e=>{class t{constructor(i,o){this.sql=i,this.fieldAlias=o}static[ie]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(Ft||(Ft={}));class vm{constructor(t){this.name=t}static[ie]="Placeholder";getSQL(){return new Ft([this])}}const zw=Symbol.for("drizzle:IsDrizzleView");class G_{static[ie]="View";[hi];[zw]=!0;constructor({name:t,schema:s,selectedFields:i,query:o}){this[hi]={name:t,originalName:t,schema:s,selectedFields:i,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new Ft([this])}}function Z_(e){return typeof e=="object"&&e!==null&&zw in e}Ao.prototype.getSQL=function(){return new Ft([this])};or.prototype.getSQL=function(){return new Ft([this])};Dw.prototype.getSQL=function(){return new Ft([this])};function Y_(e){return e[or.Symbol.Columns]}function X_(e){return e[hi].selectedFields}function lr(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}typeof TextDecoder>"u"||new TextDecoder;class Nd extends ct{static[ie]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(t){if(t){const{name:s,...i}=t;this.config.generatedIdentity={type:"always",sequenceName:s,sequenceOptions:i}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:s,...i}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:s,sequenceOptions:i}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class J_ extends Nd{static[ie]="PgBigInt53Builder";constructor(t){super(t,"number","PgBigInt53")}build(t){return new eA(t,this.config)}}class eA extends Ye{static[ie]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class tA extends Nd{static[ie]="PgBigInt64Builder";constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new rA(t,this.config)}}class rA extends Ye{static[ie]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}function nA(e,t){const{name:s,config:i}=lr(e,t);return i.mode==="number"?new J_(s):new tA(s)}class sA extends ct{static[ie]="PgBigSerial53Builder";constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new aA(t,this.config)}}class aA extends Ye{static[ie]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class iA extends ct{static[ie]="PgBigSerial64Builder";constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new oA(t,this.config)}}class oA extends Ye{static[ie]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}function lA(e,t){const{name:s,config:i}=lr(e,t);return i.mode==="number"?new sA(s):new iA(s)}class cA extends ct{static[ie]="PgBooleanBuilder";constructor(t){super(t,"boolean","PgBoolean")}build(t){return new dA(t,this.config)}}class dA extends Ye{static[ie]="PgBoolean";getSQLType(){return"boolean"}}function qr(e){return new cA(e??"")}class uA extends ct{static[ie]="PgCharBuilder";constructor(t,s){super(t,"string","PgChar"),this.config.length=s.length,this.config.enumValues=s.enum}build(t){return new fA(t,this.config)}}class fA extends Ye{static[ie]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function mA(e,t={}){const{name:s,config:i}=lr(e,t);return new uA(s,i)}class hA extends ct{static[ie]="PgCidrBuilder";constructor(t){super(t,"string","PgCidr")}build(t){return new pA(t,this.config)}}class pA extends Ye{static[ie]="PgCidr";getSQLType(){return"cidr"}}function gA(e){return new hA(e??"")}class xA extends ct{static[ie]="PgCustomColumnBuilder";constructor(t,s,i){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=s,this.config.customTypeParams=i}build(t){return new vA(t,this.config)}}class vA extends Ye{static[ie]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(t,s){super(t,s),this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}}function yA(e){return(t,s)=>{const{name:i,config:o}=lr(t,s);return new xA(i,o,e)}}class rl extends ct{static[ie]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Lt`now()`)}}class bA extends rl{static[ie]="PgDateBuilder";constructor(t){super(t,"date","PgDate")}build(t){return new wA(t,this.config)}}class wA extends Ye{static[ie]="PgDate";getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}class jA extends rl{static[ie]="PgDateStringBuilder";constructor(t){super(t,"string","PgDateString")}build(t){return new NA(t,this.config)}}class NA extends Ye{static[ie]="PgDateString";getSQLType(){return"date"}}function SA(e,t){const{name:s,config:i}=lr(e,t);return i?.mode==="date"?new bA(s):new jA(s)}class CA extends ct{static[ie]="PgDoublePrecisionBuilder";constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new kA(t,this.config)}}class kA extends Ye{static[ie]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}function PA(e){return new CA(e??"")}class EA extends ct{static[ie]="PgInetBuilder";constructor(t){super(t,"string","PgInet")}build(t){return new TA(t,this.config)}}class TA extends Ye{static[ie]="PgInet";getSQLType(){return"inet"}}function _A(e){return new EA(e??"")}class AA extends Nd{static[ie]="PgIntegerBuilder";constructor(t){super(t,"number","PgInteger")}build(t){return new RA(t,this.config)}}class RA extends Ye{static[ie]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}function ma(e){return new AA(e??"")}class IA extends ct{static[ie]="PgIntervalBuilder";constructor(t,s){super(t,"string","PgInterval"),this.config.intervalConfig=s}build(t){return new OA(t,this.config)}}class OA extends Ye{static[ie]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const t=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${t}${s}`}}function MA(e,t={}){const{name:s,config:i}=lr(e,t);return new IA(s,i)}class DA extends ct{static[ie]="PgJsonBuilder";constructor(t){super(t,"json","PgJson")}build(t){return new FA(t,this.config)}}class FA extends Ye{static[ie]="PgJson";constructor(t,s){super(t,s)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function LA(e){return new DA(e??"")}class BA extends ct{static[ie]="PgJsonbBuilder";constructor(t){super(t,"json","PgJsonb")}build(t){return new $A(t,this.config)}}class $A extends Ye{static[ie]="PgJsonb";constructor(t,s){super(t,s)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function zc(e){return new BA(e??"")}class VA extends ct{static[ie]="PgLineBuilder";constructor(t){super(t,"array","PgLine")}build(t){return new zA(t,this.config)}}class zA extends Ye{static[ie]="PgLine";getSQLType(){return"line"}mapFromDriverValue(t){const[s,i,o]=t.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(i),Number.parseFloat(o)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}class UA extends ct{static[ie]="PgLineABCBuilder";constructor(t){super(t,"json","PgLineABC")}build(t){return new qA(t,this.config)}}class qA extends Ye{static[ie]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(t){const[s,i,o]=t.slice(1,-1).split(",");return{a:Number.parseFloat(s),b:Number.parseFloat(i),c:Number.parseFloat(o)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}function KA(e,t){const{name:s,config:i}=lr(e,t);return!i?.mode||i.mode==="tuple"?new VA(s):new UA(s)}class WA extends ct{static[ie]="PgMacaddrBuilder";constructor(t){super(t,"string","PgMacaddr")}build(t){return new QA(t,this.config)}}class QA extends Ye{static[ie]="PgMacaddr";getSQLType(){return"macaddr"}}function HA(e){return new WA(e??"")}class GA extends ct{static[ie]="PgMacaddr8Builder";constructor(t){super(t,"string","PgMacaddr8")}build(t){return new ZA(t,this.config)}}class ZA extends Ye{static[ie]="PgMacaddr8";getSQLType(){return"macaddr8"}}function YA(e){return new GA(e??"")}class XA extends ct{static[ie]="PgNumericBuilder";constructor(t,s,i){super(t,"string","PgNumeric"),this.config.precision=s,this.config.scale=i}build(t){return new JA(t,this.config)}}class JA extends Ye{static[ie]="PgNumeric";precision;scale;constructor(t,s){super(t,s),this.precision=s.precision,this.scale=s.scale}mapFromDriverValue(t){return typeof t=="string"?t:String(t)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class eR extends ct{static[ie]="PgNumericNumberBuilder";constructor(t,s,i){super(t,"number","PgNumericNumber"),this.config.precision=s,this.config.scale=i}build(t){return new tR(t,this.config)}}class tR extends Ye{static[ie]="PgNumericNumber";precision;scale;constructor(t,s){super(t,s),this.precision=s.precision,this.scale=s.scale}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class rR extends ct{static[ie]="PgNumericBigIntBuilder";constructor(t,s,i){super(t,"bigint","PgNumericBigInt"),this.config.precision=s,this.config.scale=i}build(t){return new nR(t,this.config)}}class nR extends Ye{static[ie]="PgNumericBigInt";precision;scale;constructor(t,s){super(t,s),this.precision=s.precision,this.scale=s.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function sR(e,t){const{name:s,config:i}=lr(e,t),o=i?.mode;return o==="number"?new eR(s,i?.precision,i?.scale):o==="bigint"?new rR(s,i?.precision,i?.scale):new XA(s,i?.precision,i?.scale)}class aR extends ct{static[ie]="PgPointTupleBuilder";constructor(t){super(t,"array","PgPointTuple")}build(t){return new iR(t,this.config)}}class iR extends Ye{static[ie]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[s,i]=t.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(i)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}class oR extends ct{static[ie]="PgPointObjectBuilder";constructor(t){super(t,"json","PgPointObject")}build(t){return new lR(t,this.config)}}class lR extends Ye{static[ie]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[s,i]=t.slice(1,-1).split(",");return{x:Number.parseFloat(s),y:Number.parseFloat(i)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}function cR(e,t){const{name:s,config:i}=lr(e,t);return!i?.mode||i.mode==="tuple"?new aR(s):new oR(s)}function dR(e){const t=[];for(let s=0;s<e.length;s+=2)t.push(Number.parseInt(e.slice(s,s+2),16));return new Uint8Array(t)}function ey(e,t){const s=new ArrayBuffer(8),i=new DataView(s);for(let o=0;o<8;o++)i.setUint8(o,e[t+o]);return i.getFloat64(0,!0)}function Uw(e){const t=dR(e);let s=0;const i=t[s];s+=1;const o=new DataView(t.buffer),c=o.getUint32(s,i===1);if(s+=4,c&536870912&&(o.getUint32(s,i===1),s+=4),(c&65535)===1){const u=ey(t,s);s+=8;const f=ey(t,s);return s+=8,[u,f]}throw new Error("Unsupported geometry type")}class uR extends ct{static[ie]="PgGeometryBuilder";constructor(t){super(t,"array","PgGeometry")}build(t){return new fR(t,this.config)}}class fR extends Ye{static[ie]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return Uw(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}class mR extends ct{static[ie]="PgGeometryObjectBuilder";constructor(t){super(t,"json","PgGeometryObject")}build(t){return new hR(t,this.config)}}class hR extends Ye{static[ie]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const s=Uw(t);return{x:s[0],y:s[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}function pR(e,t){const{name:s,config:i}=lr(e,t);return!i?.mode||i.mode==="tuple"?new uR(s):new mR(s)}class gR extends ct{static[ie]="PgRealBuilder";constructor(t,s){super(t,"number","PgReal"),this.config.length=s}build(t){return new xR(t,this.config)}}class xR extends Ye{static[ie]="PgReal";constructor(t,s){super(t,s)}getSQLType(){return"real"}mapFromDriverValue=t=>typeof t=="string"?Number.parseFloat(t):t}function vR(e){return new gR(e??"")}class yR extends ct{static[ie]="PgSerialBuilder";constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new bR(t,this.config)}}class bR extends Ye{static[ie]="PgSerial";getSQLType(){return"serial"}}function wR(e){return new yR(e??"")}class jR extends Nd{static[ie]="PgSmallIntBuilder";constructor(t){super(t,"number","PgSmallInt")}build(t){return new NR(t,this.config)}}class NR extends Ye{static[ie]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=t=>typeof t=="string"?Number(t):t}function SR(e){return new jR(e??"")}class CR extends ct{static[ie]="PgSmallSerialBuilder";constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new kR(t,this.config)}}class kR extends Ye{static[ie]="PgSmallSerial";getSQLType(){return"smallserial"}}function PR(e){return new CR(e??"")}class ER extends ct{static[ie]="PgTextBuilder";constructor(t,s){super(t,"string","PgText"),this.config.enumValues=s.enum}build(t){return new TR(t,this.config)}}class TR extends Ye{static[ie]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function rt(e,t={}){const{name:s,config:i}=lr(e,t);return new ER(s,i)}class _R extends rl{constructor(t,s,i){super(t,"string","PgTime"),this.withTimezone=s,this.precision=i,this.config.withTimezone=s,this.config.precision=i}static[ie]="PgTimeBuilder";build(t){return new AR(t,this.config)}}class AR extends Ye{static[ie]="PgTime";withTimezone;precision;constructor(t,s){super(t,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function RR(e,t={}){const{name:s,config:i}=lr(e,t);return new _R(s,i.withTimezone??!1,i.precision)}class IR extends rl{static[ie]="PgTimestampBuilder";constructor(t,s,i){super(t,"date","PgTimestamp"),this.config.withTimezone=s,this.config.precision=i}build(t){return new OR(t,this.config)}}class OR extends Ye{static[ie]="PgTimestamp";withTimezone;precision;constructor(t,s){super(t,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=t=>new Date(this.withTimezone?t:t+"+0000");mapToDriverValue=t=>t.toISOString()}class MR extends rl{static[ie]="PgTimestampStringBuilder";constructor(t,s,i){super(t,"string","PgTimestampString"),this.config.withTimezone=s,this.config.precision=i}build(t){return new DR(t,this.config)}}class DR extends Ye{static[ie]="PgTimestampString";withTimezone;precision;constructor(t,s){super(t,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Dr(e,t={}){const{name:s,config:i}=lr(e,t);return i?.mode==="string"?new MR(s,i.withTimezone??!1,i.precision):new IR(s,i?.withTimezone??!1,i?.precision)}class FR extends ct{static[ie]="PgUUIDBuilder";constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(Lt`gen_random_uuid()`)}build(t){return new LR(t,this.config)}}class LR extends Ye{static[ie]="PgUUID";getSQLType(){return"uuid"}}function BR(e){return new FR(e??"")}class $R extends ct{static[ie]="PgVarcharBuilder";constructor(t,s){super(t,"string","PgVarchar"),this.config.length=s.length,this.config.enumValues=s.enum}build(t){return new VR(t,this.config)}}class VR extends Ye{static[ie]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function Yr(e,t={}){const{name:s,config:i}=lr(e,t);return new $R(s,i)}class zR extends ct{static[ie]="PgBinaryVectorBuilder";constructor(t,s){super(t,"string","PgBinaryVector"),this.config.dimensions=s.dimensions}build(t){return new UR(t,this.config)}}class UR extends Ye{static[ie]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function qR(e,t){const{name:s,config:i}=lr(e,t);return new zR(s,i)}class KR extends ct{static[ie]="PgHalfVectorBuilder";constructor(t,s){super(t,"array","PgHalfVector"),this.config.dimensions=s.dimensions}build(t){return new WR(t,this.config)}}class WR extends Ye{static[ie]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}function QR(e,t){const{name:s,config:i}=lr(e,t);return new KR(s,i)}class HR extends ct{static[ie]="PgSparseVectorBuilder";constructor(t,s){super(t,"string","PgSparseVector"),this.config.dimensions=s.dimensions}build(t){return new GR(t,this.config)}}class GR extends Ye{static[ie]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function ZR(e,t){const{name:s,config:i}=lr(e,t);return new HR(s,i)}class YR extends ct{static[ie]="PgVectorBuilder";constructor(t,s){super(t,"array","PgVector"),this.config.dimensions=s.dimensions}build(t){return new XR(t,this.config)}}class XR extends Ye{static[ie]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}function JR(e,t){const{name:s,config:i}=lr(e,t);return new YR(s,i)}function eI(){return{bigint:nA,bigserial:lA,boolean:qr,char:mA,cidr:gA,customType:yA,date:SA,doublePrecision:PA,inet:_A,integer:ma,interval:MA,json:LA,jsonb:zc,line:KA,macaddr:HA,macaddr8:YA,numeric:sR,point:cR,geometry:pR,real:vR,serial:wR,smallint:SR,smallserial:PR,text:rt,time:RR,timestamp:Dr,uuid:BR,varchar:Yr,bit:qR,halfvec:QR,sparsevec:ZR,vector:JR}}const ym=Symbol.for("drizzle:PgInlineForeignKeys"),ty=Symbol.for("drizzle:EnableRLS");class ry extends or{static[ie]="PgTable";static Symbol=Object.assign({},or.Symbol,{InlineForeignKeys:ym,EnableRLS:ty});[ym]=[];[ty]=!1;[or.Symbol.ExtraConfigBuilder]=void 0;[or.Symbol.ExtraConfigColumns]={}}function tI(e,t,s,i,o=e){const c=new ry(e,i,o),u=typeof t=="function"?t(eI()):t,f=Object.fromEntries(Object.entries(u).map(([x,y])=>{const j=y;j.setName(x);const S=j.build(c);return c[ym].push(...j.buildForeignKeys(S,c)),[x,S]})),h=Object.fromEntries(Object.entries(u).map(([x,y])=>{const j=y;j.setName(x);const S=j.buildExtraConfigColumn(c);return[x,S]})),g=Object.assign(c,f);return g[or.Symbol.Columns]=f,g[or.Symbol.ExtraConfigColumns]=h,Object.assign(g,{enableRLS:()=>(g[ry.Symbol.EnableRLS]=!0,g)})}const Hs=(e,t,s)=>tI(e,t,s,void 0);var ut;(function(e){e.assertEqual=o=>{};function t(o){}e.assertIs=t;function s(o){throw new Error}e.assertNever=s,e.arrayToEnum=o=>{const c={};for(const u of o)c[u]=u;return c},e.getValidEnumValues=o=>{const c=e.objectKeys(o).filter(f=>typeof o[o[f]]!="number"),u={};for(const f of c)u[f]=o[f];return e.objectValues(u)},e.objectValues=o=>e.objectKeys(o).map(function(c){return o[c]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const c=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&c.push(u);return c},e.find=(o,c)=>{for(const u of o)if(c(u))return u},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,c=" | "){return o.map(u=>typeof u=="string"?`'${u}'`:u).join(c)}e.joinValues=i,e.jsonStringifyReplacer=(o,c)=>typeof c=="bigint"?c.toString():c})(ut||(ut={}));var bm;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})(bm||(bm={}));const Ce=ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rs=e=>{switch(typeof e){case"undefined":return Ce.undefined;case"string":return Ce.string;case"number":return Number.isNaN(e)?Ce.nan:Ce.number;case"boolean":return Ce.boolean;case"function":return Ce.function;case"bigint":return Ce.bigint;case"symbol":return Ce.symbol;case"object":return Array.isArray(e)?Ce.array:e===null?Ce.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ce.promise:typeof Map<"u"&&e instanceof Map?Ce.map:typeof Set<"u"&&e instanceof Set?Ce.set:typeof Date<"u"&&e instanceof Date?Ce.date:Ce.object;default:return Ce.unknown}},pe=ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),rI=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Zr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(c){return c.message},i={_errors:[]},o=c=>{for(const u of c.issues)if(u.code==="invalid_union")u.unionErrors.map(o);else if(u.code==="invalid_return_type")o(u.returnTypeError);else if(u.code==="invalid_arguments")o(u.argumentsError);else if(u.path.length===0)i._errors.push(s(u));else{let f=i,h=0;for(;h<u.path.length;){const g=u.path[h];h===u.path.length-1?(f[g]=f[g]||{_errors:[]},f[g]._errors.push(s(u))):f[g]=f[g]||{_errors:[]},f=f[g],h++}}};return o(this),i}static assert(t){if(!(t instanceof Zr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},i=[];for(const o of this.issues)if(o.path.length>0){const c=o.path[0];s[c]=s[c]||[],s[c].push(t(o))}else i.push(t(o));return{formErrors:i,fieldErrors:s}}get formErrors(){return this.flatten()}}Zr.create=e=>new Zr(e);const bi=(e,t)=>{let s;switch(e.code){case pe.invalid_type:e.received===Ce.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case pe.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,ut.jsonStringifyReplacer)}`;break;case pe.unrecognized_keys:s=`Unrecognized key(s) in object: ${ut.joinValues(e.keys,", ")}`;break;case pe.invalid_union:s="Invalid input";break;case pe.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${ut.joinValues(e.options)}`;break;case pe.invalid_enum_value:s=`Invalid enum value. Expected ${ut.joinValues(e.options)}, received '${e.received}'`;break;case pe.invalid_arguments:s="Invalid function arguments";break;case pe.invalid_return_type:s="Invalid function return type";break;case pe.invalid_date:s="Invalid date";break;case pe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:ut.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case pe.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case pe.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case pe.custom:s="Invalid input";break;case pe.invalid_intersection_types:s="Intersection results could not be merged";break;case pe.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case pe.not_finite:s="Number must be finite";break;default:s=t.defaultError,ut.assertNever(e)}return{message:s}};let qw=bi;function nI(e){qw=e}function Uc(){return qw}const qc=e=>{const{data:t,path:s,errorMaps:i,issueData:o}=e,c=[...s,...o.path||[]],u={...o,path:c};if(o.message!==void 0)return{...o,path:c,message:o.message};let f="";const h=i.filter(g=>!!g).slice().reverse();for(const g of h)f=g(u,{data:t,defaultError:f}).message;return{...o,path:c,message:f}},sI=[];function je(e,t){const s=Uc(),i=qc({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===bi?void 0:bi].filter(o=>!!o)});e.common.issues.push(i)}class xr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const i=[];for(const o of s){if(o.status==="aborted")return qe;o.status==="dirty"&&t.dirty(),i.push(o.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,s){const i=[];for(const o of s){const c=await o.key,u=await o.value;i.push({key:c,value:u})}return xr.mergeObjectSync(t,i)}static mergeObjectSync(t,s){const i={};for(const o of s){const{key:c,value:u}=o;if(c.status==="aborted"||u.status==="aborted")return qe;c.status==="dirty"&&t.dirty(),u.status==="dirty"&&t.dirty(),c.value!=="__proto__"&&(typeof u.value<"u"||o.alwaysSet)&&(i[c.value]=u.value)}return{status:t.value,value:i}}}const qe=Object.freeze({status:"aborted"}),ii=e=>({status:"dirty",value:e}),Cr=e=>({status:"valid",value:e}),wm=e=>e.status==="aborted",jm=e=>e.status==="dirty",Sa=e=>e.status==="valid",Ro=e=>typeof Promise<"u"&&e instanceof Promise;var De;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(De||(De={}));class zn{constructor(t,s,i,o){this._cachedPath=[],this.parent=t,this.data=s,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ny=(e,t)=>{if(Sa(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Zr(e.common.issues);return this._error=s,this._error}}};function Je(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:i,description:o}=e;if(t&&(s||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(u,f)=>{const{message:h}=e;return u.code==="invalid_enum_value"?{message:h??f.defaultError}:typeof f.data>"u"?{message:h??i??f.defaultError}:u.code!=="invalid_type"?{message:f.defaultError}:{message:h??s??f.defaultError}},description:o}}class st{get description(){return this._def.description}_getType(t){return rs(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:rs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new xr,ctx:{common:t.parent.common,data:t.data,parsedType:rs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(Ro(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const i=this.safeParse(t,s);if(i.success)return i.data;throw i.error}safeParse(t,s){const i={common:{issues:[],async:s?.async??!1,contextualErrorMap:s?.errorMap},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rs(t)},o=this._parseSync({data:t,path:i.path,parent:i});return ny(i,o)}"~validate"(t){const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rs(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return Sa(i)?{value:i.value}:{issues:s.common.issues}}catch(i){i?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>Sa(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,s){const i=await this.safeParseAsync(t,s);if(i.success)return i.data;throw i.error}async safeParseAsync(t,s){const i={common:{issues:[],contextualErrorMap:s?.errorMap,async:!0},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rs(t)},o=this._parse({data:t,path:i.path,parent:i}),c=await(Ro(o)?o:Promise.resolve(o));return ny(i,c)}refine(t,s){const i=o=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(o):s;return this._refinement((o,c)=>{const u=t(o),f=()=>c.addIssue({code:pe.custom,...i(o)});return typeof Promise<"u"&&u instanceof Promise?u.then(h=>h?!0:(f(),!1)):u?!0:(f(),!1)})}refinement(t,s){return this._refinement((i,o)=>t(i)?!0:(o.addIssue(typeof s=="function"?s(i,o):s),!1))}_refinement(t){return new kn({schema:this,typeName:Ke.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return $n.create(this,this._def)}nullable(){return qs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Nn.create(this)}promise(){return ji.create(this,this._def)}or(t){return Do.create([this,t],this._def)}and(t){return Fo.create(this,t,this._def)}transform(t){return new kn({...Je(this._def),schema:this,typeName:Ke.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new zo({...Je(this._def),innerType:this,defaultValue:s,typeName:Ke.ZodDefault})}brand(){return new jh({typeName:Ke.ZodBranded,type:this,...Je(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new Uo({...Je(this._def),innerType:this,catchValue:s,typeName:Ke.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return nl.create(this,t)}readonly(){return qo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const aI=/^c[^\s-]{8,}$/i,iI=/^[0-9a-z]+$/,oI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,lI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cI=/^[a-z0-9_-]{21}$/i,dI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,mI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zf;const hI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,gI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,xI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,vI=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Kw="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bI=new RegExp(`^${Kw}$`);function Ww(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function wI(e){return new RegExp(`^${Ww(e)}$`)}function Qw(e){let t=`${Kw}T${Ww(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function jI(e,t){return!!((t==="v4"||!t)&&hI.test(e)||(t==="v6"||!t)&&gI.test(e))}function NI(e,t){if(!dI.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const i=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||t&&o.alg!==t)}catch{return!1}}function SI(e,t){return!!((t==="v4"||!t)&&pI.test(e)||(t==="v6"||!t)&&xI.test(e))}class jn extends st{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ce.string){const c=this._getOrReturnCtx(t);return je(c,{code:pe.invalid_type,expected:Ce.string,received:c.parsedType}),qe}const i=new xr;let o;for(const c of this._def.checks)if(c.kind==="min")t.data.length<c.value&&(o=this._getOrReturnCtx(t,o),je(o,{code:pe.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),i.dirty());else if(c.kind==="max")t.data.length>c.value&&(o=this._getOrReturnCtx(t,o),je(o,{code:pe.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),i.dirty());else if(c.kind==="length"){const u=t.data.length>c.value,f=t.data.length<c.value;(u||f)&&(o=this._getOrReturnCtx(t,o),u?je(o,{code:pe.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):f&&je(o,{code:pe.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),i.dirty())}else if(c.kind==="email")fI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"email",code:pe.invalid_string,message:c.message}),i.dirty());else if(c.kind==="emoji")zf||(zf=new RegExp(mI,"u")),zf.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"emoji",code:pe.invalid_string,message:c.message}),i.dirty());else if(c.kind==="uuid")lI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"uuid",code:pe.invalid_string,message:c.message}),i.dirty());else if(c.kind==="nanoid")cI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"nanoid",code:pe.invalid_string,message:c.message}),i.dirty());else if(c.kind==="cuid")aI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"cuid",code:pe.invalid_string,message:c.message}),i.dirty());else if(c.kind==="cuid2")iI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"cuid2",code:pe.invalid_string,message:c.message}),i.dirty());else if(c.kind==="ulid")oI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"ulid",code:pe.invalid_string,message:c.message}),i.dirty());else if(c.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),je(o,{validation:"url",code:pe.invalid_string,message:c.message}),i.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"regex",code:pe.invalid_string,message:c.message}),i.dirty())):c.kind==="trim"?t.data=t.data.trim():c.kind==="includes"?t.data.includes(c.value,c.position)||(o=this._getOrReturnCtx(t,o),je(o,{code:pe.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),i.dirty()):c.kind==="toLowerCase"?t.data=t.data.toLowerCase():c.kind==="toUpperCase"?t.data=t.data.toUpperCase():c.kind==="startsWith"?t.data.startsWith(c.value)||(o=this._getOrReturnCtx(t,o),je(o,{code:pe.invalid_string,validation:{startsWith:c.value},message:c.message}),i.dirty()):c.kind==="endsWith"?t.data.endsWith(c.value)||(o=this._getOrReturnCtx(t,o),je(o,{code:pe.invalid_string,validation:{endsWith:c.value},message:c.message}),i.dirty()):c.kind==="datetime"?Qw(c).test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{code:pe.invalid_string,validation:"datetime",message:c.message}),i.dirty()):c.kind==="date"?bI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{code:pe.invalid_string,validation:"date",message:c.message}),i.dirty()):c.kind==="time"?wI(c).test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{code:pe.invalid_string,validation:"time",message:c.message}),i.dirty()):c.kind==="duration"?uI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"duration",code:pe.invalid_string,message:c.message}),i.dirty()):c.kind==="ip"?jI(t.data,c.version)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"ip",code:pe.invalid_string,message:c.message}),i.dirty()):c.kind==="jwt"?NI(t.data,c.alg)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"jwt",code:pe.invalid_string,message:c.message}),i.dirty()):c.kind==="cidr"?SI(t.data,c.version)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"cidr",code:pe.invalid_string,message:c.message}),i.dirty()):c.kind==="base64"?vI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"base64",code:pe.invalid_string,message:c.message}),i.dirty()):c.kind==="base64url"?yI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"base64url",code:pe.invalid_string,message:c.message}),i.dirty()):ut.assertNever(c);return{status:i.value,value:t.data}}_regex(t,s,i){return this.refinement(o=>t.test(o),{validation:s,code:pe.invalid_string,...De.errToObj(i)})}_addCheck(t){return new jn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...De.errToObj(t)})}url(t){return this._addCheck({kind:"url",...De.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...De.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...De.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...De.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...De.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...De.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...De.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...De.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...De.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...De.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...De.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...De.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...De.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...De.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...De.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...De.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s?.position,...De.errToObj(s?.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...De.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...De.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...De.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...De.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...De.errToObj(s)})}nonempty(t){return this.min(1,De.errToObj(t))}trim(){return new jn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}jn.create=e=>new jn({checks:[],typeName:Ke.ZodString,coerce:e?.coerce??!1,...Je(e)});function CI(e,t){const s=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,o=s>i?s:i,c=Number.parseInt(e.toFixed(o).replace(".","")),u=Number.parseInt(t.toFixed(o).replace(".",""));return c%u/10**o}class Vs extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ce.number){const c=this._getOrReturnCtx(t);return je(c,{code:pe.invalid_type,expected:Ce.number,received:c.parsedType}),qe}let i;const o=new xr;for(const c of this._def.checks)c.kind==="int"?ut.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{code:pe.invalid_type,expected:"integer",received:"float",message:c.message}),o.dirty()):c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(i=this._getOrReturnCtx(t,i),je(i,{code:pe.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),o.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(i=this._getOrReturnCtx(t,i),je(i,{code:pe.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),o.dirty()):c.kind==="multipleOf"?CI(t.data,c.value)!==0&&(i=this._getOrReturnCtx(t,i),je(i,{code:pe.not_multiple_of,multipleOf:c.value,message:c.message}),o.dirty()):c.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{code:pe.not_finite,message:c.message}),o.dirty()):ut.assertNever(c);return{status:o.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,De.toString(s))}gt(t,s){return this.setLimit("min",t,!1,De.toString(s))}lte(t,s){return this.setLimit("max",t,!0,De.toString(s))}lt(t,s){return this.setLimit("max",t,!1,De.toString(s))}setLimit(t,s,i,o){return new Vs({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:i,message:De.toString(o)}]})}_addCheck(t){return new Vs({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:De.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:De.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:De.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:De.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:De.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:De.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:De.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:De.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:De.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ut.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(s===null||i.value>s)&&(s=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(s)&&Number.isFinite(t)}}Vs.create=e=>new Vs({checks:[],typeName:Ke.ZodNumber,coerce:e?.coerce||!1,...Je(e)});class zs extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ce.bigint)return this._getInvalidInput(t);let i;const o=new xr;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(i=this._getOrReturnCtx(t,i),je(i,{code:pe.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(i=this._getOrReturnCtx(t,i),je(i,{code:pe.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="multipleOf"?t.data%c.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),je(i,{code:pe.not_multiple_of,multipleOf:c.value,message:c.message}),o.dirty()):ut.assertNever(c);return{status:o.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return je(s,{code:pe.invalid_type,expected:Ce.bigint,received:s.parsedType}),qe}gte(t,s){return this.setLimit("min",t,!0,De.toString(s))}gt(t,s){return this.setLimit("min",t,!1,De.toString(s))}lte(t,s){return this.setLimit("max",t,!0,De.toString(s))}lt(t,s){return this.setLimit("max",t,!1,De.toString(s))}setLimit(t,s,i,o){return new zs({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:i,message:De.toString(o)}]})}_addCheck(t){return new zs({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:De.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:De.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:De.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:De.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:De.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}zs.create=e=>new zs({checks:[],typeName:Ke.ZodBigInt,coerce:e?.coerce??!1,...Je(e)});class Io extends st{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ce.boolean){const i=this._getOrReturnCtx(t);return je(i,{code:pe.invalid_type,expected:Ce.boolean,received:i.parsedType}),qe}return Cr(t.data)}}Io.create=e=>new Io({typeName:Ke.ZodBoolean,coerce:e?.coerce||!1,...Je(e)});class Ca extends st{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ce.date){const c=this._getOrReturnCtx(t);return je(c,{code:pe.invalid_type,expected:Ce.date,received:c.parsedType}),qe}if(Number.isNaN(t.data.getTime())){const c=this._getOrReturnCtx(t);return je(c,{code:pe.invalid_date}),qe}const i=new xr;let o;for(const c of this._def.checks)c.kind==="min"?t.data.getTime()<c.value&&(o=this._getOrReturnCtx(t,o),je(o,{code:pe.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),i.dirty()):c.kind==="max"?t.data.getTime()>c.value&&(o=this._getOrReturnCtx(t,o),je(o,{code:pe.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),i.dirty()):ut.assertNever(c);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ca({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:De.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:De.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}Ca.create=e=>new Ca({checks:[],coerce:e?.coerce||!1,typeName:Ke.ZodDate,...Je(e)});class Kc extends st{_parse(t){if(this._getType(t)!==Ce.symbol){const i=this._getOrReturnCtx(t);return je(i,{code:pe.invalid_type,expected:Ce.symbol,received:i.parsedType}),qe}return Cr(t.data)}}Kc.create=e=>new Kc({typeName:Ke.ZodSymbol,...Je(e)});class Oo extends st{_parse(t){if(this._getType(t)!==Ce.undefined){const i=this._getOrReturnCtx(t);return je(i,{code:pe.invalid_type,expected:Ce.undefined,received:i.parsedType}),qe}return Cr(t.data)}}Oo.create=e=>new Oo({typeName:Ke.ZodUndefined,...Je(e)});class Mo extends st{_parse(t){if(this._getType(t)!==Ce.null){const i=this._getOrReturnCtx(t);return je(i,{code:pe.invalid_type,expected:Ce.null,received:i.parsedType}),qe}return Cr(t.data)}}Mo.create=e=>new Mo({typeName:Ke.ZodNull,...Je(e)});class wi extends st{constructor(){super(...arguments),this._any=!0}_parse(t){return Cr(t.data)}}wi.create=e=>new wi({typeName:Ke.ZodAny,...Je(e)});class ha extends st{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Cr(t.data)}}ha.create=e=>new ha({typeName:Ke.ZodUnknown,...Je(e)});class os extends st{_parse(t){const s=this._getOrReturnCtx(t);return je(s,{code:pe.invalid_type,expected:Ce.never,received:s.parsedType}),qe}}os.create=e=>new os({typeName:Ke.ZodNever,...Je(e)});class Wc extends st{_parse(t){if(this._getType(t)!==Ce.undefined){const i=this._getOrReturnCtx(t);return je(i,{code:pe.invalid_type,expected:Ce.void,received:i.parsedType}),qe}return Cr(t.data)}}Wc.create=e=>new Wc({typeName:Ke.ZodVoid,...Je(e)});class Nn extends st{_parse(t){const{ctx:s,status:i}=this._processInputParams(t),o=this._def;if(s.parsedType!==Ce.array)return je(s,{code:pe.invalid_type,expected:Ce.array,received:s.parsedType}),qe;if(o.exactLength!==null){const u=s.data.length>o.exactLength.value,f=s.data.length<o.exactLength.value;(u||f)&&(je(s,{code:u?pe.too_big:pe.too_small,minimum:f?o.exactLength.value:void 0,maximum:u?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&s.data.length<o.minLength.value&&(je(s,{code:pe.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&s.data.length>o.maxLength.value&&(je(s,{code:pe.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),s.common.async)return Promise.all([...s.data].map((u,f)=>o.type._parseAsync(new zn(s,u,s.path,f)))).then(u=>xr.mergeArray(i,u));const c=[...s.data].map((u,f)=>o.type._parseSync(new zn(s,u,s.path,f)));return xr.mergeArray(i,c)}get element(){return this._def.type}min(t,s){return new Nn({...this._def,minLength:{value:t,message:De.toString(s)}})}max(t,s){return new Nn({...this._def,maxLength:{value:t,message:De.toString(s)}})}length(t,s){return new Nn({...this._def,exactLength:{value:t,message:De.toString(s)}})}nonempty(t){return this.min(1,t)}}Nn.create=(e,t)=>new Nn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ke.ZodArray,...Je(t)});function ni(e){if(e instanceof At){const t={};for(const s in e.shape){const i=e.shape[s];t[s]=$n.create(ni(i))}return new At({...e._def,shape:()=>t})}else return e instanceof Nn?new Nn({...e._def,type:ni(e.element)}):e instanceof $n?$n.create(ni(e.unwrap())):e instanceof qs?qs.create(ni(e.unwrap())):e instanceof Un?Un.create(e.items.map(t=>ni(t))):e}class At extends st{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=ut.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==Ce.object){const g=this._getOrReturnCtx(t);return je(g,{code:pe.invalid_type,expected:Ce.object,received:g.parsedType}),qe}const{status:i,ctx:o}=this._processInputParams(t),{shape:c,keys:u}=this._getCached(),f=[];if(!(this._def.catchall instanceof os&&this._def.unknownKeys==="strip"))for(const g in o.data)u.includes(g)||f.push(g);const h=[];for(const g of u){const x=c[g],y=o.data[g];h.push({key:{status:"valid",value:g},value:x._parse(new zn(o,y,o.path,g)),alwaysSet:g in o.data})}if(this._def.catchall instanceof os){const g=this._def.unknownKeys;if(g==="passthrough")for(const x of f)h.push({key:{status:"valid",value:x},value:{status:"valid",value:o.data[x]}});else if(g==="strict")f.length>0&&(je(o,{code:pe.unrecognized_keys,keys:f}),i.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const x of f){const y=o.data[x];h.push({key:{status:"valid",value:x},value:g._parse(new zn(o,y,o.path,x)),alwaysSet:x in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const g=[];for(const x of h){const y=await x.key,j=await x.value;g.push({key:y,value:j,alwaysSet:x.alwaysSet})}return g}).then(g=>xr.mergeObjectSync(i,g)):xr.mergeObjectSync(i,h)}get shape(){return this._def.shape()}strict(t){return De.errToObj,new At({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,i)=>{const o=this._def.errorMap?.(s,i).message??i.defaultError;return s.code==="unrecognized_keys"?{message:De.errToObj(t).message??o}:{message:o}}}:{}})}strip(){return new At({...this._def,unknownKeys:"strip"})}passthrough(){return new At({...this._def,unknownKeys:"passthrough"})}extend(t){return new At({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new At({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ke.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new At({...this._def,catchall:t})}pick(t){const s={};for(const i of ut.objectKeys(t))t[i]&&this.shape[i]&&(s[i]=this.shape[i]);return new At({...this._def,shape:()=>s})}omit(t){const s={};for(const i of ut.objectKeys(this.shape))t[i]||(s[i]=this.shape[i]);return new At({...this._def,shape:()=>s})}deepPartial(){return ni(this)}partial(t){const s={};for(const i of ut.objectKeys(this.shape)){const o=this.shape[i];t&&!t[i]?s[i]=o:s[i]=o.optional()}return new At({...this._def,shape:()=>s})}required(t){const s={};for(const i of ut.objectKeys(this.shape))if(t&&!t[i])s[i]=this.shape[i];else{let c=this.shape[i];for(;c instanceof $n;)c=c._def.innerType;s[i]=c}return new At({...this._def,shape:()=>s})}keyof(){return Hw(ut.objectKeys(this.shape))}}At.create=(e,t)=>new At({shape:()=>e,unknownKeys:"strip",catchall:os.create(),typeName:Ke.ZodObject,...Je(t)});At.strictCreate=(e,t)=>new At({shape:()=>e,unknownKeys:"strict",catchall:os.create(),typeName:Ke.ZodObject,...Je(t)});At.lazycreate=(e,t)=>new At({shape:e,unknownKeys:"strip",catchall:os.create(),typeName:Ke.ZodObject,...Je(t)});class Do extends st{_parse(t){const{ctx:s}=this._processInputParams(t),i=this._def.options;function o(c){for(const f of c)if(f.result.status==="valid")return f.result;for(const f of c)if(f.result.status==="dirty")return s.common.issues.push(...f.ctx.common.issues),f.result;const u=c.map(f=>new Zr(f.ctx.common.issues));return je(s,{code:pe.invalid_union,unionErrors:u}),qe}if(s.common.async)return Promise.all(i.map(async c=>{const u={...s,common:{...s.common,issues:[]},parent:null};return{result:await c._parseAsync({data:s.data,path:s.path,parent:u}),ctx:u}})).then(o);{let c;const u=[];for(const h of i){const g={...s,common:{...s.common,issues:[]},parent:null},x=h._parseSync({data:s.data,path:s.path,parent:g});if(x.status==="valid")return x;x.status==="dirty"&&!c&&(c={result:x,ctx:g}),g.common.issues.length&&u.push(g.common.issues)}if(c)return s.common.issues.push(...c.ctx.common.issues),c.result;const f=u.map(h=>new Zr(h));return je(s,{code:pe.invalid_union,unionErrors:f}),qe}}get options(){return this._def.options}}Do.create=(e,t)=>new Do({options:e,typeName:Ke.ZodUnion,...Je(t)});const ts=e=>e instanceof Bo?ts(e.schema):e instanceof kn?ts(e.innerType()):e instanceof $o?[e.value]:e instanceof Us?e.options:e instanceof Vo?ut.objectValues(e.enum):e instanceof zo?ts(e._def.innerType):e instanceof Oo?[void 0]:e instanceof Mo?[null]:e instanceof $n?[void 0,...ts(e.unwrap())]:e instanceof qs?[null,...ts(e.unwrap())]:e instanceof jh||e instanceof qo?ts(e.unwrap()):e instanceof Uo?ts(e._def.innerType):[];class Sd extends st{_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==Ce.object)return je(s,{code:pe.invalid_type,expected:Ce.object,received:s.parsedType}),qe;const i=this.discriminator,o=s.data[i],c=this.optionsMap.get(o);return c?s.common.async?c._parseAsync({data:s.data,path:s.path,parent:s}):c._parseSync({data:s.data,path:s.path,parent:s}):(je(s,{code:pe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,s,i){const o=new Map;for(const c of s){const u=ts(c.shape[t]);if(!u.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const f of u){if(o.has(f))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(f)}`);o.set(f,c)}}return new Sd({typeName:Ke.ZodDiscriminatedUnion,discriminator:t,options:s,optionsMap:o,...Je(i)})}}function Nm(e,t){const s=rs(e),i=rs(t);if(e===t)return{valid:!0,data:e};if(s===Ce.object&&i===Ce.object){const o=ut.objectKeys(t),c=ut.objectKeys(e).filter(f=>o.indexOf(f)!==-1),u={...e,...t};for(const f of c){const h=Nm(e[f],t[f]);if(!h.valid)return{valid:!1};u[f]=h.data}return{valid:!0,data:u}}else if(s===Ce.array&&i===Ce.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let c=0;c<e.length;c++){const u=e[c],f=t[c],h=Nm(u,f);if(!h.valid)return{valid:!1};o.push(h.data)}return{valid:!0,data:o}}else return s===Ce.date&&i===Ce.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Fo extends st{_parse(t){const{status:s,ctx:i}=this._processInputParams(t),o=(c,u)=>{if(wm(c)||wm(u))return qe;const f=Nm(c.value,u.value);return f.valid?((jm(c)||jm(u))&&s.dirty(),{status:s.value,value:f.data}):(je(i,{code:pe.invalid_intersection_types}),qe)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([c,u])=>o(c,u)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Fo.create=(e,t,s)=>new Fo({left:e,right:t,typeName:Ke.ZodIntersection,...Je(s)});class Un extends st{_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==Ce.array)return je(i,{code:pe.invalid_type,expected:Ce.array,received:i.parsedType}),qe;if(i.data.length<this._def.items.length)return je(i,{code:pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qe;!this._def.rest&&i.data.length>this._def.items.length&&(je(i,{code:pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const c=[...i.data].map((u,f)=>{const h=this._def.items[f]||this._def.rest;return h?h._parse(new zn(i,u,i.path,f)):null}).filter(u=>!!u);return i.common.async?Promise.all(c).then(u=>xr.mergeArray(s,u)):xr.mergeArray(s,c)}get items(){return this._def.items}rest(t){return new Un({...this._def,rest:t})}}Un.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Un({items:e,typeName:Ke.ZodTuple,rest:null,...Je(t)})};class Lo extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==Ce.object)return je(i,{code:pe.invalid_type,expected:Ce.object,received:i.parsedType}),qe;const o=[],c=this._def.keyType,u=this._def.valueType;for(const f in i.data)o.push({key:c._parse(new zn(i,f,i.path,f)),value:u._parse(new zn(i,i.data[f],i.path,f)),alwaysSet:f in i.data});return i.common.async?xr.mergeObjectAsync(s,o):xr.mergeObjectSync(s,o)}get element(){return this._def.valueType}static create(t,s,i){return s instanceof st?new Lo({keyType:t,valueType:s,typeName:Ke.ZodRecord,...Je(i)}):new Lo({keyType:jn.create(),valueType:t,typeName:Ke.ZodRecord,...Je(s)})}}class Qc extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==Ce.map)return je(i,{code:pe.invalid_type,expected:Ce.map,received:i.parsedType}),qe;const o=this._def.keyType,c=this._def.valueType,u=[...i.data.entries()].map(([f,h],g)=>({key:o._parse(new zn(i,f,i.path,[g,"key"])),value:c._parse(new zn(i,h,i.path,[g,"value"]))}));if(i.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const h of u){const g=await h.key,x=await h.value;if(g.status==="aborted"||x.status==="aborted")return qe;(g.status==="dirty"||x.status==="dirty")&&s.dirty(),f.set(g.value,x.value)}return{status:s.value,value:f}})}else{const f=new Map;for(const h of u){const g=h.key,x=h.value;if(g.status==="aborted"||x.status==="aborted")return qe;(g.status==="dirty"||x.status==="dirty")&&s.dirty(),f.set(g.value,x.value)}return{status:s.value,value:f}}}}Qc.create=(e,t,s)=>new Qc({valueType:t,keyType:e,typeName:Ke.ZodMap,...Je(s)});class ka extends st{_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==Ce.set)return je(i,{code:pe.invalid_type,expected:Ce.set,received:i.parsedType}),qe;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(je(i,{code:pe.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),s.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(je(i,{code:pe.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),s.dirty());const c=this._def.valueType;function u(h){const g=new Set;for(const x of h){if(x.status==="aborted")return qe;x.status==="dirty"&&s.dirty(),g.add(x.value)}return{status:s.value,value:g}}const f=[...i.data.values()].map((h,g)=>c._parse(new zn(i,h,i.path,g)));return i.common.async?Promise.all(f).then(h=>u(h)):u(f)}min(t,s){return new ka({...this._def,minSize:{value:t,message:De.toString(s)}})}max(t,s){return new ka({...this._def,maxSize:{value:t,message:De.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}ka.create=(e,t)=>new ka({valueType:e,minSize:null,maxSize:null,typeName:Ke.ZodSet,...Je(t)});class pi extends st{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==Ce.function)return je(s,{code:pe.invalid_type,expected:Ce.function,received:s.parsedType}),qe;function i(f,h){return qc({data:f,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Uc(),bi].filter(g=>!!g),issueData:{code:pe.invalid_arguments,argumentsError:h}})}function o(f,h){return qc({data:f,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Uc(),bi].filter(g=>!!g),issueData:{code:pe.invalid_return_type,returnTypeError:h}})}const c={errorMap:s.common.contextualErrorMap},u=s.data;if(this._def.returns instanceof ji){const f=this;return Cr(async function(...h){const g=new Zr([]),x=await f._def.args.parseAsync(h,c).catch(S=>{throw g.addIssue(i(h,S)),g}),y=await Reflect.apply(u,this,x);return await f._def.returns._def.type.parseAsync(y,c).catch(S=>{throw g.addIssue(o(y,S)),g})})}else{const f=this;return Cr(function(...h){const g=f._def.args.safeParse(h,c);if(!g.success)throw new Zr([i(h,g.error)]);const x=Reflect.apply(u,this,g.data),y=f._def.returns.safeParse(x,c);if(!y.success)throw new Zr([o(x,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new pi({...this._def,args:Un.create(t).rest(ha.create())})}returns(t){return new pi({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,s,i){return new pi({args:t||Un.create([]).rest(ha.create()),returns:s||ha.create(),typeName:Ke.ZodFunction,...Je(i)})}}class Bo extends st{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Bo.create=(e,t)=>new Bo({getter:e,typeName:Ke.ZodLazy,...Je(t)});class $o extends st{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return je(s,{received:s.data,code:pe.invalid_literal,expected:this._def.value}),qe}return{status:"valid",value:t.data}}get value(){return this._def.value}}$o.create=(e,t)=>new $o({value:e,typeName:Ke.ZodLiteral,...Je(t)});function Hw(e,t){return new Us({values:e,typeName:Ke.ZodEnum,...Je(t)})}class Us extends st{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),i=this._def.values;return je(s,{expected:ut.joinValues(i),received:s.parsedType,code:pe.invalid_type}),qe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),i=this._def.values;return je(s,{received:s.data,code:pe.invalid_enum_value,options:i}),qe}return Cr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return Us.create(t,{...this._def,...s})}exclude(t,s=this._def){return Us.create(this.options.filter(i=>!t.includes(i)),{...this._def,...s})}}Us.create=Hw;class Vo extends st{_parse(t){const s=ut.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==Ce.string&&i.parsedType!==Ce.number){const o=ut.objectValues(s);return je(i,{expected:ut.joinValues(o),received:i.parsedType,code:pe.invalid_type}),qe}if(this._cache||(this._cache=new Set(ut.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const o=ut.objectValues(s);return je(i,{received:i.data,code:pe.invalid_enum_value,options:o}),qe}return Cr(t.data)}get enum(){return this._def.values}}Vo.create=(e,t)=>new Vo({values:e,typeName:Ke.ZodNativeEnum,...Je(t)});class ji extends st{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==Ce.promise&&s.common.async===!1)return je(s,{code:pe.invalid_type,expected:Ce.promise,received:s.parsedType}),qe;const i=s.parsedType===Ce.promise?s.data:Promise.resolve(s.data);return Cr(i.then(o=>this._def.type.parseAsync(o,{path:s.path,errorMap:s.common.contextualErrorMap})))}}ji.create=(e,t)=>new ji({type:e,typeName:Ke.ZodPromise,...Je(t)});class kn extends st{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:i}=this._processInputParams(t),o=this._def.effect||null,c={addIssue:u=>{je(i,u),u.fatal?s.abort():s.dirty()},get path(){return i.path}};if(c.addIssue=c.addIssue.bind(c),o.type==="preprocess"){const u=o.transform(i.data,c);if(i.common.async)return Promise.resolve(u).then(async f=>{if(s.value==="aborted")return qe;const h=await this._def.schema._parseAsync({data:f,path:i.path,parent:i});return h.status==="aborted"?qe:h.status==="dirty"||s.value==="dirty"?ii(h.value):h});{if(s.value==="aborted")return qe;const f=this._def.schema._parseSync({data:u,path:i.path,parent:i});return f.status==="aborted"?qe:f.status==="dirty"||s.value==="dirty"?ii(f.value):f}}if(o.type==="refinement"){const u=f=>{const h=o.refinement(f,c);if(i.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(i.common.async===!1){const f=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return f.status==="aborted"?qe:(f.status==="dirty"&&s.dirty(),u(f.value),{status:s.value,value:f.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(f=>f.status==="aborted"?qe:(f.status==="dirty"&&s.dirty(),u(f.value).then(()=>({status:s.value,value:f.value}))))}if(o.type==="transform")if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Sa(u))return qe;const f=o.transform(u.value,c);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:f}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>Sa(u)?Promise.resolve(o.transform(u.value,c)).then(f=>({status:s.value,value:f})):qe);ut.assertNever(o)}}kn.create=(e,t,s)=>new kn({schema:e,typeName:Ke.ZodEffects,effect:t,...Je(s)});kn.createWithPreprocess=(e,t,s)=>new kn({schema:t,effect:{type:"preprocess",transform:e},typeName:Ke.ZodEffects,...Je(s)});class $n extends st{_parse(t){return this._getType(t)===Ce.undefined?Cr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$n.create=(e,t)=>new $n({innerType:e,typeName:Ke.ZodOptional,...Je(t)});class qs extends st{_parse(t){return this._getType(t)===Ce.null?Cr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}qs.create=(e,t)=>new qs({innerType:e,typeName:Ke.ZodNullable,...Je(t)});class zo extends st{_parse(t){const{ctx:s}=this._processInputParams(t);let i=s.data;return s.parsedType===Ce.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}zo.create=(e,t)=>new zo({innerType:e,typeName:Ke.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Je(t)});class Uo extends st{_parse(t){const{ctx:s}=this._processInputParams(t),i={...s,common:{...s.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Ro(o)?o.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new Zr(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Zr(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Uo.create=(e,t)=>new Uo({innerType:e,typeName:Ke.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Je(t)});class Hc extends st{_parse(t){if(this._getType(t)!==Ce.nan){const i=this._getOrReturnCtx(t);return je(i,{code:pe.invalid_type,expected:Ce.nan,received:i.parsedType}),qe}return{status:"valid",value:t.data}}}Hc.create=e=>new Hc({typeName:Ke.ZodNaN,...Je(e)});const kI=Symbol("zod_brand");class jh extends st{_parse(t){const{ctx:s}=this._processInputParams(t),i=s.data;return this._def.type._parse({data:i,path:s.path,parent:s})}unwrap(){return this._def.type}}class nl extends st{_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return c.status==="aborted"?qe:c.status==="dirty"?(s.dirty(),ii(c.value)):this._def.out._parseAsync({data:c.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?qe:o.status==="dirty"?(s.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(t,s){return new nl({in:t,out:s,typeName:Ke.ZodPipeline})}}class qo extends st{_parse(t){const s=this._def.innerType._parse(t),i=o=>(Sa(o)&&(o.value=Object.freeze(o.value)),o);return Ro(s)?s.then(o=>i(o)):i(s)}unwrap(){return this._def.innerType}}qo.create=(e,t)=>new qo({innerType:e,typeName:Ke.ZodReadonly,...Je(t)});function sy(e,t){const s=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof s=="string"?{message:s}:s}function Nh(e,t={},s){return e?wi.create().superRefine((i,o)=>{const c=e(i);if(c instanceof Promise)return c.then(u=>{if(!u){const f=sy(t,i),h=f.fatal??s??!0;o.addIssue({code:"custom",...f,fatal:h})}});if(!c){const u=sy(t,i),f=u.fatal??s??!0;o.addIssue({code:"custom",...u,fatal:f})}}):wi.create()}const PI={object:At.lazycreate};var Ke;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ke||(Ke={}));const EI=(e,t={message:`Input not instance of ${e.name}`})=>Nh(s=>s instanceof e,t),Cd=jn.create,Sh=Vs.create,TI=Hc.create,_I=zs.create,Ch=Io.create,AI=Ca.create,RI=Kc.create,II=Oo.create,Gw=Mo.create,Ko=wi.create,OI=ha.create,MI=os.create,DI=Wc.create,Zw=Nn.create,Yw=At.create,FI=At.strictCreate,kh=Do.create,LI=Sd.create,BI=Fo.create,$I=Un.create,Xw=Lo.create,VI=Qc.create,zI=ka.create,UI=pi.create,qI=Bo.create,KI=$o.create,WI=Us.create,QI=Vo.create,HI=ji.create,ay=kn.create,GI=$n.create,ZI=qs.create,YI=kn.createWithPreprocess,XI=nl.create,JI=()=>Cd().optional(),e4=()=>Sh().optional(),t4=()=>Ch().optional(),r4={string:(e=>jn.create({...e,coerce:!0})),number:(e=>Vs.create({...e,coerce:!0})),boolean:(e=>Io.create({...e,coerce:!0})),bigint:(e=>zs.create({...e,coerce:!0})),date:(e=>Ca.create({...e,coerce:!0}))},n4=qe,s4=Object.freeze(Object.defineProperty({__proto__:null,BRAND:kI,DIRTY:ii,EMPTY_PATH:sI,INVALID:qe,NEVER:n4,OK:Cr,ParseStatus:xr,Schema:st,ZodAny:wi,ZodArray:Nn,ZodBigInt:zs,ZodBoolean:Io,ZodBranded:jh,ZodCatch:Uo,ZodDate:Ca,ZodDefault:zo,ZodDiscriminatedUnion:Sd,ZodEffects:kn,ZodEnum:Us,ZodError:Zr,get ZodFirstPartyTypeKind(){return Ke},ZodFunction:pi,ZodIntersection:Fo,ZodIssueCode:pe,ZodLazy:Bo,ZodLiteral:$o,ZodMap:Qc,ZodNaN:Hc,ZodNativeEnum:Vo,ZodNever:os,ZodNull:Mo,ZodNullable:qs,ZodNumber:Vs,ZodObject:At,ZodOptional:$n,ZodParsedType:Ce,ZodPipeline:nl,ZodPromise:ji,ZodReadonly:qo,ZodRecord:Lo,ZodSchema:st,ZodSet:ka,ZodString:jn,ZodSymbol:Kc,ZodTransformer:kn,ZodTuple:Un,ZodType:st,ZodUndefined:Oo,ZodUnion:Do,ZodUnknown:ha,ZodVoid:Wc,addIssueToContext:je,any:Ko,array:Zw,bigint:_I,boolean:Ch,coerce:r4,custom:Nh,date:AI,datetimeRegex:Qw,defaultErrorMap:bi,discriminatedUnion:LI,effect:ay,enum:WI,function:UI,getErrorMap:Uc,getParsedType:rs,instanceof:EI,intersection:BI,isAborted:wm,isAsync:Ro,isDirty:jm,isValid:Sa,late:PI,lazy:qI,literal:KI,makeIssue:qc,map:VI,nan:TI,nativeEnum:QI,never:MI,null:Gw,nullable:ZI,number:Sh,object:Yw,get objectUtil(){return bm},oboolean:t4,onumber:e4,optional:GI,ostring:JI,pipeline:XI,preprocess:YI,promise:HI,quotelessJson:rI,record:Xw,set:zI,setErrorMap:nI,strictObject:FI,string:Cd,symbol:RI,transformer:ay,tuple:$I,undefined:II,union:kh,unknown:OI,get util(){return ut},void:DI},Symbol.toStringTag,{value:"Module"})),Tt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Ut(e,t){return t.includes(e.columnType)}function a4(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const i4=kh([Cd(),Sh(),Ch(),Gw()]),o4=kh([i4,Xw(Ko()),Zw(Ko())]),l4=Nh(e=>e instanceof Buffer);function Jw(e,t){const s=t?.zodInstance??s4,i=t?.coerce??{};let o;return a4(e)&&(o=e.enumValues.length?s.enum(e.enumValues):s.string()),o||(Ut(e,["PgGeometry","PgPointTuple"])?o=s.tuple([s.number(),s.number()]):Ut(e,["PgGeometryObject","PgPointObject"])?o=s.object({x:s.number(),y:s.number()}):Ut(e,["PgHalfVector","PgVector"])?(o=s.array(s.number()),o=e.dimensions?o.length(e.dimensions):o):Ut(e,["PgLine"])?o=s.tuple([s.number(),s.number(),s.number()]):Ut(e,["PgLineABC"])?o=s.object({a:s.number(),b:s.number(),c:s.number()}):Ut(e,["PgArray"])?(o=s.array(Jw(e.baseColumn,s)),o=e.size?o.length(e.size):o):e.dataType==="array"?o=s.array(s.any()):e.dataType==="number"?o=c4(e,s,i):e.dataType==="bigint"?o=d4(e,s,i):e.dataType==="boolean"?o=i===!0||i.boolean?s.coerce.boolean():s.boolean():e.dataType==="date"?o=i===!0||i.date?s.coerce.date():s.date():e.dataType==="string"?o=u4(e,s,i):e.dataType==="json"?o=o4:e.dataType==="custom"?o=s.any():e.dataType==="buffer"&&(o=l4)),o||(o=s.any()),o}function c4(e,t,s){let i=e.getSQLType().includes("unsigned"),o,c,u=!1;Ut(e,["MySqlTinyInt","SingleStoreTinyInt"])?(o=i?0:Tt.INT8_MIN,c=i?Tt.INT8_UNSIGNED_MAX:Tt.INT8_MAX,u=!0):Ut(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=i?0:Tt.INT16_MIN,c=i?Tt.INT16_UNSIGNED_MAX:Tt.INT16_MAX,u=!0):Ut(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=i?0:Tt.INT24_MIN,c=i?Tt.INT24_UNSIGNED_MAX:Tt.INT24_MAX,u=Ut(e,["MySqlMediumInt","SingleStoreMediumInt"])):Ut(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=i?0:Tt.INT32_MIN,c=i?Tt.INT32_UNSIGNED_MAX:Tt.INT32_MAX,u=!0):Ut(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=i?0:Tt.INT48_MIN,c=i?Tt.INT48_UNSIGNED_MAX:Tt.INT48_MAX):Ut(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(i=i||Ut(e,["MySqlSerial","SingleStoreSerial"]),o=i?0:Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,u=!0):Ut(e,["MySqlYear","SingleStoreYear"])?(o=1901,c=2155,u=!0):(o=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER);let f=s===!0||s?.number?t.coerce.number():t.number();return f=f.min(o).max(c),u?f.int():f}function d4(e,t,s){const i=e.getSQLType().includes("unsigned"),o=i?0n:Tt.INT64_MIN,c=i?Tt.INT64_UNSIGNED_MAX:Tt.INT64_MAX;return(s===!0||s?.bigint?t.coerce.bigint():t.bigint()).min(o).max(c)}function u4(e,t,s){if(Ut(e,["PgUUID"]))return t.string().uuid();let i,o,c=!1;Ut(e,["PgVarchar","SQLiteText"])?i=e.length:Ut(e,["MySqlVarChar","SingleStoreVarChar"])?i=e.length??Tt.INT16_UNSIGNED_MAX:Ut(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?i=Tt.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?i=Tt.INT24_UNSIGNED_MAX:e.textType==="text"?i=Tt.INT16_UNSIGNED_MAX:i=Tt.INT8_UNSIGNED_MAX),Ut(e,["PgChar","MySqlChar","SingleStoreChar"])&&(i=e.length,c=!0),Ut(e,["PgBinaryVector"])&&(o=/^[01]+$/,i=e.dimensions);let u=s===!0||s?.string?t.coerce.string():t.string();return u=o?u.regex(o):u,i&&c?u.length(i):i?u.max(i):u}function ej(e){return Lw(e)?Y_(e):X_(e)}function tj(e,t,s,i){const o={};for(const[c,u]of Object.entries(e)){if(!ir(u,Ao)&&!ir(u,Ft)&&!ir(u,Ft.Aliased)&&typeof u=="object"){const y=Lw(u)||Z_(u)?ej(u):u;o[c]=tj(y,t[c]??{},s,i);continue}const f=t[c];if(f!==void 0&&typeof f!="function"){o[c]=f;continue}const h=ir(u,Ao)?u:void 0,g=h?Jw(h,i):Ko(),x=typeof f=="function"?f(g):g;s.never(h)||(o[c]=x,h&&(s.nullable(h)&&(o[c]=o[c].nullable()),s.optional(h)&&(o[c]=o[c].optional())))}return Yw(o)}const f4={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Gs=(e,t)=>{const s=ej(e);return tj(s,{},f4)},m4=Hs("god_register",{id:Yr("id").primaryKey().default(Lt`gen_random_uuid()`),phoneNumber:rt("phone_number").notNull().unique(),tenancyName:rt("tenancy_name").notNull(),registeredAt:Dr("registered_at").default(Lt`CURRENT_TIMESTAMP`)}),h4=Hs("server_registry",{id:Yr("id").primaryKey().default(Lt`gen_random_uuid()`),serverName:rt("server_name").notNull().unique(),maxBotCount:ma("max_bot_count").notNull(),currentBotCount:ma("current_bot_count").default(0),serverStatus:rt("server_status").default("active"),serverUrl:rt("server_url"),baseUrl:rt("base_url"),sharedSecret:rt("shared_secret"),description:rt("description"),createdAt:Dr("created_at").default(Lt`CURRENT_TIMESTAMP`),updatedAt:Dr("updated_at").default(Lt`CURRENT_TIMESTAMP`)}),p4=Hs("users",{id:Yr("id").primaryKey().default(Lt`gen_random_uuid()`),username:rt("username").notNull().unique(),password:rt("password").notNull(),role:rt("role").notNull().default("user"),serverName:rt("server_name").notNull(),createdAt:Dr("created_at").default(Lt`CURRENT_TIMESTAMP`)}),g4=Hs("bot_instances",{id:Yr("id").primaryKey().default(Lt`gen_random_uuid()`),name:rt("name").notNull(),phoneNumber:rt("phone_number"),status:rt("status").notNull().default("offline"),credentials:zc("credentials"),settings:zc("settings").default({}),autoLike:qr("auto_like").default(!0),autoViewStatus:qr("auto_view_status").default(!0),autoReact:qr("auto_react").default(!0),typingMode:rt("typing_mode").default("recording"),presenceMode:rt("presence_mode").default("available"),alwaysOnline:qr("always_online").default(!1),presenceAutoSwitch:qr("presence_auto_switch").default(!1),chatgptEnabled:qr("chatgpt_enabled").default(!1),lastActivity:Dr("last_activity"),messagesCount:ma("messages_count").default(0),commandsCount:ma("commands_count").default(0),approvalStatus:rt("approval_status").default("pending"),isGuest:qr("is_guest").default(!1),approvalDate:rt("approval_date"),expirationMonths:ma("expiration_months"),autoStart:qr("auto_start").default(!0),credentialVerified:qr("credential_verified").default(!1),credentialPhone:rt("credential_phone"),invalidReason:rt("invalid_reason"),authMessageSentAt:Dr("auth_message_sent_at"),serverName:rt("server_name").notNull(),createdAt:Dr("created_at").default(Lt`CURRENT_TIMESTAMP`),updatedAt:Dr("updated_at").default(Lt`CURRENT_TIMESTAMP`)}),x4=Hs("commands",{id:Yr("id").primaryKey().default(Lt`gen_random_uuid()`),name:rt("name").notNull(),description:rt("description").notNull(),response:rt("response"),isActive:qr("is_active").default(!0),useChatGPT:qr("use_chatgpt").default(!1),botInstanceId:Yr("bot_instance_id"),serverName:rt("server_name").notNull(),createdAt:Dr("created_at").default(Lt`CURRENT_TIMESTAMP`)}),v4=Hs("activities",{id:Yr("id").primaryKey().default(Lt`gen_random_uuid()`),botInstanceId:Yr("bot_instance_id"),type:rt("type").notNull(),description:rt("description").notNull(),metadata:zc("metadata").default({}),serverName:rt("server_name").notNull(),remoteTenancy:rt("remote_tenancy"),remoteBotId:rt("remote_bot_id"),phoneNumber:rt("phone_number"),createdAt:Dr("created_at").default(Lt`CURRENT_TIMESTAMP`)}),y4=Hs("groups",{id:Yr("id").primaryKey().default(Lt`gen_random_uuid()`),whatsappId:rt("whatsapp_id").notNull().unique(),name:rt("name").notNull(),description:rt("description"),participantCount:ma("participant_count").default(0),botInstanceId:Yr("bot_instance_id").notNull(),isActive:qr("is_active").default(!0),serverName:rt("server_name").notNull(),createdAt:Dr("created_at").default(Lt`CURRENT_TIMESTAMP`)}),b4=Hs("viewed_status_ids",{id:Yr("id").primaryKey().default(Lt`gen_random_uuid()`),botInstanceId:Yr("bot_instance_id").notNull(),statusId:rt("status_id").notNull(),statusSender:rt("status_sender").notNull(),viewedAt:Dr("viewed_at").default(Lt`CURRENT_TIMESTAMP`),expiresAt:Dr("expires_at").notNull(),serverName:rt("server_name").notNull()});Gs(p4).pick({username:!0,password:!0,role:!0});const w4=Gs(g4).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivity:!0,messagesCount:!0,commandsCount:!0}),j4=Gs(x4).omit({id:!0,createdAt:!0});Gs(v4).omit({id:!0,createdAt:!0});Gs(y4).omit({id:!0,createdAt:!0});Gs(m4).omit({id:!0,registeredAt:!0});Gs(h4).omit({id:!0,createdAt:!0,updatedAt:!0});Gs(b4).omit({id:!0,viewedAt:!0});const ls=p.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));ls.displayName="Textarea";var Uf="rovingFocusGroup.onEntryFocus",N4={bubbles:!1,cancelable:!0},sl="RovingFocusGroup",[Sm,rj,S4]=Mm(sl),[C4,kd]=Fr(sl,[S4]),[k4,P4]=C4(sl),nj=p.forwardRef((e,t)=>r.jsx(Sm.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Sm.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(E4,{...e,ref:t})})}));nj.displayName=sl;var E4=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:i,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:h,onEntryFocus:g,preventScrollOnEntryFocus:x=!1,...y}=e,j=p.useRef(null),S=ot(t,j),P=vd(c),[w,b]=ss({prop:u,defaultProp:f??null,onChange:h,caller:sl}),[E,C]=p.useState(!1),I=cn(g),F=rj(s),$=p.useRef(!1),[G,q]=p.useState(0);return p.useEffect(()=>{const J=j.current;if(J)return J.addEventListener(Uf,I),()=>J.removeEventListener(Uf,I)},[I]),r.jsx(k4,{scope:s,orientation:i,dir:P,loop:o,currentTabStopId:w,onItemFocus:p.useCallback(J=>b(J),[b]),onItemShiftTab:p.useCallback(()=>C(!0),[]),onFocusableItemAdd:p.useCallback(()=>q(J=>J+1),[]),onFocusableItemRemove:p.useCallback(()=>q(J=>J-1),[]),children:r.jsx(Fe.div,{tabIndex:E||G===0?-1:0,"data-orientation":i,...y,ref:S,style:{outline:"none",...e.style},onMouseDown:Oe(e.onMouseDown,()=>{$.current=!0}),onFocus:Oe(e.onFocus,J=>{const ve=!$.current;if(J.target===J.currentTarget&&ve&&!E){const ge=new CustomEvent(Uf,N4);if(J.currentTarget.dispatchEvent(ge),!ge.defaultPrevented){const de=F().filter(z=>z.focusable),X=de.find(z=>z.active),ae=de.find(z=>z.id===w),ne=[X,ae,...de].filter(Boolean).map(z=>z.ref.current);ij(ne,x)}}$.current=!1}),onBlur:Oe(e.onBlur,()=>C(!1))})})}),sj="RovingFocusGroupItem",aj=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:i=!0,active:o=!1,tabStopId:c,children:u,...f}=e,h=Sr(),g=c||h,x=P4(sj,s),y=x.currentTabStopId===g,j=rj(s),{onFocusableItemAdd:S,onFocusableItemRemove:P,currentTabStopId:w}=x;return p.useEffect(()=>{if(i)return S(),()=>P()},[i,S,P]),r.jsx(Sm.ItemSlot,{scope:s,id:g,focusable:i,active:o,children:r.jsx(Fe.span,{tabIndex:y?0:-1,"data-orientation":x.orientation,...f,ref:t,onMouseDown:Oe(e.onMouseDown,b=>{i?x.onItemFocus(g):b.preventDefault()}),onFocus:Oe(e.onFocus,()=>x.onItemFocus(g)),onKeyDown:Oe(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){x.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const E=A4(b,x.orientation,x.dir);if(E!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let I=j().filter(F=>F.focusable).map(F=>F.ref.current);if(E==="last")I.reverse();else if(E==="prev"||E==="next"){E==="prev"&&I.reverse();const F=I.indexOf(b.currentTarget);I=x.loop?R4(I,F+1):I.slice(F+1)}setTimeout(()=>ij(I))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:w!=null}):u})})});aj.displayName=sj;var T4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function A4(e,t,s){const i=_4(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return T4[i]}function ij(e,t=!1){const s=document.activeElement;for(const i of e)if(i===s||(i.focus({preventScroll:t}),document.activeElement!==s))return}function R4(e,t){return e.map((s,i)=>e[(t+i)%e.length])}var oj=nj,lj=aj,Pd="Tabs",[I4,qM]=Fr(Pd,[kd]),cj=kd(),[O4,Ph]=I4(Pd),dj=p.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,onValueChange:o,defaultValue:c,orientation:u="horizontal",dir:f,activationMode:h="automatic",...g}=e,x=vd(f),[y,j]=ss({prop:i,onChange:o,defaultProp:c??"",caller:Pd});return r.jsx(O4,{scope:s,baseId:Sr(),value:y,onValueChange:j,orientation:u,dir:x,activationMode:h,children:r.jsx(Fe.div,{dir:x,"data-orientation":u,...g,ref:t})})});dj.displayName=Pd;var uj="TabsList",fj=p.forwardRef((e,t)=>{const{__scopeTabs:s,loop:i=!0,...o}=e,c=Ph(uj,s),u=cj(s);return r.jsx(oj,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:i,children:r.jsx(Fe.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:t})})});fj.displayName=uj;var mj="TabsTrigger",hj=p.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,disabled:o=!1,...c}=e,u=Ph(mj,s),f=cj(s),h=xj(u.baseId,i),g=vj(u.baseId,i),x=i===u.value;return r.jsx(lj,{asChild:!0,...f,focusable:!o,active:x,children:r.jsx(Fe.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":g,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...c,ref:t,onMouseDown:Oe(e.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?u.onValueChange(i):y.preventDefault()}),onKeyDown:Oe(e.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&u.onValueChange(i)}),onFocus:Oe(e.onFocus,()=>{const y=u.activationMode!=="manual";!x&&!o&&y&&u.onValueChange(i)})})})});hj.displayName=mj;var pj="TabsContent",gj=p.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,forceMount:o,children:c,...u}=e,f=Ph(pj,s),h=xj(f.baseId,i),g=vj(f.baseId,i),x=i===f.value,y=p.useRef(x);return p.useEffect(()=>{const j=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(j)},[]),r.jsx(Pn,{present:o||x,children:({present:j})=>r.jsx(Fe.div,{"data-state":x?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":h,hidden:!j,id:g,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:y.current?"0s":void 0},children:j&&c})})});gj.displayName=pj;function xj(e,t){return`${e}-trigger-${t}`}function vj(e,t){return`${e}-content-${t}`}var M4=dj,yj=fj,bj=hj,wj=gj;const Ea=M4,Zs=p.forwardRef(({className:e,...t},s)=>r.jsx(yj,{ref:s,className:ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Zs.displayName=yj.displayName;const St=p.forwardRef(({className:e,...t},s)=>r.jsx(bj,{ref:s,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));St.displayName=bj.displayName;const yt=p.forwardRef(({className:e,...t},s)=>r.jsx(wj,{ref:s,className:ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));yt.displayName=wj.displayName;const D4=w4.extend({credentialsFile:Ko().optional(),credentialsBase64:Cd().optional()});function jj({open:e,onClose:t}){const{toast:s}=tr(),i=kr(),o=p.useRef(null),[c,u]=p.useState(null),[f,h]=p.useState(""),[g,x]=p.useState("file"),y=Aw({resolver:Iw(D4),defaultValues:{name:"",autoLike:!0,autoViewStatus:!0,autoReact:!1,typingMode:"none",chatgptEnabled:!1}}),j=We({mutationFn:async b=>{const E=new FormData;Object.entries(b).forEach(([I,F])=>{I!=="credentialsFile"&&I!=="credentialsBase64"&&E.append(I,String(F))}),g==="file"&&c&&E.append("credentials",c),g==="base64"&&f.trim()&&E.append("credentialsBase64",f.trim());const C=await fetch("/api/bot-instances",{method:"POST",body:E});if(!C.ok){const I=await C.json();throw new Error(I.message||"Failed to create bot instance")}return C.json()},onSuccess:()=>{s({title:"Bot instance created successfully"}),i.invalidateQueries({queryKey:["/api/bot-instances"]}),i.invalidateQueries({queryKey:["/api/dashboard/stats"]}),y.reset(),u(null),h(""),t()},onError:b=>{s({title:"Failed to create bot instance",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),S=b=>{const E=b.target.files?.[0];if(E){if(!E.name.endsWith(".json")){s({title:"Invalid file type",description:"Please select a valid JSON file",variant:"destructive"});return}if(E.size<10){s({title:"File too small",description:"The credentials file appears to be empty or invalid",variant:"destructive"});return}if(E.size>5*1024*1024){s({title:"File too large",description:"Credentials file must be smaller than 5MB",variant:"destructive"});return}const C=new FileReader;C.onload=I=>{try{const F=I.target?.result,$=JSON.parse(F);if(typeof $!="object"||!$||Array.isArray($))throw new Error("Invalid credentials format");if(Object.keys($).length===0)throw new Error("Credentials file is empty");u(E),s({title:"File validated",description:"Credentials file looks valid",variant:"default"})}catch{s({title:"Invalid JSON file",description:"The file contains invalid JSON or is not a proper credentials file",variant:"destructive"}),u(null)}},C.readAsText(E)}},P=b=>{if(h(b),b.trim())try{const E=atob(b.trim()),C=JSON.parse(E);if(typeof C!="object"||!C||Array.isArray(C))throw new Error("Invalid credentials format");if(Object.keys(C).length===0)throw new Error("Credentials file is empty");s({title:"Base64 credentials validated",description:"Credentials data looks valid",variant:"default"})}catch{s({title:"Invalid base64 credentials",description:"Please check that your base64 string contains valid JSON credentials",variant:"destructive"})}},w=b=>{j.mutate(b)};return r.jsx(qt,{open:e,onOpenChange:t,children:r.jsxs(Ot,{className:"bg-card border-border max-w-md","data-testid":"modal-add-bot",children:[r.jsx(Mt,{children:r.jsx(Dt,{className:"text-lg font-semibold text-foreground",children:"Add New Bot Instance"})}),r.jsxs("form",{onSubmit:y.handleSubmit(w),className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Bot Name"}),r.jsx(Yt,{id:"name",placeholder:"Enter bot name...",...y.register("name"),className:"w-full bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-bot-name"}),y.formState.errors.name&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:y.formState.errors.name.message})]}),r.jsxs("div",{children:[r.jsx(_e,{className:"block text-sm font-medium text-foreground mb-2",children:"Credentials"}),r.jsxs(Ea,{value:g,onValueChange:b=>x(b),className:"w-full",children:[r.jsxs(Zs,{className:"grid w-full grid-cols-2",children:[r.jsx(St,{value:"file",children:"Upload File"}),r.jsx(St,{value:"base64",children:"Paste Base64"})]}),r.jsxs(yt,{value:"file",className:"mt-4",children:[r.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>o.current?.click(),"data-testid":"dropzone-credentials",children:[r.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center mx-auto mb-3",children:r.jsx("i",{className:"fas fa-upload text-muted-foreground text-xl"})}),r.jsx("p",{className:"text-sm text-foreground font-medium",children:c?c.name:"Click to upload creds.json"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"or drag and drop your credentials file"})]}),r.jsx("input",{ref:o,type:"file",accept:".json",onChange:S,className:"hidden","data-testid":"input-credentials-file"})]}),r.jsx(yt,{value:"base64",className:"mt-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(ls,{placeholder:"Paste your base64-encoded credentials here...",value:f,onChange:b=>P(b.target.value),className:"min-h-[120px] bg-input border-border text-foreground placeholder:text-muted-foreground font-mono text-sm","data-testid":"textarea-base64-credentials"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste the base64-encoded version of your creds.json file. The bot will decode and validate it automatically."})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(_e,{className:"block text-sm font-medium text-foreground mb-2",children:"Auto Features"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Hr,{id:"autoLike",checked:y.watch("autoLike")||!1,onCheckedChange:b=>y.setValue("autoLike",b),"data-testid":"checkbox-auto-like"}),r.jsx(_e,{htmlFor:"autoLike",className:"text-sm text-foreground",children:"Auto Like"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Hr,{id:"autoViewStatus",checked:y.watch("autoViewStatus")||!1,onCheckedChange:b=>y.setValue("autoViewStatus",b),"data-testid":"checkbox-auto-view-status"}),r.jsx(_e,{htmlFor:"autoViewStatus",className:"text-sm text-foreground",children:"Auto View Status"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Hr,{id:"autoReact",checked:y.watch("autoReact")||!1,onCheckedChange:b=>y.setValue("autoReact",b),"data-testid":"checkbox-auto-react"}),r.jsx(_e,{htmlFor:"autoReact",className:"text-sm text-foreground",children:"Auto React"})]})]})]}),r.jsxs("div",{children:[r.jsx(_e,{className:"block text-sm font-medium text-foreground mb-2",children:"Typing Mode"}),r.jsxs(Or,{value:y.watch("typingMode")||"none",onValueChange:b=>y.setValue("typingMode",b),children:[r.jsx(wr,{className:"w-full bg-input border-border text-foreground","data-testid":"select-typing-mode",children:r.jsx(Mr,{})}),r.jsxs(jr,{className:"bg-popover border-border",children:[r.jsx(Ue,{value:"none",children:"None"}),r.jsx(Ue,{value:"typing",children:"Always Typing"}),r.jsx(Ue,{value:"recording",children:"Recording Audio"}),r.jsx(Ue,{value:"both",children:"Both (Switch)"})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Hr,{id:"chatgptEnabled",checked:y.watch("chatgptEnabled")||!1,onCheckedChange:b=>y.setValue("chatgptEnabled",b),"data-testid":"checkbox-chatgpt-enabled"}),r.jsx(_e,{htmlFor:"chatgptEnabled",className:"text-sm text-foreground",children:"Enable ChatGPT Integration"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(Q,{type:"button",variant:"ghost",onClick:t,"data-testid":"button-cancel",children:"Cancel"}),r.jsx(Q,{type:"submit",disabled:j.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-bot",children:j.isPending?"Creating...":"Create Bot Instance"})]})]})]})})}const F4=["SYSTEM","ADMIN","CUSTOM","FUN","TOOLS","SEARCH","DOWNLOAD","CONVERT"],qf=`// Example WhatsApp bot command
// Available context: { respond, args, message, client }

const query = args.join(' ');
if (!query) {
  await respond(' Please provide a search query!');
  return;
}

await respond(\` Searching for: *\${query}*\`);
// Your custom logic here
await respond(\` Results for: *\${query}*\`);`;function L4({open:e,onClose:t}){const{toast:s}=tr(),i=kr(),[o,c]=p.useState({name:"",description:"",category:"CUSTOM",code:qf}),{data:u=[],isLoading:f}=xt({queryKey:["/api/commands"],queryFn:async()=>{const x=await fetch("/api/commands");if(!x.ok)throw new Error("Failed to fetch commands");return x.json()}}),h=We({mutationFn:async x=>{const y=await fetch("/api/commands/custom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!y.ok){const j=await y.json();throw new Error(j.message||"Failed to create command")}return y.json()},onSuccess:()=>{s({title:"Custom command created successfully"}),i.invalidateQueries({queryKey:["/api/commands"]}),c({name:"",description:"",category:"CUSTOM",code:qf})},onError:x=>{s({title:"Failed to create command",description:x instanceof Error?x.message:"Unknown error",variant:"destructive"})}}),g=x=>{if(x.preventDefault(),!o.name||!o.description||!o.code){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}h.mutate(o)};return r.jsx(qt,{open:e,onOpenChange:t,children:r.jsxs(Ot,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Mt,{children:r.jsx(Dt,{className:"text-xl font-bold",children:" TREKKER-MD Command Management"})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"space-y-4",children:r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsx(Ve,{children:"Create Custom Command"}),r.jsx(nt,{children:"Add custom JavaScript code that will execute when users call your command"})]}),r.jsx(fe,{children:r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"name",children:"Command Name *"}),r.jsx(Yt,{id:"name",placeholder:"mycommand",value:o.name,onChange:x=>c(y=>({...y,name:x.target.value})),className:"font-mono"})]}),r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"description",children:"Description *"}),r.jsx(Yt,{id:"description",placeholder:"What does this command do?",value:o.description,onChange:x=>c(y=>({...y,description:x.target.value}))})]}),r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"category",children:"Category"}),r.jsxs(Or,{value:o.category,onValueChange:x=>c(y=>({...y,category:x})),children:[r.jsx(wr,{children:r.jsx(Mr,{})}),r.jsx(jr,{children:F4.map(x=>r.jsx(Ue,{value:x,children:x},x))})]})]}),r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"code",children:"Command Code *"}),r.jsx(ls,{id:"code",placeholder:"Your JavaScript code here...",value:o.code,onChange:x=>c(y=>({...y,code:x.target.value})),className:"min-h-[300px] font-mono text-sm"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available context: respond, args, message, client"})]}),r.jsx(Q,{type:"submit",disabled:h.isPending,className:"w-full",children:h.isPending?"Creating...":"Create Command"})]})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsxs(Ve,{children:["Existing Commands (",u.length,")"]}),r.jsx(nt,{children:"All commands available in your TREKKER-MD bot"})]}),r.jsx(fe,{children:f?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading commands..."})]}):r.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:u.map(x=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-mono text-sm font-semibold",children:[".",x.name,x.customCode&&r.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-blue-100 text-blue-800 text-xs rounded",children:"CUSTOM"})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:x.description}),r.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded mt-1 inline-block",children:x.category})]}),r.jsx("div",{className:`w-2 h-2 rounded-full ${x.isActive?"bg-green-500":"bg-red-500"}`})]},x.id))})})]}),r.jsxs(ue,{children:[r.jsx(Le,{children:r.jsx(Ve,{children:" Command Example"})}),r.jsx(fe,{children:r.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-x-auto",children:qf})})]})]})]})]})})}var Eh="Radio",[B4,Nj]=Fr(Eh),[$4,V4]=B4(Eh),Sj=p.forwardRef((e,t)=>{const{__scopeRadio:s,name:i,checked:o=!1,required:c,disabled:u,value:f="on",onCheck:h,form:g,...x}=e,[y,j]=p.useState(null),S=ot(t,b=>j(b)),P=p.useRef(!1),w=y?g||!!y.closest("form"):!0;return r.jsxs($4,{scope:s,checked:o,disabled:u,children:[r.jsx(Fe.button,{type:"button",role:"radio","aria-checked":o,"data-state":Ej(o),"data-disabled":u?"":void 0,disabled:u,value:f,...x,ref:S,onClick:Oe(e.onClick,b=>{o||h?.(),w&&(P.current=b.isPropagationStopped(),P.current||b.stopPropagation())})}),w&&r.jsx(Pj,{control:y,bubbles:!P.current,name:i,value:f,checked:o,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});Sj.displayName=Eh;var Cj="RadioIndicator",kj=p.forwardRef((e,t)=>{const{__scopeRadio:s,forceMount:i,...o}=e,c=V4(Cj,s);return r.jsx(Pn,{present:i||c.checked,children:r.jsx(Fe.span,{"data-state":Ej(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:t})})});kj.displayName=Cj;var z4="RadioBubbleInput",Pj=p.forwardRef(({__scopeRadio:e,control:t,checked:s,bubbles:i=!0,...o},c)=>{const u=p.useRef(null),f=ot(u,c),h=fh(s),g=Gm(t);return p.useEffect(()=>{const x=u.current;if(!x)return;const y=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==s&&S){const P=new Event("click",{bubbles:i});S.call(x,s),x.dispatchEvent(P)}},[h,s,i]),r.jsx(Fe.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:f,style:{...o.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Pj.displayName=z4;function Ej(e){return e?"checked":"unchecked"}var U4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ed="RadioGroup",[q4,KM]=Fr(Ed,[kd,Nj]),Tj=kd(),_j=Nj(),[K4,W4]=q4(Ed),Aj=p.forwardRef((e,t)=>{const{__scopeRadioGroup:s,name:i,defaultValue:o,value:c,required:u=!1,disabled:f=!1,orientation:h,dir:g,loop:x=!0,onValueChange:y,...j}=e,S=Tj(s),P=vd(g),[w,b]=ss({prop:c,defaultProp:o??null,onChange:y,caller:Ed});return r.jsx(K4,{scope:s,name:i,required:u,disabled:f,value:w,onValueChange:b,children:r.jsx(oj,{asChild:!0,...S,orientation:h,dir:P,loop:x,children:r.jsx(Fe.div,{role:"radiogroup","aria-required":u,"aria-orientation":h,"data-disabled":f?"":void 0,dir:P,...j,ref:t})})})});Aj.displayName=Ed;var Rj="RadioGroupItem",Ij=p.forwardRef((e,t)=>{const{__scopeRadioGroup:s,disabled:i,...o}=e,c=W4(Rj,s),u=c.disabled||i,f=Tj(s),h=_j(s),g=p.useRef(null),x=ot(t,g),y=c.value===o.value,j=p.useRef(!1);return p.useEffect(()=>{const S=w=>{U4.includes(w.key)&&(j.current=!0)},P=()=>j.current=!1;return document.addEventListener("keydown",S),document.addEventListener("keyup",P),()=>{document.removeEventListener("keydown",S),document.removeEventListener("keyup",P)}},[]),r.jsx(lj,{asChild:!0,...f,focusable:!u,active:y,children:r.jsx(Sj,{disabled:u,required:c.required,checked:y,...h,...o,name:c.name,ref:x,onCheck:()=>c.onValueChange(o.value),onKeyDown:Oe(S=>{S.key==="Enter"&&S.preventDefault()}),onFocus:Oe(o.onFocus,()=>{j.current&&g.current?.click()})})})});Ij.displayName=Rj;var Q4="RadioGroupIndicator",Oj=p.forwardRef((e,t)=>{const{__scopeRadioGroup:s,...i}=e,o=_j(s);return r.jsx(kj,{...o,...i,ref:t})});Oj.displayName=Q4;var Mj=Aj,Dj=Ij,H4=Oj;const Th=p.forwardRef(({className:e,...t},s)=>r.jsx(Mj,{className:ke("grid gap-2",e),...t,ref:s}));Th.displayName=Mj.displayName;const Wo=p.forwardRef(({className:e,...t},s)=>r.jsx(Dj,{ref:s,className:ke("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(H4,{className:"flex items-center justify-center",children:r.jsx(Zk,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Wo.displayName=Dj.displayName;function Fj({open:e,onClose:t,botId:s,phoneNumber:i,guestToken:o,onSuccess:c,crossTenancyMode:u=!1,targetServer:f}){const{toast:h}=tr(),g=p.useRef(null),x=p.useRef(null),[y,j]=p.useState("base64"),[S,P]=p.useState(""),[w,b]=p.useState(null),[E,C]=p.useState(!1),[I,F]=p.useState(null),[$,G]=p.useState("idle"),[q,J]=p.useState("");p.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]);const ve=async ae=>{if(!ae.trim()){G("idle"),J("");return}G("validating"),J("Validating credentials format...");try{const B=atob(ae.trim()),ne=JSON.parse(B);if(!ne||typeof ne!="object")throw new Error("Invalid credentials format");if(!ne.me||!ne.me.id)throw new Error("Missing essential WhatsApp session data");const z=ne.me.id.match(/^(\d+):/);if(!z)throw new Error("Unable to extract phone number from credentials");const T=z[1],M=i.replace(/[\s\-\(\)\+]/g,"");if(T!==M){G("invalid"),J(` Phone number mismatch. Credentials are for ${T}, but you're updating ${i}`);return}G("valid"),J(" Credentials format is valid and phone number matches")}catch(B){G("invalid"),B instanceof Error?J(` ${B.message}`):J(" Invalid base64 credentials format")}},ge=ae=>{const B=ae.target.files?.[0];if(B){if(!B.name.endsWith(".json")){h({title:"Invalid File",description:"Please select a valid .json file",variant:"destructive"});return}b(B)}},de=async ae=>{if(ae.preventDefault(),y==="base64"){if(!S.trim()){h({title:"Missing Credentials",description:"Please provide a Base64 session ID",variant:"destructive"});return}if($==="invalid"){h({title:"Invalid Credentials",description:"Please fix the credential validation errors before submitting",variant:"destructive"});return}if($==="validating"){h({title:"Validation in Progress",description:"Please wait for credential validation to complete",variant:"destructive"});return}if($!=="valid"&&S.trim()){h({title:"Unvalidated Credentials",description:"Please wait for credential validation to complete",variant:"destructive"});return}}if(y==="file"&&!w){h({title:"Missing File",description:"Please select a credentials file",variant:"destructive"});return}if(!u&&!o){h({title:"Authentication Required",description:"Please authenticate before updating credentials",variant:"destructive"});return}C(!0);try{const B=new FormData;B.append("phoneNumber",i),B.append("action","update_credentials"),B.append("credentialType",y),u||B.append("botId",s),u&&f&&B.append("targetServer",f),y==="base64"?B.append("sessionId",S):w&&B.append("credsFile",w);const ne=u?"/api/guest/cross-tenancy-manage":"/api/guest/manage-bot",z={};o&&(z.Authorization=`Bearer ${o}`);const T=await fetch(ne,{method:"POST",headers:z,body:B}),M=await T.json();T.ok?M.crossTenancy&&M.nextSteps?(F(M),h({title:"Cross-Tenancy Update Initiated!",description:M.message})):(h({title:"Success!",description:M.message}),P(""),b(null),g.current&&(g.current.value=""),c?.(),t()):h({title:"Update Failed",description:M.message||"Failed to update credentials",variant:"destructive"})}catch(B){console.error("Error updating credentials:",B),h({title:"Network Error",description:"Failed to connect to server. Please try again.",variant:"destructive"})}finally{C(!1)}},X=()=>{E||(P(""),b(null),F(null),g.current&&(g.current.value=""),t())};return r.jsx(qt,{open:e,onOpenChange:X,children:r.jsxs(Ot,{className:"max-w-md",children:[r.jsxs(Mt,{children:[r.jsxs(Dt,{children:[" ",u?"Cross-Tenancy":""," Update Bot Credentials"]}),r.jsx(_o,{children:u?`Update credentials across servers (Target: ${f})`:"Update your WhatsApp bot credentials to restore connectivity"})]}),I?r.jsxs("div",{className:"space-y-4",children:[r.jsx(ue,{className:"bg-emerald-50 border-emerald-200 dark:bg-emerald-900/20 dark:border-emerald-800",children:r.jsxs(fe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 text-lg",children:""}),r.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200",children:"Cross-Tenancy Update Successful!"})]}),r.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 mb-3",children:I.message}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Source:"}),r.jsx("div",{className:"text-muted-foreground",children:I.sourceServer})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Target:"}),r.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:I.targetServer})]})]})]})}),r.jsx(ue,{className:"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800",children:r.jsxs(fe,{className:"p-4",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:" Next Steps"}),r.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:I.nextSteps?.map((ae,B)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),ae]},B))})]})}),r.jsx(Q,{onClick:X,className:"w-full",children:" Awesome! Got It"})]}):r.jsxs("form",{onSubmit:de,className:"space-y-4",children:[r.jsx(ue,{className:`${u?"bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:border-purple-800":"bg-blue-50 border-blue-200"}`,children:r.jsxs(fe,{className:"p-3",children:[r.jsxs("p",{className:`text-sm ${u?"text-purple-800 dark:text-purple-200":"text-blue-800"}`,children:[r.jsx("strong",{children:" Phone:"})," ",i,u&&r.jsxs(r.Fragment,{children:[r.jsx("br",{}),r.jsx("strong",{children:" Target Server:"})," ",f]})]}),r.jsx("p",{className:`text-xs mt-1 ${u?"text-purple-600 dark:text-purple-300":"text-blue-600"}`,children:u?"Credentials will be transferred to the target server":"New credentials must match this phone number"})]})}),r.jsxs("div",{children:[r.jsx(_e,{className:"text-base font-medium",children:"Choose Credential Type *"}),r.jsxs(Th,{value:y,onValueChange:ae=>j(ae),className:"mt-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Wo,{value:"base64",id:"base64"}),r.jsx(_e,{htmlFor:"base64",children:"Paste Base64 Session ID"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Wo,{value:"file",id:"file"}),r.jsx(_e,{htmlFor:"file",children:"Upload creds.json File"})]})]})]}),y==="base64"?r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"sessionId",children:"Base64 Session ID *"}),r.jsx(ls,{id:"sessionId",placeholder:"Paste your Base64 encoded session here...",value:S,onChange:ae=>{const B=ae.target.value;P(B),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{ve(B)},1e3)},className:`min-h-[100px] text-xs ${$==="valid"?"border-green-500 bg-green-50/50":$==="invalid"?"border-red-500 bg-red-50/50":$==="validating"?"border-yellow-500 bg-yellow-50/50":""}`,required:!0}),q&&r.jsx("div",{className:`text-xs mt-2 p-2 rounded border ${$==="valid"?"text-green-700 bg-green-50 border-green-200":$==="invalid"?"text-red-700 bg-red-50 border-red-200":$==="validating"?"text-yellow-700 bg-yellow-50 border-yellow-200":"text-gray-700 bg-gray-50 border-gray-200"}`,children:q}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get this from your WhatsApp session backup. The system will validate the format and phone number match in real-time."})]}):r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"credsFile",children:"Upload creds.json File *"}),r.jsx(Yt,{id:"credsFile",type:"file",accept:".json",onChange:ge,ref:g,required:!0}),w&&r.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[" Selected: ",w.name]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select the creds.json file from your bot session"})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(Q,{type:"button",variant:"outline",onClick:X,disabled:E,className:"flex-1",children:"Cancel"}),r.jsx(Q,{type:"submit",disabled:E,className:`flex-1 ${u?"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700":""}`,children:E?"Updating...":u?" Update Cross-Tenancy":"Update Credentials"})]})]})]})})}function Lj({open:e,onClose:t}){const{toast:s}=tr(),[i,o]=p.useState({botName:"",phoneNumber:"",credentialType:"base64",sessionId:"",credsFile:null,features:{autoLike:!1,autoReact:!1,autoView:!1,presenceMode:"none",intervalSeconds:30,chatGPT:!1}}),[c,u]=p.useState(1),[f,h]=p.useState(null),[g,x]=p.useState(null),[y,j]=p.useState(null),[S,P]=p.useState(null),[w,b]=p.useState(!1),[E,C]=p.useState(!1),[I,F]=p.useState(null),[$,G]=p.useState(null),[q,J]=p.useState(""),[ve,ge]=p.useState([]),de=async()=>{try{const k=await fetch("/api/servers/available");if(k.ok){const V=await k.json();ge(V.servers||[])}else console.error("Failed to fetch available servers"),ge([])}catch(k){console.error("Error fetching servers:",k),ge([])}},X=We({mutationFn:async k=>{const V=k.replace(/[\s\-\(\)\+]/g,""),ee=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:V})});if(!ee.ok){let he="Failed to check phone number";try{const re=await ee.json();if(re.registeredTo&&re.message)return{registered:!0,currentServer:!1,registeredTo:re.registeredTo,message:re.message,serverMismatch:!0};he=re.message||he}catch{he=ee.statusText||he}throw new Error(he)}const te=ee.headers.get("content-type");if(!te||!te.includes("application/json"))throw new Error("Invalid response format from server");return ee.json()},onSuccess:k=>{G(k),k.registered||k.serverMismatch?k.serverMismatch||!k.currentServer&&k.registeredTo?(x({details:{registeredTo:k.registeredTo},message:k.message,registeredTo:k.registeredTo,botDetails:k.botDetails||null}),u(9)):k.currentServer&&(k.hasBot?(h(k.bot),u(8)):(de(),u(3))):(de(),u(3))},onError:k=>{s({title:"Phone Check Failed",description:k.message,variant:"destructive"}),u(1)}}),ae=We({mutationFn:async k=>{const V=new FormData;if(V.append("botName",k.botName),V.append("phoneNumber",k.phoneNumber),V.append("credentialType",k.credentialType),V.append("features",JSON.stringify(k.features)),k.selectedServer&&V.append("selectedServer",k.selectedServer),k.credentialType==="base64"&&k.sessionId)try{const te=atob(k.sessionId.trim());JSON.parse(te),V.append("sessionId",k.sessionId)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}else k.credsFile&&V.append("credsFile",k.credsFile);const ee=await fetch("/api/guest/register-bot",{method:"POST",body:V});if(!ee.ok){const te=await ee.json();throw new Error(te.message||"Failed to register bot")}return ee.json()},onSuccess:k=>{k.type==="existing_bot_found"?(h(k.botDetails),u(8),s({title:"Existing Bot Found",description:k.message||"Welcome back! You have a bot on this server."})):k.type==="cross_tenancy_registered"?(P(k),u(11),s({title:"Auto-Distributed to Available Server",description:k.message||"Your bot has been registered on an available server!"})):(u(7),s({title:"Bot registration submitted",description:k.message||"Your bot is being validated..."}))},onError:k=>{const V=k.message;if(V?.includes("server")&&V?.includes("registered to")){x({message:V}),u(9);return}u(c===6?5:4),s({title:"Registration failed",description:k instanceof Error?k.message:"Unknown error",variant:"destructive"})}}),B=k=>{if(k.preventDefault(),!i.phoneNumber){s({title:"Validation Error",description:"Please enter your phone number",variant:"destructive"});return}u(2),X.mutate(i.phoneNumber)},ne=k=>{J(k),u(4)},z=()=>{if(c===4){if(i.credentialType==="base64"&&!i.sessionId){s({title:"Validation Error",description:"Please provide the base64 session ID",variant:"destructive"});return}if(i.credentialType==="file"&&!i.credsFile){s({title:"Validation Error",description:"Please upload the creds.json file",variant:"destructive"});return}u(5)}else c===5&&T()},T=()=>{if(!i.botName){s({title:"Validation Error",description:"Please enter a bot name",variant:"destructive"});return}const k={...i,phoneNumber:i.phoneNumber.replace(/^\+/,""),selectedServer:q};u(6),ae.mutate(k)},M=k=>{const V=k.target.files?.[0];V&&o(ee=>({...ee,credsFile:V}))};We({mutationFn:async({action:k,botId:V,phoneNumber:ee})=>{const te=new FormData;te.append("phoneNumber",ee),te.append("action",k),te.append("botId",V);const he=await fetch("/api/guest/manage-bot",{method:"POST",body:te});if(!he.ok){const re=await he.json();throw new Error(re.message||`Failed to ${k} bot`)}return he.json()},onSuccess:async(k,V)=>{if(s({title:"Success!",description:k.message}),F(null),V.action==="update_credentials")try{s({title:"Credentials Updated Successfully",description:"Returning to default server..."}),await new Promise(te=>setTimeout(te,1500)),(await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:"default-server",description:"Returned to default server after credential update"})})).ok&&(s({title:"Returned to Default Server",description:"Credentials updated successfully. You're now back on the default server."}),setTimeout(()=>{A()},2e3))}catch(ee){console.error("Error switching back to default server:",ee),s({title:"Credentials Updated",description:"Credentials updated successfully, but couldn't return to default server.",variant:"destructive"})}else Y()},onError:(k,V)=>{s({title:`${V.action.charAt(0).toUpperCase()+V.action.slice(1)} Failed`,description:k.message,variant:"destructive"}),F(null)}});const Y=()=>{s({title:"Status Updated",description:"Bot status has been updated. Please check the bot status."})},se=()=>{o({botName:"",phoneNumber:"",credentialType:"base64",sessionId:"",credsFile:null,features:{autoLike:!0,autoReact:!1,autoView:!0,presenceMode:"none",intervalSeconds:30,chatGPT:!1}}),u(1)},A=()=>{se(),h(null),x(null),P(null),C(!1),F(null),t()};return r.jsxs(qt,{open:e,onOpenChange:A,children:[r.jsxs(Ot,{className:"max-w-2xl max-h-[95vh] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[r.jsx(Mt,{children:r.jsx(Dt,{className:"text-2xl font-bold text-center",children:" Register Your TREKKER-MD Bot"})}),c===1&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-emerald-50 to-blue-50 dark:from-emerald-900/20 dark:to-blue-900/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Enter Your Phone Number"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We'll check if you have an existing bot or help you register a new one"})]}),r.jsxs("form",{onSubmit:B,className:"space-y-6",children:[r.jsxs(ue,{className:"border-l-4 border-l-blue-500",children:[r.jsxs(Le,{className:"pb-3",children:[r.jsx(Ve,{className:"text-lg",children:"Phone Number Verification"}),r.jsx(nt,{children:"Enter your WhatsApp phone number to begin registration"})]}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"phoneNumber",className:"text-sm font-medium",children:"Phone Number (with country code) *"}),r.jsx(Yt,{id:"phoneNumber","data-testid":"input-phone-number",placeholder:"+254700000000",value:i.phoneNumber,onChange:k=>{const V=k.target.value.replace(/[\s\-\(\)]/g,"");o(ee=>({...ee,phoneNumber:V}))},onPaste:k=>{k.preventDefault();const ee=k.clipboardData.getData("text").replace(/[\s\-\(\)]/g,"");o(te=>({...te,phoneNumber:ee}))},required:!0,className:"mt-1 text-lg",autoFocus:!0}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter your phone number with country code (+ will be removed automatically)"})]})})]}),r.jsx(Q,{type:"submit","data-testid":"button-check-phone",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",disabled:X.isPending,children:X.isPending?" Checking...":" Check Phone Number"})]})]}),c===2&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Checking Your Phone Number"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Searching the God Registry for existing bot registrations..."}),r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]}),c===3&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Select Your Server"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is not registered. Choose a server to register your bot on."})]}),r.jsxs(ue,{className:"border-l-4 border-l-green-500",children:[r.jsxs(Le,{className:"pb-3",children:[r.jsx(Ve,{className:"text-lg",children:"Available Servers"}),r.jsx(nt,{children:"Select a server with available bot slots"})]}),r.jsx(fe,{className:"space-y-4",children:r.jsx("div",{className:"grid gap-3",children:ve.map(k=>r.jsx("div",{onClick:()=>ne(k.id),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors","data-testid":`server-option-${k.id}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:k.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:k.description})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-green-600",children:[k.availableSlots," slots available"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[k.currentBots,"/",k.maxBots," bots"]})]})]})},k.id))})})]})]}),c===4&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Authentication Credentials"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Provide your WhatsApp session credentials to connect your bot"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(ue,{className:"border-l-4 border-l-purple-500",children:[r.jsxs(Le,{className:"pb-3",children:[r.jsx(Ve,{className:"text-lg",children:"Bot Information"}),r.jsx(nt,{children:"Enter your bot name and choose credential type"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"botName",className:"text-sm font-medium",children:"Bot Name *"}),r.jsx(Yt,{id:"botName","data-testid":"input-bot-name",placeholder:"My WhatsApp Bot",value:i.botName,onChange:k=>o(V=>({...V,botName:k.target.value})),required:!0,className:"mt-1",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx(_e,{className:"text-sm font-medium",children:"Choose Credential Type *"}),r.jsxs(Th,{value:i.credentialType,onValueChange:k=>o(V=>({...V,credentialType:k})),className:"mt-2",children:[r.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(Wo,{value:"base64",id:"base64"}),r.jsx(_e,{htmlFor:"base64",className:"cursor-pointer",children:"Paste Base64 Session ID"})]}),r.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(Wo,{value:"file",id:"file"}),r.jsx(_e,{htmlFor:"file",className:"cursor-pointer",children:"Upload creds.json File"})]})]})]}),i.credentialType==="base64"?r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"sessionId",className:"text-sm font-medium",children:"Base64 Session ID *"}),r.jsx(ls,{id:"sessionId","data-testid":"textarea-session-id",placeholder:"Paste your base64 encoded session ID here...",value:i.sessionId,onChange:k=>o(V=>({...V,sessionId:k.target.value})),className:"min-h-[100px] font-mono text-sm mt-1",required:!0}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get your session ID from the pairing site"})]}):r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"credsFile",className:"text-sm font-medium",children:"Upload creds.json File *"}),r.jsx(Yt,{id:"credsFile","data-testid":"input-creds-file",type:"file",accept:".json",onChange:M,required:!0,className:"mt-1"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload the creds.json file from your WhatsApp session"})]})]})]}),r.jsx(Q,{onClick:z,"data-testid":"button-next-step",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:"Continue to Features "})]})]}),c===5&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Bot Features"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose the automation features for your bot (optional)"})]}),r.jsxs(ue,{className:"border-l-4 border-l-green-500",children:[r.jsxs(Le,{className:"pb-3",children:[r.jsx(Ve,{className:"text-lg",children:"Bot Features (Optional)"}),r.jsx(nt,{children:"Select the automation features you want for your bot"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(Hr,{id:"autoLike","data-testid":"checkbox-auto-like",checked:i.features.autoLike,onCheckedChange:k=>o(V=>({...V,features:{...V.features,autoLike:!!k}})),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(_e,{htmlFor:"autoLike",className:"text-sm font-medium cursor-pointer",children:"Auto Like Status"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically like WhatsApp status updates"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(Hr,{id:"autoReact","data-testid":"checkbox-auto-react",checked:i.features.autoReact,onCheckedChange:k=>o(V=>({...V,features:{...V.features,autoReact:!!k}})),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(_e,{htmlFor:"autoReact",className:"text-sm font-medium cursor-pointer",children:"Auto React"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically react to messages"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(Hr,{id:"autoView","data-testid":"checkbox-auto-view",checked:i.features.autoView,onCheckedChange:k=>o(V=>({...V,features:{...V.features,autoView:!!k}})),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(_e,{htmlFor:"autoView",className:"text-sm font-medium cursor-pointer",children:"Auto View Status"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically view WhatsApp status"})]})]}),r.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx(_e,{className:"text-sm font-medium",children:"Presence Configuration"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Configure how the bot appears online to other users"})]}),r.jsxs(Or,{value:i.features.presenceMode,onValueChange:k=>o(V=>({...V,features:{...V.features,presenceMode:k}})),children:[r.jsx(wr,{"data-testid":"select-presence-mode",children:r.jsx(Mr,{placeholder:"Select presence mode"})}),r.jsxs(jr,{children:[r.jsx(Ue,{value:"none",children:"None - Appear as normal"}),r.jsx(Ue,{value:"always_online",children:"Always Online"}),r.jsx(Ue,{value:"always_typing",children:"Always Typing"}),r.jsx(Ue,{value:"always_recording",children:"Always Recording"}),r.jsx(Ue,{value:"auto_switch",children:"Auto Switch (Recording & Typing)"})]})]}),i.features.presenceMode==="auto_switch"&&r.jsxs("div",{className:"mt-3",children:[r.jsx(_e,{className:"text-xs text-muted-foreground",children:"Switch Interval (seconds)"}),r.jsx(Yt,{type:"number",min:"5",max:"120",value:i.features.intervalSeconds,onChange:k=>o(V=>({...V,features:{...V.features,intervalSeconds:parseInt(k.target.value)||30}})),className:"mt-1","data-testid":"input-interval-seconds"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50 md:col-span-2",children:[r.jsx(Hr,{id:"chatGPT","data-testid":"checkbox-chatgpt",checked:i.features.chatGPT,onCheckedChange:k=>o(V=>({...V,features:{...V.features,chatGPT:!!k}})),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(_e,{htmlFor:"chatGPT",className:"text-sm font-medium cursor-pointer",children:"ChatGPT Integration"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable AI responses for conversations"})]})]})]})})]}),r.jsx(Q,{onClick:z,"data-testid":"button-register-bot-final",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:" Register Bot Now"})]}),c===6&&r.jsx("div",{className:"space-y-6 pb-4",children:r.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Registering Your Bot"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Please wait while we set up your WhatsApp bot..."}),r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}),c===7&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center text-white text-2xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Bot Registered Successfully!"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your bot credentials have been validated and registered"})]}),r.jsxs(ue,{className:"border-l-4 border-l-green-500",children:[r.jsxs(Le,{children:[r.jsx(Ve,{className:"text-lg",children:" Next Steps"}),r.jsx(nt,{children:"Your bot is now awaiting admin approval"})]}),r.jsx(fe,{children:r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-500 mt-0.5",children:""}),"Your bot is now dormant and awaiting admin approval"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),"Contact +254704897825 to activate your bot"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-500 mt-0.5",children:""}),"You'll receive hourly status updates until activation"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-500 mt-0.5",children:""}),"Once approved, enjoy all premium TREKKER-MD features!"]})]})})]}),r.jsx(Q,{onClick:A,className:"w-full","data-testid":"button-close-success",children:"Done"})]}),c===8&&f&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-robot text-2xl text-blue-600"})}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Existing Bot Found!"}),r.jsxs("p",{className:"text-muted-foreground",children:['To manage your bot "',f.name,'", please verify your ownership by uploading your credentials.']})]}),r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsxs(Ve,{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),f.name]}),r.jsxs(nt,{children:["Phone: ",f.phoneNumber]})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Status:"}),r.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${f.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Approval:"}),r.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${f.isApproved?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:f.approvalStatus})]})]}),f.isApproved&&f.timeRemaining&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-green-800",children:[" ",r.jsxs("strong",{children:[f.timeRemaining," days"]})," remaining until expiry"]})}),f.isExpired&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsx("p",{className:"text-sm text-red-800",children:" Your bot has expired. Please contact admin for renewal."})}),r.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-amber-100 dark:bg-amber-800 rounded-full flex items-center justify-center",children:""}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Security Verification Required"}),r.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Please upload your credentials file to verify bot ownership"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Q,{className:"w-full bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>{A(),s({title:"Credential Validation Required",description:"Please use the 'Search Your Bot' page to verify your credentials and manage your bot securely.",duration:5e3})},children:" Go to Bot Search & Verification"}),r.jsx("div",{className:"text-xs text-amber-700 dark:text-amber-300 text-center",children:'For security, bot management requires credential verification. Use the "Search Your Bot" page to securely access your bot.'})]})]})]})]}),r.jsx(Q,{onClick:A,className:"w-full","data-testid":"button-close-existing-bot",children:"Close"})]}),c===9&&g&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-amber-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-amber-700 dark:text-amber-400",children:"Phone Number Found on Different Server"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is registered on a different server"})]}),r.jsxs(ue,{className:"border-l-4 border-l-amber-500",children:[r.jsxs(Le,{children:[r.jsx(Ve,{className:"text-lg",children:"Server Information"}),r.jsx(nt,{children:"Current vs. Registered Server"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-gray-900",children:[r.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Server"}),r.jsx("p",{className:"text-lg font-bold",children:"default-server"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Where you're trying to register"})]}),r.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50 dark:bg-blue-900",children:[r.jsx("h4",{className:"font-medium text-blue-700 dark:text-blue-300 mb-2",children:"Registered Server"}),r.jsx("p",{className:"text-lg font-bold text-blue-600",children:g.registeredTo}),r.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Where your bot exists"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium",children:"Choose Your Action:"}),r.jsxs("div",{className:"grid gap-3",children:[r.jsx(Q,{onClick:async k=>{k.preventDefault(),k.stopPropagation(),console.log("Server switch button clicked!"),console.log("ServerMismatch data:",g);try{s({title:"Switching Server",description:`Switching to ${g.registeredTo}...`}),console.log("Making server configure call...");const V=await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:g.registeredTo,description:`Switched to ${g.registeredTo} for bot management`})});if(console.log("Server configure response:",V.status),!V.ok){const he=await V.json();throw console.error("Server configure error:",he),new Error(he.message||"Failed to switch server")}const ee=await V.json();console.log("Server configure result:",ee),s({title:"Server Switched",description:`Successfully switched to ${g.registeredTo}`}),await new Promise(he=>setTimeout(he,1e3)),console.log("Checking registration on new server...");const te=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:i.phoneNumber})});if(console.log("Check registration response:",te.status),te.ok){const he=await te.json();console.log("Check registration data:",he),he.hasBot&&he.bot?(h(he.bot),J(g.registeredTo),u(8),console.log("Successfully switched to existing bot management")):(console.log("No bot found on registered server"),s({title:"Bot Not Found",description:"Could not find your bot on the registered server",variant:"destructive"}))}else{const he=await te.text();console.error("Check registration failed:",he),s({title:"Error",description:"Failed to verify bot on registered server",variant:"destructive"})}}catch(V){console.error("Server switch error:",V),s({title:"Server Switch Failed",description:V instanceof Error?V.message:"Unknown error",variant:"destructive"})}},className:"justify-start text-left h-auto p-4","data-testid":"button-switch-to-registered-server",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:" Switch to Registered Server"}),r.jsxs("div",{className:"text-sm opacity-80 mt-1",children:["Manage your existing bot on ",g.registeredTo]})]})}),r.jsx(Q,{variant:"outline",onClick:()=>{u(3)},className:"justify-start text-left h-auto p-4","data-testid":"button-stay-current-server",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:" Use Different Phone Number"}),r.jsx("div",{className:"text-sm opacity-80 mt-1",children:"Register a new bot with different phone number on this server"})]})})]})]})]})]})]}),c===11&&S&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center text-white text-2xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Auto-Distributed to Available Server!"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your bot has been automatically assigned to the best available server"})]}),r.jsxs(ue,{className:"border-l-4 border-l-purple-500",children:[r.jsxs(Le,{children:[r.jsx(Ve,{className:"text-lg",children:" Server Assignment"}),r.jsx(nt,{children:"Your bot has been optimally placed"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg bg-purple-50 dark:bg-purple-900/20",children:[r.jsx("h4",{className:"font-medium text-purple-700 dark:text-purple-300 mb-2",children:"Assigned Server"}),r.jsx("p",{className:"text-lg font-bold text-purple-600",children:S.assignedServer}),r.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Optimized for your location and performance"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:" What happens next:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-500 mt-0.5",children:""}),"Your bot is registered on ",S.assignedServer]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),"Contact +254704897825 for activation"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-500 mt-0.5",children:""}),"Switch to ",S.assignedServer," to manage your bot"]})]})]})]})]}),r.jsxs(Q,{onClick:()=>{J(S.assignedServer),A()},className:"w-full","data-testid":"button-switch-to-assigned-server",children:[" Switch to ",S.assignedServer]})]}),c===7&&S&&r.jsxs("div",{className:"space-y-6 py-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Auto-Distributed Successfully!"}),r.jsx("p",{className:"text-muted-foreground",children:S.message})]}),r.jsxs(ue,{className:"border-emerald-200 bg-emerald-50 dark:bg-emerald-900/20 dark:border-emerald-800",children:[r.jsxs(Le,{children:[r.jsxs(Ve,{className:"flex items-center gap-2 text-emerald-700 dark:text-emerald-400",children:[r.jsx("span",{children:""}),S.botDetails?.name]}),r.jsxs(nt,{children:["Phone: ",S.botDetails?.phoneNumber]})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Original Server:"}),r.jsx("div",{className:"text-muted-foreground",children:S.originalServer})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Assigned To:"}),r.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:S.assignedServer})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Available Slots:"}),r.jsxs("div",{className:"text-blue-600 dark:text-blue-400",children:[S.botDetails?.availableSlots," remaining"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Registration Type:"}),r.jsx("div",{className:"text-purple-600 dark:text-purple-400",children:"Auto-Distribution"})]})]}),S.serverUrl&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 dark:bg-blue-900/20 dark:border-blue-800",children:r.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",r.jsx("strong",{children:"Server URL:"})," ",S.serverUrl]})})]})]}),r.jsx(ue,{className:"border-blue-200 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-800",children:r.jsxs(fe,{className:"p-4",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:" Next Steps"}),r.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:S.nextSteps?.map((k,V)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),k]},V))})]})}),r.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[r.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-2 flex items-center gap-2",children:" Cross-Tenancy Benefits"}),r.jsxs("ul",{className:"text-sm text-emerald-700 dark:text-emerald-300 space-y-1",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Automatic load balancing across servers"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Seamless bot management from any approved server"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Enhanced reliability and availability"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Global bot registry synchronization"]})]})]}),r.jsx(Q,{onClick:A,className:"w-full bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700","data-testid":"button-close-cross-tenancy",children:" Awesome! Let's Go"})]})]}),f&&r.jsx(Fj,{open:E,onClose:()=>C(!1),botId:f.id,phoneNumber:f.phoneNumber,crossTenancyMode:!!g,targetServer:g?.details?.registeredTo,onSuccess:()=>{Y()}})]})}const G4=Xo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ze({className:e,variant:t,...s}){return r.jsx("div",{className:ke(G4({variant:t}),e),...s})}function Z4({open:e,onClose:t}){const[s,i]=p.useState("pending"),[o,c]=p.useState(!1),[u,f]=p.useState(!1),[h,g]=p.useState(null),[x,y]=p.useState("3"),[j,S]=p.useState(""),[P,w]=p.useState(""),b=kr(),{data:E=[],isLoading:C}=xt({queryKey:["/api/bots/pending"],enabled:e&&s==="pending"}),{data:I=[],isLoading:F}=xt({queryKey:["/api/bots/approved"],enabled:e&&s==="approved"}),$=We({mutationFn:async({botId:z,duration:T})=>(await kt("POST",`/api/bots/${z}/approve`,{expirationMonths:T})).json(),onSuccess:()=>{b.invalidateQueries({queryKey:["/api/bots/pending"]}),b.invalidateQueries({queryKey:["/api/bots/approved"]}),c(!1),g(null)}}),G=We({mutationFn:async({botId:z,reason:T})=>(await kt("POST",`/api/bots/${z}/reject`,{reason:T})).json(),onSuccess:()=>{b.invalidateQueries({queryKey:["/api/bots/pending"]}),w("")}}),q=We({mutationFn:async({botId:z,message:T})=>(await kt("POST",`/api/admin/send-message/${z}`,{message:T})).json(),onSuccess:()=>{f(!1),S(""),g(null)}}),J=z=>{g(z),c(!0)},ve=()=>{h&&x&&$.mutate({botId:h.id,duration:parseInt(x)})},ge=(z,T)=>{G.mutate({botId:z.id,reason:T})},de=z=>{g(z),f(!0)},X=()=>{h&&j.trim()&&q.mutate({botId:h.id,message:j})},ae=z=>new Date(z).toLocaleDateString(),B=(z,T)=>{const M=new Date(z);return M.setMonth(M.getMonth()+T),M.toLocaleDateString()},ne=(z,T)=>{const M=new Date(z);return M.setMonth(M.getMonth()+T),(M.getTime()-Date.now())/(1e3*60*60*24)<=7};return r.jsxs(r.Fragment,{children:[r.jsx(qt,{open:e,onOpenChange:t,children:r.jsxs(Ot,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Mt,{children:r.jsx(Dt,{className:"text-xl font-bold",children:" Admin Bot Management"})}),r.jsxs("div",{className:"flex space-x-1 bg-muted/30 p-1 rounded-lg mb-6",children:[r.jsxs("button",{onClick:()=>i("pending"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${s==="pending"?"bg-blue-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:[" Pending Bots (",E.length,")"]}),r.jsxs("button",{onClick:()=>i("approved"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${s==="approved"?"bg-green-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:[" Approved Bots (",I.length,")"]})]}),s==="pending"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Pending Bot Registrations"}),C?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):E.length===0?r.jsx(ue,{children:r.jsx(fe,{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"No pending bot registrations"})})}):r.jsx("div",{className:"grid gap-4",children:E.map(z=>r.jsx(ue,{className:"border-orange-200",children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-clock text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:z.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",z.phoneNumber||"No phone number"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",ae(z.createdAt)]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ze,{variant:"secondary",className:"text-orange-600 bg-orange-100",children:"Pending"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(Q,{size:"sm",onClick:()=>J(z),className:"bg-green-600 hover:bg-green-700 text-white",children:[r.jsx("i",{className:"fas fa-check mr-1"}),"Approve"]}),r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{const T=prompt("Rejection reason:");T&&ge(z,T)},className:"text-red-600 border-red-600 hover:bg-red-50",children:[r.jsx("i",{className:"fas fa-times mr-1"}),"Reject"]})]})]})]})})},z.id))})]}),s==="approved"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Approved & Active Bots"}),F?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):I.length===0?r.jsx(ue,{children:r.jsx(fe,{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"No approved bots yet"})})}):r.jsx("div",{className:"grid gap-4",children:I.map(z=>r.jsx(ue,{className:"border-green-200",children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-check-circle text-green-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:z.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",z.phoneNumber||"No phone number"]}),r.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground mt-1",children:[r.jsxs("span",{children:[" Approved: ",ae(z.approvalDate)]}),r.jsxs("span",{children:[" Expires: ",B(z.approvalDate,z.expirationMonths)]}),r.jsxs("span",{children:[" Duration: ",z.expirationMonths," months"]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ze,{variant:z.status==="online"?"default":"secondary",className:z.status==="online"?"bg-green-600 text-white":"text-gray-600 bg-gray-100",children:z.status==="online"?" Online":" Offline"}),ne(z.approvalDate,z.expirationMonths)&&r.jsx(Ze,{variant:"destructive",className:"text-red-600 bg-red-100",children:" Expiring Soon"}),r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>de(z),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[r.jsx("i",{className:"fas fa-message mr-1"}),"Message"]})]})]})})},z.id))})]})]})}),r.jsx(qt,{open:o,onOpenChange:c,children:r.jsxs(Ot,{children:[r.jsx(Mt,{children:r.jsx(Dt,{children:" Approve Bot Registration"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(_e,{children:"Bot Name"}),r.jsx("p",{className:"font-medium",children:h?.name})]}),r.jsxs("div",{children:[r.jsx(_e,{children:"Phone Number"}),r.jsx("p",{className:"font-medium",children:h?.phoneNumber})]}),r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"duration",children:"Approval Duration *"}),r.jsxs(Or,{value:x,onValueChange:y,children:[r.jsx(wr,{children:r.jsx(Mr,{})}),r.jsxs(jr,{children:[r.jsx(Ue,{value:"1",children:"1 Month"}),r.jsx(Ue,{value:"2",children:"2 Months"}),r.jsx(Ue,{value:"3",children:"3 Months"}),r.jsx(Ue,{value:"6",children:"6 Months"}),r.jsx(Ue,{value:"12",children:"12 Months"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bot will expire and return to pending after this duration"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Q,{onClick:ve,disabled:$.isPending,className:"bg-green-600 hover:bg-green-700",children:$.isPending?"Approving...":"Approve Bot"}),r.jsx(Q,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})]})]})]})}),r.jsx(qt,{open:u,onOpenChange:f,children:r.jsxs(Ot,{children:[r.jsx(Mt,{children:r.jsx(Dt,{children:" Send Message to Bot User"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(_e,{children:"Bot"}),r.jsxs("p",{className:"font-medium",children:[h?.name," (",h?.phoneNumber,")"]})]}),r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"message",children:"Message *"}),r.jsx(ls,{id:"message",value:j,onChange:z=>S(z.target.value),placeholder:"Enter your message to the bot user...",rows:4})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Q,{onClick:X,disabled:q.isPending||!j.trim(),className:"bg-blue-600 hover:bg-blue-700",children:q.isPending?"Sending...":"Send Message"}),r.jsx(Q,{variant:"outline",onClick:()=>f(!1),children:"Cancel"})]})]})]})})]})}function Y4(){const{isAdmin:e}=el(),{toast:t}=tr(),[s,i]=p.useState(!1),[o,c]=p.useState(!1),[u,f]=p.useState(!1),[h,g]=p.useState(!1),[x,y]=p.useState(!1),[j,S]=p.useState(null),[P,w]=p.useState(null),{data:b={},isLoading:E}=xt({queryKey:["/api/dashboard/stats"]}),{data:C={},isLoading:I}=xt({queryKey:["/api/server/info"]}),{data:F=[],isLoading:$}=xt({queryKey:["/api/bot-instances"],enabled:e}),{data:G=[],isLoading:q}=xt({queryKey:["/api/bots/pending"],enabled:e}),{data:J=[],isLoading:ve}=xt({queryKey:["/api/bots/approved"],enabled:e}),{data:ge=[],isLoading:de}=xt({queryKey:["/api/activities"]}),{data:X=[],isLoading:ae}=xt({queryKey:["/api/commands"],enabled:e}),{data:B=[],isLoading:ne}=xt({queryKey:["/api/admin/god-registry"],enabled:e});Lb();const z=We({mutationFn:({id:A,expirationMonths:k})=>kt("POST",`/api/bots/${A}/approve`,{expirationMonths:k}),onSuccess:()=>{t({title:"Bot approved successfully!"}),gr.invalidateQueries({queryKey:["/api/bots/pending"]}),gr.invalidateQueries({queryKey:["/api/bots/approved"]}),gr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{t({title:"Failed to approve bot",variant:"destructive"})}}),T=We({mutationFn:A=>kt("POST",`/api/bots/${A}/reject`),onSuccess:()=>{t({title:"Bot rejected and removed"}),gr.invalidateQueries({queryKey:["/api/bots/pending"]}),gr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{t({title:"Failed to reject bot",variant:"destructive"})}}),M=We({mutationFn:({botId:A,feature:k,enabled:V})=>kt("POST",`/api/bot-instances/${A}/toggle-feature`,{feature:k,enabled:V}),onSuccess:()=>{t({title:"Feature updated successfully!"}),gr.invalidateQueries({queryKey:["/api/bots/approved"]}),gr.invalidateQueries({queryKey:["/api/activities"]})},onError:()=>{t({title:"Failed to update feature",variant:"destructive"})}});We({mutationFn:A=>kt("POST",`/api/bot-instances/${A}/revoke`),onSuccess:()=>{t({title:"Bot approval revoked",description:"Bot returned to pending status"}),gr.invalidateQueries({queryKey:["/api/bots/approved"]}),gr.invalidateQueries({queryKey:["/api/bots/pending"]}),gr.invalidateQueries({queryKey:["/api/bot-instances"]}),gr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{t({title:"Failed to revoke approval",variant:"destructive"})}}),We({mutationFn:A=>kt("POST",`/api/bot-instances/${A}/restart`),onSuccess:()=>{t({title:"Bot restarted successfully"}),gr.invalidateQueries({queryKey:["/api/bots/approved"]}),gr.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:()=>{t({title:"Failed to restart bot",variant:"destructive"})}});const Y=We({mutationFn:({phoneNumber:A,tenancyName:k})=>kt("PUT",`/api/admin/god-registry/${encodeURIComponent(A)}`,{tenancyName:k}),onSuccess:()=>{t({title:"Registration updated successfully!"}),gr.invalidateQueries({queryKey:["/api/admin/god-registry"]}),w(null)},onError:()=>{t({title:"Failed to update registration",variant:"destructive"})}}),se=We({mutationFn:A=>kt("DELETE",`/api/admin/god-registry/${encodeURIComponent(A)}`),onSuccess:()=>{t({title:"Registration deleted successfully!"}),gr.invalidateQueries({queryKey:["/api/admin/god-registry"]})},onError:()=>{t({title:"Failed to delete registration",variant:"destructive"})}});return p.useEffect(()=>{e&&(sessionStorage.getItem("admin-refreshed")||(sessionStorage.setItem("admin-refreshed","true"),window.location.reload()))},[e]),r.jsxs("div",{children:[r.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:[" ",C.serverName||"TREKKER-MD"," Dashboard"]})}),r.jsxs("p",{className:"text-muted-foreground",children:["Ultra fast lifetime WhatsApp bot automation",C.serverName&&r.jsxs("span",{className:"ml-2 text-xs bg-blue-600 text-white px-2 py-1 rounded",children:[C.currentBots,"/",C.maxBots," slots used"]}),!C.hasSecretConfig&&C.serverName==="default-server"&&r.jsx("span",{className:"ml-2 text-xs bg-yellow-600 text-white px-2 py-1 rounded",children:" Default server name - Configure recommended"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[e&&r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Q,{onClick:()=>c(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:" Manage Commands"}),r.jsx(Q,{onClick:()=>g(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:" Manage Bots"}),r.jsx(Q,{onClick:()=>y(!0),className:"bg-orange-600 hover:bg-orange-700 text-white",children:" God Registry"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{className:"w-10 h-10 bg-muted rounded-md flex items-center justify-center hover:bg-muted/80 transition-colors","data-testid":"button-notifications",children:r.jsx("i",{className:"fas fa-bell text-muted-foreground"})}),r.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-destructive rounded-full"})]})]})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx(ue,{className:"bg-card border-border",children:r.jsxs(fe,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm",children:e?"Total Bots":"Your Bots"}),r.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-total-bots",children:E||$?"...":e?b?.totalBots||0:F.length})]}),r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-robot text-primary text-xl"})})]}),r.jsx("div",{className:"mt-4 flex items-center space-x-2",children:e?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-green-400 text-sm",children:["+",b?.activeBots||0]}),r.jsx("span",{className:"text-muted-foreground text-sm",children:"instances"})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-green-400 text-sm",children:Math.max(0,10-F.length)}),r.jsx("span",{className:"text-muted-foreground text-sm",children:"slots remaining"})]})})]})}),r.jsx(ue,{className:"bg-card border-border",children:r.jsxs(fe,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm",children:e?"Active Bots":"Online Bots"}),r.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-active-bots",children:E||$?"...":e?b?.activeBots||0:F.filter(A=>A.status==="online").length})]}),r.jsx("div",{className:"w-12 h-12 bg-green-500/10 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-check-circle text-green-400 text-xl"})})]}),r.jsx("div",{className:"mt-4 flex items-center space-x-2",children:e?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-green-400 text-sm",children:[b?.totalBots?Math.round(b.activeBots/b.totalBots*100):0,"%"]}),r.jsx("span",{className:"text-muted-foreground text-sm",children:"uptime"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-green-400 text-sm",children:[F.length>0?Math.round(F.filter(A=>A.status==="online").length/F.length*100):0,"%"]}),r.jsx("span",{className:"text-muted-foreground text-sm",children:"online rate"})]})})]})}),r.jsx(ue,{className:"bg-card border-border",children:r.jsxs(fe,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm",children:"Messages Today"}),r.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-messages",children:E?"...":b?.messagesCount||0})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-comment text-blue-400 text-xl"})})]}),r.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[r.jsx("span",{className:"text-green-400 text-sm",children:"+12.5%"}),r.jsx("span",{className:"text-muted-foreground text-sm",children:"vs yesterday"})]})]})}),r.jsx(ue,{className:"bg-card border-border",children:r.jsxs(fe,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm",children:"Commands Executed"}),r.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-commands",children:E?"...":b?.commandsCount||0})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-500/10 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-terminal text-purple-400 text-xl"})})]}),r.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[r.jsx("span",{className:"text-green-400 text-sm",children:"+8.2%"}),r.jsx("span",{className:"text-muted-foreground text-sm",children:"from last hour"})]})]})})]}),r.jsx(ue,{className:"bg-gradient-to-r from-blue-600 to-purple-600 border-none mb-8 text-white",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-2xl font-bold mb-2",children:" TREKKER-MD LIFETIME BOT"}),r.jsx("p",{className:"text-blue-100 mb-4",children:"Ultra fast WhatsApp automation - No expiry, Lifetime access"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 text-sm",children:[r.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[r.jsx("div",{className:"flex items-center justify-center mb-2",children:r.jsx("i",{className:"fab fa-telegram text-xl"})}),r.jsx("p",{className:"font-medium",children:"Telegram"}),r.jsx("p",{className:"text-xs text-blue-100",children:"@trekkermd_"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[r.jsx("div",{className:"flex items-center justify-center mb-2",children:r.jsx("i",{className:"fab fa-whatsapp text-xl"})}),r.jsx("p",{className:"font-medium",children:"WhatsApp"}),r.jsx("p",{className:"text-xs text-blue-100",children:"+254704897825"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[r.jsx("div",{className:"flex items-center justify-center mb-2",children:r.jsx("i",{className:"fab fa-instagram text-xl"})}),r.jsx("p",{className:"font-medium",children:"Instagram"}),r.jsx("p",{className:"text-xs text-blue-100",children:"@nicholaso_tesla"})]})]}),r.jsx("p",{className:"text-xs text-blue-200 mt-4",children:e?"Admin access - Full system control":"Upload base64 credentials to deploy your bot instantly"})]})})}),e?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(ue,{className:"bg-card border-border",children:[r.jsxs(Le,{className:"border-b border-border",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ve,{className:"text-lg font-semibold text-foreground",children:" Pending Bot Registrations"}),r.jsx(Q,{onClick:()=>c(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:" Manage Commands"})]}),r.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Review and approve new bot registrations"})]}),r.jsx(fe,{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:q?r.jsx("div",{className:"text-center py-4",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):G.length===0?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-muted-foreground",children:"No pending bot registrations"})}):G.map(A=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-md","data-testid":`pending-bot-${A.id}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-clock text-yellow-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:A.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:A.phoneNumber||"No phone number"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",new Date(A.createdAt).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Q,{size:"sm",onClick:()=>z.mutate({id:A.id,expirationMonths:12}),disabled:z.isPending,className:"bg-green-600 hover:bg-green-700 text-white","data-testid":`button-approve-${A.id}`,children:" Approve"}),r.jsx(Q,{size:"sm",onClick:()=>T.mutate(A.id),disabled:T.isPending,variant:"destructive","data-testid":`button-reject-${A.id}`,children:" Reject"})]})]},A.id))})})]}),e&&r.jsxs(ue,{className:"bg-card border-border",children:[r.jsxs(Le,{className:"border-b border-border",children:[r.jsx(Ve,{className:"text-lg font-semibold text-foreground",children:" Approved Bot Instances"}),r.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Active bots with auto-running capabilities"})]}),r.jsx(fe,{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:ve?r.jsx("div",{className:"text-center py-4",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):J.length===0?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-muted-foreground",children:"No approved bots yet"})}):J.map(A=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-500/10 border border-green-500/20 rounded-md","data-testid":`approved-bot-${A.id}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-robot text-green-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:A.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:A.phoneNumber||"No phone number"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-500/10 text-green-500",children:"APPROVED"}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${A.status==="online"?"text-green-400 bg-green-500/10":"text-gray-400 bg-gray-500/10"}`,children:A.status?.toUpperCase()||"UNKNOWN"})]})]},A.id))})})]})]}):r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsxs(ue,{className:"bg-card border-border",children:[r.jsxs(Le,{className:"border-b border-border",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ve,{className:"text-lg font-semibold text-foreground",children:" Register Your Bot"}),r.jsxs(Q,{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-register-bot",children:[r.jsx("i",{className:"fas fa-plus mr-2"}),"Register Bot"]})]}),r.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Upload credentials or paste session ID to register your TREKKER-MD bot"})]}),r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-robot text-blue-600 text-2xl"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"TREKKER-MD Lifetime Bot"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Register your WhatsApp bot with credentials or session ID"}),r.jsxs(Q,{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white w-full max-w-xs","data-testid":"button-start-registration",children:[r.jsx("i",{className:"fas fa-rocket mr-2"}),"Register Your Bot"]})]})})]})})]}),r.jsx(jj,{open:s,onClose:()=>i(!1)}),r.jsx(L4,{open:o,onClose:()=>c(!1)}),r.jsx(Lj,{open:u,onClose:()=>f(!1)}),e&&r.jsx(Z4,{open:h,onClose:()=>g(!1)}),j&&r.jsx(qt,{open:!!j,onOpenChange:()=>S(null),children:r.jsxs(Ot,{className:"max-w-md",children:[r.jsx(Mt,{children:r.jsxs(Dt,{className:"text-lg font-semibold",children:["Manage Bot Features - ",j.name]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Toggle features for this bot. Changes take effect immediately."}),r.jsx("div",{className:"space-y-3",children:[{key:"autoLike",label:"Auto Like Status",description:"Automatically like WhatsApp status updates"},{key:"autoReact",label:"Auto React",description:"Automatically react to messages"},{key:"autoView",label:"Auto View Status",description:"Automatically view WhatsApp status"},{key:"typingIndicator",label:"Typing Indicator",description:"Show typing indicator for responses"},{key:"chatGPT",label:"ChatGPT Integration",description:"Enable AI responses for conversations"}].map(A=>{const k=j.settings?.features?.[A.key]||!1;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(_e,{className:"text-sm font-medium",children:A.label}),r.jsx("p",{className:"text-xs text-muted-foreground",children:A.description})]}),r.jsx(Hr,{checked:k,onCheckedChange:V=>{M.mutate({botId:j.id,feature:A.key,enabled:!!V}),S(ee=>ee?{...ee,settings:{...ee.settings,features:{...ee.settings?.features,[A.key]:!!V}}}:null)},disabled:M.isPending})]},A.key)})}),r.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:r.jsx(Q,{variant:"outline",onClick:()=>S(null),children:"Close"})})]})]})}),x&&r.jsx(qt,{open:x,onOpenChange:()=>y(!1),children:r.jsxs(Ot,{className:"max-w-4xl",children:[r.jsxs(Mt,{children:[r.jsx(Dt,{children:" God Registry Management"}),r.jsx(_o,{children:"Manage global phone number registrations across all tenants"})]}),r.jsx("div",{className:"space-y-4",children:ne?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):B.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No registrations found"}):r.jsx("div",{className:"space-y-2",children:B.map(A=>r.jsx("div",{className:"border border-border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-foreground",children:[" ",A.phoneNumber]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tenant: ",A.tenancyName]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",new Date(A.registeredAt).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Q,{variant:"outline",size:"sm",onClick:()=>w(A),"data-testid":`button-edit-${A.phoneNumber}`,children:" Edit"}),r.jsx(Q,{variant:"destructive",size:"sm",onClick:()=>{confirm(`Delete registration for ${A.phoneNumber}?`)&&se.mutate(A.phoneNumber)},disabled:se.isPending,"data-testid":`button-delete-${A.phoneNumber}`,children:se.isPending?"...":" Delete"})]})]})},A.phoneNumber))})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(Q,{onClick:()=>y(!1),children:"Close"})})]})}),P&&r.jsx(qt,{open:!!P,onOpenChange:()=>w(null),children:r.jsxs(Ot,{children:[r.jsxs(Mt,{children:[r.jsx(Dt,{children:" Edit Registration"}),r.jsxs(_o,{children:["Update the tenant assignment for ",P.phoneNumber]})]}),r.jsxs("form",{onSubmit:A=>{A.preventDefault();const V=new FormData(A.currentTarget).get("tenancyName");V.trim()&&Y.mutate({phoneNumber:P.phoneNumber,tenancyName:V.trim()})},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),r.jsx("input",{type:"text",value:P.phoneNumber,disabled:!0,className:"w-full p-3 border border-border rounded-md bg-muted text-muted-foreground"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tenant Name"}),r.jsx("input",{type:"text",name:"tenancyName",defaultValue:P.tenancyName,placeholder:"Enter new tenant name",required:!0,className:"w-full p-3 border border-border rounded-md focus:ring-2 focus:ring-primary focus:border-transparent","data-testid":"input-tenancy-name"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(Q,{type:"button",variant:"outline",onClick:()=>w(null),children:"Cancel"}),r.jsx(Q,{type:"submit",disabled:Y.isPending,"data-testid":"button-update-registration",children:Y.isPending?"Updating...":"Update"})]})]})]})})]})}var X4="Separator",iy="horizontal",J4=["horizontal","vertical"],Bj=p.forwardRef((e,t)=>{const{decorative:s,orientation:i=iy,...o}=e,c=eO(i)?i:iy,f=s?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return r.jsx(Fe.div,{"data-orientation":c,...f,...o,ref:t})});Bj.displayName=X4;function eO(e){return J4.includes(e)}var $j=Bj;const Gc=p.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...i},o)=>r.jsx($j,{ref:o,decorative:s,orientation:t,className:ke("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...i}));Gc.displayName=$j.displayName;function tO({bot:e,isOpen:t,onClose:s}){const{toast:i}=tr(),o=kr(),[c,u]=p.useState(()=>({autoLike:e.autoLike||!1,autoReact:e.autoReact||!1,autoView:e.autoViewStatus||!1,typingIndicator:e.typingMode!=="none",chatGPT:e.chatgptEnabled||!1,alwaysOnline:e.alwaysOnline||!1,autoRecording:e.presenceMode==="recording",presenceAutoSwitch:e.presenceAutoSwitch||!1})),f=We({mutationFn:({feature:S,enabled:P})=>kt("POST",`/api/bot-instances/${e.id}/toggle-feature`,{feature:S,enabled:P}),onSuccess:(S,{feature:P,enabled:w})=>{u(b=>({...b,[P]:w})),o.invalidateQueries({queryKey:["/api/bots/pending"]}),o.invalidateQueries({queryKey:["/api/bots/approved"]}),o.invalidateQueries({queryKey:["/api/bot-instances"]}),i({title:"Feature updated successfully"})},onError:S=>{i({title:"Failed to update feature",description:S instanceof Error?S.message:"Unknown error",variant:"destructive"})}}),h=(S,P)=>{f.mutate({feature:S,enabled:P})},g=[{id:"autoLike",label:"Auto Like Status",description:"Automatically like WhatsApp status updates",apiKey:"autoLike",getValue:()=>c.autoLike},{id:"autoReact",label:"Auto React",description:"Automatically react to messages",apiKey:"autoReact",getValue:()=>c.autoReact},{id:"autoView",label:"Auto View Status",description:"Automatically view WhatsApp status",apiKey:"autoView",getValue:()=>c.autoView}],x=[{id:"typingIndicator",label:"Typing Indicator",description:"Show typing indicator for responses",apiKey:"typingIndicator",getValue:()=>c.typingIndicator},{id:"autoRecording",label:"Auto Recording",description:"Show recording indicator automatically",apiKey:"autoRecording",getValue:()=>c.autoRecording},{id:"alwaysOnline",label:"Always Online",description:"Keep bot status as online always",apiKey:"alwaysOnline",getValue:()=>c.alwaysOnline},{id:"presenceAutoSwitch",label:"Auto Switch Typing/Recording",description:"Switch between typing and recording every 30 seconds",apiKey:"presenceAutoSwitch",getValue:()=>c.presenceAutoSwitch}],y=[{id:"chatGPT",label:"ChatGPT Integration",description:"Enable AI responses for conversations",apiKey:"chatGPT",getValue:()=>c.chatGPT}],j=(S,P)=>r.jsxs("div",{className:"space-y-3","data-testid":`section-${S.toLowerCase().replace(/\s+/g,"-")}`,children:[r.jsx("h4",{className:"font-medium text-sm text-foreground",children:S}),r.jsx("div",{className:"space-y-3",children:P.map(w=>r.jsxs("div",{className:"flex items-start space-x-3","data-testid":`feature-${w.id}`,children:[r.jsx(Hr,{id:w.id,checked:w.getValue(e),onCheckedChange:b=>h(w.apiKey,!!b),disabled:f.isPending||e.approvalStatus!=="approved","data-testid":`checkbox-${w.id}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx(_e,{htmlFor:w.id,className:"text-sm font-medium cursor-pointer",children:w.label}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:w.description})]})]},w.id))})]});return r.jsx(qt,{open:t,onOpenChange:s,children:r.jsxs(Ot,{className:"max-w-md","data-testid":"modal-bot-features",children:[r.jsx(Mt,{children:r.jsxs(Dt,{"data-testid":"modal-title",children:["Manage Bot Features - ",e.name]})}),r.jsxs("div",{className:"space-y-6",children:[e.approvalStatus!=="approved"&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:r.jsx("p",{className:"text-sm text-yellow-800",children:" Bot must be approved before features can be managed"})}),j("Automation",g),r.jsx(Gc,{}),j("Presence",x),r.jsx(Gc,{}),j("AI Integration",y),r.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:r.jsx(Q,{variant:"outline",onClick:s,"data-testid":"button-close",children:"Close"})})]})]})})}function rO(e){if(!e||e.length<8)return e;const t=e.slice(0,7),s=e.slice(-2),i="*".repeat(Math.max(0,e.length-9));return`${t}${i}${s}`}function oy({bot:e}){const{toast:t}=tr(),s=kr(),{isAdmin:i,token:o}=el(),[c,u]=p.useState(!1),f=We({mutationFn:({feature:w,enabled:b})=>kt("POST",`/api/bot-instances/${e.id}/toggle-feature`,{feature:w,enabled:b}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]}),t({title:"Feature updated successfully"})},onError:w=>{t({title:"Failed to update feature",description:w instanceof Error?w.message:"Unknown error",variant:"destructive"})}}),h=We({mutationFn:()=>kt("POST",`/api/bot-instances/${e.id}/approve`,{expirationMonths:3}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]}),t({title:"Bot approved successfully",description:"Bot is now approved for 3 months"})},onError:w=>{t({title:"Failed to approve bot",description:w instanceof Error?w.message:"Unknown error",variant:"destructive"})}}),g=We({mutationFn:()=>kt("POST",`/api/bot-instances/${e.id}/revoke`),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]}),t({title:"Bot approval revoked",description:"Bot has been returned to pending status"})},onError:w=>{t({title:"Failed to revoke approval",description:w instanceof Error?w.message:"Unknown error",variant:"destructive"})}}),x=We({mutationFn:()=>{if(!i)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/start`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(w=>{if(!w.ok)throw new Error("Failed to start bot");return w.json()})},onSuccess:()=>{t({title:"Bot started successfully"}),s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:w=>{t({title:"Failed to start bot",description:w.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),y=We({mutationFn:()=>{if(!i)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/stop`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(w=>{if(!w.ok)throw new Error("Failed to stop bot");return w.json()})},onSuccess:()=>{t({title:"Bot stopped successfully"}),s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:w=>{t({title:"Failed to stop bot",description:w.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),j=We({mutationFn:()=>{if(!i)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/restart`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(w=>{if(!w.ok)throw new Error("Failed to restart bot");return w.json()})},onSuccess:()=>{t({title:"Bot restarted successfully"}),s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:w=>{t({title:"Failed to restart bot",description:w.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),S=w=>{switch(w){case"online":return"status-online";case"offline":return"status-offline";case"error":return"status-error";case"loading":return"status-loading";default:return"status-offline"}},P=()=>i?e.status==="online"?r.jsx("button",{onClick:()=>y.mutate(),disabled:y.isPending,className:"flex-1 bg-red-600 text-white py-2 px-3 rounded-md text-sm hover:bg-red-700 transition-colors disabled:opacity-50","data-testid":`button-stop-bot-${e.id}`,children:y.isPending?"Stopping...":"Stop"}):e.status==="error"?r.jsx("button",{onClick:()=>j.mutate(),disabled:j.isPending,className:"flex-1 bg-destructive text-destructive-foreground py-2 px-3 rounded-md text-sm hover:bg-destructive/90 transition-colors disabled:opacity-50","data-testid":`button-restart-bot-${e.id}`,children:j.isPending?"Restarting...":"Restart"}):r.jsx("button",{onClick:()=>x.mutate(),disabled:x.isPending,className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-start-bot-${e.id}`,children:x.isPending?"Starting...":"Start"}):r.jsx("button",{disabled:!0,className:"flex-1 bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm cursor-not-allowed",title:"Admin access required",children:" Admin Only"});return r.jsxs(ue,{className:"bg-card border-border","data-testid":`bot-card-${e.id}`,children:[r.jsxs(fe,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${e.status==="online"?"bg-primary":e.status==="error"?"bg-yellow-500/20":"bg-muted"}`,children:r.jsx("i",{className:`fab fa-whatsapp text-xl ${e.status==="online"?"text-primary-foreground":e.status==="error"?"text-yellow-400 pulse-animation":"text-muted-foreground"}`})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-foreground","data-testid":`bot-name-${e.id}`,children:e.name}),r.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`bot-phone-${e.id}`,children:e.phoneNumber?i?e.phoneNumber:rO(e.phoneNumber):"Not connected"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${S(e.status)}`,"data-testid":`bot-status-${e.id}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),r.jsx("button",{className:"w-8 h-8 bg-muted rounded-md flex items-center justify-center hover:bg-muted/80","data-testid":`button-bot-menu-${e.id}`,children:r.jsx("i",{className:"fas fa-ellipsis-v text-muted-foreground"})})]})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[e.approvalStatus==="pending"&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-yellow-800",children:" Awaiting Approval"}),r.jsx("p",{className:"text-xs text-yellow-600",children:"This bot is waiting for admin approval"})]}),r.jsx("button",{onClick:()=>h.mutate(),disabled:h.isPending,className:"bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 disabled:opacity-50",children:h.isPending?"":" Approve"})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),r.jsx("button",{onClick:()=>f.mutate({feature:"autoLike",enabled:!e.autoLike}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoLike?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),r.jsx("button",{onClick:()=>f.mutate({feature:"autoView",enabled:!e.autoViewStatus}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoViewStatus?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoViewStatus?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),r.jsx("button",{onClick:()=>f.mutate({feature:"autoReact",enabled:!e.autoReact}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoReact?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),r.jsx("button",{onClick:()=>f.mutate({feature:"chatGPT",enabled:!e.chatgptEnabled}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.chatgptEnabled?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.chatgptEnabled?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Typing"}),r.jsx("button",{onClick:()=>f.mutate({feature:"typingIndicator",enabled:e.typingMode==="none"}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.typingMode!=="none"?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.typingMode!=="none"?"bg-white":"bg-muted-foreground"}`})})]})]})]}),e.status==="error"&&r.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3 mb-4",children:r.jsx("p",{className:"text-sm text-destructive",children:"Connection timeout - attempting restart"})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-messages-${e.id}`,children:e.messagesCount}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-commands-${e.id}`,children:e.commandsCount}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Commands"})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[P(),i&&r.jsxs(r.Fragment,{children:[e.approvalStatus==="pending"&&r.jsx("button",{onClick:()=>h.mutate(),disabled:h.isPending,className:"bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-approve-${e.id}`,children:h.isPending?"Approving...":" Approve"}),e.approvalStatus==="approved"&&r.jsx("button",{onClick:()=>g.mutate(),disabled:g.isPending,className:"bg-orange-600 text-white py-2 px-3 rounded-md text-sm hover:bg-orange-700 transition-colors disabled:opacity-50","data-testid":`button-revoke-${e.id}`,children:g.isPending?"Revoking...":" Normal"})]}),r.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-analytics-${e.id}`,children:r.jsx("i",{className:"fas fa-chart-line"})}),r.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white py-2 px-3 rounded-md text-sm hover:bg-blue-700 transition-colors","data-testid":`button-features-${e.id}`,children:[r.jsx("i",{className:"fas fa-sliders-h mr-1"}),"Features"]}),r.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-settings-${e.id}`,children:r.jsx("i",{className:"fas fa-cog"})})]})]}),r.jsx(tO,{bot:e,isOpen:c,onClose:()=>u(!1)})]})}function nO(){const[e,t]=p.useState(!1),[s,i]=p.useState("pending"),{data:o=[],isLoading:c}=xt({queryKey:["/api/bots/pending"]}),{data:u=[],isLoading:f}=xt({queryKey:["/api/bots/approved"]}),h=o||[],g=u||[];return Lb(),r.jsxs("div",{children:[r.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Bot Management Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage bot instances based on their approval status"})]}),r.jsxs(Q,{onClick:()=>t(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-new-bot",children:[r.jsx("i",{className:"fas fa-plus mr-2"}),"Add New Bot"]})]})}),r.jsx("div",{className:"p-6",children:r.jsxs(Ea,{value:s,onValueChange:x=>i(x),children:[r.jsxs(Zs,{className:"grid w-full grid-cols-2",children:[r.jsx(St,{value:"pending",className:"relative","data-testid":"tab-pending",children:r.jsxs("span",{className:"flex items-center gap-2",children:[" Pending Approval",h.length>0&&r.jsx(Ze,{variant:"secondary",className:"ml-1 bg-yellow-100 text-yellow-800",children:h.length})]})}),r.jsx(St,{value:"approved",className:"relative","data-testid":"tab-approved",children:r.jsxs("span",{className:"flex items-center gap-2",children:[" Approved Bots",g.length>0&&r.jsx(Ze,{variant:"secondary",className:"ml-1 bg-green-100 text-green-800",children:g.length})]})})]}),r.jsxs(yt,{value:"pending",className:"mt-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Pending Bot Approvals"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"These bots are awaiting admin approval. Limited functionality is available until approved."})]}),c?r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(3)].map((x,y)=>r.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 animate-pulse",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-24"}),r.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-3 bg-muted rounded"}),r.jsx("div",{className:"h-3 bg-muted rounded"})]})]},y))}):h.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-clock text-muted-foreground text-2xl"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Pending Approvals"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"All bots have been reviewed. Create a new bot to get started."}),r.jsx(Q,{onClick:()=>t(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-pending-bot",children:"Add New Bot"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:h.map(x=>r.jsx(oy,{bot:{...x,approvalStatus:"pending"}},x.id))})]}),r.jsxs(yt,{value:"approved",className:"mt-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Approved Bots"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"These bots have been approved and have full functionality available."})]}),f?r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(3)].map((x,y)=>r.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 animate-pulse",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-24"}),r.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-3 bg-muted rounded"}),r.jsx("div",{className:"h-3 bg-muted rounded"})]})]},y))}):g.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-check-circle text-muted-foreground text-2xl"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Approved Bots"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Approve pending bots or create new ones to get started."}),r.jsx(Q,{onClick:()=>i("pending"),variant:"outline",className:"mr-2","data-testid":"button-view-pending",children:"View Pending"}),r.jsx(Q,{onClick:()=>t(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-approved-bot",children:"Add New Bot"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:g.map(x=>r.jsx(oy,{bot:{...x,approvalStatus:"approved"}},x.id))})]})]})}),r.jsx(jj,{open:e,onClose:()=>t(!1)})]})}const sO=j4;function aO(){const{toast:e}=tr(),t=kr(),[s,i]=p.useState(!1),[o,c]=p.useState("all"),{data:u=[],isLoading:f}=xt({queryKey:["/api/commands"]}),{data:h=[]}=xt({queryKey:["/api/bot-instances"]}),g=Aw({resolver:Iw(sO),defaultValues:{name:"",description:"",response:"",isActive:!0,useChatGPT:!1,botInstanceId:null}}),x=We({mutationFn:b=>kt("POST","/api/commands",b),onSuccess:()=>{e({title:"Command created successfully"}),t.invalidateQueries({queryKey:["/api/commands"]}),g.reset(),i(!1)},onError:b=>{e({title:"Failed to create command",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),y=We({mutationFn:({id:b,isActive:E})=>kt("PATCH",`/api/commands/${b}`,{isActive:E}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/commands"]})}}),j=We({mutationFn:()=>kt("POST","/api/commands/sync"),onSuccess:b=>{e({title:"Commands synced successfully",description:`${b.addedCount} new commands added`}),t.invalidateQueries({queryKey:["/api/commands"]})},onError:b=>{e({title:"Failed to sync commands",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),S=We({mutationFn:b=>kt("DELETE",`/api/commands/${b}`),onSuccess:()=>{e({title:"Command deleted successfully"}),t.invalidateQueries({queryKey:["/api/commands"]})},onError:()=>{e({title:"Failed to delete command",variant:"destructive"})}}),P=b=>{x.mutate(b)},w=u.filter(b=>o==="all"?!0:o==="global"?!b.botInstanceId:b.botInstanceId===o);return r.jsxs("div",{children:[r.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Commands"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage bot commands with prefix (.)"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(Or,{value:o,onValueChange:c,children:[r.jsx(wr,{className:"w-48 bg-input border-border text-foreground","data-testid":"select-bot-filter",children:r.jsx(Mr,{})}),r.jsxs(jr,{className:"bg-popover border-border",children:[r.jsx(Ue,{value:"all",children:"All Commands"}),r.jsx(Ue,{value:"global",children:"Global Commands"}),h.map(b=>r.jsx(Ue,{value:b.id,children:b.name},b.id))]})]}),r.jsxs(Q,{onClick:()=>j.mutate(),disabled:j.isPending,variant:"outline",className:"bg-secondary text-secondary-foreground hover:bg-secondary/90","data-testid":"button-sync-commands",children:[r.jsx("i",{className:"fas fa-sync mr-2"}),j.isPending?"Syncing...":"Sync Commands"]}),r.jsxs(qt,{open:s,onOpenChange:i,children:[r.jsx(PT,{asChild:!0,children:r.jsxs(Q,{className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-command",children:[r.jsx("i",{className:"fas fa-plus mr-2"}),"Add Command"]})}),r.jsxs(Ot,{className:"bg-card border-border max-w-2xl","data-testid":"modal-add-command",children:[r.jsx(Mt,{children:r.jsx(Dt,{className:"text-lg font-semibold text-foreground",children:"Add New Command"})}),r.jsxs("form",{onSubmit:g.handleSubmit(P),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"command-name",children:"Command Name"}),r.jsx(Yt,{id:"command-name",placeholder:"help, status, info...",...g.register("name"),"data-testid":"input-command-name"}),g.formState.errors.name&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:g.formState.errors.name.message})]}),r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"bot-instance",children:"Bot Instance"}),r.jsxs(Or,{value:g.watch("botInstanceId")||"",onValueChange:b=>g.setValue("botInstanceId",b||null),children:[r.jsx(wr,{"data-testid":"select-command-bot",children:r.jsx(Mr,{placeholder:"Global command"})}),r.jsxs(jr,{children:[r.jsx(Ue,{value:"",children:"Global command"}),h.map(b=>r.jsx(Ue,{value:b.id,children:b.name},b.id))]})]})]})]}),r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"description",children:"Description"}),r.jsx(Yt,{id:"description",placeholder:"What does this command do?",...g.register("description"),"data-testid":"input-command-description"}),g.formState.errors.description&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:g.formState.errors.description.message})]}),r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"response",children:"Response"}),r.jsx(ls,{id:"response",placeholder:"Static response text (leave empty if using ChatGPT)",...g.register("response"),rows:3,"data-testid":"textarea-command-response"})]}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Hr,{id:"use-chatgpt",checked:g.watch("useChatGPT")||!1,onCheckedChange:b=>g.setValue("useChatGPT",b),"data-testid":"checkbox-use-chatgpt"}),r.jsx(_e,{htmlFor:"use-chatgpt",children:"Use ChatGPT"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Hr,{id:"is-active",checked:g.watch("isActive")||!1,onCheckedChange:b=>g.setValue("isActive",b),"data-testid":"checkbox-command-active"}),r.jsx(_e,{htmlFor:"is-active",children:"Active"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(Q,{type:"button",variant:"ghost",onClick:()=>i(!1),"data-testid":"button-cancel-command",children:"Cancel"}),r.jsx(Q,{type:"submit",disabled:x.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-save-command",children:x.isPending?"Creating...":"Create Command"})]})]})]})]})]})]})}),r.jsx("div",{className:"p-6",children:f?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading commands..."})]}):w.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-terminal text-muted-foreground text-2xl"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Commands Found"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first command to get started"}),r.jsx(Q,{onClick:()=>i(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-command",children:"Create Your First Command"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(b=>r.jsxs(ue,{className:"bg-card border-border","data-testid":`command-card-${b.id}`,children:[r.jsx(Le,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("code",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-sm font-mono",children:[".",b.name]}),b.useChatGPT&&r.jsxs("span",{className:"bg-purple-500/10 text-purple-400 px-2 py-1 rounded text-xs",children:[r.jsx("i",{className:"fas fa-brain mr-1"}),"GPT"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>y.mutate({id:b.id,isActive:!b.isActive}),className:`w-8 h-4 rounded-full flex items-center px-1 ${b.isActive?"bg-primary justify-end":"bg-muted justify-start"}`,"data-testid":`toggle-command-${b.id}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${b.isActive?"bg-white":"bg-muted-foreground"}`})}),r.jsx("button",{onClick:()=>S.mutate(b.id),className:"text-muted-foreground hover:text-destructive transition-colors","data-testid":`button-delete-command-${b.id}`,children:r.jsx("i",{className:"fas fa-trash text-sm"})})]})]})}),r.jsxs(fe,{children:[r.jsx("p",{className:"text-sm text-foreground mb-3","data-testid":`command-description-${b.id}`,children:b.description}),b.response&&r.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Response:"}),r.jsx("p",{className:"text-sm text-foreground","data-testid":`command-response-${b.id}`,children:b.response.length>100?`${b.response.substring(0,100)}...`:b.response})]}),b.botInstanceId&&r.jsx("div",{className:"mt-3",children:r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Bot: ",h.find(E=>E.id===b.botInstanceId)?.name||"Unknown"]})})]})]},b.id))})})]})}const Zc=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:s,className:ke("w-full caption-bottom text-sm",e),...t})}));Zc.displayName="Table";const Yc=p.forwardRef(({className:e,...t},s)=>r.jsx("thead",{ref:s,className:ke("[&_tr]:border-b",e),...t}));Yc.displayName="TableHeader";const Xc=p.forwardRef(({className:e,...t},s)=>r.jsx("tbody",{ref:s,className:ke("[&_tr:last-child]:border-0",e),...t}));Xc.displayName="TableBody";const iO=p.forwardRef(({className:e,...t},s)=>r.jsx("tfoot",{ref:s,className:ke("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));iO.displayName="TableFooter";const Ds=p.forwardRef(({className:e,...t},s)=>r.jsx("tr",{ref:s,className:ke("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ds.displayName="TableRow";const It=p.forwardRef(({className:e,...t},s)=>r.jsx("th",{ref:s,className:ke("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));It.displayName="TableHead";const _t=p.forwardRef(({className:e,...t},s)=>r.jsx("td",{ref:s,className:ke("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));_t.displayName="TableCell";const oO=p.forwardRef(({className:e,...t},s)=>r.jsx("caption",{ref:s,className:ke("mt-4 text-sm text-muted-foreground",e),...t}));oO.displayName="TableCaption";var Vj="AlertDialog",[lO,WM]=Fr(Vj,[ub]),cs=ub(),zj=e=>{const{__scopeAlertDialog:t,...s}=e,i=cs(t);return r.jsx(oh,{...i,...s,modal:!0})};zj.displayName=Vj;var cO="AlertDialogTrigger",Uj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...i}=e,o=cs(s);return r.jsx(Pb,{...o,...i,ref:t})});Uj.displayName=cO;var dO="AlertDialogPortal",qj=e=>{const{__scopeAlertDialog:t,...s}=e,i=cs(t);return r.jsx(lh,{...i,...s})};qj.displayName=dO;var uO="AlertDialogOverlay",Kj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...i}=e,o=cs(s);return r.jsx(pd,{...o,...i,ref:t})});Kj.displayName=uO;var gi="AlertDialogContent",[fO,mO]=lO(gi),hO=Ly("AlertDialogContent"),Wj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,children:i,...o}=e,c=cs(s),u=p.useRef(null),f=ot(t,u),h=p.useRef(null);return r.jsx(NT,{contentName:gi,titleName:Qj,docsSlug:"alert-dialog",children:r.jsx(fO,{scope:s,cancelRef:h,children:r.jsxs(gd,{role:"alertdialog",...c,...o,ref:f,onOpenAutoFocus:Oe(o.onOpenAutoFocus,g=>{g.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[r.jsx(hO,{children:i}),r.jsx(gO,{contentRef:u})]})})})});Wj.displayName=gi;var Qj="AlertDialogTitle",Hj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...i}=e,o=cs(s);return r.jsx(ch,{...o,...i,ref:t})});Hj.displayName=Qj;var Gj="AlertDialogDescription",Zj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...i}=e,o=cs(s);return r.jsx(dh,{...o,...i,ref:t})});Zj.displayName=Gj;var pO="AlertDialogAction",Yj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...i}=e,o=cs(s);return r.jsx(uh,{...o,...i,ref:t})});Yj.displayName=pO;var Xj="AlertDialogCancel",Jj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...i}=e,{cancelRef:o}=mO(Xj,s),c=cs(s),u=ot(t,o);return r.jsx(uh,{...c,...i,ref:u})});Jj.displayName=Xj;var gO=({contentRef:e})=>{const t=`\`${gi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${gi}\` by passing a \`${Gj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},xO=zj,vO=Uj,yO=qj,eN=Kj,tN=Wj,rN=Yj,nN=Jj,sN=Hj,aN=Zj;const iN=xO,oN=vO,bO=yO,lN=p.forwardRef(({className:e,...t},s)=>r.jsx(eN,{className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));lN.displayName=eN.displayName;const _h=p.forwardRef(({className:e,...t},s)=>r.jsxs(bO,{children:[r.jsx(lN,{}),r.jsx(tN,{ref:s,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));_h.displayName=tN.displayName;const Ah=({className:e,...t})=>r.jsx("div",{className:ke("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ah.displayName="AlertDialogHeader";const Rh=({className:e,...t})=>r.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Rh.displayName="AlertDialogFooter";const Ih=p.forwardRef(({className:e,...t},s)=>r.jsx(sN,{ref:s,className:ke("text-lg font-semibold",e),...t}));Ih.displayName=sN.displayName;const Oh=p.forwardRef(({className:e,...t},s)=>r.jsx(aN,{ref:s,className:ke("text-sm text-muted-foreground",e),...t}));Oh.displayName=aN.displayName;const Mh=p.forwardRef(({className:e,...t},s)=>r.jsx(rN,{ref:s,className:ke(th(),e),...t}));Mh.displayName=rN.displayName;const Dh=p.forwardRef(({className:e,...t},s)=>r.jsx(nN,{ref:s,className:ke(th({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Dh.displayName=nN.displayName;function wO({open:e,onClose:t}){const{toast:s}=tr(),i=kr(),[o,c]=p.useState(""),[u,f]=p.useState({serverUrl:"",adminToken:""}),[h,g]=p.useState(null),[x,y]=p.useState(!1),[j,S]=p.useState(""),[P,w]=p.useState("base64"),[b,E]=p.useState(!1),[C,I]=p.useState(null),[F,$]=p.useState("3"),[G,q]=p.useState(""),[J,ve]=p.useState("all"),[ge,de]=p.useState("all"),[X,ae]=p.useState("all"),[B,ne]=p.useState("name"),[z,T]=p.useState("asc"),[M,Y]=p.useState([]),[se,A]=p.useState(!1),[k,V]=p.useState(null),[ee,te]=p.useState(""),[he,re]=p.useState(!1),[Ne,Ae]=p.useState(""),[ze,dt]=p.useState(!1),{data:ft=[],isLoading:Wt}=xt({queryKey:["/api/master/tenancies"],enabled:e}),{data:Xe=[],isLoading:Br,refetch:Xr}=xt({queryKey:["/api/master/cross-tenancy-bots"],enabled:e,refetchInterval:1e4}),{data:dn=[],isLoading:Ri}=xt({queryKey:["/api/servers/list"],enabled:e,refetchInterval:15e3}),{data:ds=[],isLoading:O}=xt({queryKey:["/api/master/approved-bots"],enabled:e,refetchInterval:1e4}),U=Xe.filter(_=>{const ye=G===""||_.name.toLowerCase().includes(G.toLowerCase())||_.phoneNumber.includes(G)||_.tenancy.toLowerCase().includes(G.toLowerCase()),He=J==="all"||_.status===J,et=ge==="all"||_.tenancy===ge,pt=X==="all"||_.approvalStatus===X;return ye&&He&&et&&pt}).sort((_,ye)=>{let He,et;switch(B){case"name":He=_.name.toLowerCase(),et=ye.name.toLowerCase();break;case"phoneNumber":He=_.phoneNumber,et=ye.phoneNumber;break;case"server":He=_.tenancy,et=ye.tenancy;break;case"status":He=_.status,et=ye.status;break;case"lastActivity":He=new Date(_.lastActivity||0),et=new Date(ye.lastActivity||0);break;default:He=_.name,et=ye.name}return He<et?z==="asc"?-1:1:He>et?z==="asc"?1:-1:0}),Z={totalBots:Xe.length,onlineBots:Xe.filter(_=>_.status==="online").length,pendingBots:Xe.filter(_=>_.approvalStatus==="pending").length,approvedBots:Xe.filter(_=>_.approvalStatus==="approved").length,serverDistribution:Xe.reduce((_,ye)=>(_[ye.tenancy]=(_[ye.tenancy]||0)+1,_),{}),statusDistribution:Xe.reduce((_,ye)=>(_[ye.status]=(_[ye.status]||0)+1,_),{})};We({mutationFn:async _=>(console.log(`Attempting to connect to ${_.tenancy} via God Registry`),{success:!0,message:`Connected to ${_.tenancy} via God Registry`}),onSuccess:()=>{s({title:"Success",description:"Successfully connected to tenancy server"}),i.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:_=>{s({title:"Connection Failed",description:_.message,variant:"destructive"})}});const we=We({mutationFn:async _=>await(await kt("POST","/api/master/migrate-bot",_)).json(),onSuccess:()=>{s({title:"Bot Migration Successful",description:"Bot has been migrated to the target server"}),A(!1),V(null),i.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:_=>{s({title:"Migration Failed",description:_.message,variant:"destructive"})}}),be=We({mutationFn:async _=>await(await kt("POST","/api/master/batch-operation",_)).json(),onSuccess:_=>{s({title:"Batch Operation Successful",description:`${_.completedCount} of ${_.totalCount} operations completed successfully`}),re(!1),Y([]),i.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:_=>{s({title:"Batch Operation Failed",description:_.message,variant:"destructive"})}}),le=We({mutationFn:async({action:_,botId:ye,tenancy:He,data:et})=>(await kt("POST","/api/master/bot-action",{action:_,botId:ye,tenancy:He,data:et})).json(),onSuccess:(_,ye)=>{s({title:"Success",description:`Successfully ${ye.action}d bot`}),i.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:_=>{s({title:"Action Failed",description:_.message,variant:"destructive"})}}),Re=We({mutationFn:async({action:_,botId:ye,tenancy:He,feature:et,enabled:pt})=>(await kt("POST","/api/master/feature-management",{action:_,botId:ye,tenancy:He,feature:et,enabled:pt})).json(),onSuccess:()=>{s({title:"Feature Updated",description:"Bot feature settings updated successfully"}),i.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:_=>{s({title:"Feature Update Failed",description:_.message,variant:"destructive"})}}),it=We({mutationFn:async({sourceServer:_,targetServers:ye,commandIds:He})=>(await kt("POST","/api/master/sync-commands",{sourceServer:_,targetServers:ye,commandIds:He})).json(),onSuccess:()=>{s({title:"Commands Synced",description:"Commands successfully synced across selected tenancies"})},onError:_=>{s({title:"Command Sync Failed",description:_.message,variant:"destructive"})}}),Ge=(_,ye,He,et)=>{le.mutate({action:_,botId:ye,tenancy:He,data:et})},Qt=(_,ye,He,et)=>{Re.mutate({action:"toggle_feature",botId:_,tenancy:ye,feature:He,enabled:et})},Jr=()=>{if(C&&F){const _=parseInt(F,10);if(isNaN(_)||_<1||_>12){s({title:"Invalid Duration",description:"Approval duration must be between 1 and 12 months",variant:"destructive"});return}Ge("approve",C.id,C.tenancy,{duration:_}),E(!1),I(null)}},Bt=_=>{const ye={online:"bg-green-500",offline:"bg-gray-500",pending:"bg-yellow-500",approved:"bg-blue-500",rejected:"bg-red-500",dormant:"bg-purple-500"};return r.jsx(Ze,{className:`${ye[_]||"bg-gray-500"} text-white`,children:_})};return r.jsx(qt,{open:e,onOpenChange:t,children:r.jsxs(Ot,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Mt,{children:r.jsx(Dt,{className:"text-2xl font-bold text-center",children:" Master Control Panel"})}),r.jsxs(Ea,{defaultValue:"overview",className:"w-full",children:[r.jsxs(Zs,{className:"grid w-full grid-cols-6",children:[r.jsx(St,{value:"overview",children:"Overview"}),r.jsx(St,{value:"servers",children:"Servers"}),r.jsx(St,{value:"bots",children:"Bot Management"}),r.jsx(St,{value:"features",children:"Features"}),r.jsx(St,{value:"credentials",children:"Credentials"}),r.jsx(St,{value:"bulk",children:"Bulk Actions"})]}),r.jsxs(yt,{value:"overview",className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6 mb-6 dark:from-blue-900/20 dark:to-purple-900/20 dark:border-blue-800",children:[r.jsx("h3",{className:"text-xl font-bold text-blue-800 dark:text-blue-200 mb-2 flex items-center gap-2",children:" Master Control Dashboard"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-4",children:"Complete control over all server tenancies and bot containers in the TREKKER-MD ecosystem"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:ft.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Tenancies"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Xe.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Bots"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Xe.filter(_=>_.approvalStatus==="pending").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Approval"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:Xe.filter(_=>_.status==="online").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Online Bots"})]})]})]}),r.jsxs(ue,{children:[r.jsx(Le,{children:r.jsxs(Ve,{className:"flex items-center gap-2",children:[" Real-time System Status",r.jsx(Ze,{variant:"outline",className:"ml-auto",children:"Live"})]})}),r.jsx(fe,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Tenancy Distribution"}),r.jsx("div",{className:"space-y-2",children:ft.map(_=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"font-medium",children:_.name})]}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[_.botCount," bots"]})]},_.name))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Bot Status Summary"}),r.jsx("div",{className:"space-y-2",children:[{status:"online",count:Xe.filter(_=>_.status==="online").length,color:"bg-green-500"},{status:"offline",count:Xe.filter(_=>_.status==="offline").length,color:"bg-gray-500"},{status:"pending",count:Xe.filter(_=>_.approvalStatus==="pending").length,color:"bg-yellow-500"},{status:"error",count:Xe.filter(_=>_.status==="error").length,color:"bg-red-500"}].map(_=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 ${_.color} rounded-full`}),r.jsx("span",{className:"capitalize",children:_.status})]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:_.count})]},_.status))})]})]})})]})]}),r.jsx(yt,{value:"servers",className:"space-y-4",children:r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsx(Ve,{className:"text-blue-600",children:" Server Tenancy Management"}),r.jsx(nt,{children:"Monitor and control all server instances and their bot containers"})]}),r.jsx(fe,{children:Ri?r.jsx("div",{className:"text-center py-8",children:"Loading server information..."}):r.jsx("div",{className:"space-y-4",children:dn.slice(0,20).map(_=>r.jsx(ue,{className:"border-l-4 border-l-blue-500",children:r.jsxs(fe,{className:"pt-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-bold text-lg flex items-center gap-2",children:[" ",_.name,_.status==="active"?r.jsx(Ze,{className:"bg-green-500 text-white",children:"Active"}):r.jsx(Ze,{className:"bg-gray-500 text-white",children:"Available"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:_.description||"Server instance ready for bot deployment"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.currentBots}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Bots"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.remainingBots}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Available Slots"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg font-medium",children:[Math.round(_.currentBots/_.totalBots*100),"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Capacity Used"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.round(_.currentBots/_.totalBots*100)}%`}})})]})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>{fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:_.name,description:`Switched to ${_.name} for administration`})}).then(()=>{s({title:"Server Switched",description:`Successfully switched to ${_.name}`}),Xr()})},"data-testid":`button-switch-to-${_.name}`,children:" Switch To"}),r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{const ye=Xe.filter(He=>He.tenancy===_.name);s({title:"Server Bots",description:`${_.name} has ${ye.length} bots registered`})},children:[" View Bots (",Xe.filter(ye=>ye.tenancy===_.name).length,")"]})]})]})},_.name))})})]})}),r.jsx(yt,{value:"tenancies",className:"space-y-4",children:r.jsx("div",{className:"grid gap-4",children:ft.map(_=>r.jsxs(ue,{children:[r.jsx(Le,{children:r.jsxs(Ve,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[_.name,Bt(_.status||"unknown")]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Ge("sync","",_.name),disabled:le.isPending,children:"Sync"}),r.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>Ge("disconnect","",_.name),disabled:le.isPending,children:"Disconnect"})]})]})}),r.jsx(fe,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(_e,{children:"Server URL"}),r.jsx(Yt,{value:_.url,readOnly:!0})]}),r.jsxs("div",{children:[r.jsx(_e,{children:"Bot Count"}),r.jsx(Yt,{value:_.botCount.toString(),readOnly:!0})]})]})})]},_.name))})}),r.jsxs(yt,{value:"bots",className:"space-y-4",children:[r.jsxs(ue,{className:"border-l-4 border-l-purple-500",children:[r.jsxs(Le,{children:[r.jsxs(Ve,{className:"flex items-center gap-2",children:[r.jsx(li,{className:"h-5 w-5"}),"Advanced Bot Search & Filtering"]}),r.jsx(nt,{children:"Search and filter bots across all server tenancies with real-time results"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),r.jsx(Yt,{placeholder:"Search by bot name, phone number, or server...",value:G,onChange:_=>q(_.target.value),className:"pl-10","data-testid":"input-search-bots"})]}),r.jsx(Q,{variant:"outline",onClick:()=>{q(""),ve("all"),de("all"),ae("all")},"data-testid":"button-clear-filters",children:"Clear"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx(_e,{className:"text-sm font-medium",children:"Status Filter"}),r.jsxs(Or,{value:J,onValueChange:ve,children:[r.jsx(wr,{"data-testid":"select-status-filter",children:r.jsx(Mr,{})}),r.jsxs(jr,{children:[r.jsxs(Ue,{value:"all",children:["All Status (",Z.totalBots,")"]}),r.jsxs(Ue,{value:"online",children:["Online (",Z.onlineBots,")"]}),r.jsxs(Ue,{value:"offline",children:["Offline (",Z.totalBots-Z.onlineBots,")"]}),r.jsx(Ue,{value:"loading",children:"Loading"}),r.jsx(Ue,{value:"error",children:"Error"})]})]})]}),r.jsxs("div",{children:[r.jsx(_e,{className:"text-sm font-medium",children:"Server Filter"}),r.jsxs(Or,{value:ge,onValueChange:de,children:[r.jsx(wr,{"data-testid":"select-server-filter",children:r.jsx(Mr,{})}),r.jsxs(jr,{children:[r.jsx(Ue,{value:"all",children:"All Servers"}),Object.entries(Z.serverDistribution).map(([_,ye])=>r.jsxs(Ue,{value:_,children:[_," (",ye,")"]},_))]})]})]}),r.jsxs("div",{children:[r.jsx(_e,{className:"text-sm font-medium",children:"Approval Status"}),r.jsxs(Or,{value:X,onValueChange:ae,children:[r.jsx(wr,{"data-testid":"select-approval-filter",children:r.jsx(Mr,{})}),r.jsxs(jr,{children:[r.jsxs(Ue,{value:"all",children:["All (",Z.totalBots,")"]}),r.jsxs(Ue,{value:"approved",children:["Approved (",Z.approvedBots,")"]}),r.jsxs(Ue,{value:"pending",children:["Pending (",Z.pendingBots,")"]}),r.jsx(Ue,{value:"rejected",children:"Rejected"})]})]})]}),r.jsxs("div",{children:[r.jsx(_e,{className:"text-sm font-medium",children:"Sort By"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsxs(Or,{value:B,onValueChange:ne,children:[r.jsx(wr,{"data-testid":"select-sort-by",children:r.jsx(Mr,{})}),r.jsxs(jr,{children:[r.jsx(Ue,{value:"name",children:"Name"}),r.jsx(Ue,{value:"phoneNumber",children:"Phone"}),r.jsx(Ue,{value:"server",children:"Server"}),r.jsx(Ue,{value:"status",children:"Status"}),r.jsx(Ue,{value:"lastActivity",children:"Activity"})]})]}),r.jsx(Q,{variant:"outline",size:"sm",onClick:()=>T(z==="asc"?"desc":"asc"),"data-testid":"button-sort-order",children:z==="asc"?"":""})]})]})]}),r.jsx("div",{className:"bg-muted rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsxs("span",{className:"font-medium",children:["Results: ",U.length," of ",Z.totalBots," bots"]}),r.jsxs(Ze,{variant:"outline",children:[U.filter(_=>_.status==="online").length," online"]}),r.jsxs(Ze,{variant:"outline",children:[U.filter(_=>_.approvalStatus==="pending").length," pending"]}),r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>Xr(),disabled:Br,className:"ml-auto","data-testid":"button-refresh-data",children:[r.jsx(Bm,{className:"h-3 w-3 mr-1"}),Br?"Refreshing...":"Refresh"]})]})})]})]}),r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsx(Ve,{className:"text-purple-600",children:" Complete Bot Registry"}),r.jsx(nt,{children:"All bots across all server tenancies with individual container controls"})]}),r.jsx(fe,{children:Br?r.jsx("div",{className:"text-center py-8",children:"Loading bot registry..."}):r.jsxs(Zc,{children:[r.jsx(Yc,{children:r.jsxs(Ds,{children:[r.jsx(It,{children:"Bot Details"}),r.jsx(It,{children:"Server"}),r.jsx(It,{children:"Status"}),r.jsx(It,{children:"Approval"}),r.jsx(It,{children:"Features"}),r.jsx(It,{children:"Stats"}),r.jsx(It,{children:"Container Actions"})]})}),r.jsx(Xc,{children:U.length===0?r.jsx(Ds,{children:r.jsx(_t,{colSpan:7,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(li,{className:"h-8 w-8 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"No bots match your current filters"}),r.jsx(Q,{variant:"outline",size:"sm",onClick:()=>{q(""),ve("all"),de("all"),ae("all")},children:"Clear all filters"})]})})}):U.map(_=>r.jsxs(Ds,{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[r.jsx(_t,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:_.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:_.phoneNumber})]})}),r.jsx(_t,{children:r.jsx(Ze,{variant:_.tenancy==="default-server"?"default":"outline",children:_.tenancy})}),r.jsx(_t,{children:r.jsxs("div",{className:"space-y-1",children:[Bt(_.status),_.approvalStatus&&r.jsx("div",{children:Bt(_.approvalStatus)})]})}),r.jsx(_t,{children:_.approvalStatus==="pending"?r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Q,{size:"sm",variant:"default",onClick:()=>{I(_),E(!0)},disabled:le.isPending,"data-testid":`button-approve-${_.id}`,children:" Approve"}),r.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>Ge("reject",_.id,_.tenancy),disabled:le.isPending,"data-testid":`button-reject-${_.id}`,children:""})]}):_.approvalStatus==="approved"?r.jsxs("div",{className:"text-xs text-green-600",children:[" Approved",_.expirationMonths&&r.jsxs("div",{children:["(",_.expirationMonths,"mo)"]})]}):r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Ge("revoke",_.id,_.tenancy),disabled:le.isPending,"data-testid":`button-revoke-${_.id}`,children:" Revoke Approval"})}),r.jsx(_t,{children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsxs(Ze,{variant:_.autoLike?"default":"outline",className:"text-xs",children:[" ",_.autoLike?"ON":"OFF"]}),r.jsxs(Ze,{variant:_.chatgptEnabled?"default":"outline",className:"text-xs",children:[" ",_.chatgptEnabled?"ON":"OFF"]})]})}),r.jsx(_t,{children:r.jsxs("div",{className:"text-xs space-y-1",children:[r.jsxs("div",{children:["Msgs: ",_.messagesCount||0]}),r.jsxs("div",{children:["Cmds: ",_.commandsCount||0]})]})}),r.jsx(_t,{children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Ge(_.status==="online"?"stop":"start",_.id,_.serverName||_.tenancy||"default-server"),disabled:le.isPending,"data-testid":`button-${_.status==="online"?"stop":"start"}-${_.id}`,children:_.status==="online"?"":""}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>{g(_),y(!0)},"data-testid":`button-creds-${_.id}`,children:""}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Qt(_.id,_.tenancy,"autoLike",!_.autoLike),disabled:Re.isPending,children:""}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>{V(_),A(!0)},disabled:le.isPending,"data-testid":`button-migrate-${_.id}`,title:"Migrate to another server",children:r.jsx(av,{className:"h-3 w-3"})}),r.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>Ge("delete",_.id,_.tenancy),disabled:le.isPending,"data-testid":`button-delete-${_.id}`,children:""})]})})]},`${_.tenancy}-${_.id}`))})]})})]}),r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsx(Ve,{className:"text-green-600",children:" Approved & Active Bots"}),r.jsx(nt,{children:"Currently approved and active bots across all tenancies"})]}),r.jsx(fe,{children:O?r.jsx("div",{className:"text-center py-8",children:"Loading approved bots..."}):r.jsxs(Zc,{children:[r.jsx(Yc,{children:r.jsxs(Ds,{children:[r.jsx(It,{children:"Bot Name"}),r.jsx(It,{children:"Phone Number"}),r.jsx(It,{children:"Tenancy"}),r.jsx(It,{children:"Status"}),r.jsx(It,{children:"Approval Date"}),r.jsx(It,{children:"Last Activity"}),r.jsx(It,{children:"Actions"})]})}),r.jsx(Xc,{children:ds.map(_=>r.jsxs(Ds,{children:[r.jsx(_t,{className:"font-medium",children:_.name}),r.jsx(_t,{children:_.phoneNumber}),r.jsx(_t,{children:r.jsx(Ze,{variant:"outline",children:_.serverName})}),r.jsx(_t,{children:Bt(_.status)}),r.jsx(_t,{className:"text-sm text-muted-foreground",children:_.approvalDate?new Date(_.approvalDate).toLocaleDateString():"N/A"}),r.jsx(_t,{className:"text-sm text-muted-foreground",children:new Date(_.updatedAt||_.createdAt).toLocaleDateString()}),r.jsx(_t,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Ge(_.status==="online"?"stop":"start",_.id,_.serverName||_.tenancy||"default-server"),disabled:le.isPending,"data-testid":`button-${_.status==="online"?"stop":"start"}-${_.id}`,children:_.status==="online"?" Stop":" Start"}),r.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>Ge("delete",_.id,_.tenancy),disabled:le.isPending,"data-testid":`button-delete-approved-${_.id}`,children:" Delete"})]})})]},`approved-${_.serverName}-${_.id}`))})]})})]})]}),r.jsx(yt,{value:"features",className:"space-y-4",children:r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsx(Ve,{className:"text-purple-600",children:" Cross-Tenancy Feature Control"}),r.jsx(nt,{children:"Manage bot features across all tenancies from this central panel"})]}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800",children:[r.jsx("h4",{className:"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center gap-2",children:" Global Feature Management"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"autoLike",label:"Auto Like",icon:"",description:"Automatically like status updates"},{key:"autoReact",label:"Auto React",icon:"",description:"Automatically react to messages"},{key:"autoView",label:"Auto View",icon:"",description:"Automatically view status updates"},{key:"chatGPT",label:"ChatGPT",icon:"",description:"Enable AI chat responses"},{key:"typingIndicator",label:"Typing",icon:"",description:"Show typing indicators"},{key:"readReceipts",label:"Read Receipts",icon:"",description:"Send read receipts"}].map(_=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-lg",children:_.icon}),r.jsx("span",{className:"font-medium text-sm",children:_.label})]}),r.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:_.description}),r.jsx("div",{className:"space-y-2",children:ft.map(ye=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs",children:ye.name}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Qt("",ye.name,_.key,!0),className:"h-6 px-2 text-xs",disabled:Re.isPending,children:"Toggle"})]},ye.name))})]},_.key))})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:" Individual Bot Feature Control"}),r.jsx("div",{className:"space-y-4",children:Xe.filter(_=>_.approvalStatus==="approved").map(_=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium",children:_.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.phoneNumber,"  ",_.tenancy]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[Bt(_.status),r.jsx(Ze,{variant:"outline",children:_.tenancy})]})]}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:[{key:"autoLike",label:"Like",icon:""},{key:"autoReact",label:"React",icon:""},{key:"autoView",label:"View",icon:""},{key:"chatGPT",label:"AI",icon:""},{key:"typing",label:"Type",icon:""},{key:"receipts",label:"Read",icon:""}].map(ye=>r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>Qt(_.id,_.tenancy,ye.key,!0),className:"flex flex-col items-center gap-1 h-auto py-2",disabled:Re.isPending,children:[r.jsx("span",{className:"text-sm",children:ye.icon}),r.jsx("span",{className:"text-xs",children:ye.label})]},ye.key))})]},`${_.tenancy}-${_.id}`))})]}),r.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[r.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-3 flex items-center gap-2",children:" Command Sync Across Tenancies"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Source Server"}),r.jsxs("select",{className:"w-full p-2 border rounded-md bg-white dark:bg-gray-800",children:[r.jsx("option",{value:"",children:"Select source server..."}),ft.map(_=>r.jsx("option",{value:_.name,children:_.name},_.name))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Target Servers"}),r.jsx("div",{className:"space-y-2",children:ft.map(_=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:`target-${_.name}`,className:"rounded"}),r.jsx("label",{htmlFor:`target-${_.name}`,className:"text-sm",children:_.name})]},_.name))})]})]}),r.jsx(Q,{className:"w-full mt-4 bg-emerald-600 hover:bg-emerald-700",disabled:it.isPending,children:" Sync Selected Commands"})]})]})]})}),r.jsx(yt,{value:"credentials",className:"space-y-4",children:r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsx(Ve,{className:"text-green-600",children:" Bot Credential Management"}),r.jsx(nt,{children:"Update WhatsApp credentials for bots in their respective containers"})]}),r.jsxs(fe,{children:[r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 dark:bg-yellow-900/20 dark:border-yellow-800",children:[r.jsx("h4",{className:"font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:" Credential Update Safety"}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Credential updates are performed within each bot's isolated container. Data registry entries remain unchanged to maintain system integrity."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Xe.filter(_=>_.approvalStatus==="approved").map(_=>r.jsx(ue,{className:"border-l-4 border-l-green-500",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:_.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:_.phoneNumber}),r.jsx(Ze,{variant:"outline",className:"mt-1",children:_.tenancy})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",children:"Container Status:"}),Bt(_.status)]}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>{g(_),y(!0)},className:"w-full","data-testid":`button-update-creds-${_.id}`,children:" Update Credentials"})]})})},`cred-${_.tenancy}-${_.id}`))})]})]})}),r.jsx(yt,{value:"bulk",className:"space-y-4",children:r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsx(Ve,{className:"text-red-600",children:" Bulk Operations"}),r.jsx(nt,{children:"Perform actions on multiple bots across all server tenancies"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 dark:bg-red-900/20 dark:border-red-800",children:[r.jsx("h4",{className:"font-medium text-red-800 dark:text-red-200 mb-3",children:" Bulk Bot Selection"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{const _=Xe.map(ye=>`${ye.tenancy}-${ye.id}`);Y(_)},children:[" Select All (",Xe.length,")"]}),r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{const _=Xe.filter(ye=>ye.approvalStatus==="pending").map(ye=>`${ye.tenancy}-${ye.id}`);Y(_)},children:[" Select Pending (",Xe.filter(_=>_.approvalStatus==="pending").length,")"]}),r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{const _=Xe.filter(ye=>ye.status==="online").map(ye=>`${ye.tenancy}-${ye.id}`);Y(_)},children:[" Select Online (",Xe.filter(_=>_.status==="online").length,")"]}),r.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>Y([]),children:" Clear Selection"})]}),r.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["Selected: ",M.length," bots"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(ue,{className:"border-l-4 border-l-green-500",children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-green-600 mb-3",children:" Bulk Approve"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Approve all selected pending bots"}),r.jsx(Q,{size:"sm",variant:"default",className:"w-full",disabled:M.length===0,onClick:()=>{M.forEach(_=>{const[ye,He]=_.split("-"),et=Xe.find(pt=>pt.tenancy===ye&&pt.id===He);et&&et.approvalStatus==="pending"&&Ge("approve",He,ye,{duration:6})}),s({title:"Bulk Approval",description:`Processing approval for ${M.length} bots`})},children:"Approve Selected"})]})}),r.jsx(ue,{className:"border-l-4 border-l-blue-500",children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-blue-600 mb-3",children:" Bulk Start"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Start all selected offline bots"}),r.jsx(Q,{size:"sm",variant:"outline",className:"w-full",disabled:M.length===0,onClick:()=>{M.forEach(_=>{const[ye,He]=_.split("-"),et=Xe.find(pt=>pt.tenancy===ye&&pt.id===He);et&&et.status==="offline"&&Ge("start",He,ye)}),s({title:"Bulk Start",description:`Starting ${M.length} bots`})},children:"Start Selected"})]})}),r.jsx(ue,{className:"border-l-4 border-l-orange-500",children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-orange-600 mb-3",children:" Bulk Stop"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Stop all selected online bots"}),r.jsx(Q,{size:"sm",variant:"outline",className:"w-full",disabled:M.length===0,onClick:()=>{M.forEach(_=>{const[ye,He]=_.split("-"),et=Xe.find(pt=>pt.tenancy===ye&&pt.id===He);et&&et.status==="online"&&Ge("stop",He,ye)}),s({title:"Bulk Stop",description:`Stopping ${M.length} bots`})},children:"Stop Selected"})]})}),r.jsx(ue,{className:"border-l-4 border-l-purple-500",children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-purple-600 mb-3",children:" Bulk Features"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Enable features for selected bots"}),r.jsx(Q,{size:"sm",variant:"outline",className:"w-full",disabled:M.length===0,onClick:()=>{M.forEach(_=>{const[ye,He]=_.split("-");Qt(He,ye,"autoLike",!0)}),s({title:"Bulk Feature Update",description:`Enabling features for ${M.length} bots`})},children:"Enable Auto-Like"})]})})]})]})})]})}),r.jsx(yt,{value:"connect",className:"space-y-4",children:r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsx(Ve,{children:"God Registry Information"}),r.jsx(nt,{children:"Cross-tenancy management is powered by the God Registry table"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:" How Cross-Tenancy Works:"}),r.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[r.jsx("li",{children:" All bot registrations are stored in the God Registry table"}),r.jsx("li",{children:" Each entry contains phone number and tenancy name (SERVER1, SERVER2, etc.)"}),r.jsx("li",{children:" Master control can see and manage bots across all tenancies"}),r.jsx("li",{children:" Local tenancy bots show full details, remote ones show registry info"}),r.jsx("li",{children:" Actions on local tenancy bots are executed directly"}),r.jsx("li",{children:" Actions on remote tenancy bots are logged for coordination"})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:" Current Setup:"}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[r.jsxs("li",{children:[" Current Server: ","SERVER1"]}),r.jsx("li",{children:" God Registry: Active and monitoring all tenancies"}),r.jsx("li",{children:" Cross-tenancy actions: Logged and tracked"}),r.jsx("li",{children:" Data isolation: Each tenancy maintains its own bot data"})]})]}),r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No additional setup required - God Registry manages everything automatically"})})]})]})})]}),h&&r.jsx(qt,{open:x,onOpenChange:y,children:r.jsxs(Ot,{className:"max-w-2xl",children:[r.jsx(Mt,{children:r.jsx(Dt,{children:" Update Bot Credentials"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot Information"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Name:"})," ",h.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"})," ",h.phoneNumber]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Server:"})," ",h.tenancy]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Status:"})," ",h.status]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"credential-type",children:"Credential Type"}),r.jsxs(Or,{value:P,onValueChange:_=>w(_),children:[r.jsx(wr,{children:r.jsx(Mr,{placeholder:"Select credential type"})}),r.jsxs(jr,{children:[r.jsx(Ue,{value:"base64",children:"Base64 String"}),r.jsx(Ue,{value:"file",children:"File Upload"})]})]})]}),P==="base64"?r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"credentials",children:"New Credentials (Base64)"}),r.jsx("textarea",{id:"credentials",className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm",placeholder:"Paste your base64-encoded credentials here...",value:j,onChange:_=>S(_.target.value)})]}):r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"credential-file",children:"Upload Credentials File"}),r.jsx("input",{id:"credential-file",type:"file",accept:".json",className:"w-full p-2 border rounded-md",onChange:_=>{const ye=_.target.files?.[0];if(ye){const He=new FileReader;He.onload=et=>{S(et.target?.result||"")},He.readAsText(ye)}}})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Q,{onClick:()=>{if(!j.trim()){s({title:"Validation Error",description:"Please provide credentials",variant:"destructive"});return}fetch("/api/master/bot-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({action:"update_credentials",botId:h.id,tenancy:h.tenancy,data:{credentials:P==="base64"?j:JSON.parse(j),type:P}})}).then(async _=>{if(_.ok)s({title:"Credentials Updated",description:`Credentials updated for ${h.name} in ${h.tenancy} container`}),y(!1),g(null),S(""),Xr();else{const ye=await _.json();s({title:"Update Failed",description:ye.message||"Failed to update credentials",variant:"destructive"})}})},className:"flex-1","data-testid":"button-save-credentials",children:" Update Credentials"}),r.jsx(Q,{variant:"outline",onClick:()=>{y(!1),g(null),S("")},children:"Cancel"})]})]})]})]})}),b&&C&&r.jsx(qt,{open:b,onOpenChange:()=>{E(!1),I(null)},children:r.jsxs(Ot,{className:"max-w-md",children:[r.jsx(Mt,{children:r.jsx(Dt,{className:"text-center flex items-center justify-center gap-2",children:" Cross-Server Bot Approval"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot Details"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Name:"})," ",C.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"})," ",C.phoneNumber]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Server:"})," ",C.tenancy]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Current Status:"})," ",C.approvalStatus]})]})]}),r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"approval-duration",children:"Approval Duration"}),r.jsxs(Or,{value:F,onValueChange:$,children:[r.jsx(wr,{"data-testid":"select-approval-duration",children:r.jsx(Mr,{placeholder:"Select approval duration"})}),r.jsxs(jr,{children:[r.jsx(Ue,{value:"1",children:"1 Month"}),r.jsx(Ue,{value:"2",children:"2 Months"}),r.jsx(Ue,{value:"3",children:"3 Months (Recommended)"}),r.jsx(Ue,{value:"6",children:"6 Months"}),r.jsx(Ue,{value:"9",children:"9 Months"}),r.jsx(Ue,{value:"12",children:"12 Months"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bot will be automatically deactivated after this period unless renewed."})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 dark:bg-yellow-900/20 dark:border-yellow-800",children:r.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:[r.jsx("strong",{children:"Cross-Server Approval:"})," This bot is located on ",C.tenancy," server. The approval will be coordinated through the God Registry system."]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Q,{onClick:Jr,disabled:le.isPending,className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":"button-confirm-approval",children:le.isPending?r.jsx(r.Fragment,{children:" Processing..."}):r.jsxs(r.Fragment,{children:[" Approve for ",F," Month",parseInt(F)>1?"s":""]})}),r.jsx(Q,{variant:"outline",onClick:()=>{E(!1),I(null)},disabled:le.isPending,"data-testid":"button-cancel-approval",children:"Cancel"})]})]})]})}),se&&k&&r.jsx(qt,{open:se,onOpenChange:A,children:r.jsxs(Ot,{className:"max-w-md",children:[r.jsx(Mt,{children:r.jsxs(Dt,{className:"flex items-center gap-2",children:[r.jsx(av,{className:"h-5 w-5 text-blue-600"}),"Cross-Server Bot Migration"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot to Migrate"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Name:"})," ",k.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"})," ",k.phoneNumber]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Current Server:"})," ",k.tenancy]})]})]}),r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"target-server",children:"Target Server"}),r.jsxs(Or,{value:ee,onValueChange:te,children:[r.jsx(wr,{"data-testid":"select-target-server",children:r.jsx(Mr,{placeholder:"Select destination server"})}),r.jsx(jr,{children:Object.keys(Z.serverDistribution).filter(_=>_!==k.tenancy).map(_=>r.jsxs(Ue,{value:_,children:[_," (",Z.serverDistribution[_]," bots)"]},_))})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 dark:bg-yellow-900/20 dark:border-yellow-800",children:r.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:[r.jsx("strong",{children:"Migration Process:"})," Bot will be safely transferred with all data and credentials. This process maintains data integrity and bot functionality."]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Q,{onClick:()=>{if(!ee){s({title:"Target Required",description:"Please select a target server",variant:"destructive"});return}if(ee===k.tenancy){s({title:"Invalid Target",description:"Target server must be different from source server",variant:"destructive"});return}we.mutate({botId:k.id,sourceServer:k.tenancy,targetServer:ee})},disabled:we.isPending||!ee,className:"flex-1 bg-blue-600 hover:bg-blue-700","data-testid":"button-confirm-migration",children:we.isPending?r.jsx(r.Fragment,{children:" Migrating..."}):r.jsx(r.Fragment,{children:" Migrate Bot"})}),r.jsx(Q,{variant:"outline",onClick:()=>{A(!1),V(null),te("")},disabled:we.isPending,children:"Cancel"})]})]})]})}),he&&r.jsx(qt,{open:he,onOpenChange:re,children:r.jsxs(Ot,{className:"max-w-lg",children:[r.jsx(Mt,{children:r.jsxs(Dt,{className:"flex items-center gap-2",children:[r.jsx(rP,{className:"h-5 w-5 text-purple-600"}),"Batch Bot Operations"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800",children:[r.jsxs("h4",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:["Selected Bots (",M.length,")"]}),r.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 text-sm",children:M.map(_=>{const[ye,He]=_.split("-"),et=U.find(pt=>pt.tenancy===ye&&pt.id===He);return et?r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:et.name}),r.jsx("span",{className:"text-muted-foreground",children:et.tenancy})]},_):null})})]}),r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"batch-operation",children:"Operation Type"}),r.jsxs(Or,{value:Ne,onValueChange:Ae,children:[r.jsx(wr,{"data-testid":"select-batch-operation",children:r.jsx(Mr,{placeholder:"Select batch operation"})}),r.jsxs(jr,{children:[r.jsx(Ue,{value:"start",children:"Start All Selected Bots"}),r.jsx(Ue,{value:"stop",children:"Stop All Selected Bots"}),r.jsx(Ue,{value:"restart",children:"Restart All Selected Bots"}),r.jsx(Ue,{value:"approve",children:"Bulk Approve (Pending Bots Only)"}),r.jsx(Ue,{value:"feature-toggle",children:"Enable/Disable Feature"})]})]})]}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 dark:bg-red-900/20 dark:border-red-800",children:r.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300",children:[r.jsx("strong",{children:"Batch Operations:"})," This will apply the selected operation to all ",M.length,"selected bots simultaneously. This action affects multiple servers and cannot be undone."]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Q,{onClick:()=>{if(!Ne){s({title:"Operation Required",description:"Please select a batch operation",variant:"destructive"});return}be.mutate({operation:Ne,botIds:M})},disabled:be.isPending||!Ne||M.length===0,className:"flex-1 bg-purple-600 hover:bg-purple-700","data-testid":"button-execute-batch",children:be.isPending?r.jsx(r.Fragment,{children:" Processing..."}):r.jsx(r.Fragment,{children:" Execute Batch Operation"})}),r.jsx(Q,{variant:"outline",onClick:()=>{re(!1),Ae("")},disabled:be.isPending,children:"Cancel"})]})]})]})}),ze&&r.jsx(qt,{open:ze,onOpenChange:dt,children:r.jsxs(Ot,{className:"max-w-4xl",children:[r.jsx(Mt,{children:r.jsxs(Dt,{className:"flex items-center gap-2",children:[r.jsx(Qr,{className:"h-5 w-5 text-green-600"}),"Cross-Server Health Monitor"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(ue,{className:"border-green-200",children:r.jsx(fe,{className:"pt-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Healthy Bots"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:U.filter(_=>_.status==="online").length})]}),r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})]})})}),r.jsx(ue,{className:"border-yellow-200",children:r.jsx(fe,{className:"pt-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Warning Status"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:U.filter(_=>_.status==="loading").length})]}),r.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"})]})})}),r.jsx(ue,{className:"border-red-200",children:r.jsx(fe,{className:"pt-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Critical Issues"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:U.filter(_=>_.status==="error"||_.status==="offline").length})]}),r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"})]})})})]}),r.jsxs(ue,{children:[r.jsx(Le,{children:r.jsx(Ve,{className:"text-sm font-medium",children:"Server Health Status"})}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-3",children:Object.entries(Z.serverDistribution).map(([_,ye])=>{const et=U.filter(Tn=>Tn.tenancy===_).filter(Tn=>Tn.status==="online").length,pt=Math.round(et/ye*100)||0,us=pt>=80?"text-green-600":pt>=60?"text-yellow-600":"text-red-600";return r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${pt>=80?"bg-green-500":pt>=60?"bg-yellow-500":"bg-red-500"}`}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:_}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[et,"/",ye," bots online"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`font-bold ${us}`,children:[pt,"%"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Health Score"})]})]},_)})})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(Q,{variant:"outline",onClick:()=>dt(!1),children:"Close Monitor"})})]})]})})]})})}const jO=Xo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Qo=p.forwardRef(({className:e,variant:t,...s},i)=>r.jsx("div",{ref:i,role:"alert",className:ke(jO({variant:t}),e),...s}));Qo.displayName="Alert";const NO=p.forwardRef(({className:e,...t},s)=>r.jsx("h5",{ref:s,className:ke("mb-1 font-medium leading-none tracking-tight",e),...t}));NO.displayName="AlertTitle";const Ho=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ke("text-sm [&_p]:leading-relaxed",e),...t}));Ho.displayName="AlertDescription";var ly=1,SO=.9,CO=.8,kO=.17,Kf=.1,Wf=.999,PO=.9999,EO=.99,TO=/[\\\/_+.#"@\[\(\{&]/,_O=/[\\\/_+.#"@\[\(\{&]/g,AO=/[\s-]/,cN=/[\s-]/g;function Cm(e,t,s,i,o,c,u){if(c===t.length)return o===e.length?ly:EO;var f=`${o},${c}`;if(u[f]!==void 0)return u[f];for(var h=i.charAt(c),g=s.indexOf(h,o),x=0,y,j,S,P;g>=0;)y=Cm(e,t,s,i,g+1,c+1,u),y>x&&(g===o?y*=ly:TO.test(e.charAt(g-1))?(y*=CO,S=e.slice(o,g-1).match(_O),S&&o>0&&(y*=Math.pow(Wf,S.length))):AO.test(e.charAt(g-1))?(y*=SO,P=e.slice(o,g-1).match(cN),P&&o>0&&(y*=Math.pow(Wf,P.length))):(y*=kO,o>0&&(y*=Math.pow(Wf,g-o))),e.charAt(g)!==t.charAt(c)&&(y*=PO)),(y<Kf&&s.charAt(g-1)===i.charAt(c+1)||i.charAt(c+1)===i.charAt(c)&&s.charAt(g-1)!==i.charAt(c))&&(j=Cm(e,t,s,i,g+1,c+2,u),j*Kf>y&&(y=j*Kf)),y>x&&(x=y),g=s.indexOf(h,g+1);return u[f]=x,x}function cy(e){return e.toLowerCase().replace(cN," ")}function RO(e,t,s){return e=s&&s.length>0?`${e+" "+s.join(" ")}`:e,Cm(e,t,cy(e),cy(t),0,0,{})}var wo='[cmdk-group=""]',Qf='[cmdk-group-items=""]',IO='[cmdk-group-heading=""]',dN='[cmdk-item=""]',dy=`${dN}:not([aria-disabled="true"])`,km="cmdk-item-select",si="data-value",OO=(e,t,s)=>RO(e,t,s),uN=p.createContext(void 0),al=()=>p.useContext(uN),fN=p.createContext(void 0),Fh=()=>p.useContext(fN),mN=p.createContext(void 0),hN=p.forwardRef((e,t)=>{let s=ai(()=>{var k,V;return{search:"",value:(V=(k=e.value)!=null?k:e.defaultValue)!=null?V:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),i=ai(()=>new Set),o=ai(()=>new Map),c=ai(()=>new Map),u=ai(()=>new Set),f=pN(e),{label:h,children:g,value:x,onValueChange:y,filter:j,shouldFilter:S,loop:P,disablePointerSelection:w=!1,vimBindings:b=!0,...E}=e,C=Sr(),I=Sr(),F=Sr(),$=p.useRef(null),G=KO();Pa(()=>{if(x!==void 0){let k=x.trim();s.current.value=k,q.emit()}},[x]),Pa(()=>{G(6,ae)},[]);let q=p.useMemo(()=>({subscribe:k=>(u.current.add(k),()=>u.current.delete(k)),snapshot:()=>s.current,setState:(k,V,ee)=>{var te,he,re,Ne;if(!Object.is(s.current[k],V)){if(s.current[k]=V,k==="search")X(),ge(),G(1,de);else if(k==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Ae=document.getElementById(F);Ae?Ae.focus():(te=document.getElementById(C))==null||te.focus()}if(G(7,()=>{var Ae;s.current.selectedItemId=(Ae=B())==null?void 0:Ae.id,q.emit()}),ee||G(5,ae),((he=f.current)==null?void 0:he.value)!==void 0){let Ae=V??"";(Ne=(re=f.current).onValueChange)==null||Ne.call(re,Ae);return}}q.emit()}},emit:()=>{u.current.forEach(k=>k())}}),[]),J=p.useMemo(()=>({value:(k,V,ee)=>{var te;V!==((te=c.current.get(k))==null?void 0:te.value)&&(c.current.set(k,{value:V,keywords:ee}),s.current.filtered.items.set(k,ve(V,ee)),G(2,()=>{ge(),q.emit()}))},item:(k,V)=>(i.current.add(k),V&&(o.current.has(V)?o.current.get(V).add(k):o.current.set(V,new Set([k]))),G(3,()=>{X(),ge(),s.current.value||de(),q.emit()}),()=>{c.current.delete(k),i.current.delete(k),s.current.filtered.items.delete(k);let ee=B();G(4,()=>{X(),ee?.getAttribute("id")===k&&de(),q.emit()})}),group:k=>(o.current.has(k)||o.current.set(k,new Set),()=>{c.current.delete(k),o.current.delete(k)}),filter:()=>f.current.shouldFilter,label:h||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:C,inputId:F,labelId:I,listInnerRef:$}),[]);function ve(k,V){var ee,te;let he=(te=(ee=f.current)==null?void 0:ee.filter)!=null?te:OO;return k?he(k,s.current.search,V):0}function ge(){if(!s.current.search||f.current.shouldFilter===!1)return;let k=s.current.filtered.items,V=[];s.current.filtered.groups.forEach(te=>{let he=o.current.get(te),re=0;he.forEach(Ne=>{let Ae=k.get(Ne);re=Math.max(Ae,re)}),V.push([te,re])});let ee=$.current;ne().sort((te,he)=>{var re,Ne;let Ae=te.getAttribute("id"),ze=he.getAttribute("id");return((re=k.get(ze))!=null?re:0)-((Ne=k.get(Ae))!=null?Ne:0)}).forEach(te=>{let he=te.closest(Qf);he?he.appendChild(te.parentElement===he?te:te.closest(`${Qf} > *`)):ee.appendChild(te.parentElement===ee?te:te.closest(`${Qf} > *`))}),V.sort((te,he)=>he[1]-te[1]).forEach(te=>{var he;let re=(he=$.current)==null?void 0:he.querySelector(`${wo}[${si}="${encodeURIComponent(te[0])}"]`);re?.parentElement.appendChild(re)})}function de(){let k=ne().find(ee=>ee.getAttribute("aria-disabled")!=="true"),V=k?.getAttribute(si);q.setState("value",V||void 0)}function X(){var k,V,ee,te;if(!s.current.search||f.current.shouldFilter===!1){s.current.filtered.count=i.current.size;return}s.current.filtered.groups=new Set;let he=0;for(let re of i.current){let Ne=(V=(k=c.current.get(re))==null?void 0:k.value)!=null?V:"",Ae=(te=(ee=c.current.get(re))==null?void 0:ee.keywords)!=null?te:[],ze=ve(Ne,Ae);s.current.filtered.items.set(re,ze),ze>0&&he++}for(let[re,Ne]of o.current)for(let Ae of Ne)if(s.current.filtered.items.get(Ae)>0){s.current.filtered.groups.add(re);break}s.current.filtered.count=he}function ae(){var k,V,ee;let te=B();te&&(((k=te.parentElement)==null?void 0:k.firstChild)===te&&((ee=(V=te.closest(wo))==null?void 0:V.querySelector(IO))==null||ee.scrollIntoView({block:"nearest"})),te.scrollIntoView({block:"nearest"}))}function B(){var k;return(k=$.current)==null?void 0:k.querySelector(`${dN}[aria-selected="true"]`)}function ne(){var k;return Array.from(((k=$.current)==null?void 0:k.querySelectorAll(dy))||[])}function z(k){let V=ne()[k];V&&q.setState("value",V.getAttribute(si))}function T(k){var V;let ee=B(),te=ne(),he=te.findIndex(Ne=>Ne===ee),re=te[he+k];(V=f.current)!=null&&V.loop&&(re=he+k<0?te[te.length-1]:he+k===te.length?te[0]:te[he+k]),re&&q.setState("value",re.getAttribute(si))}function M(k){let V=B(),ee=V?.closest(wo),te;for(;ee&&!te;)ee=k>0?UO(ee,wo):qO(ee,wo),te=ee?.querySelector(dy);te?q.setState("value",te.getAttribute(si)):T(k)}let Y=()=>z(ne().length-1),se=k=>{k.preventDefault(),k.metaKey?Y():k.altKey?M(1):T(1)},A=k=>{k.preventDefault(),k.metaKey?z(0):k.altKey?M(-1):T(-1)};return p.createElement(Fe.div,{ref:t,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:k=>{var V;(V=E.onKeyDown)==null||V.call(E,k);let ee=k.nativeEvent.isComposing||k.keyCode===229;if(!(k.defaultPrevented||ee))switch(k.key){case"n":case"j":{b&&k.ctrlKey&&se(k);break}case"ArrowDown":{se(k);break}case"p":case"k":{b&&k.ctrlKey&&A(k);break}case"ArrowUp":{A(k);break}case"Home":{k.preventDefault(),z(0);break}case"End":{k.preventDefault(),Y();break}case"Enter":{k.preventDefault();let te=B();if(te){let he=new Event(km);te.dispatchEvent(he)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:J.inputId,id:J.labelId,style:QO},h),Td(e,k=>p.createElement(fN.Provider,{value:q},p.createElement(uN.Provider,{value:J},k))))}),MO=p.forwardRef((e,t)=>{var s,i;let o=Sr(),c=p.useRef(null),u=p.useContext(mN),f=al(),h=pN(e),g=(i=(s=h.current)==null?void 0:s.forceMount)!=null?i:u?.forceMount;Pa(()=>{if(!g)return f.item(o,u?.id)},[g]);let x=gN(o,c,[e.value,e.children,c],e.keywords),y=Fh(),j=Ks(G=>G.value&&G.value===x.current),S=Ks(G=>g||f.filter()===!1?!0:G.search?G.filtered.items.get(o)>0:!0);p.useEffect(()=>{let G=c.current;if(!(!G||e.disabled))return G.addEventListener(km,P),()=>G.removeEventListener(km,P)},[S,e.onSelect,e.disabled]);function P(){var G,q;w(),(q=(G=h.current).onSelect)==null||q.call(G,x.current)}function w(){y.setState("value",x.current,!0)}if(!S)return null;let{disabled:b,value:E,onSelect:C,forceMount:I,keywords:F,...$}=e;return p.createElement(Fe.div,{ref:xa(c,t),...$,id:o,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!j,"data-disabled":!!b,"data-selected":!!j,onPointerMove:b||f.getDisablePointerSelection()?void 0:w,onClick:b?void 0:P},e.children)}),DO=p.forwardRef((e,t)=>{let{heading:s,children:i,forceMount:o,...c}=e,u=Sr(),f=p.useRef(null),h=p.useRef(null),g=Sr(),x=al(),y=Ks(S=>o||x.filter()===!1?!0:S.search?S.filtered.groups.has(u):!0);Pa(()=>x.group(u),[]),gN(u,f,[e.value,e.heading,h]);let j=p.useMemo(()=>({id:u,forceMount:o}),[o]);return p.createElement(Fe.div,{ref:xa(f,t),...c,"cmdk-group":"",role:"presentation",hidden:y?void 0:!0},s&&p.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:g},s),Td(e,S=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?g:void 0},p.createElement(mN.Provider,{value:j},S))))}),FO=p.forwardRef((e,t)=>{let{alwaysRender:s,...i}=e,o=p.useRef(null),c=Ks(u=>!u.search);return!s&&!c?null:p.createElement(Fe.div,{ref:xa(o,t),...i,"cmdk-separator":"",role:"separator"})}),LO=p.forwardRef((e,t)=>{let{onValueChange:s,...i}=e,o=e.value!=null,c=Fh(),u=Ks(g=>g.search),f=Ks(g=>g.selectedItemId),h=al();return p.useEffect(()=>{e.value!=null&&c.setState("search",e.value)},[e.value]),p.createElement(Fe.input,{ref:t,...i,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":f,id:h.inputId,type:"text",value:o?e.value:u,onChange:g=>{o||c.setState("search",g.target.value),s?.(g.target.value)}})}),BO=p.forwardRef((e,t)=>{let{children:s,label:i="Suggestions",...o}=e,c=p.useRef(null),u=p.useRef(null),f=Ks(g=>g.selectedItemId),h=al();return p.useEffect(()=>{if(u.current&&c.current){let g=u.current,x=c.current,y,j=new ResizeObserver(()=>{y=requestAnimationFrame(()=>{let S=g.offsetHeight;x.style.setProperty("--cmdk-list-height",S.toFixed(1)+"px")})});return j.observe(g),()=>{cancelAnimationFrame(y),j.unobserve(g)}}},[]),p.createElement(Fe.div,{ref:xa(c,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":i,id:h.listId},Td(e,g=>p.createElement("div",{ref:xa(u,h.listInnerRef),"cmdk-list-sizer":""},g)))}),$O=p.forwardRef((e,t)=>{let{open:s,onOpenChange:i,overlayClassName:o,contentClassName:c,container:u,...f}=e;return p.createElement(oh,{open:s,onOpenChange:i},p.createElement(lh,{container:u},p.createElement(pd,{"cmdk-overlay":"",className:o}),p.createElement(gd,{"aria-label":e.label,"cmdk-dialog":"",className:c},p.createElement(hN,{ref:t,...f}))))}),VO=p.forwardRef((e,t)=>Ks(s=>s.filtered.count===0)?p.createElement(Fe.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),zO=p.forwardRef((e,t)=>{let{progress:s,children:i,label:o="Loading...",...c}=e;return p.createElement(Fe.div,{ref:t,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},Td(e,u=>p.createElement("div",{"aria-hidden":!0},u)))}),Lr=Object.assign(hN,{List:BO,Item:MO,Input:LO,Group:DO,Separator:FO,Dialog:$O,Empty:VO,Loading:zO});function UO(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return s;s=s.nextElementSibling}}function qO(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return s;s=s.previousElementSibling}}function pN(e){let t=p.useRef(e);return Pa(()=>{t.current=e}),t}var Pa=typeof window>"u"?p.useEffect:p.useLayoutEffect;function ai(e){let t=p.useRef();return t.current===void 0&&(t.current=e()),t}function Ks(e){let t=Fh(),s=()=>e(t.snapshot());return p.useSyncExternalStore(t.subscribe,s,s)}function gN(e,t,s,i=[]){let o=p.useRef(),c=al();return Pa(()=>{var u;let f=(()=>{var g;for(let x of s){if(typeof x=="string")return x.trim();if(typeof x=="object"&&"current"in x)return x.current?(g=x.current.textContent)==null?void 0:g.trim():o.current}})(),h=i.map(g=>g.trim());c.value(e,f,h),(u=t.current)==null||u.setAttribute(si,f),o.current=f}),o}var KO=()=>{let[e,t]=p.useState(),s=ai(()=>new Map);return Pa(()=>{s.current.forEach(i=>i()),s.current=new Map},[e]),(i,o)=>{s.current.set(i,o),t({})}};function WO(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Td({asChild:e,children:t},s){return e&&p.isValidElement(t)?p.cloneElement(WO(t),{ref:t.ref},s(t.props.children)):s(t)}var QO={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const xN=p.forwardRef(({className:e,...t},s)=>r.jsx(Lr,{ref:s,className:ke("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));xN.displayName=Lr.displayName;const vN=p.forwardRef(({className:e,...t},s)=>r.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[r.jsx(li,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx(Lr.Input,{ref:s,className:ke("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));vN.displayName=Lr.Input.displayName;const yN=p.forwardRef(({className:e,...t},s)=>r.jsx(Lr.List,{ref:s,className:ke("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));yN.displayName=Lr.List.displayName;const bN=p.forwardRef((e,t)=>r.jsx(Lr.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));bN.displayName=Lr.Empty.displayName;const wN=p.forwardRef(({className:e,...t},s)=>r.jsx(Lr.Group,{ref:s,className:ke("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));wN.displayName=Lr.Group.displayName;const HO=p.forwardRef(({className:e,...t},s)=>r.jsx(Lr.Separator,{ref:s,className:ke("-mx-1 h-px bg-border",e),...t}));HO.displayName=Lr.Separator.displayName;const jN=p.forwardRef(({className:e,...t},s)=>r.jsx(Lr.Item,{ref:s,className:ke("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));jN.displayName=Lr.Item.displayName;var _d="Popover",[NN,QM]=Fr(_d,[_i]),il=_i(),[GO,Ys]=NN(_d),SN=e=>{const{__scopePopover:t,children:s,open:i,defaultOpen:o,onOpenChange:c,modal:u=!1}=e,f=il(t),h=p.useRef(null),[g,x]=p.useState(!1),[y,j]=ss({prop:i,defaultProp:o??!1,onChange:c,caller:_d});return r.jsx(W0,{...f,children:r.jsx(GO,{scope:t,contentId:Sr(),triggerRef:h,open:y,onOpenChange:j,onOpenToggle:p.useCallback(()=>j(S=>!S),[j]),hasCustomAnchor:g,onCustomAnchorAdd:p.useCallback(()=>x(!0),[]),onCustomAnchorRemove:p.useCallback(()=>x(!1),[]),modal:u,children:s})})};SN.displayName=_d;var CN="PopoverAnchor",ZO=p.forwardRef((e,t)=>{const{__scopePopover:s,...i}=e,o=Ys(CN,s),c=il(s),{onCustomAnchorAdd:u,onCustomAnchorRemove:f}=o;return p.useEffect(()=>(u(),()=>f()),[u,f]),r.jsx(ld,{...c,...i,ref:t})});ZO.displayName=CN;var kN="PopoverTrigger",PN=p.forwardRef((e,t)=>{const{__scopePopover:s,...i}=e,o=Ys(kN,s),c=il(s),u=ot(t,o.triggerRef),f=r.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":RN(o.open),...i,ref:u,onClick:Oe(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?f:r.jsx(ld,{asChild:!0,...c,children:f})});PN.displayName=kN;var Lh="PopoverPortal",[YO,XO]=NN(Lh,{forceMount:void 0}),EN=e=>{const{__scopePopover:t,forceMount:s,children:i,container:o}=e,c=Ys(Lh,t);return r.jsx(YO,{scope:t,forceMount:s,children:r.jsx(Pn,{present:s||c.open,children:r.jsx(Zo,{asChild:!0,container:o,children:i})})})};EN.displayName=Lh;var Ni="PopoverContent",TN=p.forwardRef((e,t)=>{const s=XO(Ni,e.__scopePopover),{forceMount:i=s.forceMount,...o}=e,c=Ys(Ni,e.__scopePopover);return r.jsx(Pn,{present:i||c.open,children:c.modal?r.jsx(eM,{...o,ref:t}):r.jsx(tM,{...o,ref:t})})});TN.displayName=Ni;var JO=va("PopoverContent.RemoveScroll"),eM=p.forwardRef((e,t)=>{const s=Ys(Ni,e.__scopePopover),i=p.useRef(null),o=ot(t,i),c=p.useRef(!1);return p.useEffect(()=>{const u=i.current;if(u)return nh(u)},[]),r.jsx(md,{as:JO,allowPinchZoom:!0,children:r.jsx(_N,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(e.onCloseAutoFocus,u=>{u.preventDefault(),c.current||s.triggerRef.current?.focus()}),onPointerDownOutside:Oe(e.onPointerDownOutside,u=>{const f=u.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,g=f.button===2||h;c.current=g},{checkForDefaultPrevented:!1}),onFocusOutside:Oe(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),tM=p.forwardRef((e,t)=>{const s=Ys(Ni,e.__scopePopover),i=p.useRef(!1),o=p.useRef(!1);return r.jsx(_N,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(i.current||s.triggerRef.current?.focus(),c.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;s.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),_N=p.forwardRef((e,t)=>{const{__scopePopover:s,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:x,...y}=e,j=Ys(Ni,s),S=il(s);return rh(),r.jsx(ud,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:c,children:r.jsx(ki,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:x,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:g,onDismiss:()=>j.onOpenChange(!1),children:r.jsx(Xm,{"data-state":RN(j.open),role:"dialog",id:j.contentId,...S,...y,ref:t,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),AN="PopoverClose",rM=p.forwardRef((e,t)=>{const{__scopePopover:s,...i}=e,o=Ys(AN,s);return r.jsx(Fe.button,{type:"button",...i,ref:t,onClick:Oe(e.onClick,()=>o.onOpenChange(!1))})});rM.displayName=AN;var nM="PopoverArrow",sM=p.forwardRef((e,t)=>{const{__scopePopover:s,...i}=e,o=il(s);return r.jsx(Jm,{...o,...i,ref:t})});sM.displayName=nM;function RN(e){return e?"open":"closed"}var aM=SN,iM=PN,oM=EN,IN=TN;const lM=aM,cM=iM,ON=p.forwardRef(({className:e,align:t="center",sideOffset:s=4,...i},o)=>r.jsx(oM,{children:r.jsx(IN,{ref:o,align:t,sideOffset:s,className:ke("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...i})}));ON.displayName=IN.displayName;function dM({open:e,onOpenChange:t,currentServerName:s,hasSecretConfig:i}){const{toast:o}=tr(),c=kr(),[u,f]=p.useState(s||""),[h,g]=p.useState(""),[x,y]=p.useState(!1),{data:j=[],isLoading:S}=xt({queryKey:["/api/servers/list"],enabled:e&&!i}),P=We({mutationFn:async E=>await(await kt("POST","/api/server/configure",E)).json(),onSuccess:E=>{o({title:"Server configured successfully",description:"Your server name has been saved."}),E&&E.requiresRefresh?(o({title:"Server context switched",description:"Refreshing to load new server data..."}),c.clear(),setTimeout(()=>{window.location.reload()},1e3)):c.invalidateQueries({queryKey:["/api/server/info"]}),t(!1)},onError:E=>{o({title:"Configuration failed",description:E.message||"Failed to configure server",variant:"destructive"})}}),w=E=>{if(E.preventDefault(),!u.trim()){o({title:"Server required",description:"Please select a server",variant:"destructive"});return}P.mutate({serverName:u.trim(),description:h.trim()||void 0})},b=j.find(E=>E.name===u);return r.jsx(qt,{open:e,onOpenChange:t,children:r.jsxs(Ot,{className:"sm:max-w-[500px]","data-testid":"dialog-server-config",children:[r.jsxs(Mt,{children:[r.jsxs(Dt,{className:"flex items-center gap-2",children:[r.jsx(ci,{className:"h-5 w-5"}),"Server Configuration"]}),r.jsx(_o,{children:"Configure your server name and description. This will be used to identify this server instance."})]}),i&&r.jsxs(Qo,{"data-testid":"alert-secret-configured",children:[r.jsx(ln,{className:"h-4 w-4"}),r.jsx(Ho,{children:"Server name is configured via environment secrets (SERVER_NAME) and cannot be changed through the UI."})]}),!i&&r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(_e,{"data-testid":"label-server-name",children:"Select Server *"}),S?r.jsxs("div",{className:"flex items-center justify-center p-4 border rounded-md",children:[r.jsx(cv,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading servers..."})]}):r.jsxs(lM,{open:x,onOpenChange:y,children:[r.jsx(cM,{asChild:!0,children:r.jsxs(Q,{variant:"outline",role:"combobox","aria-expanded":x,className:"w-full justify-between",disabled:P.isPending,"data-testid":"button-server-select",children:[u?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(iv,{className:"h-4 w-4"}),r.jsx("span",{children:u}),b&&r.jsxs(Ze,{variant:"secondary",className:"ml-auto",children:[b.currentBots,"/",b.totalBots]})]}):r.jsx("span",{className:"text-muted-foreground",children:"Select a server..."}),r.jsx($m,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(ON,{className:"w-full p-0",align:"start",children:r.jsxs(xN,{children:[r.jsx(vN,{placeholder:"Search servers...",className:"h-9"}),r.jsx(bN,{children:"No servers found."}),r.jsx(yN,{className:"max-h-[200px]",children:r.jsx(wN,{children:j.map(E=>r.jsxs(jN,{value:E.name,onSelect:()=>{f(E.name),y(!1)},className:"flex items-center justify-between","data-testid":`option-${E.name}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(iv,{className:"h-4 w-4"}),r.jsx("span",{children:E.name})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Ze,{variant:E.currentBots===0?"secondary":E.remainingBots===0?"destructive":"default",className:"text-xs",children:[E.currentBots,"/",E.totalBots]}),E.remainingBots>0&&r.jsxs("span",{className:"text-xs text-green-600",children:[E.remainingBots," free"]})]})]},E.name))})})]})})]}),b&&r.jsx("div",{className:"text-sm text-muted-foreground p-2 bg-muted rounded",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{children:["Bot Usage: ",b.currentBots,"/",b.totalBots]}),r.jsxs("span",{className:b.remainingBots>0?"text-green-600":"text-red-600",children:[b.remainingBots," slots available"]})]})}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose from Server1 to Server100. Servers with fewer bots are shown first."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(_e,{htmlFor:"description","data-testid":"label-description",children:"Description (Optional)"}),r.jsx(ls,{id:"description","data-testid":"textarea-description",value:h,onChange:E=>g(E.target.value),placeholder:"Describe the purpose of this server...",disabled:P.isPending,rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(Q,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:P.isPending,"data-testid":"button-cancel",children:"Cancel"}),r.jsxs(Q,{type:"submit",disabled:P.isPending||!u.trim(),"data-testid":"button-save-config",children:[P.isPending&&r.jsx(cv,{className:"mr-2 h-4 w-4 animate-spin"}),"Switch to ",u]})]})]}),i&&r.jsx("div",{className:"flex justify-end",children:r.jsx(Q,{onClick:()=>t(!1),"data-testid":"button-close",children:"Close"})})]})})}var Bh="Progress",$h=100,[uM,HM]=Fr(Bh),[fM,mM]=uM(Bh),MN=p.forwardRef((e,t)=>{const{__scopeProgress:s,value:i=null,max:o,getValueLabel:c=hM,...u}=e;(o||o===0)&&!uy(o)&&console.error(pM(`${o}`,"Progress"));const f=uy(o)?o:$h;i!==null&&!fy(i,f)&&console.error(gM(`${i}`,"Progress"));const h=fy(i,f)?i:null,g=Jc(h)?c(h,f):void 0;return r.jsx(fM,{scope:s,value:h,max:f,children:r.jsx(Fe.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":Jc(h)?h:void 0,"aria-valuetext":g,role:"progressbar","data-state":LN(h,f),"data-value":h??void 0,"data-max":f,...u,ref:t})})});MN.displayName=Bh;var DN="ProgressIndicator",FN=p.forwardRef((e,t)=>{const{__scopeProgress:s,...i}=e,o=mM(DN,s);return r.jsx(Fe.div,{"data-state":LN(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...i,ref:t})});FN.displayName=DN;function hM(e,t){return`${Math.round(e/t*100)}%`}function LN(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Jc(e){return typeof e=="number"}function uy(e){return Jc(e)&&!isNaN(e)&&e>0}function fy(e,t){return Jc(e)&&!isNaN(e)&&e<=t&&e>=0}function pM(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$h}\`.`}function gM(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$h} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var BN=MN,xM=FN;const Pm=p.forwardRef(({className:e,value:t,...s},i)=>r.jsx(BN,{ref:i,className:ke("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:r.jsx(xM,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Pm.displayName=BN.displayName;function vM(){const{data:e,isLoading:t}=xt({queryKey:["/api/servers/all"],refetchInterval:5e3}),s=e?.servers||[],i=(y,j,S)=>y!=="active"?r.jsx(eP,{className:"h-4 w-4 text-red-500"}):j>=S?r.jsx(ln,{className:"h-4 w-4 text-yellow-500"}):r.jsx(tP,{className:"h-4 w-4 text-green-500"}),o=(y,j,S)=>y!=="active"?r.jsx(Ze,{variant:"destructive",children:"Inactive"}):j>=S?r.jsx(Ze,{variant:"secondary",children:"Full"}):j===0?r.jsx(Ze,{variant:"outline",children:"Empty"}):r.jsx(Ze,{variant:"default",children:"Active"}),c=y=>y>=90?"bg-red-500":y>=70?"bg-yellow-500":"bg-green-500",u=s.length,f=s.filter(y=>y.serverStatus==="active").length,h=s.reduce((y,j)=>y+j.currentBots,0),g=s.reduce((y,j)=>y+j.maxBots,0),x=g>0?Math.round(h/g*100):0;return t?r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((y,j)=>r.jsx(ue,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})})},j))})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(ue,{"data-testid":"card-total-servers",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Servers"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-servers",children:u})]}),r.jsx(ci,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(ue,{"data-testid":"card-active-servers",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Servers"}),r.jsx("p",{className:"text-2xl font-bold text-green-600","data-testid":"text-active-servers",children:f})]}),r.jsx(Bm,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(ue,{"data-testid":"card-total-bots",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Bots"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600","data-testid":"text-total-bots",children:h})]}),r.jsx(ns,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(ue,{"data-testid":"card-avg-utilization",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg. Utilization"}),r.jsxs("p",{className:"text-2xl font-bold","data-testid":"text-avg-utilization",children:[x,"%"]})]}),r.jsx("div",{className:"text-right",children:r.jsx(Pm,{value:x,className:"w-16 h-2","data-testid":"progress-avg-utilization"})})]})})})]}),r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsxs(Ve,{className:"flex items-center gap-2",children:[r.jsx(ci,{className:"h-5 w-5"}),"Server Status Overview"]}),r.jsx(nt,{children:"Real-time status of all registered servers in the multi-tenant system"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.map(y=>{const j=y.maxBots>0?Math.round(y.currentBots/y.maxBots*100):0;return r.jsx(ue,{className:"relative overflow-hidden","data-testid":`card-server-${y.serverName}`,children:r.jsxs(fe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[i(y.serverStatus,y.currentBots,y.maxBots),r.jsx("h3",{className:"font-semibold text-sm","data-testid":`text-server-name-${y.serverName}`,children:y.serverName})]}),r.jsx("div",{"data-testid":`badge-status-${y.serverName}`,children:o(y.serverStatus,y.currentBots,y.maxBots)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Bots"}),r.jsxs("span",{className:"font-medium","data-testid":`text-bot-count-${y.serverName}`,children:[y.currentBots,"/",y.maxBots]})]}),r.jsx(Pm,{value:j,className:`h-2 ${c(j)}`,"data-testid":`progress-utilization-${y.serverName}`}),r.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[r.jsxs("span",{"data-testid":`text-utilization-${y.serverName}`,children:["Utilization: ",j,"%"]}),r.jsxs("span",{"data-testid":`text-slots-free-${y.serverName}`,children:[y.availableSlots," slots free"]})]}),y.description&&r.jsx("p",{className:"text-xs text-muted-foreground truncate mt-2",title:y.description,"data-testid":`text-description-${y.serverName}`,children:y.description})]}),y.currentBots>=y.maxBots&&r.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-bl-lg"})]})},y.serverName)})}),s.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(ci,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium mb-2",children:"No Servers Registered"}),r.jsx("p",{className:"text-sm",children:"Register your first server to see it here."})]})]})]})]})}function yM(){const{toast:e}=tr(),t=kr(),{logout:s}=el(),[i,o]=p.useState(!1),[c,u]=p.useState(!1),{data:f=[],isLoading:h}=xt({queryKey:["/api/admin/bot-instances"],queryFn:async()=>{const C=await fetch("/api/admin/bot-instances",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!C.ok)throw new Error("Failed to fetch bot instances");return await C.json()}}),{data:g=[],isLoading:x}=xt({queryKey:["/api/admin/activities"],queryFn:async()=>{const C=await fetch("/api/admin/activities",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!C.ok)throw new Error("Failed to fetch activities");return await C.json()}}),{data:y}=xt({queryKey:["/api/admin/stats"],queryFn:async()=>{const C=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!C.ok)throw new Error("Failed to fetch stats");return C.json()}}),{data:j={}}=xt({queryKey:["/api/server/info"]}),S=We({mutationFn:async C=>{const I=await fetch(`/api/admin/bot-instances/${C}/start`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!I.ok)throw new Error("Failed to start bot");return I.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot started successfully"})},onError:()=>{e({title:"Failed to start bot",variant:"destructive"})}}),P=We({mutationFn:async C=>{const I=await fetch(`/api/admin/bot-instances/${C}/stop`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!I.ok)throw new Error("Failed to stop bot");return I.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot stopped successfully"})},onError:()=>{e({title:"Failed to stop bot",variant:"destructive"})}}),w=We({mutationFn:async C=>{const I=await fetch(`/api/admin/bot-instances/${C}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!I.ok){const F=await I.text();throw new Error(F||"Failed to delete bot")}return I.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot deleted successfully"})},onError:()=>{e({title:"Failed to delete bot",variant:"destructive"})}}),b=C=>{const I={online:"default",offline:"secondary",loading:"outline",error:"destructive",qr_code:"outline"};return r.jsx(Ze,{variant:I[C]||"secondary","data-testid":`status-${C}`,children:C.replace("_"," ").toUpperCase()})},E=C=>new Date(C).toLocaleString();return r.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qr,{className:"h-6 w-6 text-red-600"}),r.jsx("h1",{className:"text-3xl font-bold","data-testid":"admin-console-title",children:"Admin Console"})]}),r.jsxs(Q,{variant:"outline",onClick:()=>{s(),window.location.href="/"},className:"flex items-center gap-2","data-testid":"button-logout-admin",children:[r.jsx(Yk,{className:"h-4 w-4"}),"Logout"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs(ue,{children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ve,{className:"text-sm font-medium",children:"Total Bots"}),r.jsx(ns,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(fe,{children:r.jsx("div",{className:"text-2xl font-bold","data-testid":"total-bots",children:y?.totalBots||f.length})})]}),r.jsxs(ue,{children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ve,{className:"text-sm font-medium",children:"Online Bots"}),r.jsx(Bm,{className:"h-4 w-4 text-green-600"})]}),r.jsx(fe,{children:r.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"online-bots",children:f.filter(C=>C.status==="online").length})})]}),r.jsxs(ue,{children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ve,{className:"text-sm font-medium",children:"Total Messages"}),r.jsx(Qk,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(fe,{children:r.jsx("div",{className:"text-2xl font-bold","data-testid":"total-messages",children:f.reduce((C,I)=>C+(I.messagesCount||0),0)})})]}),r.jsxs(ue,{children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ve,{className:"text-sm font-medium",children:"Commands Used"}),r.jsx(Jk,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(fe,{children:r.jsx("div",{className:"text-2xl font-bold","data-testid":"total-commands",children:f.reduce((C,I)=>C+(I.commandsCount||0),0)})})]})]}),r.jsxs(Ea,{defaultValue:"overview",className:"space-y-4",children:[r.jsxs(Zs,{children:[r.jsx(St,{value:"overview","data-testid":"tab-overview",children:"Server Overview"}),r.jsx(St,{value:"bots","data-testid":"tab-bots",children:"Bot Management"}),r.jsx(St,{value:"activities","data-testid":"tab-activities",children:"Recent Activity"}),r.jsx(St,{value:"server","data-testid":"tab-server",children:"Server Config"}),r.jsx(St,{value:"master","data-testid":"tab-master",children:"Master Control"})]}),r.jsx(yt,{value:"overview",className:"space-y-4",children:r.jsx(vM,{})}),r.jsx(yt,{value:"bots",className:"space-y-4",children:r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsx(Ve,{children:"Bot Instance Management"}),r.jsx(nt,{children:"Manage all WhatsApp bot instances across the system"})]}),r.jsx(fe,{children:h?r.jsx("div",{className:"text-center py-8",children:"Loading bot instances..."}):r.jsxs(Zc,{children:[r.jsx(Yc,{children:r.jsxs(Ds,{children:[r.jsx(It,{children:"Name"}),r.jsx(It,{children:"Phone Number"}),r.jsx(It,{children:"Status"}),r.jsx(It,{children:"Messages"}),r.jsx(It,{children:"Commands"}),r.jsx(It,{children:"Last Activity"}),r.jsx(It,{children:"Actions"})]})}),r.jsx(Xc,{children:f.map(C=>r.jsxs(Ds,{children:[r.jsx(_t,{className:"font-medium","data-testid":`bot-name-${C.id}`,children:C.name}),r.jsx(_t,{"data-testid":`bot-phone-${C.id}`,children:C.phoneNumber||"Not set"}),r.jsx(_t,{children:b(C.status)}),r.jsx(_t,{"data-testid":`bot-messages-${C.id}`,children:C.messagesCount||0}),r.jsx(_t,{"data-testid":`bot-commands-${C.id}`,children:C.commandsCount||0}),r.jsx(_t,{"data-testid":`bot-activity-${C.id}`,children:C.lastActivity?E(C.lastActivity):"Never"}),r.jsx(_t,{children:r.jsxs("div",{className:"flex gap-2",children:[C.status==="offline"||C.status==="error"?r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>S.mutate(C.id),disabled:S.isPending,"data-testid":`button-start-${C.id}`,children:r.jsx(ya,{className:"h-4 w-4"})}):r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>P.mutate(C.id),disabled:P.isPending,"data-testid":`button-stop-${C.id}`,children:r.jsx(xi,{className:"h-4 w-4"})}),r.jsxs(iN,{children:[r.jsx(oN,{asChild:!0,children:r.jsx(Q,{size:"sm",variant:"destructive","data-testid":`button-delete-${C.id}`,children:r.jsx(Vm,{className:"h-4 w-4"})})}),r.jsxs(_h,{children:[r.jsxs(Ah,{children:[r.jsx(Ih,{children:"Delete Bot Instance"}),r.jsxs(Oh,{children:['Are you sure you want to delete "',C.name,'"? This action cannot be undone.']})]}),r.jsxs(Rh,{children:[r.jsx(Dh,{children:"Cancel"}),r.jsx(Mh,{onClick:()=>w.mutate(C.id),"data-testid":`confirm-delete-${C.id}`,children:"Delete"})]})]})]})]})})]},C.id))})]})})]})}),r.jsx(yt,{value:"activities",className:"space-y-4",children:r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsx(Ve,{children:"System Activity Monitor"}),r.jsx(nt,{children:"Recent activities across all bot instances"})]}),r.jsx(fe,{children:x?r.jsx("div",{className:"text-center py-8",children:"Loading activities..."}):r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto","data-testid":"activities-list",children:g.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No recent activities"}):g.map(C=>r.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ze,{variant:"outline","data-testid":`activity-type-${C.type}`,children:C.type.replace("_"," ").toUpperCase()}),r.jsx("span",{className:"text-sm text-muted-foreground",children:E(C.createdAt)})]}),r.jsx("p",{className:"text-sm","data-testid":`activity-description-${C.id}`,children:C.description}),C.metadata&&typeof C.metadata=="object"&&Object.keys(C.metadata).length>0?r.jsxs("details",{className:"text-xs",children:[r.jsx("summary",{className:"cursor-pointer text-muted-foreground",children:"View details"}),r.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs overflow-x-auto",children:JSON.stringify(C.metadata,null,2)})]}):null]},C.id))})})]})}),r.jsx(yt,{value:"server",className:"space-y-4",children:r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsx(Ve,{children:"Server Configuration"}),r.jsx(nt,{children:"Configure server settings and tenancy management"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Current Server"}),r.jsx("p",{className:"text-2xl font-bold text-primary",children:j?.serverName||"default-server"}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Bot Slots: ",j?.currentBots||0,"/",j?.maxBots||0]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Configuration Status"}),r.jsx("p",{className:"text-sm",children:j?.hasSecretConfig?r.jsx("span",{className:"text-green-600",children:" Environment Configured"}):r.jsx("span",{className:"text-yellow-600",children:" Manual Configuration"})})]})]}),r.jsx(Q,{onClick:()=>u(!0),className:"w-full","data-testid":"button-configure-server-admin",children:" Configure Server Settings"}),r.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Switch between server instances and manage tenancy settings"})]})})]})}),r.jsx(yt,{value:"master",className:"space-y-4",children:r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsx(Ve,{children:"Master Control Panel"}),r.jsx(nt,{children:"Cross-tenancy bot management using God Registry"})]}),r.jsxs(fe,{children:[r.jsx(Q,{onClick:()=>o(!0),className:"w-full","data-testid":"button-open-master-control",children:" Open Master Control Panel"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Manage bots across all tenancies from a centralized interface"})]})]})})]}),r.jsx(wO,{open:i,onClose:()=>o(!1)}),r.jsx(dM,{open:c,onOpenChange:u,currentServerName:j?.serverName||"",hasSecretConfig:j?.hasSecretConfig||!1})]})}function bM(){return r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:r.jsx(ue,{className:"w-full max-w-md mx-4",children:r.jsxs(fe,{className:"pt-6",children:[r.jsxs("div",{className:"flex mb-4 gap-2",children:[r.jsx(Gk,{className:"h-8 w-8 text-red-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function wM(){const{toast:e}=tr(),[t,s]=p.useState(""),[i,o]=p.useState("session"),[c,u]=p.useState(!1),[f,h]=p.useState(null),g=[{step:1,title:"Enter Session ID",description:"Paste your bot's Base64 session credentials to verify ownership",icon:r.jsx(Qr,{className:"h-5 w-5"}),completed:i!=="session"},{step:2,title:"Check Connection",description:"Verify if your bot is currently active and connected",icon:r.jsx(So,{className:"h-5 w-5"}),completed:i==="verified"},{step:3,title:"Access Granted",description:"Full access to bot management features",icon:r.jsx(oi,{className:"h-5 w-5"}),completed:c}],x=We({mutationFn:async P=>{const w=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:P.trim()})});if(!w.ok){const b=await w.json();throw new Error(b.message||"Session verification failed")}return w.json()},onSuccess:P=>{h(P),P.botActive?(o("verified"),u(!0),e({title:"Bot Active!",description:`Your bot ${P.phoneNumber} is connected and ready to manage.`})):(o("inactive"),e({title:"Bot Inactive",description:"Your bot is not currently connected. Please provide updated credentials.",variant:"destructive"}))},onError:P=>{e({title:"Verification Failed",description:P.message,variant:"destructive"})}}),y=We({mutationFn:async P=>{const w=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:P.trim()})});if(!w.ok){const b=await w.json();throw new Error(b.message||"Session verification failed")}return w.json()},onSuccess:P=>{h(P),P.botActive?(o("verified"),u(!0),e({title:"Bot Active!",description:`Your bot ${P.phoneNumber} is now connected and ready to manage.`})):e({title:"Bot Still Inactive",description:"The bot is still not connected. Please ensure the credentials are current.",variant:"destructive"})},onError:P=>{e({title:"Verification Failed",description:P.message,variant:"destructive"})}}),j=()=>{if(!t.trim()){e({title:"Session ID Required",description:"Please paste your bot's session credentials",variant:"destructive"});return}x.mutate(t)},S=()=>{if(!t.trim()){e({title:"Session ID Required",description:"Please paste updated session credentials",variant:"destructive"});return}y.mutate(t)};return r.jsx("div",{className:"min-h-screen w-full p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Bot Session Verification"}),r.jsx("p",{className:"text-muted-foreground",children:"Verify your bot ownership with session credentials to access management features"})]}),r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsxs(Ve,{className:"flex items-center gap-2",children:[r.jsx(Qr,{className:"h-5 w-5"}),"Verification Process"]}),r.jsx(nt,{children:"Follow these steps to verify your bot session and access management features"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:g.map(P=>r.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border",children:[r.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${P.completed?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:P.completed?r.jsx(oi,{className:"h-4 w-4"}):P.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium",children:P.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:P.description})]}),r.jsx(Ze,{variant:P.completed?"default":"outline",children:P.completed?"Completed":"Pending"})]},P.step))})})]}),i==="session"&&r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsxs(Ve,{className:"flex items-center gap-2",children:[r.jsx(Qr,{className:"h-5 w-5"}),"Enter Session Credentials"]}),r.jsx(nt,{children:"Paste your bot's Base64 session credentials to verify ownership and check connection status"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"session",children:"Session ID / Base64 Credentials"}),r.jsx("textarea",{id:"session",placeholder:"Paste your base64 session credentials here...",value:t,onChange:P=>s(P.target.value),className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm","data-testid":"input-session-id"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"We'll extract the phone number and check if your bot is currently active"})]}),r.jsx(Q,{onClick:j,disabled:x.isPending,className:"w-full","data-testid":"button-verify-session",children:x.isPending?"Verifying...":"Verify Session & Check Connection"})]})]}),i==="inactive"&&r.jsxs(ue,{className:"border-orange-200",children:[r.jsxs(Le,{children:[r.jsxs(Ve,{className:"flex items-center gap-2",children:[r.jsx(ln,{className:"h-5 w-5 text-orange-500"}),"Bot Connection Inactive"]}),r.jsxs(nt,{children:["Your bot ",f?.phoneNumber," was found but is not currently connected. Please provide updated session credentials."]})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(_e,{htmlFor:"newSession",children:"Updated Session ID / Base64 Credentials"}),r.jsx("textarea",{id:"newSession",placeholder:"Paste your updated base64 session credentials here...",value:t,onChange:P=>s(P.target.value),className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm","data-testid":"input-new-session-id"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Provide fresh session credentials to reactivate your bot connection"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Q,{onClick:S,disabled:y.isPending,className:"flex-1","data-testid":"button-retry-verification",children:y.isPending?"Updating...":"Update & Verify Connection"}),r.jsx(Q,{variant:"outline",onClick:()=>{o("session"),s(""),h(null)},children:"Start Over"})]})]})]}),i==="verified"&&r.jsx(ue,{className:"border-green-200",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:r.jsx(oi,{className:"h-8 w-8 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-green-800",children:"Bot Connection Verified!"}),r.jsxs("p",{className:"text-green-600 mt-1",children:["Your bot ",f?.phoneNumber," is active and ready to manage."]})]}),r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsx(Q,{asChild:!0,children:r.jsx("a",{href:"/guest/bot-management",children:"Manage Your Bots"})}),r.jsx(Q,{variant:"outline",asChild:!0,children:r.jsx("a",{href:"/guest/credentials",children:"Update Credentials"})})]})]})})}),r.jsx(ue,{className:"border-orange-200",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ln,{className:"h-5 w-5 text-orange-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-orange-800",children:"Security Notice"}),r.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Your session ID contains sensitive authentication information. Only enter it on trusted platforms and never share it with others. This verification ensures you have legitimate access to the bot."})]})]})})})]})})}function jM(){const{toast:e}=tr(),t=kr(),[s,i]=p.useState(""),[o,c]=p.useState(""),[u,f]=p.useState("session"),[h,g]=p.useState(null),[x,y]=p.useState(null),[j,S]=p.useState(!1),[P,w]=p.useState(null),[b,E]=p.useState(!1),C=We({mutationFn:async T=>{try{const Y=T.trim(),se=atob(Y);JSON.parse(se)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}const M=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:T.trim()})});if(!M.ok){const Y=await M.json();throw new Error(Y.message||"Session verification failed")}return M.json()},onSuccess:T=>{w(T),i(T.phoneNumber),g(T.token),T.botActive?(f("dashboard"),y(T.botId),e({title:"Bot Active!",description:`Your bot ${T.phoneNumber} is connected and ready to manage.`})):(f("inactive"),e({title:"Bot Inactive",description:"Your bot is not currently connected. Please provide updated credentials.",variant:"destructive"}))},onError:T=>{e({title:"Verification Failed",description:T.message,variant:"destructive"})}}),I=We({mutationFn:async T=>{const M=await fetch("/api/guest/update-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:s,newSessionId:T.trim()})});if(!M.ok){const Y=await M.json();throw new Error(Y.message||"Session update failed")}return M.json()},onSuccess:T=>{T.success&&T.connectionOpen?(f("dashboard"),e({title:"Session Updated!",description:T.message}),t.invalidateQueries({queryKey:["/api/guest/server-bots",s]})):e({title:"Update Failed",description:T.message||"Session update failed",variant:"destructive"})},onError:T=>{e({title:"Update Failed",description:T.message,variant:"destructive"})}});We({mutationFn:async T=>{const M=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:T.trim()})});if(!M.ok){const Y=await M.json();throw new Error(Y.message||"Session verification failed")}return M.json()},onSuccess:T=>{w(T),i(T.phoneNumber),g(T.token),T.botActive?(f("dashboard"),y(T.botId),e({title:"Bot Active!",description:`Your bot ${T.phoneNumber} is now connected and ready to manage.`})):e({title:"Bot Still Inactive",description:"The bot is still not connected. Please ensure the credentials are current.",variant:"destructive"})},onError:T=>{e({title:"Verification Failed",description:T.message,variant:"destructive"})}});const{data:F=[],isLoading:$}=xt({queryKey:["/api/guest/server-bots",s],queryFn:async()=>{if(!s.trim()||u!=="dashboard")return[];const T=s.replace(/[\s\-\(\)\+]/g,""),M=await fetch("/api/guest/search-server-bots",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({phoneNumber:T})});return M.ok?(await M.json()).bots||[]:[]},enabled:u==="dashboard"&&!!s.trim()&&!!h}),G=We({mutationFn:async({action:T,botId:M,phoneNumber:Y})=>{const se=await fetch("/api/guest/server-bot-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:T,botId:M,phoneNumber:Y})});if(!se.ok){const A=await se.json();throw new Error(A.message||`Failed to ${T} bot`)}return se.json()},onSuccess:(T,M)=>{e({title:"Action Successful",description:`Bot ${M.action} completed successfully`}),t.invalidateQueries({queryKey:["/api/guest/server-bots",s]})},onError:T=>{e({title:"Action Failed",description:T.message,variant:"destructive"})}}),q=We({mutationFn:async({feature:T,enabled:M,botId:Y})=>{const se=await fetch("/api/guest/server-bot-features",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feature:T,enabled:M,botId:Y,phoneNumber:s})});if(!se.ok){const A=await se.json();throw new Error(A.message||"Failed to update feature")}return se.json()},onSuccess:T=>{e({title:"Feature Updated",description:`${T.feature} ${T.enabled?"enabled":"disabled"} successfully`}),t.invalidateQueries({queryKey:["/api/guest/server-bots",s]})},onError:T=>{e({title:"Feature Update Failed",description:T.message,variant:"destructive"})}}),J=()=>{if(!o.trim()){e({title:"Session ID Required",description:"Please paste your session ID (base64 credentials)",variant:"destructive"});return}C.mutate(o)},ve=()=>{if(!o.trim()){e({title:"Session ID Required",description:"Please paste updated session credentials",variant:"destructive"});return}I.mutate(o)},ge=(T,M)=>{G.mutate({action:T,botId:M.botId,phoneNumber:s})},de=(T,M,Y)=>{q.mutate({feature:T,enabled:M,botId:Y.botId})},X=()=>{f("session"),i(""),c(""),g(null),y(null),w(null),E(!1)},ae=(T,M)=>{if(M==="pending")return r.jsx(Ze,{variant:"outline",className:"bg-yellow-50 text-yellow-800",children:"Pending Approval"});switch(T){case"online":return r.jsx(Ze,{className:"bg-green-500",children:"Online"});case"offline":return r.jsx(Ze,{variant:"outline",children:"Offline"});case"error":return r.jsx(Ze,{variant:"destructive",children:"Error"});default:return r.jsx(Ze,{variant:"outline",children:T})}},B=F.filter(T=>T.isActive&&T.isApproved),ne=F.filter(T=>T.approvalStatus==="pending"),z=F.filter(T=>!T.isActive||T.approvalStatus==="rejected");return r.jsx("div",{className:"min-h-screen w-full p-6 bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx(ns,{className:"h-10 w-10 text-blue-600"}),r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Bot Management Portal"})]}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Manage your WhatsApp bots with secure credential verification"})]}),r.jsx(ue,{className:"border-blue-200 bg-blue-50/50 dark:bg-blue-900/20",children:r.jsx(fe,{className:"pt-6",children:r.jsx("div",{className:"flex items-center justify-between",children:[{step:1,title:"Verify Session",icon:Qr,active:u==="session",completed:["dashboard","inactive"].includes(u)},{step:2,title:"Check Connection",icon:Kr,active:u==="inactive",completed:u==="dashboard"},{step:3,title:"Manage Bot",icon:m0,active:u==="dashboard",completed:!1}].map((T,M)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${T.completed?"bg-green-500 border-green-500 text-white":T.active?"bg-blue-500 border-blue-500 text-white":"bg-gray-200 border-gray-300 text-gray-500"}`,children:T.completed?r.jsx(oi,{className:"h-5 w-5"}):r.jsx(T.icon,{className:"h-5 w-5"})}),r.jsx("div",{className:"ml-3 hidden sm:block",children:r.jsx("p",{className:`text-sm font-medium ${T.active||T.completed?"text-gray-900 dark:text-gray-100":"text-gray-500"}`,children:T.title})}),M<2&&r.jsx("div",{className:`hidden sm:block w-16 h-0.5 mx-4 ${T.completed?"bg-green-500":"bg-gray-300"}`})]},T.step))})})}),u==="session"&&!b&&r.jsxs(ue,{className:"border-blue-200",children:[r.jsxs(Le,{children:[r.jsxs(Ve,{className:"flex items-center gap-2",children:[r.jsx(Qr,{className:"h-6 w-6 text-blue-600"}),"Enter Session Credentials"]}),r.jsx(nt,{children:"Paste your bot's Base64 session credentials to verify ownership and check connection status"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Session ID (Base64 Credentials)"}),r.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>S(!j),children:j?r.jsx(ov,{className:"h-4 w-4"}):r.jsx(lv,{className:"h-4 w-4"})})]}),r.jsx("textarea",{placeholder:"Paste your base64 encoded credentials here...",value:o,onChange:T=>c(T.target.value),className:`w-full h-32 p-3 border rounded-md resize-none font-mono text-sm ${j?"":"filter blur-sm hover:filter-none focus:filter-none"}`,onKeyDown:T=>T.key==="Enter"&&T.ctrlKey&&J()}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll extract the phone number and check if your bot is currently active"}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:[r.jsx("strong",{children:"Need a new session ID?"})," If your credentials are expired:"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ac,{className:"h-4 w-4"}),r.jsx("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Get NEW SESSION ID"})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Q,{onClick:J,disabled:C.isPending,size:"lg",className:"flex-1",children:C.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Kr,{className:"h-4 w-4 mr-2 animate-spin"})," Verifying..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Qr,{className:"h-4 w-4 mr-2"})," Verify Session & Check Connection"]})}),r.jsxs(Q,{variant:"outline",onClick:()=>E(!0),size:"lg",className:"flex items-center gap-2",children:[r.jsx(So,{className:"h-4 w-4"}),"Use Phone Number"]})]}),r.jsxs(Qo,{children:[r.jsx(ln,{className:"h-4 w-4"}),r.jsx(Ho,{children:"Your session ID contains sensitive authentication information. Only enter it on trusted platforms and never share it with others."})]})]})]}),u==="session"&&b&&r.jsxs(ue,{className:"border-green-200",children:[r.jsxs(Le,{children:[r.jsxs(Ve,{className:"flex items-center gap-2",children:[r.jsx(So,{className:"h-6 w-6 text-green-600"}),"Enter Phone Number"]}),r.jsx(nt,{children:"Enter your phone number to search for your bot"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Phone Number (with country code)"}),r.jsx(Yt,{placeholder:"+254700000000",value:s,onChange:T=>{const M=T.target.value.replace(/[\s\-\(\)]/g,"");i(M)},className:"text-lg",autoFocus:!0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your phone number with country code (+ will be removed automatically)"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Q,{onClick:()=>{if(!s.trim()){e({title:"Phone number required",description:"Please enter your phone number",variant:"destructive"});return}window.location.href="/guest/verification"},size:"lg",className:"flex-1",children:[r.jsx(So,{className:"h-4 w-4 mr-2"}),"Search Bot by Phone"]}),r.jsx(Q,{variant:"outline",onClick:()=>E(!1),size:"lg",children:"Back to Session ID"})]})]})]}),u==="inactive"&&r.jsxs(ue,{className:"border-orange-200",children:[r.jsxs(Le,{children:[r.jsxs(Ve,{className:"flex items-center gap-2",children:[r.jsx(ln,{className:"h-6 w-6 text-orange-500"}),"Bot Connection Inactive"]}),r.jsxs(nt,{children:["Your bot ",P?.phoneNumber," was found but is not currently connected. Provide a new session ID - we'll test its connection before updating."]})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Updated Session ID (Base64 Credentials)"}),r.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>S(!j),children:j?r.jsx(ov,{className:"h-4 w-4"}):r.jsx(lv,{className:"h-4 w-4"})})]}),r.jsx("textarea",{placeholder:"Paste your updated base64 session credentials here...",value:o,onChange:T=>c(T.target.value),className:`w-full h-32 p-3 border rounded-md resize-none font-mono text-sm ${j?"":"filter blur-sm hover:filter-none focus:filter-none"}`}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Provide new session credentials - we'll verify the connection is active before updating your bot"}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:[r.jsx("strong",{children:"Need a new session ID?"})," Get fresh credentials:"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ac,{className:"h-4 w-4"}),r.jsx("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Get NEW SESSION ID"})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Q,{onClick:ve,disabled:I.isPending,className:"flex-1",size:"lg",children:I.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Kr,{className:"h-4 w-4 mr-2 animate-spin"})," Testing Connection..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Xk,{className:"h-4 w-4 mr-2"})," Test & Update Session"]})}),r.jsx(Q,{variant:"outline",onClick:()=>{f("session"),c(""),w(null),E(!1)},size:"lg",children:"Back"})]})]})]}),u==="dashboard"&&r.jsxs(r.Fragment,{children:[r.jsx(ue,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(oi,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-green-800 dark:text-green-200",children:"Authentication Successful!"}),r.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["Welcome! You can now manage your bot for ",s]})]}),r.jsx(Q,{variant:"outline",size:"sm",onClick:X,className:"ml-auto",children:"Switch Account"})]})})}),r.jsxs(Ea,{defaultValue:"active",className:"w-full",children:[r.jsxs(Zs,{className:"grid w-full grid-cols-3",children:[r.jsxs(St,{value:"active",className:"flex items-center gap-2",children:[r.jsx(ns,{className:"h-4 w-4"}),"Active Bots (",B.length,")"]}),r.jsxs(St,{value:"pending",className:"flex items-center gap-2",children:[r.jsx(ln,{className:"h-4 w-4"}),"Pending (",ne.length,")"]}),r.jsxs(St,{value:"inactive",className:"flex items-center gap-2",children:[r.jsx(xi,{className:"h-4 w-4"}),"Inactive (",z.length,")"]})]}),r.jsx(yt,{value:"active",className:"space-y-4",children:$?r.jsx(ue,{children:r.jsxs(fe,{className:"pt-6 text-center",children:[r.jsx(Kr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Loading your bots..."})]})}):B.length===0?r.jsx(ue,{children:r.jsxs(fe,{className:"pt-6 text-center",children:[r.jsx(ns,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No active bots found"})]})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:B.map(T=>r.jsxs(ue,{className:"border-green-200 hover:shadow-lg transition-shadow",children:[r.jsxs(Le,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ve,{className:"text-lg",children:T.name}),ae(T.status,T.approvalStatus)]}),r.jsx(nt,{children:T.phoneNumber})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),r.jsx("button",{onClick:()=>de("autoLike",!T.features?.autoLike,T),disabled:q.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${T.features?.autoLike?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${T.features?.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),r.jsx("button",{onClick:()=>de("autoViewStatus",!T.features?.autoView,T),disabled:q.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${T.features?.autoView?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${T.features?.autoView?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),r.jsx("button",{onClick:()=>de("autoReact",!T.features?.autoReact,T),disabled:q.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${T.features?.autoReact?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${T.features?.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),r.jsx("button",{onClick:()=>de("chatgptEnabled",!T.features?.chatGPT,T),disabled:q.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${T.features?.chatGPT?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${T.features?.chatGPT?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Always Online"}),r.jsx("button",{onClick:()=>de("alwaysOnline",!T.features?.alwaysOnline,T),disabled:q.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${T.features?.alwaysOnline?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${T.features?.alwaysOnline?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Typing Indicator"}),r.jsx("button",{onClick:()=>de("typingIndicator",!T.features?.typingIndicator,T),disabled:q.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${T.features?.typingIndicator?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${T.features?.typingIndicator?"bg-white":"bg-muted-foreground"}`})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[T.status==="offline"?r.jsxs(Q,{size:"sm",onClick:()=>ge("start",T),disabled:G.isPending,className:"flex-1",children:[r.jsx(ya,{className:"h-3 w-3 mr-1"}),"Start"]}):r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>ge("stop",T),disabled:G.isPending,className:"flex-1",children:[r.jsx(xi,{className:"h-3 w-3 mr-1"}),"Stop"]}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>ge("restart",T),disabled:G.isPending,title:"Restart bot",children:r.jsx(Kr,{className:"h-3 w-3"})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground pt-2 border-t",children:[r.jsxs("span",{children:["Messages: ",T.messagesCount||0]}),r.jsxs("span",{children:["Commands: ",T.commandsCount||0]})]})]})]},T.id))})}),r.jsx(yt,{value:"pending",className:"space-y-4",children:ne.length===0?r.jsx(ue,{children:r.jsxs(fe,{className:"pt-6 text-center",children:[r.jsx(oi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No pending approvals"})]})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ne.map(T=>r.jsx(ue,{className:"border-yellow-200",children:r.jsxs(Le,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ve,{className:"text-lg",children:T.name}),ae(T.status,T.approvalStatus)]}),r.jsx(nt,{children:T.phoneNumber})]})},T.id))})}),r.jsx(yt,{value:"inactive",className:"space-y-4",children:z.length===0?r.jsx(ue,{children:r.jsxs(fe,{className:"pt-6 text-center",children:[r.jsx(ns,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No inactive bots"})]})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:z.map(T=>r.jsxs(ue,{className:"border-gray-200 hover:shadow-lg transition-shadow",children:[r.jsxs(Le,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ve,{className:"text-lg",children:T.name}),ae(T.status,T.approvalStatus)]}),r.jsx(nt,{children:T.phoneNumber})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),r.jsx("button",{onClick:()=>de("autoLike",!T.features?.autoLike,T),disabled:q.isPending||T.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${T.features?.autoLike?"bg-primary justify-end":"bg-muted justify-start"} ${T.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${T.features?.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),r.jsx("button",{onClick:()=>de("autoViewStatus",!T.features?.autoView,T),disabled:q.isPending||T.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${T.features?.autoView?"bg-primary justify-end":"bg-muted justify-start"} ${T.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${T.features?.autoView?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),r.jsx("button",{onClick:()=>de("autoReact",!T.features?.autoReact,T),disabled:q.isPending||T.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${T.features?.autoReact?"bg-primary justify-end":"bg-muted justify-start"} ${T.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${T.features?.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),r.jsx("button",{onClick:()=>de("chatgptEnabled",!T.features?.chatGPT,T),disabled:q.isPending||T.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${T.features?.chatGPT?"bg-primary justify-end":"bg-muted justify-start"} ${T.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${T.features?.chatGPT?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Always Online"}),r.jsx("button",{onClick:()=>de("alwaysOnline",!T.features?.alwaysOnline,T),disabled:q.isPending||T.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${T.features?.alwaysOnline?"bg-primary justify-end":"bg-muted justify-start"} ${T.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${T.features?.alwaysOnline?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Typing Indicator"}),r.jsx("button",{onClick:()=>de("typingIndicator",!T.features?.typingIndicator,T),disabled:q.isPending||T.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${T.features?.typingIndicator?"bg-primary justify-end":"bg-muted justify-start"} ${T.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${T.features?.typingIndicator?"bg-white":"bg-muted-foreground"}`})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[T.approvalStatus==="approved"?r.jsxs(r.Fragment,{children:[r.jsxs(Q,{size:"sm",onClick:()=>ge("start",T),disabled:G.isPending,className:"flex-1",children:[r.jsx(ya,{className:"h-3 w-3 mr-1"}),"Start"]}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>ge("restart",T),disabled:G.isPending,title:"Restart bot",children:r.jsx(Kr,{className:"h-3 w-3"})})]}):r.jsxs(Q,{size:"sm",disabled:!0,className:"flex-1",title:"Bot must be approved to start",children:[r.jsx(ln,{className:"h-3 w-3 mr-1"}),"Pending Approval"]}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>ge("delete",T),disabled:G.isPending,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(Vm,{className:"h-3 w-3"})})]}),T.approvalStatus!=="approved"&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2 text-xs",children:[r.jsx("p",{className:"text-yellow-800 font-medium",children:" Awaiting Admin Approval"}),r.jsx("p",{className:"text-yellow-600",children:"Contact admin to activate this bot"})]})]})]},T.id))})})]})]})]})})}function NM(){const{toast:e}=tr(),t=kr(),[s,i]=p.useState(""),[o,c]=p.useState(!1),{data:u,isLoading:f}=xt({queryKey:["/api/guest/cross-server-bots",s],queryFn:async()=>{if(!s.trim())return{bots:[],servers:[]};const w=s.replace(/[\s\-\(\)\+]/g,""),b=await fetch("/api/guest/cross-server-bots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:w})});if(!b.ok){const E=await b.json();throw new Error(E.message||"Failed to fetch cross-server data")}return b.json()},enabled:o&&!!s.trim()}),h=We({mutationFn:async({action:w,botId:b,serverName:E,data:C})=>{const I=await fetch("/api/guest/cross-server-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("guest_token")}`},body:JSON.stringify({action:w,botId:b,serverName:E,...C})});if(!I.ok){const F=await I.json();throw new Error(F.message||`Failed to ${w} bot on ${E}`)}return I.json()},onSuccess:(w,b)=>{e({title:"Cross-Server Action Successful",description:`${b.action} completed on ${b.serverName}`}),t.invalidateQueries({queryKey:["/api/guest/cross-server-bots"]})},onError:w=>{e({title:"Cross-Server Action Failed",description:w.message,variant:"destructive"})}}),g=()=>{if(!s.trim()){e({title:"Phone Required",description:"Please enter your phone number to find your cross-server bots",variant:"destructive"});return}c(!0)},x=(w,b,E)=>{h.mutate({action:w,botId:b.id,serverName:b.serverName,data:E})},y=(w,b)=>{if(b==="pending")return r.jsx(Ze,{variant:"outline",className:"bg-yellow-50 text-yellow-800",children:"Pending"});switch(w){case"online":return r.jsx(Ze,{className:"bg-green-500",children:"Online"});case"offline":return r.jsx(Ze,{variant:"outline",children:"Offline"});case"error":return r.jsx(Ze,{variant:"destructive",children:"Error"});default:return r.jsx(Ze,{variant:"outline",children:w})}},j=u?.bots||[],S=u?.servers||[],P=j.reduce((w,b)=>(w[b.serverName]||(w[b.serverName]=[]),w[b.serverName].push(b),w),{});return r.jsx("div",{className:"min-h-screen w-full p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Cross-Server Bot Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your bots across multiple servers from one central location"})]}),r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsxs(Ve,{className:"flex items-center gap-2",children:[r.jsx(Pf,{className:"h-5 w-5"}),"Find Your Cross-Server Bots"]}),r.jsx(nt,{children:"Enter your phone number to discover and manage bots across all servers"})]}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Yt,{type:"tel",placeholder:"+1234567890",value:s,onChange:w=>i(w.target.value),className:"flex-1","data-testid":"input-cross-server-phone"}),r.jsx(Q,{onClick:g,disabled:f,"data-testid":"button-search-cross-server",children:f?r.jsx(Kr,{className:"h-4 w-4 animate-spin"}):"Find Bots"})]})})]}),o&&!f&&S.length>0&&r.jsxs(ue,{children:[r.jsxs(Le,{children:[r.jsxs(Ve,{className:"flex items-center gap-2",children:[r.jsx(ci,{className:"h-5 w-5"}),"Server Overview"]}),r.jsxs(nt,{children:["Your bots are distributed across ",S.length," server",S.length>1?"s":""]})]}),r.jsx(fe,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:S.map(w=>r.jsx(ue,{className:"border-blue-200",children:r.jsxs(fe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:w.serverName}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[w.botCount," bot",w.botCount>1?"s":""]})]}),w.serverUrl&&r.jsx(Q,{size:"sm",variant:"outline",asChild:!0,children:r.jsx("a",{href:w.serverUrl,target:"_blank",rel:"noopener noreferrer",children:r.jsx(Ac,{className:"h-3 w-3"})})})]}),r.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-green-600",children:w.onlineBots})," online"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-yellow-600",children:w.pendingBots})," pending"]})]})]})},w.serverName))})})]}),o&&!f&&j.length>0&&r.jsxs(Ea,{defaultValue:"all",className:"w-full",children:[r.jsxs(Zs,{className:"grid w-full grid-cols-4",children:[r.jsxs(St,{value:"all","data-testid":"tab-all-servers",children:["All Servers (",j.length,")"]}),r.jsxs(St,{value:"online","data-testid":"tab-online-servers",children:["Online (",j.filter(w=>w.status==="online").length,")"]}),r.jsxs(St,{value:"offline","data-testid":"tab-offline-servers",children:["Offline (",j.filter(w=>w.status==="offline").length,")"]}),r.jsxs(St,{value:"pending","data-testid":"tab-pending-servers",children:["Pending (",j.filter(w=>w.approvalStatus==="pending").length,")"]})]}),r.jsx(yt,{value:"all",className:"space-y-6",children:Object.entries(P).map(([w,b])=>r.jsxs(ue,{children:[r.jsx(Le,{children:r.jsxs(Ve,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ci,{className:"h-5 w-5"}),w]}),r.jsxs(Ze,{variant:"outline",children:[b.length," bot",b.length>1?"s":""]})]})}),r.jsx(fe,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:b.map(E=>r.jsx(ue,{className:"border-gray-200",children:r.jsxs(fe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:E.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:E.phoneNumber})]}),y(E.status,E.approvalStatus)]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Messages"}),r.jsx("p",{className:"font-medium",children:E.messagesCount||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Commands"}),r.jsx("p",{className:"font-medium",children:E.commandsCount||0})]})]}),E.features&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Features"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[E.features.autoLike&&r.jsx(Ze,{variant:"outline",className:"text-xs",children:"Like"}),E.features.autoReact&&r.jsx(Ze,{variant:"outline",className:"text-xs",children:"React"}),E.features.autoView&&r.jsx(Ze,{variant:"outline",className:"text-xs",children:"View"}),E.features.chatGPT&&r.jsx(Ze,{variant:"outline",className:"text-xs",children:"AI"})]})]}),E.canManage&&E.approvalStatus==="approved"&&r.jsxs("div",{className:"flex gap-1",children:[E.status==="offline"?r.jsxs(Q,{size:"sm",onClick:()=>x("start",E),disabled:h.isPending,className:"flex-1","data-testid":`button-cross-start-${E.id}`,children:[r.jsx(ya,{className:"h-3 w-3 mr-1"}),"Start"]}):r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>x("stop",E),disabled:h.isPending,className:"flex-1","data-testid":`button-cross-stop-${E.id}`,children:[r.jsx(xi,{className:"h-3 w-3 mr-1"}),"Stop"]}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>x("restart",E),disabled:h.isPending,"data-testid":`button-cross-restart-${E.id}`,children:r.jsx(Kr,{className:"h-3 w-3"})}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>x("configure",E),disabled:h.isPending,"data-testid":`button-cross-config-${E.id}`,children:r.jsx(m0,{className:"h-3 w-3"})})]}),!E.canManage&&r.jsxs(Qo,{children:[r.jsx(ln,{className:"h-4 w-4"}),r.jsx(Ho,{className:"text-xs",children:"Limited access on this server. Contact admin for full management."})]})]})},E.id))})})]},w))}),r.jsx(yt,{value:"online",className:"space-y-4",children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:j.filter(w=>w.status==="online").map(w=>r.jsx(ue,{className:"border-green-200",children:r.jsxs(fe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium",children:w.name}),y(w.status)]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[w.phoneNumber,"  ",w.serverName]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>x("stop",w),disabled:h.isPending,className:"flex-1",children:[r.jsx(xi,{className:"h-3 w-3 mr-1"}),"Stop"]}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>x("restart",w),disabled:h.isPending,children:r.jsx(Kr,{className:"h-3 w-3"})})]})]})},w.id))})}),r.jsx(yt,{value:"offline",className:"space-y-4",children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:j.filter(w=>w.status==="offline").map(w=>r.jsx(ue,{className:"border-gray-200",children:r.jsxs(fe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium",children:w.name}),y(w.status)]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[w.phoneNumber,"  ",w.serverName]}),r.jsxs(Q,{size:"sm",onClick:()=>x("start",w),disabled:h.isPending,className:"w-full",children:[r.jsx(ya,{className:"h-3 w-3 mr-1"}),"Start Bot"]})]})},w.id))})}),r.jsx(yt,{value:"pending",className:"space-y-4",children:r.jsx("div",{className:"space-y-4",children:j.filter(w=>w.approvalStatus==="pending").map(w=>r.jsx(ue,{className:"border-yellow-200",children:r.jsxs(fe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:w.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[w.phoneNumber,"  ",w.serverName]})]}),y(w.status,w.approvalStatus)]}),r.jsxs(Qo,{children:[r.jsx(ln,{className:"h-4 w-4"}),r.jsxs(Ho,{children:["This bot is awaiting approval from the admin on ",w.serverName,"."]})]})]})},w.id))})})]}),o&&!f&&j.length===0&&r.jsx(ue,{children:r.jsxs(fe,{className:"pt-6 text-center space-y-4",children:[r.jsx(Pf,{className:"h-16 w-16 text-muted-foreground mx-auto"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"No Cross-Server Bots Found"}),r.jsxs("p",{className:"text-muted-foreground",children:["No bots found across servers for phone number ",s,"."]})]}),r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsx(Q,{variant:"outline",asChild:!0,children:r.jsx("a",{href:"/guest/verification",children:"Register New Bot"})}),r.jsx(Q,{variant:"outline",asChild:!0,children:r.jsx("a",{href:"/guest/bot-management",children:"Manage Existing Bots"})})]})]})}),r.jsx(ue,{className:"border-blue-200",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Pf,{className:"h-5 w-5 text-blue-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-800",children:"Cross-Server Management"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This feature allows you to manage bots across multiple servers from a single interface. Actions are coordinated through the God Registry system to ensure consistency across all servers. Some features may have limited availability depending on server configuration and your access level."})]})]})})})]})})}function SM({isOpen:e,onClose:t,onLogin:s}){const[i,o]=p.useState(""),[c,u]=p.useState(""),[f,h]=p.useState(!1),{toast:g}=tr(),x=async y=>{y.preventDefault(),h(!0);try{const j=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,password:c})});if(j.ok){const S=await j.json();localStorage.setItem("auth_token",S.token),localStorage.setItem("user",JSON.stringify(S.user)),s(S.token,S.user),t(),g({title:"Login successful",description:S.message}),S.user?.isAdmin&&window.location.reload()}else{const S=await j.json();g({title:"Login failed",description:S.message,variant:"destructive"})}}catch{g({title:"Login error",description:"Failed to connect to server",variant:"destructive"})}finally{h(!1)}};return r.jsx(qt,{open:e,onOpenChange:t,children:r.jsxs(Ot,{className:"sm:max-w-[425px]",children:[r.jsx(Mt,{children:r.jsx(Dt,{children:" Admin Login"})}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(_e,{htmlFor:"username",children:"Username"}),r.jsx(Yt,{id:"username",type:"text",value:i,onChange:y=>o(y.target.value),placeholder:"Enter admin username",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(_e,{htmlFor:"password",children:"Password"}),r.jsx(Yt,{id:"password",type:"password",value:c,onChange:y=>u(y.target.value),placeholder:"Enter admin password",required:!0})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(Q,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),r.jsx(Q,{type:"submit",disabled:f,className:"flex-1",children:f?"Logging in...":"Login"})]})]})]})})}function CM({isOpen:e,onClose:t}){const[s,i]=p.useState(null),[o,c]=p.useState(""),[u,f]=p.useState("file"),[h,g]=p.useState(!1),{toast:x}=tr(),y=S=>{const P=S.target.files?.[0];P&&(P.name.endsWith(".json")?i(P):x({title:"Invalid file type",description:"Please select a .json file",variant:"destructive"}))},j=async S=>{if(S.preventDefault(),u==="file"&&!s){x({title:"No file selected",description:"Please select a credentials.json file",variant:"destructive"});return}if(u==="base64"&&!o.trim()){x({title:"No session ID provided",description:"Please paste your base64 session ID",variant:"destructive"});return}g(!0);try{let P;if(u==="file"){const b=new FormData;b.append("credentials",s),P=await fetch("/api/validate-credentials",{method:"POST",body:b})}else P=await fetch("/api/validate-credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionData:o.trim()})});const w=await P.json();P.ok&&w.valid?x({title:" Credentials Valid!",description:w.message}):x({title:" Invalid Credentials",description:w.message,variant:"destructive"})}catch{x({title:"Validation error",description:"Failed to validate credentials",variant:"destructive"})}finally{g(!1),i(null),c(""),t()}};return r.jsx(qt,{open:e,onOpenChange:t,children:r.jsxs(Ot,{className:"sm:max-w-[500px]",children:[r.jsx(Mt,{children:r.jsx(Dt,{children:" Validate Session ID"})}),r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[r.jsxs(Ea,{value:u,onValueChange:f,className:"w-full",children:[r.jsxs(Zs,{className:"grid w-full grid-cols-2",children:[r.jsx(St,{value:"file",children:"Upload File"}),r.jsx(St,{value:"base64",children:"Paste Session ID"})]}),r.jsxs(yt,{value:"file",className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(_e,{htmlFor:"credentials",children:"Upload credentials.json"}),r.jsx(Yt,{id:"credentials",type:"file",accept:".json",onChange:y}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload your WhatsApp session credentials.json file to test if it's valid"})]}),s&&r.jsxs("div",{className:"text-sm text-green-600",children:[" Selected: ",s.name]})]}),r.jsxs(yt,{value:"base64",className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(_e,{htmlFor:"sessionData",children:"Paste Base64 Session ID"}),r.jsx(ls,{id:"sessionData",placeholder:"Paste your base64 encoded session data here...",value:o,onChange:S=>c(S.target.value),className:"min-h-[120px] font-mono text-xs"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Paste your base64 encoded credentials.json data (session ID)"})]}),o.trim()&&r.jsxs("div",{className:"text-sm text-green-600",children:[" Session data pasted (",o.length," characters)"]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(Q,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),r.jsx(Q,{type:"submit",disabled:h||u==="file"&&!s||u==="base64"&&!o.trim(),className:"flex-1",children:h?"Validating...":"Validate"})]})]})]})})}function kM(e){switch(e){case"wait_approval":return"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800";case"update_credentials":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case"authenticate":return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800";case"authenticated":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";default:return"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800"}}function PM(e){switch(e){case"wait_approval":return r.jsx(ln,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"});case"update_credentials":return r.jsx(Qr,{className:"h-4 w-4 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"});case"authenticate":return r.jsx(ns,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"});case"authenticated":return r.jsx(ya,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"});default:return r.jsx(ns,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 mt-0.5 flex-shrink-0"})}}function EM(e){switch(e){case"wait_approval":return"Pending Approval";case"update_credentials":return"Credentials Required";case"authenticate":return"Ready to Authenticate";case"authenticated":return"Bot Ready";default:return"Status Unknown"}}function TM(){const{toast:e}=tr(),t=kr(),[s,i]=p.useState(""),[o,c]=p.useState(!1),[u,f]=p.useState(null),[h,g]=p.useState(!1),[x,y]=p.useState(null),[j,S]=p.useState(""),[P,w]=p.useState(!1),{data:b,isLoading:E,error:C}=xt({queryKey:["/api/guest/search-bot",s],queryFn:async()=>{if(!s.trim())return null;const B=s.replace(/[\s\-\(\)\+]/g,""),ne=await fetch("/api/guest/search-bot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:B})});if(!ne.ok){const z=await ne.json();throw new Error(z.message||"Bot not found")}return await ne.json()},enabled:o&&!!s.trim()}),I=We({mutationFn:async({phoneNumber:B,sessionId:ne})=>{const z=B.replace(/[\s\-\(\)\+]/g,"");try{const M=ne.trim(),Y=atob(M);JSON.parse(Y)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}const T=await fetch("/api/guest/validate-existing-bot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:z,sessionId:ne.trim()})});if(!T.ok){const M=await T.json();throw new Error(M.message||"Failed to validate session ID")}return T.json()},onSuccess:B=>{const ne=s.replace(/[\s\-\(\)\+]/g,"");f(B.guestToken),g(!0),y(ne),S(""),e({title:"Session validated successfully",description:B.message||"You can now manage your bot"}),t.invalidateQueries({queryKey:["/api/guest/search-bot",s]})},onError:B=>{e({title:"Session validation failed",description:B.message,variant:"destructive"})}}),F=We({mutationFn:async({botId:B,phoneNumber:ne})=>{if(!u)throw new Error("Authentication required");const z=await fetch("/api/guest/bot/start",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({botId:B,phoneNumber:ne})});if(!z.ok){const T=await z.json();throw new Error(T.message||"Failed to start bot")}return z.json()},onSuccess:()=>{e({title:"Bot started successfully"}),t.invalidateQueries({queryKey:["/api/guest/search-bot",s]})},onError:B=>{e({title:"Failed to start bot",description:B.message,variant:"destructive"})}}),$=We({mutationFn:async({botId:B,phoneNumber:ne})=>{if(!u)throw new Error("Authentication required");const z=await fetch("/api/guest/bot/stop",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({botId:B,phoneNumber:ne})});if(!z.ok){const T=await z.json();throw new Error(T.message||"Failed to stop bot")}return z.json()},onSuccess:()=>{e({title:"Bot stopped successfully"}),t.invalidateQueries({queryKey:["/api/guest/search-bot",s]})},onError:B=>{e({title:"Failed to stop bot",description:B.message,variant:"destructive"})}}),G=We({mutationFn:async({botId:B,phoneNumber:ne})=>{if(!u)throw new Error("Authentication required");const z=await fetch("/api/guest/bot/delete",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({botId:B,phoneNumber:ne})});if(!z.ok){const T=await z.json();throw new Error(T.message||"Failed to delete bot")}return z.json()},onSuccess:()=>{e({title:"Bot deleted successfully"}),c(!1),i(""),f(null),g(!1),y(null)},onError:B=>{e({title:"Failed to delete bot",description:B.message,variant:"destructive"})}}),q=p.useCallback(()=>{if(!s.trim()){e({title:"Phone number required",description:"Please enter your phone number to search for your bot",variant:"destructive"});return}c(!0)},[s,e]),J=p.useCallback(()=>{if(!s.trim()){e({title:"Phone number required",description:"Please enter your phone number first",variant:"destructive"});return}if(!j.trim()){e({title:"Session ID required",description:"Please enter your session ID (base64 encoded credentials)",variant:"destructive"});return}I.mutate({phoneNumber:s,sessionId:j})},[s,j,I,e]),ve=p.useCallback(()=>{f(null),g(!1),y(null),S("")},[]),ge=B=>{const ne=B.phoneNumber.replace(/[\s\-\(\)\+]/g,"");return h&&x===ne&&!B.crossServer&&B.isApproved},de=B=>{if(!B)return!1;const ne=B.phoneNumber.replace(/[\s\-\(\)\+]/g,"");return!h||x!==ne},X=(B,ne)=>ne==="approved"?B==="online"?r.jsx(Ze,{variant:"default",className:"bg-green-600",children:"Online"}):r.jsx(Ze,{variant:"secondary",children:"Offline"}):r.jsx(Ze,{variant:"outline",children:"Pending Approval"}),ae=B=>B?new Date(B).toLocaleString():"Never";return r.jsxs("div",{className:"space-y-4",children:[r.jsxs(ue,{className:"border-dashed",children:[r.jsxs(Le,{className:"pb-3",children:[r.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(li,{className:"h-4 w-4"}),"Find My Bot"]}),r.jsx(nt,{className:"text-xs",children:"Enter your phone number to manage your bot"})]}),r.jsxs(fe,{className:"space-y-3",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(So,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Yt,{placeholder:"Enter phone number",value:s,onChange:B=>i(B.target.value),onKeyDown:B=>B.key==="Enter"&&q(),className:"pl-9 text-sm","data-testid":"input-phone-search"})]}),r.jsx(Q,{size:"sm",onClick:q,disabled:E||!s.trim(),"data-testid":"button-search-bot",children:E?r.jsx(Kr,{className:"h-4 w-4 animate-spin"}):r.jsx(li,{className:"h-4 w-4"})})]}),b&&de(b)&&r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded border border-blue-200 dark:border-blue-800 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-blue-700 dark:text-blue-300",children:[r.jsx(Qr,{className:"h-4 w-4"}),"Session ID Verification Required"]}),r.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:['To manage "',b.name,'" (',b.phoneNumber,"), please enter your session ID (base64 encoded credentials)."]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"Session ID (Base64 Credentials)"}),r.jsx("textarea",{placeholder:"Paste your base64 encoded credentials here...",value:j,onChange:B=>S(B.target.value),className:"w-full h-24 text-xs p-2 border border-blue-300 dark:border-blue-600 rounded resize-none bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","data-testid":"input-session-id"})]}),r.jsx(Q,{onClick:J,disabled:I.isPending||!j.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-validate-session",children:I.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Kr,{className:"h-3 w-3 mr-2 animate-spin"})," Validating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Qr,{className:"h-3 w-3 mr-2"})," Validate Session ID"]})}),r.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 text-center bg-blue-100 dark:bg-blue-900/30 p-2 rounded",children:" Enter your base64 encoded credentials (creds.json converted to base64) to verify bot ownership."})]})]}),b&&!de(b)&&r.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-2 rounded border border-green-200 dark:border-green-800",children:r.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-700 dark:text-green-300",children:[r.jsx(Qr,{className:"h-3 w-3"}),"Authenticated for ",b.phoneNumber," - You can now manage this bot",r.jsxs("div",{className:"ml-auto flex gap-1",children:[r.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>{ve(),c(!1),i("")},className:"text-xs h-6 px-2",title:"Search for another bot (requires re-authentication)",children:"Search Another"}),r.jsx(Q,{variant:"ghost",size:"sm",onClick:ve,className:"text-xs h-6 px-2",children:"Logout"})]})]})}),C&&r.jsx("div",{className:"text-xs text-destructive bg-destructive/10 p-2 rounded border","data-testid":"error-search",children:C.message})]})]}),b&&r.jsxs(ue,{children:[r.jsxs(Le,{className:"pb-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(ns,{className:"h-4 w-4"}),b.name]}),X(b.status,b.approvalStatus)]}),r.jsxs(nt,{className:"text-xs",children:[b.phoneNumber,"  ",b.serverName?`Server: ${b.serverName}`:"No server assigned"]})]}),r.jsxs(fe,{className:"space-y-3","data-testid":`bot-card-${b.phoneNumber}`,children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[r.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[r.jsx("div",{className:"font-medium",children:"Messages"}),r.jsx("div",{className:"text-muted-foreground","data-testid":`bot-messages-${b.phoneNumber}`,children:b.messagesCount||0})]}),r.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[r.jsx("div",{className:"font-medium",children:"Commands"}),r.jsx("div",{className:"text-muted-foreground","data-testid":`bot-commands-${b.phoneNumber}`,children:b.commandsCount||0})]})]}),b.lastActivity&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last activity: ",ae(b.lastActivity)]}),r.jsx(Gc,{}),b.crossServer&&r.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded border border-yellow-200 dark:border-yellow-800",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(ln,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300",children:"Cross-Server Bot Detected"}),r.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:b.message||`Your bot is registered on ${b.serverName}. To manage it, please visit that server.`}),r.jsxs(Q,{size:"sm",variant:"outline",className:"text-xs h-7",onClick:()=>{new URL(window.location.href),e({title:"Server Switch Required",description:`Your bot is on ${b.serverName}. Please contact the administrator for access to that server, or visit the correct server URL directly.`,variant:"default"})},"data-testid":`button-switch-server-${b.phoneNumber}`,children:[r.jsx(Ac,{className:"h-3 w-3 mr-1"}),"Contact Admin for ",b.serverName]})]})]})}),!b.crossServer&&r.jsxs("div",{className:"space-y-3",children:[b.nextStep&&r.jsx("div",{className:`p-3 rounded border ${kM(b.nextStep)}`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[PM(b.nextStep),r.jsxs("div",{className:"space-y-1 flex-1",children:[r.jsx("div",{className:"text-sm font-medium",children:EM(b.nextStep)}),r.jsx("p",{className:"text-xs",children:b.message}),b.invalidReason&&r.jsxs("p",{className:"text-xs opacity-75",children:["Reason: ",b.invalidReason]})]})]})}),r.jsx("div",{className:"flex gap-2",children:de(b)&&b.nextStep!=="wait_approval"?r.jsx("div",{className:"w-full bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700 text-center",children:r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:h?`Please authenticate for this bot (${b.phoneNumber}) to manage actions`:"Authentication required to manage bot actions"})}):b.nextStep==="wait_approval"?r.jsx("div",{className:"w-full bg-amber-50 dark:bg-amber-900/20 p-3 rounded border border-amber-200 dark:border-amber-800 text-center",children:r.jsx("div",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Waiting for admin approval - check back later"})}):b.nextStep==="update_credentials"?r.jsxs("div",{className:"w-full space-y-2",children:[r.jsxs(Q,{size:"sm",variant:"outline",className:"w-full text-xs",onClick:()=>w(!0),"data-testid":`button-upload-credentials-${b.phoneNumber}`,disabled:!h,children:[r.jsx(Qr,{className:"h-3 w-3 mr-1"}),"Upload New Credentials"]}),r.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"Upload your creds.json file to reactivate your bot"})]}):b.nextStep==="authenticated"&&!de(b)?r.jsxs(r.Fragment,{children:[b.status==="online"?r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>$.mutate({botId:b.id,phoneNumber:b.phoneNumber}),disabled:$.isPending||!ge(b),className:"flex-1 text-xs","data-testid":`button-stop-${b.phoneNumber}`,children:[$.isPending?r.jsx(Kr,{className:"h-3 w-3 mr-1 animate-spin"}):r.jsx(xi,{className:"h-3 w-3 mr-1"}),"Stop"]}):r.jsxs(Q,{size:"sm",onClick:()=>F.mutate({botId:b.id,phoneNumber:b.phoneNumber}),disabled:F.isPending||!ge(b),className:"flex-1 text-xs","data-testid":`button-start-${b.phoneNumber}`,children:[F.isPending?r.jsx(Kr,{className:"h-3 w-3 mr-1 animate-spin"}):r.jsx(ya,{className:"h-3 w-3 mr-1"}),"Start"]}),r.jsxs(iN,{children:[r.jsx(oN,{asChild:!0,children:r.jsx(Q,{size:"sm",variant:"destructive",className:"text-xs","data-testid":`button-delete-${b.phoneNumber}`,children:r.jsx(Vm,{className:"h-3 w-3"})})}),r.jsxs(_h,{children:[r.jsxs(Ah,{children:[r.jsx(Ih,{children:"Delete Bot"}),r.jsxs(Oh,{children:['Are you sure you want to delete "',b.name,'"? This action cannot be undone.']})]}),r.jsxs(Rh,{children:[r.jsx(Dh,{children:"Cancel"}),r.jsx(Mh,{onClick:()=>G.mutate({botId:b.id,phoneNumber:b.phoneNumber}),"data-testid":`confirm-delete-${b.phoneNumber}`,children:"Delete"})]})]})]})]}):r.jsx("div",{className:"w-full text-xs text-muted-foreground bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded border border-yellow-200 dark:border-yellow-800 text-center",children:" Your bot is pending admin approval. Contact support for activation."})})]})]})]}),b&&r.jsx(Fj,{open:P,onClose:()=>w(!1),botId:b.id,phoneNumber:b.phoneNumber,guestToken:u,onSuccess:()=>{t.invalidateQueries({queryKey:["/api/guest/search-bot",s]}),w(!1)}})]})}const _M=[{href:"/",label:"Dashboard",icon:"fas fa-tachometer-alt"},{href:"/guest/verification",label:"Phone Verification",icon:"fas fa-phone"},{href:"/guest/bot-management",label:"Bot Management",icon:"fas fa-robot"},{href:"/guest/credentials",label:"Credential Manager",icon:"fas fa-key"},{href:"/guest/cross-server",label:"Cross-Server Bots",icon:"fas fa-network-wired"}],AM=[{href:"/",label:"Dashboard",icon:"fas fa-tachometer-alt"},{href:"/bot-instances",label:"Bot Instances",icon:"fas fa-robot"},{href:"/commands",label:"Commands",icon:"fas fa-terminal"},{href:"/chatgpt",label:"ChatGPT Integration",icon:"fas fa-brain"},{href:"/groups",label:"Group Management",icon:"fas fa-users"},{href:"/analytics",label:"Analytics",icon:"fas fa-chart-line"},{href:"/settings",label:"Settings",icon:"fas fa-cog"}],RM=[{href:"/admin",label:"Admin Console",icon:"fas fa-shield-alt"}];function IM(){const[e]=jy(),{user:t,isAuthenticated:s,isAdmin:i,logout:o}=el(),[c,u]=p.useState(!1),[f,h]=p.useState(!1),[g,x]=p.useState(!1);return r.jsxs("aside",{className:"w-64 bg-card border-r border-border flex flex-col","data-testid":"sidebar",children:[r.jsx("div",{className:"p-6 border-b border-border",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fab fa-whatsapp text-primary-foreground text-xl"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"Bot Manager"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"WhatsApp Automation"})]})]})}),r.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[(i?AM:_M).map(y=>r.jsx($x,{href:y.href,children:r.jsxs("div",{className:ke("flex items-center space-x-3 px-3 py-2 rounded-md transition-colors cursor-pointer",e===y.href?"bg-primary/10 text-primary border border-primary/20":"hover:bg-muted text-muted-foreground hover:text-foreground"),"data-testid":`nav-${y.label.toLowerCase().replace(" ","-")}`,children:[r.jsx("i",{className:`${y.icon} w-5`}),r.jsx("span",{children:y.label})]})},y.href)),!i&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-t border-border my-4"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3",children:"My Bots"}),r.jsx(TM,{})]})]}),!i&&!s&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-t border-border my-4"}),r.jsxs(Q,{onClick:()=>window.open("https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/","_blank"),variant:"outline",className:"w-full mx-3 mb-3","data-testid":"button-generate-session",children:[r.jsx("i",{className:"fas fa-key mr-2"}),"Generate Session ID"]}),r.jsxs(Q,{onClick:()=>h(!0),variant:"outline",className:"w-full mx-3 mb-3","data-testid":"button-validate-session",children:[r.jsx("i",{className:"fas fa-check-circle mr-2"}),"Validate Session ID"]}),r.jsxs(Q,{onClick:()=>x(!0),className:"w-full mx-3 bg-green-600 hover:bg-green-700 text-white","data-testid":"sidebar-register-bot",children:[r.jsx("i",{className:"fas fa-plus mr-2"}),"Register Bot"]})]}),i&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-t border-border my-4"}),r.jsx("div",{className:"px-3 py-2",children:r.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Administration"})}),RM.map(y=>r.jsx($x,{href:y.href,children:r.jsxs("div",{className:ke("flex items-center space-x-3 px-3 py-2 rounded-md transition-colors cursor-pointer",e===y.href?"bg-red-500/10 text-red-600 border border-red-500/20":"hover:bg-red-500/5 text-muted-foreground hover:text-red-600"),"data-testid":`nav-${y.label.toLowerCase().replace(" ","-")}`,children:[r.jsx("i",{className:`${y.icon} w-5`}),r.jsx("span",{children:y.label})]})},y.href))]})]}),r.jsx("div",{className:"p-4 border-t border-border",children:s?r.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2",children:[r.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:r.jsx("i",{className:"fas fa-user text-primary-foreground text-sm"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:t?.username||"User"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:i?"Administrator":"User"})]}),r.jsx("button",{onClick:o,className:"text-muted-foreground hover:text-foreground","data-testid":"button-logout",title:"Logout",children:r.jsx("i",{className:"fas fa-sign-out-alt"})})]}):r.jsxs(Q,{onClick:()=>u(!0),className:"w-full",children:[r.jsx("i",{className:"fas fa-sign-in-alt mr-2"}),"Admin Login"]})}),r.jsx(SM,{isOpen:c,onClose:()=>u(!1),onLogin:(y,j)=>{u(!1)}}),r.jsx(CM,{isOpen:f,onClose:()=>h(!1)}),r.jsx(Lj,{open:g,onClose:()=>x(!1)})]})}function Hf({children:e,requireAdmin:t=!1,requireAuth:s=!1}){const{isAuthenticated:i,isAdmin:o}=el(),[,c]=jy();return t&&!o?r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-6 bg-background",children:r.jsxs(ue,{className:"max-w-md w-full",children:[r.jsxs(Le,{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(dv,{className:"h-8 w-8 text-red-600"})}),r.jsx(Ve,{className:"text-2xl text-red-600",children:"Access Denied"}),r.jsx(nt,{className:"text-base",children:"This page is restricted to administrators only."})]}),r.jsxs(fe,{className:"text-center space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"You don't have permission to access bot management features. These tools are reserved for system administrators."}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs(Q,{onClick:()=>c("/"),className:"w-full","data-testid":"button-return-dashboard",children:[r.jsx(sv,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]}),r.jsx(Q,{onClick:()=>c("/guest/verification"),variant:"outline",className:"w-full","data-testid":"button-guest-registration",children:"Register Your Bot"})]})]})]})}):s&&!i?r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-6 bg-background",children:r.jsxs(ue,{className:"max-w-md w-full",children:[r.jsxs(Le,{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(dv,{className:"h-8 w-8 text-yellow-600"})}),r.jsx(Ve,{className:"text-2xl text-yellow-600",children:"Authentication Required"}),r.jsx(nt,{className:"text-base",children:"Please log in to access this page."})]}),r.jsxs(fe,{className:"text-center space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"This page requires authentication. Please log in to continue."}),r.jsxs(Q,{onClick:()=>c("/"),className:"w-full","data-testid":"button-return-home",children:[r.jsx(sv,{className:"h-4 w-4 mr-2"}),"Return Home"]})]})]})}):r.jsx(r.Fragment,{children:e})}function OM(){return r.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[r.jsx(IM,{}),r.jsx("main",{className:"flex-1 overflow-auto",children:r.jsxs(u1,{children:[r.jsx(As,{path:"/",component:Y4}),r.jsx(As,{path:"/bot-instances",children:r.jsx(Hf,{requireAdmin:!0,children:r.jsx(nO,{})})}),r.jsx(As,{path:"/commands",children:r.jsx(Hf,{requireAdmin:!0,children:r.jsx(aO,{})})}),r.jsx(As,{path:"/admin",children:r.jsx(Hf,{requireAdmin:!0,children:r.jsx(yM,{})})}),r.jsx(As,{path:"/guest/verification",component:wM}),r.jsx(As,{path:"/guest/bot-management",component:jM}),r.jsx(As,{path:"/guest/cross-server",component:NM}),r.jsx(As,{component:bM})]})})]})}function MM(){return r.jsx(M1,{client:gr,children:r.jsx(MT,{children:r.jsx(jE,{children:r.jsxs("div",{className:"dark",children:[r.jsx(LP,{}),r.jsx(OM,{})]})})})})}zC.createRoot(document.getElementById("root")).render(r.jsx(MM,{}));
