function MC(e,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function fy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kf={exports:{}},jo={},Pf={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx;function FC(){if(kx)return at;kx=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function w(I){return I===null||typeof I!="object"?null:(I=y&&I[y]||I["@@iterator"],typeof I=="function"?I:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,b={};function j(I,O,_){this.props=I,this.context=O,this.refs=b,this.updater=_||k}j.prototype.isReactComponent={},j.prototype.setState=function(I,O){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,O,"setState")},j.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function T(){}T.prototype=j.prototype;function P(I,O,_){this.props=I,this.context=O,this.refs=b,this.updater=_||k}var R=P.prototype=new T;R.constructor=P,C(R,j.prototype),R.isPureReactComponent=!0;var F=Array.isArray,$=Object.prototype.hasOwnProperty,X={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function te(I,O,_){var U,ne={},ue=null,re=null;if(O!=null)for(U in O.ref!==void 0&&(re=O.ref),O.key!==void 0&&(ue=""+O.key),O)$.call(O,U)&&!K.hasOwnProperty(U)&&(ne[U]=O[U]);var je=arguments.length-2;if(je===1)ne.children=_;else if(1<je){for(var Re=Array(je),Ue=0;Ue<je;Ue++)Re[Ue]=arguments[Ue+2];ne.children=Re}if(I&&I.defaultProps)for(U in je=I.defaultProps,je)ne[U]===void 0&&(ne[U]=je[U]);return{$$typeof:e,type:I,key:ue,ref:re,props:ne,_owner:X.current}}function xe(I,O){return{$$typeof:e,type:I.type,key:O,ref:I.ref,props:I.props,_owner:I._owner}}function he(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function pe(I){var O={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(_){return O[_]})}var ee=/\/+/g;function ie(I,O){return typeof I=="object"&&I!==null&&I.key!=null?pe(""+I.key):O.toString(36)}function H(I,O,_,U,ne){var ue=typeof I;(ue==="undefined"||ue==="boolean")&&(I=null);var re=!1;if(I===null)re=!0;else switch(ue){case"string":case"number":re=!0;break;case"object":switch(I.$$typeof){case e:case r:re=!0}}if(re)return re=I,ne=ne(re),I=U===""?"."+ie(re,0):U,F(ne)?(_="",I!=null&&(_=I.replace(ee,"$&/")+"/"),H(ne,O,_,"",function(Ue){return Ue})):ne!=null&&(he(ne)&&(ne=xe(ne,_+(!ne.key||re&&re.key===ne.key?"":(""+ne.key).replace(ee,"$&/")+"/")+I)),O.push(ne)),1;if(re=0,U=U===""?".":U+":",F(I))for(var je=0;je<I.length;je++){ue=I[je];var Re=U+ie(ue,je);re+=H(ue,O,_,Re,ne)}else if(Re=w(I),typeof Re=="function")for(I=Re.call(I),je=0;!(ue=I.next()).done;)ue=ue.value,Re=U+ie(ue,je++),re+=H(ue,O,_,Re,ne);else if(ue==="object")throw O=String(I),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return re}function ge(I,O,_){if(I==null)return I;var U=[],ne=0;return H(I,U,"","",function(ue){return O.call(_,ue,ne++)}),U}function G(I){if(I._status===-1){var O=I._result;O=O(),O.then(function(_){(I._status===0||I._status===-1)&&(I._status=1,I._result=_)},function(_){(I._status===0||I._status===-1)&&(I._status=2,I._result=_)}),I._status===-1&&(I._status=0,I._result=O)}if(I._status===1)return I._result.default;throw I._result}var q={current:null},N={transition:null},B={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:N,ReactCurrentOwner:X};function Y(){throw Error("act(...) is not supported in production builds of React.")}return at.Children={map:ge,forEach:function(I,O,_){ge(I,function(){O.apply(this,arguments)},_)},count:function(I){var O=0;return ge(I,function(){O++}),O},toArray:function(I){return ge(I,function(O){return O})||[]},only:function(I){if(!he(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},at.Component=j,at.Fragment=s,at.Profiler=o,at.PureComponent=P,at.StrictMode=a,at.Suspense=h,at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,at.act=Y,at.cloneElement=function(I,O,_){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var U=C({},I.props),ne=I.key,ue=I.ref,re=I._owner;if(O!=null){if(O.ref!==void 0&&(ue=O.ref,re=X.current),O.key!==void 0&&(ne=""+O.key),I.type&&I.type.defaultProps)var je=I.type.defaultProps;for(Re in O)$.call(O,Re)&&!K.hasOwnProperty(Re)&&(U[Re]=O[Re]===void 0&&je!==void 0?je[Re]:O[Re])}var Re=arguments.length-2;if(Re===1)U.children=_;else if(1<Re){je=Array(Re);for(var Ue=0;Ue<Re;Ue++)je[Ue]=arguments[Ue+2];U.children=je}return{$$typeof:e,type:I.type,key:ne,ref:ue,props:U,_owner:re}},at.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:c,_context:I},I.Consumer=I},at.createElement=te,at.createFactory=function(I){var O=te.bind(null,I);return O.type=I,O},at.createRef=function(){return{current:null}},at.forwardRef=function(I){return{$$typeof:f,render:I}},at.isValidElement=he,at.lazy=function(I){return{$$typeof:x,_payload:{_status:-1,_result:I},_init:G}},at.memo=function(I,O){return{$$typeof:g,type:I,compare:O===void 0?null:O}},at.startTransition=function(I){var O=N.transition;N.transition={};try{I()}finally{N.transition=O}},at.unstable_act=Y,at.useCallback=function(I,O){return q.current.useCallback(I,O)},at.useContext=function(I){return q.current.useContext(I)},at.useDebugValue=function(){},at.useDeferredValue=function(I){return q.current.useDeferredValue(I)},at.useEffect=function(I,O){return q.current.useEffect(I,O)},at.useId=function(){return q.current.useId()},at.useImperativeHandle=function(I,O,_){return q.current.useImperativeHandle(I,O,_)},at.useInsertionEffect=function(I,O){return q.current.useInsertionEffect(I,O)},at.useLayoutEffect=function(I,O){return q.current.useLayoutEffect(I,O)},at.useMemo=function(I,O){return q.current.useMemo(I,O)},at.useReducer=function(I,O,_){return q.current.useReducer(I,O,_)},at.useRef=function(I){return q.current.useRef(I)},at.useState=function(I){return q.current.useState(I)},at.useSyncExternalStore=function(I,O,_){return q.current.useSyncExternalStore(I,O,_)},at.useTransition=function(){return q.current.useTransition()},at.version="18.3.1",at}var Px;function ad(){return Px||(Px=1,Pf.exports=FC()),Pf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx;function LC(){if(Tx)return jo;Tx=1;var e=ad(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,g){var x,y={},w=null,k=null;g!==void 0&&(w=""+g),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(k=h.ref);for(x in h)a.call(h,x)&&!c.hasOwnProperty(x)&&(y[x]=h[x]);if(f&&f.defaultProps)for(x in h=f.defaultProps,h)y[x]===void 0&&(y[x]=h[x]);return{$$typeof:r,type:f,key:w,ref:k,props:y,_owner:o.current}}return jo.Fragment=s,jo.jsx=u,jo.jsxs=u,jo}var Ex;function BC(){return Ex||(Ex=1,kf.exports=LC()),kf.exports}var t=BC(),vc={},Tf={exports:{}},$r={},Ef={exports:{}},_f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function $C(){return _x||(_x=1,(function(e){function r(N,B){var Y=N.length;N.push(B);e:for(;0<Y;){var I=Y-1>>>1,O=N[I];if(0<o(O,B))N[I]=B,N[Y]=O,Y=I;else break e}}function s(N){return N.length===0?null:N[0]}function a(N){if(N.length===0)return null;var B=N[0],Y=N.pop();if(Y!==B){N[0]=Y;e:for(var I=0,O=N.length,_=O>>>1;I<_;){var U=2*(I+1)-1,ne=N[U],ue=U+1,re=N[ue];if(0>o(ne,Y))ue<O&&0>o(re,ne)?(N[I]=re,N[ue]=Y,I=ue):(N[I]=ne,N[U]=Y,I=U);else if(ue<O&&0>o(re,Y))N[I]=re,N[ue]=Y,I=ue;else break e}}return B}function o(N,B){var Y=N.sortIndex-B.sortIndex;return Y!==0?Y:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],g=[],x=1,y=null,w=3,k=!1,C=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(N){for(var B=s(g);B!==null;){if(B.callback===null)a(g);else if(B.startTime<=N)a(g),B.sortIndex=B.expirationTime,r(h,B);else break;B=s(g)}}function F(N){if(b=!1,R(N),!C)if(s(h)!==null)C=!0,G($);else{var B=s(g);B!==null&&q(F,B.startTime-N)}}function $(N,B){C=!1,b&&(b=!1,T(te),te=-1),k=!0;var Y=w;try{for(R(B),y=s(h);y!==null&&(!(y.expirationTime>B)||N&&!pe());){var I=y.callback;if(typeof I=="function"){y.callback=null,w=y.priorityLevel;var O=I(y.expirationTime<=B);B=e.unstable_now(),typeof O=="function"?y.callback=O:y===s(h)&&a(h),R(B)}else a(h);y=s(h)}if(y!==null)var _=!0;else{var U=s(g);U!==null&&q(F,U.startTime-B),_=!1}return _}finally{y=null,w=Y,k=!1}}var X=!1,K=null,te=-1,xe=5,he=-1;function pe(){return!(e.unstable_now()-he<xe)}function ee(){if(K!==null){var N=e.unstable_now();he=N;var B=!0;try{B=K(!0,N)}finally{B?ie():(X=!1,K=null)}}else X=!1}var ie;if(typeof P=="function")ie=function(){P(ee)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ge=H.port2;H.port1.onmessage=ee,ie=function(){ge.postMessage(null)}}else ie=function(){j(ee,0)};function G(N){K=N,X||(X=!0,ie())}function q(N,B){te=j(function(){N(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){C||k||(C=!0,G($))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return s(h)},e.unstable_next=function(N){switch(w){case 1:case 2:case 3:var B=3;break;default:B=w}var Y=w;w=B;try{return N()}finally{w=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Y=w;w=N;try{return B()}finally{w=Y}},e.unstable_scheduleCallback=function(N,B,Y){var I=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?I+Y:I):Y=I,N){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Y+O,N={id:x++,callback:B,priorityLevel:N,startTime:Y,expirationTime:O,sortIndex:-1},Y>I?(N.sortIndex=Y,r(g,N),s(h)===null&&N===s(g)&&(b?(T(te),te=-1):b=!0,q(F,Y-I))):(N.sortIndex=O,r(h,N),C||k||(C=!0,G($))),N},e.unstable_shouldYield=pe,e.unstable_wrapCallback=function(N){var B=w;return function(){var Y=w;w=B;try{return N.apply(this,arguments)}finally{w=Y}}}})(_f)),_f}var Ax;function VC(){return Ax||(Ax=1,Ef.exports=$C()),Ef.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx;function zC(){if(Rx)return $r;Rx=1;var e=ad(),r=VC();function s(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)a.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},y={};function w(n){return h.call(y,n)?!0:h.call(x,n)?!1:g.test(n)?y[n]=!0:(x[n]=!0,!1)}function k(n,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function C(n,i,l,d){if(i===null||typeof i>"u"||k(n,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function b(n,i,l,d,m,v,S){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=n,this.type=i,this.sanitizeURL=v,this.removeEmptyString=S}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){j[n]=new b(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];j[i]=new b(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){j[n]=new b(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){j[n]=new b(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){j[n]=new b(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){j[n]=new b(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){j[n]=new b(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){j[n]=new b(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){j[n]=new b(n,5,!1,n.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function P(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(T,P);j[i]=new b(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(T,P);j[i]=new b(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(T,P);j[i]=new b(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){j[n]=new b(n,1,!1,n.toLowerCase(),null,!1,!1)}),j.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){j[n]=new b(n,1,!1,n.toLowerCase(),null,!0,!0)});function R(n,i,l,d){var m=j.hasOwnProperty(i)?j[i]:null;(m!==null?m.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,l,m,d)&&(l=null),d||m===null?w(i)&&(l===null?n.removeAttribute(i):n.setAttribute(i,""+l)):m.mustUseProperty?n[m.propertyName]=l===null?m.type===3?!1:"":l:(i=m.attributeName,d=m.attributeNamespace,l===null?n.removeAttribute(i):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?n.setAttributeNS(d,i,l):n.setAttribute(i,l))))}var F=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),X=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),he=Symbol.for("react.provider"),pe=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),N=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var Y=Object.assign,I;function O(n){if(I===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);I=i&&i[1]||""}return`
`+I+n}var _=!1;function U(n,i){if(!n||_)return"";_=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Z){var d=Z}Reflect.construct(n,[],i)}else{try{i.call()}catch(Z){d=Z}n.call(i.prototype)}else{try{throw Error()}catch(Z){d=Z}n()}}catch(Z){if(Z&&d&&typeof Z.stack=="string"){for(var m=Z.stack.split(`
`),v=d.stack.split(`
`),S=m.length-1,A=v.length-1;1<=S&&0<=A&&m[S]!==v[A];)A--;for(;1<=S&&0<=A;S--,A--)if(m[S]!==v[A]){if(S!==1||A!==1)do if(S--,A--,0>A||m[S]!==v[A]){var M=`
`+m[S].replace(" at new "," at ");return n.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",n.displayName)),M}while(1<=S&&0<=A);break}}}finally{_=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?O(n):""}function ne(n){switch(n.tag){case 5:return O(n.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return n=U(n.type,!1),n;case 11:return n=U(n.type.render,!1),n;case 1:return n=U(n.type,!0),n;default:return""}}function ue(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case K:return"Fragment";case X:return"Portal";case xe:return"Profiler";case te:return"StrictMode";case ie:return"Suspense";case H:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case pe:return(n.displayName||"Context")+".Consumer";case he:return(n._context.displayName||"Context")+".Provider";case ee:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ge:return i=n.displayName||null,i!==null?i:ue(n.type)||"Memo";case G:i=n._payload,n=n._init;try{return ue(n(i))}catch{}}return null}function re(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(i);case 8:return i===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function je(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Re(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ue(n){var i=Re(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),d=""+n[i];if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function dt(n){n._valueTracker||(n._valueTracker=Ue(n))}function ft(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return n&&(d=Re(n)?n.checked?"true":"false":n.value),n=d,n!==l?(i.setValue(n),!0):!1}function Yt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function tt(n,i){var l=i.checked;return Y({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function Wr(n,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=je(i.value!=null?i.value:l),n._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Jr(n,i){i=i.checked,i!=null&&R(n,"checked",i,!1)}function fn(n,i){Jr(n,i);var l=je(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?hs(n,i.type,l):i.hasOwnProperty("defaultValue")&&hs(n,i.type,je(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Fa(n,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,l||i===n.value||(n.value=i),n.defaultValue=i}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function hs(n,i,l){(i!=="number"||Yt(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var D=Array.isArray;function V(n,i,l,d){if(n=n.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<n.length;l++)m=i.hasOwnProperty("$"+n[l].value),n[l].selected!==m&&(n[l].selected=m),m&&d&&(n[l].defaultSelected=!0)}else{for(l=""+je(l),i=null,m=0;m<n.length;m++){if(n[m].value===l){n[m].selected=!0,d&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function J(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(s(91));return Y({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ne(n,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(s(92));if(D(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),l=i}n._wrapperState={initialValue:je(l)}}function be(n,i){var l=je(i.value),d=je(i.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),i.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),d!=null&&(n.defaultValue=""+d)}function ce(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Oe(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Oe(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ze,Zt=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,m){MSApp.execUnsafeLocalFunction(function(){return n(i,l,d,m)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Ze=Ze||document.createElement("div"),Ze.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ze.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function en(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E=["Webkit","ms","Moz","O"];Object.keys(zt).forEach(function(n){E.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),zt[i]=zt[n]})});function ye(n,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||zt.hasOwnProperty(n)&&zt[n]?(""+i).trim():i+"px"}function Ye(n,i){n=n.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=ye(l,i[l],d);l==="float"&&(l="cssFloat"),d?n.setProperty(l,m):n[l]=m}}var nt=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xt(n,i){if(i){if(nt[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(s(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(s(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(s(61))}if(i.style!=null&&typeof i.style!="object")throw Error(s(62))}}function ps(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var An=null;function $d(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Vd=null,Oi=null,Di=null;function Uh(n){if(n=io(n)){if(typeof Vd!="function")throw Error(s(280));var i=n.stateNode;i&&(i=Il(i),Vd(n.stateNode,n.type,i))}}function Wh(n){Oi?Di?Di.push(n):Di=[n]:Oi=n}function qh(){if(Oi){var n=Oi,i=Di;if(Di=Oi=null,Uh(n),i)for(n=0;n<i.length;n++)Uh(i[n])}}function Kh(n,i){return n(i)}function Qh(){}var zd=!1;function Gh(n,i,l){if(zd)return n(i,l);zd=!0;try{return Kh(n,i,l)}finally{zd=!1,(Oi!==null||Di!==null)&&(Qh(),qh())}}function La(n,i){var l=n.stateNode;if(l===null)return null;var d=Il(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var Ud=!1;if(f)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){Ud=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{Ud=!1}function zN(n,i,l,d,m,v,S,A,M){var Z=Array.prototype.slice.call(arguments,3);try{i.apply(l,Z)}catch(de){this.onError(de)}}var $a=!1,ul=null,fl=!1,Wd=null,UN={onError:function(n){$a=!0,ul=n}};function WN(n,i,l,d,m,v,S,A,M){$a=!1,ul=null,zN.apply(UN,arguments)}function qN(n,i,l,d,m,v,S,A,M){if(WN.apply(this,arguments),$a){if($a){var Z=ul;$a=!1,ul=null}else throw Error(s(198));fl||(fl=!0,Wd=Z)}}function ni(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function Hh(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Yh(n){if(ni(n)!==n)throw Error(s(188))}function KN(n){var i=n.alternate;if(!i){if(i=ni(n),i===null)throw Error(s(188));return i!==n?null:n}for(var l=n,d=i;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return Yh(m),n;if(v===d)return Yh(m),i;v=v.sibling}throw Error(s(188))}if(l.return!==d.return)l=m,d=v;else{for(var S=!1,A=m.child;A;){if(A===l){S=!0,l=m,d=v;break}if(A===d){S=!0,d=m,l=v;break}A=A.sibling}if(!S){for(A=v.child;A;){if(A===l){S=!0,l=v,d=m;break}if(A===d){S=!0,d=v,l=m;break}A=A.sibling}if(!S)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:i}function Zh(n){return n=KN(n),n!==null?Xh(n):null}function Xh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Xh(n);if(i!==null)return i;n=n.sibling}return null}var Jh=r.unstable_scheduleCallback,ep=r.unstable_cancelCallback,QN=r.unstable_shouldYield,GN=r.unstable_requestPaint,Ut=r.unstable_now,HN=r.unstable_getCurrentPriorityLevel,qd=r.unstable_ImmediatePriority,tp=r.unstable_UserBlockingPriority,ml=r.unstable_NormalPriority,YN=r.unstable_LowPriority,rp=r.unstable_IdlePriority,hl=null,Rn=null;function ZN(n){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(hl,n,void 0,(n.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:eS,XN=Math.log,JN=Math.LN2;function eS(n){return n>>>=0,n===0?32:31-(XN(n)/JN|0)|0}var pl=64,gl=4194304;function Va(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function xl(n,i){var l=n.pendingLanes;if(l===0)return 0;var d=0,m=n.suspendedLanes,v=n.pingedLanes,S=l&268435455;if(S!==0){var A=S&~m;A!==0?d=Va(A):(v&=S,v!==0&&(d=Va(v)))}else S=l&~m,S!==0?d=Va(S):v!==0&&(d=Va(v));if(d===0)return 0;if(i!==0&&i!==d&&(i&m)===0&&(m=d&-d,v=i&-i,m>=v||m===16&&(v&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=d;0<i;)l=31-mn(i),m=1<<l,d|=n[l],i&=~m;return d}function tS(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rS(n,i){for(var l=n.suspendedLanes,d=n.pingedLanes,m=n.expirationTimes,v=n.pendingLanes;0<v;){var S=31-mn(v),A=1<<S,M=m[S];M===-1?((A&l)===0||(A&d)!==0)&&(m[S]=tS(A,i)):M<=i&&(n.expiredLanes|=A),v&=~A}}function Kd(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function np(){var n=pl;return pl<<=1,(pl&4194240)===0&&(pl=64),n}function Qd(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function za(n,i,l){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-mn(i),n[i]=l}function nS(n,i){var l=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<l;){var m=31-mn(l),v=1<<m;i[m]=0,d[m]=-1,n[m]=-1,l&=~v}}function Gd(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var d=31-mn(l),m=1<<d;m&i|n[d]&i&&(n[d]|=i),l&=~m}}var vt=0;function sp(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ip,Hd,ap,op,lp,Yd=!1,vl=[],gs=null,xs=null,vs=null,Ua=new Map,Wa=new Map,ys=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cp(n,i){switch(n){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Ua.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(i.pointerId)}}function qa(n,i,l,d,m,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},i!==null&&(i=io(i),i!==null&&Hd(i)),n):(n.eventSystemFlags|=d,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function iS(n,i,l,d,m){switch(i){case"focusin":return gs=qa(gs,n,i,l,d,m),!0;case"dragenter":return xs=qa(xs,n,i,l,d,m),!0;case"mouseover":return vs=qa(vs,n,i,l,d,m),!0;case"pointerover":var v=m.pointerId;return Ua.set(v,qa(Ua.get(v)||null,n,i,l,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Wa.set(v,qa(Wa.get(v)||null,n,i,l,d,m)),!0}return!1}function dp(n){var i=si(n.target);if(i!==null){var l=ni(i);if(l!==null){if(i=l.tag,i===13){if(i=Hh(l),i!==null){n.blockedOn=i,lp(n.priority,function(){ap(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function yl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=Xd(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);An=d,l.target.dispatchEvent(d),An=null}else return i=io(l),i!==null&&Hd(i),n.blockedOn=l,!1;i.shift()}return!0}function up(n,i,l){yl(n)&&l.delete(i)}function aS(){Yd=!1,gs!==null&&yl(gs)&&(gs=null),xs!==null&&yl(xs)&&(xs=null),vs!==null&&yl(vs)&&(vs=null),Ua.forEach(up),Wa.forEach(up)}function Ka(n,i){n.blockedOn===i&&(n.blockedOn=null,Yd||(Yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,aS)))}function Qa(n){function i(m){return Ka(m,n)}if(0<vl.length){Ka(vl[0],n);for(var l=1;l<vl.length;l++){var d=vl[l];d.blockedOn===n&&(d.blockedOn=null)}}for(gs!==null&&Ka(gs,n),xs!==null&&Ka(xs,n),vs!==null&&Ka(vs,n),Ua.forEach(i),Wa.forEach(i),l=0;l<ys.length;l++)d=ys[l],d.blockedOn===n&&(d.blockedOn=null);for(;0<ys.length&&(l=ys[0],l.blockedOn===null);)dp(l),l.blockedOn===null&&ys.shift()}var Mi=F.ReactCurrentBatchConfig,bl=!0;function oS(n,i,l,d){var m=vt,v=Mi.transition;Mi.transition=null;try{vt=1,Zd(n,i,l,d)}finally{vt=m,Mi.transition=v}}function lS(n,i,l,d){var m=vt,v=Mi.transition;Mi.transition=null;try{vt=4,Zd(n,i,l,d)}finally{vt=m,Mi.transition=v}}function Zd(n,i,l,d){if(bl){var m=Xd(n,i,l,d);if(m===null)pu(n,i,d,jl,l),cp(n,d);else if(iS(m,n,i,l,d))d.stopPropagation();else if(cp(n,d),i&4&&-1<sS.indexOf(n)){for(;m!==null;){var v=io(m);if(v!==null&&ip(v),v=Xd(n,i,l,d),v===null&&pu(n,i,d,jl,l),v===m)break;m=v}m!==null&&d.stopPropagation()}else pu(n,i,d,null,l)}}var jl=null;function Xd(n,i,l,d){if(jl=null,n=$d(d),n=si(n),n!==null)if(i=ni(n),i===null)n=null;else if(l=i.tag,l===13){if(n=Hh(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return jl=n,null}function fp(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HN()){case qd:return 1;case tp:return 4;case ml:case YN:return 16;case rp:return 536870912;default:return 16}default:return 16}}var bs=null,Jd=null,wl=null;function mp(){if(wl)return wl;var n,i=Jd,l=i.length,d,m="value"in bs?bs.value:bs.textContent,v=m.length;for(n=0;n<l&&i[n]===m[n];n++);var S=l-n;for(d=1;d<=S&&i[l-d]===m[v-d];d++);return wl=m.slice(n,1<d?1-d:void 0)}function Nl(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Sl(){return!0}function hp(){return!1}function qr(n){function i(l,d,m,v,S){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(l=n[A],this[A]=l?l(v):v[A]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Sl:hp,this.isPropagationStopped=hp,this}return Y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),i}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=qr(Fi),Ga=Y({},Fi,{view:0,detail:0}),cS=qr(Ga),tu,ru,Ha,Cl=Y({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:su,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ha&&(Ha&&n.type==="mousemove"?(tu=n.screenX-Ha.screenX,ru=n.screenY-Ha.screenY):ru=tu=0,Ha=n),tu)},movementY:function(n){return"movementY"in n?n.movementY:ru}}),pp=qr(Cl),dS=Y({},Cl,{dataTransfer:0}),uS=qr(dS),fS=Y({},Ga,{relatedTarget:0}),nu=qr(fS),mS=Y({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),hS=qr(mS),pS=Y({},Fi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),gS=qr(pS),xS=Y({},Fi,{data:0}),gp=qr(xS),vS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jS(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=bS[n])?!!i[n]:!1}function su(){return jS}var wS=Y({},Ga,{key:function(n){if(n.key){var i=vS[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Nl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?yS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:su,charCode:function(n){return n.type==="keypress"?Nl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Nl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),NS=qr(wS),SS=Y({},Cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xp=qr(SS),CS=Y({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:su}),kS=qr(CS),PS=Y({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),TS=qr(PS),ES=Y({},Cl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),_S=qr(ES),AS=[9,13,27,32],iu=f&&"CompositionEvent"in window,Ya=null;f&&"documentMode"in document&&(Ya=document.documentMode);var RS=f&&"TextEvent"in window&&!Ya,vp=f&&(!iu||Ya&&8<Ya&&11>=Ya),yp=" ",bp=!1;function jp(n,i){switch(n){case"keyup":return AS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Li=!1;function IS(n,i){switch(n){case"compositionend":return wp(i);case"keypress":return i.which!==32?null:(bp=!0,yp);case"textInput":return n=i.data,n===yp&&bp?null:n;default:return null}}function OS(n,i){if(Li)return n==="compositionend"||!iu&&jp(n,i)?(n=mp(),wl=Jd=bs=null,Li=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vp&&i.locale!=="ko"?null:i.data;default:return null}}var DS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Np(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!DS[n.type]:i==="textarea"}function Sp(n,i,l,d){Wh(d),i=_l(i,"onChange"),0<i.length&&(l=new eu("onChange","change",null,l,d),n.push({event:l,listeners:i}))}var Za=null,Xa=null;function MS(n){zp(n,0)}function kl(n){var i=Ui(n);if(ft(i))return n}function FS(n,i){if(n==="change")return i}var Cp=!1;if(f){var au;if(f){var ou="oninput"in document;if(!ou){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),ou=typeof kp.oninput=="function"}au=ou}else au=!1;Cp=au&&(!document.documentMode||9<document.documentMode)}function Pp(){Za&&(Za.detachEvent("onpropertychange",Tp),Xa=Za=null)}function Tp(n){if(n.propertyName==="value"&&kl(Xa)){var i=[];Sp(i,Xa,n,$d(n)),Gh(MS,i)}}function LS(n,i,l){n==="focusin"?(Pp(),Za=i,Xa=l,Za.attachEvent("onpropertychange",Tp)):n==="focusout"&&Pp()}function BS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return kl(Xa)}function $S(n,i){if(n==="click")return kl(i)}function VS(n,i){if(n==="input"||n==="change")return kl(i)}function zS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var hn=typeof Object.is=="function"?Object.is:zS;function Ja(n,i){if(hn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!h.call(i,m)||!hn(n[m],i[m]))return!1}return!0}function Ep(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function _p(n,i){var l=Ep(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=i&&d>=i)return{node:l,offset:i-n};n=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ep(l)}}function Ap(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Ap(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Rp(){for(var n=window,i=Yt();i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=Yt(n.document)}return i}function lu(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function US(n){var i=Rp(),l=n.focusedElem,d=n.selectionRange;if(i!==l&&l&&l.ownerDocument&&Ap(l.ownerDocument.documentElement,l)){if(d!==null&&lu(l)){if(i=d.start,n=d.end,n===void 0&&(n=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(n,l.value.length);else if(n=(i=l.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var m=l.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!n.extend&&v>d&&(m=d,d=v,v=m),m=_p(l,v);var S=_p(l,d);m&&S&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==S.node||n.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),n.removeAllRanges(),v>d?(n.addRange(i),n.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),n.addRange(i)))}}for(i=[],n=l;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)n=i[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var WS=f&&"documentMode"in document&&11>=document.documentMode,Bi=null,cu=null,eo=null,du=!1;function Ip(n,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;du||Bi==null||Bi!==Yt(d)||(d=Bi,"selectionStart"in d&&lu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),eo&&Ja(eo,d)||(eo=d,d=_l(cu,"onSelect"),0<d.length&&(i=new eu("onSelect","select",null,i,l),n.push({event:i,listeners:d}),i.target=Bi)))}function Pl(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var $i={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionend:Pl("Transition","TransitionEnd")},uu={},Op={};f&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Tl(n){if(uu[n])return uu[n];if(!$i[n])return n;var i=$i[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in Op)return uu[n]=i[l];return n}var Dp=Tl("animationend"),Mp=Tl("animationiteration"),Fp=Tl("animationstart"),Lp=Tl("transitionend"),Bp=new Map,$p="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(n,i){Bp.set(n,i),c(i,[n])}for(var fu=0;fu<$p.length;fu++){var mu=$p[fu],qS=mu.toLowerCase(),KS=mu[0].toUpperCase()+mu.slice(1);js(qS,"on"+KS)}js(Dp,"onAnimationEnd"),js(Mp,"onAnimationIteration"),js(Fp,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(Lp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QS=new Set("cancel close invalid load scroll toggle".split(" ").concat(to));function Vp(n,i,l){var d=n.type||"unknown-event";n.currentTarget=l,qN(d,i,void 0,n),n.currentTarget=null}function zp(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],m=d.event;d=d.listeners;e:{var v=void 0;if(i)for(var S=d.length-1;0<=S;S--){var A=d[S],M=A.instance,Z=A.currentTarget;if(A=A.listener,M!==v&&m.isPropagationStopped())break e;Vp(m,A,Z),v=M}else for(S=0;S<d.length;S++){if(A=d[S],M=A.instance,Z=A.currentTarget,A=A.listener,M!==v&&m.isPropagationStopped())break e;Vp(m,A,Z),v=M}}}if(fl)throw n=Wd,fl=!1,Wd=null,n}function wt(n,i){var l=i[ju];l===void 0&&(l=i[ju]=new Set);var d=n+"__bubble";l.has(d)||(Up(i,n,2,!1),l.add(d))}function hu(n,i,l){var d=0;i&&(d|=4),Up(l,n,d,i)}var El="_reactListening"+Math.random().toString(36).slice(2);function ro(n){if(!n[El]){n[El]=!0,a.forEach(function(l){l!=="selectionchange"&&(QS.has(l)||hu(l,!1,n),hu(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[El]||(i[El]=!0,hu("selectionchange",!1,i))}}function Up(n,i,l,d){switch(fp(i)){case 1:var m=oS;break;case 4:m=lS;break;default:m=Zd}l=m.bind(null,i,l,n),m=void 0,!Ud||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),d?m!==void 0?n.addEventListener(i,l,{capture:!0,passive:m}):n.addEventListener(i,l,!0):m!==void 0?n.addEventListener(i,l,{passive:m}):n.addEventListener(i,l,!1)}function pu(n,i,l,d,m){var v=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var A=d.stateNode.containerInfo;if(A===m||A.nodeType===8&&A.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var M=S.tag;if((M===3||M===4)&&(M=S.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;S=S.return}for(;A!==null;){if(S=si(A),S===null)return;if(M=S.tag,M===5||M===6){d=v=S;continue e}A=A.parentNode}}d=d.return}Gh(function(){var Z=v,de=$d(l),fe=[];e:{var le=Bp.get(n);if(le!==void 0){var Ce=eu,_e=n;switch(n){case"keypress":if(Nl(l)===0)break e;case"keydown":case"keyup":Ce=NS;break;case"focusin":_e="focus",Ce=nu;break;case"focusout":_e="blur",Ce=nu;break;case"beforeblur":case"afterblur":Ce=nu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=uS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=kS;break;case Dp:case Mp:case Fp:Ce=hS;break;case Lp:Ce=TS;break;case"scroll":Ce=cS;break;case"wheel":Ce=_S;break;case"copy":case"cut":case"paste":Ce=gS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=xp}var De=(i&4)!==0,Wt=!De&&n==="scroll",W=De?le!==null?le+"Capture":null:le;De=[];for(var L=Z,Q;L!==null;){Q=L;var ve=Q.stateNode;if(Q.tag===5&&ve!==null&&(Q=ve,W!==null&&(ve=La(L,W),ve!=null&&De.push(no(L,ve,Q)))),Wt)break;L=L.return}0<De.length&&(le=new Ce(le,_e,null,l,de),fe.push({event:le,listeners:De}))}}if((i&7)===0){e:{if(le=n==="mouseover"||n==="pointerover",Ce=n==="mouseout"||n==="pointerout",le&&l!==An&&(_e=l.relatedTarget||l.fromElement)&&(si(_e)||_e[Hn]))break e;if((Ce||le)&&(le=de.window===de?de:(le=de.ownerDocument)?le.defaultView||le.parentWindow:window,Ce?(_e=l.relatedTarget||l.toElement,Ce=Z,_e=_e?si(_e):null,_e!==null&&(Wt=ni(_e),_e!==Wt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(Ce=null,_e=Z),Ce!==_e)){if(De=pp,ve="onMouseLeave",W="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(De=xp,ve="onPointerLeave",W="onPointerEnter",L="pointer"),Wt=Ce==null?le:Ui(Ce),Q=_e==null?le:Ui(_e),le=new De(ve,L+"leave",Ce,l,de),le.target=Wt,le.relatedTarget=Q,ve=null,si(de)===Z&&(De=new De(W,L+"enter",_e,l,de),De.target=Q,De.relatedTarget=Wt,ve=De),Wt=ve,Ce&&_e)t:{for(De=Ce,W=_e,L=0,Q=De;Q;Q=Vi(Q))L++;for(Q=0,ve=W;ve;ve=Vi(ve))Q++;for(;0<L-Q;)De=Vi(De),L--;for(;0<Q-L;)W=Vi(W),Q--;for(;L--;){if(De===W||W!==null&&De===W.alternate)break t;De=Vi(De),W=Vi(W)}De=null}else De=null;Ce!==null&&Wp(fe,le,Ce,De,!1),_e!==null&&Wt!==null&&Wp(fe,Wt,_e,De,!0)}}e:{if(le=Z?Ui(Z):window,Ce=le.nodeName&&le.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&le.type==="file")var Le=FS;else if(Np(le))if(Cp)Le=VS;else{Le=BS;var Ve=LS}else(Ce=le.nodeName)&&Ce.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Le=$S);if(Le&&(Le=Le(n,Z))){Sp(fe,Le,l,de);break e}Ve&&Ve(n,le,Z),n==="focusout"&&(Ve=le._wrapperState)&&Ve.controlled&&le.type==="number"&&hs(le,"number",le.value)}switch(Ve=Z?Ui(Z):window,n){case"focusin":(Np(Ve)||Ve.contentEditable==="true")&&(Bi=Ve,cu=Z,eo=null);break;case"focusout":eo=cu=Bi=null;break;case"mousedown":du=!0;break;case"contextmenu":case"mouseup":case"dragend":du=!1,Ip(fe,l,de);break;case"selectionchange":if(WS)break;case"keydown":case"keyup":Ip(fe,l,de)}var ze;if(iu)e:{switch(n){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Li?jp(n,l)&&(Ge="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ge="onCompositionStart");Ge&&(vp&&l.locale!=="ko"&&(Li||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Li&&(ze=mp()):(bs=de,Jd="value"in bs?bs.value:bs.textContent,Li=!0)),Ve=_l(Z,Ge),0<Ve.length&&(Ge=new gp(Ge,n,null,l,de),fe.push({event:Ge,listeners:Ve}),ze?Ge.data=ze:(ze=wp(l),ze!==null&&(Ge.data=ze)))),(ze=RS?IS(n,l):OS(n,l))&&(Z=_l(Z,"onBeforeInput"),0<Z.length&&(de=new gp("onBeforeInput","beforeinput",null,l,de),fe.push({event:de,listeners:Z}),de.data=ze))}zp(fe,i)})}function no(n,i,l){return{instance:n,listener:i,currentTarget:l}}function _l(n,i){for(var l=i+"Capture",d=[];n!==null;){var m=n,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=La(n,l),v!=null&&d.unshift(no(n,v,m)),v=La(n,i),v!=null&&d.push(no(n,v,m))),n=n.return}return d}function Vi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Wp(n,i,l,d,m){for(var v=i._reactName,S=[];l!==null&&l!==d;){var A=l,M=A.alternate,Z=A.stateNode;if(M!==null&&M===d)break;A.tag===5&&Z!==null&&(A=Z,m?(M=La(l,v),M!=null&&S.unshift(no(l,M,A))):m||(M=La(l,v),M!=null&&S.push(no(l,M,A)))),l=l.return}S.length!==0&&n.push({event:i,listeners:S})}var GS=/\r\n?/g,HS=/\u0000|\uFFFD/g;function qp(n){return(typeof n=="string"?n:""+n).replace(GS,`
`).replace(HS,"")}function Al(n,i,l){if(i=qp(i),qp(n)!==i&&l)throw Error(s(425))}function Rl(){}var gu=null,xu=null;function vu(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yu=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,ZS=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(n){return Kp.resolve(null).then(n).catch(XS)}:yu;function XS(n){setTimeout(function(){throw n})}function bu(n,i){var l=i,d=0;do{var m=l.nextSibling;if(n.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){n.removeChild(m),Qa(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Qa(i)}function ws(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Qp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return n;i--}else l==="/$"&&i++}n=n.previousSibling}return null}var zi=Math.random().toString(36).slice(2),In="__reactFiber$"+zi,so="__reactProps$"+zi,Hn="__reactContainer$"+zi,ju="__reactEvents$"+zi,JS="__reactListeners$"+zi,eC="__reactHandles$"+zi;function si(n){var i=n[In];if(i)return i;for(var l=n.parentNode;l;){if(i=l[Hn]||l[In]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=Qp(n);n!==null;){if(l=n[In])return l;n=Qp(n)}return i}n=l,l=n.parentNode}return null}function io(n){return n=n[In]||n[Hn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ui(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(s(33))}function Il(n){return n[so]||null}var wu=[],Wi=-1;function Ns(n){return{current:n}}function Nt(n){0>Wi||(n.current=wu[Wi],wu[Wi]=null,Wi--)}function bt(n,i){Wi++,wu[Wi]=n.current,n.current=i}var Ss={},yr=Ns(Ss),Dr=Ns(!1),ii=Ss;function qi(n,i){var l=n.type.contextTypes;if(!l)return Ss;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=i[v];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=m),m}function Mr(n){return n=n.childContextTypes,n!=null}function Ol(){Nt(Dr),Nt(yr)}function Gp(n,i,l){if(yr.current!==Ss)throw Error(s(168));bt(yr,i),bt(Dr,l)}function Hp(n,i,l){var d=n.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in i))throw Error(s(108,re(n)||"Unknown",m));return Y({},l,d)}function Dl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ss,ii=yr.current,bt(yr,n),bt(Dr,Dr.current),!0}function Yp(n,i,l){var d=n.stateNode;if(!d)throw Error(s(169));l?(n=Hp(n,i,ii),d.__reactInternalMemoizedMergedChildContext=n,Nt(Dr),Nt(yr),bt(yr,n)):Nt(Dr),bt(Dr,l)}var Yn=null,Ml=!1,Nu=!1;function Zp(n){Yn===null?Yn=[n]:Yn.push(n)}function tC(n){Ml=!0,Zp(n)}function Cs(){if(!Nu&&Yn!==null){Nu=!0;var n=0,i=vt;try{var l=Yn;for(vt=1;n<l.length;n++){var d=l[n];do d=d(!0);while(d!==null)}Yn=null,Ml=!1}catch(m){throw Yn!==null&&(Yn=Yn.slice(n+1)),Jh(qd,Cs),m}finally{vt=i,Nu=!1}}return null}var Ki=[],Qi=0,Fl=null,Ll=0,tn=[],rn=0,ai=null,Zn=1,Xn="";function oi(n,i){Ki[Qi++]=Ll,Ki[Qi++]=Fl,Fl=n,Ll=i}function Xp(n,i,l){tn[rn++]=Zn,tn[rn++]=Xn,tn[rn++]=ai,ai=n;var d=Zn;n=Xn;var m=32-mn(d)-1;d&=~(1<<m),l+=1;var v=32-mn(i)+m;if(30<v){var S=m-m%5;v=(d&(1<<S)-1).toString(32),d>>=S,m-=S,Zn=1<<32-mn(i)+m|l<<m|d,Xn=v+n}else Zn=1<<v|l<<m|d,Xn=n}function Su(n){n.return!==null&&(oi(n,1),Xp(n,1,0))}function Cu(n){for(;n===Fl;)Fl=Ki[--Qi],Ki[Qi]=null,Ll=Ki[--Qi],Ki[Qi]=null;for(;n===ai;)ai=tn[--rn],tn[rn]=null,Xn=tn[--rn],tn[rn]=null,Zn=tn[--rn],tn[rn]=null}var Kr=null,Qr=null,Tt=!1,pn=null;function Jp(n,i){var l=on(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=n,i=n.deletions,i===null?(n.deletions=[l],n.flags|=16):i.push(l)}function eg(n,i){switch(n.tag){case 5:var l=n.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Kr=n,Qr=ws(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Kr=n,Qr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=ai!==null?{id:Zn,overflow:Xn}:null,n.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=on(18,null,null,0),l.stateNode=i,l.return=n,n.child=l,Kr=n,Qr=null,!0):!1;default:return!1}}function ku(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Pu(n){if(Tt){var i=Qr;if(i){var l=i;if(!eg(n,i)){if(ku(n))throw Error(s(418));i=ws(l.nextSibling);var d=Kr;i&&eg(n,i)?Jp(d,l):(n.flags=n.flags&-4097|2,Tt=!1,Kr=n)}}else{if(ku(n))throw Error(s(418));n.flags=n.flags&-4097|2,Tt=!1,Kr=n}}}function tg(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Kr=n}function Bl(n){if(n!==Kr)return!1;if(!Tt)return tg(n),Tt=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!vu(n.type,n.memoizedProps)),i&&(i=Qr)){if(ku(n))throw rg(),Error(s(418));for(;i;)Jp(n,i),i=ws(i.nextSibling)}if(tg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(i===0){Qr=ws(n.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}n=n.nextSibling}Qr=null}}else Qr=Kr?ws(n.stateNode.nextSibling):null;return!0}function rg(){for(var n=Qr;n;)n=ws(n.nextSibling)}function Gi(){Qr=Kr=null,Tt=!1}function Tu(n){pn===null?pn=[n]:pn.push(n)}var rC=F.ReactCurrentBatchConfig;function ao(n,i,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(s(309));var d=l.stateNode}if(!d)throw Error(s(147,n));var m=d,v=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(S){var A=m.refs;S===null?delete A[v]:A[v]=S},i._stringRef=v,i)}if(typeof n!="string")throw Error(s(284));if(!l._owner)throw Error(s(290,n))}return n}function $l(n,i){throw n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function ng(n){var i=n._init;return i(n._payload)}function sg(n){function i(W,L){if(n){var Q=W.deletions;Q===null?(W.deletions=[L],W.flags|=16):Q.push(L)}}function l(W,L){if(!n)return null;for(;L!==null;)i(W,L),L=L.sibling;return null}function d(W,L){for(W=new Map;L!==null;)L.key!==null?W.set(L.key,L):W.set(L.index,L),L=L.sibling;return W}function m(W,L){return W=Is(W,L),W.index=0,W.sibling=null,W}function v(W,L,Q){return W.index=Q,n?(Q=W.alternate,Q!==null?(Q=Q.index,Q<L?(W.flags|=2,L):Q):(W.flags|=2,L)):(W.flags|=1048576,L)}function S(W){return n&&W.alternate===null&&(W.flags|=2),W}function A(W,L,Q,ve){return L===null||L.tag!==6?(L=bf(Q,W.mode,ve),L.return=W,L):(L=m(L,Q),L.return=W,L)}function M(W,L,Q,ve){var Le=Q.type;return Le===K?de(W,L,Q.props.children,ve,Q.key):L!==null&&(L.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===G&&ng(Le)===L.type)?(ve=m(L,Q.props),ve.ref=ao(W,L,Q),ve.return=W,ve):(ve=dc(Q.type,Q.key,Q.props,null,W.mode,ve),ve.ref=ao(W,L,Q),ve.return=W,ve)}function Z(W,L,Q,ve){return L===null||L.tag!==4||L.stateNode.containerInfo!==Q.containerInfo||L.stateNode.implementation!==Q.implementation?(L=jf(Q,W.mode,ve),L.return=W,L):(L=m(L,Q.children||[]),L.return=W,L)}function de(W,L,Q,ve,Le){return L===null||L.tag!==7?(L=pi(Q,W.mode,ve,Le),L.return=W,L):(L=m(L,Q),L.return=W,L)}function fe(W,L,Q){if(typeof L=="string"&&L!==""||typeof L=="number")return L=bf(""+L,W.mode,Q),L.return=W,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case $:return Q=dc(L.type,L.key,L.props,null,W.mode,Q),Q.ref=ao(W,null,L),Q.return=W,Q;case X:return L=jf(L,W.mode,Q),L.return=W,L;case G:var ve=L._init;return fe(W,ve(L._payload),Q)}if(D(L)||B(L))return L=pi(L,W.mode,Q,null),L.return=W,L;$l(W,L)}return null}function le(W,L,Q,ve){var Le=L!==null?L.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Le!==null?null:A(W,L,""+Q,ve);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:return Q.key===Le?M(W,L,Q,ve):null;case X:return Q.key===Le?Z(W,L,Q,ve):null;case G:return Le=Q._init,le(W,L,Le(Q._payload),ve)}if(D(Q)||B(Q))return Le!==null?null:de(W,L,Q,ve,null);$l(W,Q)}return null}function Ce(W,L,Q,ve,Le){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return W=W.get(Q)||null,A(L,W,""+ve,Le);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case $:return W=W.get(ve.key===null?Q:ve.key)||null,M(L,W,ve,Le);case X:return W=W.get(ve.key===null?Q:ve.key)||null,Z(L,W,ve,Le);case G:var Ve=ve._init;return Ce(W,L,Q,Ve(ve._payload),Le)}if(D(ve)||B(ve))return W=W.get(Q)||null,de(L,W,ve,Le,null);$l(L,ve)}return null}function _e(W,L,Q,ve){for(var Le=null,Ve=null,ze=L,Ge=L=0,lr=null;ze!==null&&Ge<Q.length;Ge++){ze.index>Ge?(lr=ze,ze=null):lr=ze.sibling;var ht=le(W,ze,Q[Ge],ve);if(ht===null){ze===null&&(ze=lr);break}n&&ze&&ht.alternate===null&&i(W,ze),L=v(ht,L,Ge),Ve===null?Le=ht:Ve.sibling=ht,Ve=ht,ze=lr}if(Ge===Q.length)return l(W,ze),Tt&&oi(W,Ge),Le;if(ze===null){for(;Ge<Q.length;Ge++)ze=fe(W,Q[Ge],ve),ze!==null&&(L=v(ze,L,Ge),Ve===null?Le=ze:Ve.sibling=ze,Ve=ze);return Tt&&oi(W,Ge),Le}for(ze=d(W,ze);Ge<Q.length;Ge++)lr=Ce(ze,W,Ge,Q[Ge],ve),lr!==null&&(n&&lr.alternate!==null&&ze.delete(lr.key===null?Ge:lr.key),L=v(lr,L,Ge),Ve===null?Le=lr:Ve.sibling=lr,Ve=lr);return n&&ze.forEach(function(Os){return i(W,Os)}),Tt&&oi(W,Ge),Le}function De(W,L,Q,ve){var Le=B(Q);if(typeof Le!="function")throw Error(s(150));if(Q=Le.call(Q),Q==null)throw Error(s(151));for(var Ve=Le=null,ze=L,Ge=L=0,lr=null,ht=Q.next();ze!==null&&!ht.done;Ge++,ht=Q.next()){ze.index>Ge?(lr=ze,ze=null):lr=ze.sibling;var Os=le(W,ze,ht.value,ve);if(Os===null){ze===null&&(ze=lr);break}n&&ze&&Os.alternate===null&&i(W,ze),L=v(Os,L,Ge),Ve===null?Le=Os:Ve.sibling=Os,Ve=Os,ze=lr}if(ht.done)return l(W,ze),Tt&&oi(W,Ge),Le;if(ze===null){for(;!ht.done;Ge++,ht=Q.next())ht=fe(W,ht.value,ve),ht!==null&&(L=v(ht,L,Ge),Ve===null?Le=ht:Ve.sibling=ht,Ve=ht);return Tt&&oi(W,Ge),Le}for(ze=d(W,ze);!ht.done;Ge++,ht=Q.next())ht=Ce(ze,W,Ge,ht.value,ve),ht!==null&&(n&&ht.alternate!==null&&ze.delete(ht.key===null?Ge:ht.key),L=v(ht,L,Ge),Ve===null?Le=ht:Ve.sibling=ht,Ve=ht);return n&&ze.forEach(function(DC){return i(W,DC)}),Tt&&oi(W,Ge),Le}function Wt(W,L,Q,ve){if(typeof Q=="object"&&Q!==null&&Q.type===K&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:e:{for(var Le=Q.key,Ve=L;Ve!==null;){if(Ve.key===Le){if(Le=Q.type,Le===K){if(Ve.tag===7){l(W,Ve.sibling),L=m(Ve,Q.props.children),L.return=W,W=L;break e}}else if(Ve.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===G&&ng(Le)===Ve.type){l(W,Ve.sibling),L=m(Ve,Q.props),L.ref=ao(W,Ve,Q),L.return=W,W=L;break e}l(W,Ve);break}else i(W,Ve);Ve=Ve.sibling}Q.type===K?(L=pi(Q.props.children,W.mode,ve,Q.key),L.return=W,W=L):(ve=dc(Q.type,Q.key,Q.props,null,W.mode,ve),ve.ref=ao(W,L,Q),ve.return=W,W=ve)}return S(W);case X:e:{for(Ve=Q.key;L!==null;){if(L.key===Ve)if(L.tag===4&&L.stateNode.containerInfo===Q.containerInfo&&L.stateNode.implementation===Q.implementation){l(W,L.sibling),L=m(L,Q.children||[]),L.return=W,W=L;break e}else{l(W,L);break}else i(W,L);L=L.sibling}L=jf(Q,W.mode,ve),L.return=W,W=L}return S(W);case G:return Ve=Q._init,Wt(W,L,Ve(Q._payload),ve)}if(D(Q))return _e(W,L,Q,ve);if(B(Q))return De(W,L,Q,ve);$l(W,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,L!==null&&L.tag===6?(l(W,L.sibling),L=m(L,Q),L.return=W,W=L):(l(W,L),L=bf(Q,W.mode,ve),L.return=W,W=L),S(W)):l(W,L)}return Wt}var Hi=sg(!0),ig=sg(!1),Vl=Ns(null),zl=null,Yi=null,Eu=null;function _u(){Eu=Yi=zl=null}function Au(n){var i=Vl.current;Nt(Vl),n._currentValue=i}function Ru(n,i,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),n===l)break;n=n.return}}function Zi(n,i){zl=n,Eu=Yi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Fr=!0),n.firstContext=null)}function nn(n){var i=n._currentValue;if(Eu!==n)if(n={context:n,memoizedValue:i,next:null},Yi===null){if(zl===null)throw Error(s(308));Yi=n,zl.dependencies={lanes:0,firstContext:n}}else Yi=Yi.next=n;return i}var li=null;function Iu(n){li===null?li=[n]:li.push(n)}function ag(n,i,l,d){var m=i.interleaved;return m===null?(l.next=l,Iu(i)):(l.next=m.next,m.next=l),i.interleaved=l,Jn(n,d)}function Jn(n,i){n.lanes|=i;var l=n.alternate;for(l!==null&&(l.lanes|=i),l=n,n=n.return;n!==null;)n.childLanes|=i,l=n.alternate,l!==null&&(l.childLanes|=i),l=n,n=n.return;return l.tag===3?l.stateNode:null}var ks=!1;function Ou(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function og(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function es(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Ps(n,i,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(mt&2)!==0){var m=d.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),d.pending=i,Jn(n,l)}return m=d.interleaved,m===null?(i.next=i,Iu(d)):(i.next=m.next,m.next=i),d.interleaved=i,Jn(n,l)}function Ul(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=n.pendingLanes,l|=d,i.lanes=l,Gd(n,l)}}function lg(n,i){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=S:v=v.next=S,l=l.next}while(l!==null);v===null?m=v=i:v=v.next=i}else m=v=i;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}function Wl(n,i,l,d){var m=n.updateQueue;ks=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var M=A,Z=M.next;M.next=null,S===null?v=Z:S.next=Z,S=M;var de=n.alternate;de!==null&&(de=de.updateQueue,A=de.lastBaseUpdate,A!==S&&(A===null?de.firstBaseUpdate=Z:A.next=Z,de.lastBaseUpdate=M))}if(v!==null){var fe=m.baseState;S=0,de=Z=M=null,A=v;do{var le=A.lane,Ce=A.eventTime;if((d&le)===le){de!==null&&(de=de.next={eventTime:Ce,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var _e=n,De=A;switch(le=i,Ce=l,De.tag){case 1:if(_e=De.payload,typeof _e=="function"){fe=_e.call(Ce,fe,le);break e}fe=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=De.payload,le=typeof _e=="function"?_e.call(Ce,fe,le):_e,le==null)break e;fe=Y({},fe,le);break e;case 2:ks=!0}}A.callback!==null&&A.lane!==0&&(n.flags|=64,le=m.effects,le===null?m.effects=[A]:le.push(A))}else Ce={eventTime:Ce,lane:le,tag:A.tag,payload:A.payload,callback:A.callback,next:null},de===null?(Z=de=Ce,M=fe):de=de.next=Ce,S|=le;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;le=A,A=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);if(de===null&&(M=fe),m.baseState=M,m.firstBaseUpdate=Z,m.lastBaseUpdate=de,i=m.shared.interleaved,i!==null){m=i;do S|=m.lane,m=m.next;while(m!==i)}else v===null&&(m.shared.lanes=0);ui|=S,n.lanes=S,n.memoizedState=fe}}function cg(n,i,l){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var d=n[i],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(s(191,m));m.call(d)}}}var oo={},On=Ns(oo),lo=Ns(oo),co=Ns(oo);function ci(n){if(n===oo)throw Error(s(174));return n}function Du(n,i){switch(bt(co,i),bt(lo,n),bt(On,oo),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ot(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=ot(i,n)}Nt(On),bt(On,i)}function Xi(){Nt(On),Nt(lo),Nt(co)}function dg(n){ci(co.current);var i=ci(On.current),l=ot(i,n.type);i!==l&&(bt(lo,n),bt(On,l))}function Mu(n){lo.current===n&&(Nt(On),Nt(lo))}var _t=Ns(0);function ql(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fu=[];function Lu(){for(var n=0;n<Fu.length;n++)Fu[n]._workInProgressVersionPrimary=null;Fu.length=0}var Kl=F.ReactCurrentDispatcher,Bu=F.ReactCurrentBatchConfig,di=0,At=null,tr=null,ar=null,Ql=!1,uo=!1,fo=0,nC=0;function br(){throw Error(s(321))}function $u(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!hn(n[l],i[l]))return!1;return!0}function Vu(n,i,l,d,m,v){if(di=v,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Kl.current=n===null||n.memoizedState===null?oC:lC,n=l(d,m),uo){v=0;do{if(uo=!1,fo=0,25<=v)throw Error(s(301));v+=1,ar=tr=null,i.updateQueue=null,Kl.current=cC,n=l(d,m)}while(uo)}if(Kl.current=Yl,i=tr!==null&&tr.next!==null,di=0,ar=tr=At=null,Ql=!1,i)throw Error(s(300));return n}function zu(){var n=fo!==0;return fo=0,n}function Dn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?At.memoizedState=ar=n:ar=ar.next=n,ar}function sn(){if(tr===null){var n=At.alternate;n=n!==null?n.memoizedState:null}else n=tr.next;var i=ar===null?At.memoizedState:ar.next;if(i!==null)ar=i,tr=n;else{if(n===null)throw Error(s(310));tr=n,n={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},ar===null?At.memoizedState=ar=n:ar=ar.next=n}return ar}function mo(n,i){return typeof i=="function"?i(n):i}function Uu(n){var i=sn(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var d=tr,m=d.baseQueue,v=l.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}d.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,d=d.baseState;var A=S=null,M=null,Z=v;do{var de=Z.lane;if((di&de)===de)M!==null&&(M=M.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),d=Z.hasEagerState?Z.eagerState:n(d,Z.action);else{var fe={lane:de,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};M===null?(A=M=fe,S=d):M=M.next=fe,At.lanes|=de,ui|=de}Z=Z.next}while(Z!==null&&Z!==v);M===null?S=d:M.next=A,hn(d,i.memoizedState)||(Fr=!0),i.memoizedState=d,i.baseState=S,i.baseQueue=M,l.lastRenderedState=d}if(n=l.interleaved,n!==null){m=n;do v=m.lane,At.lanes|=v,ui|=v,m=m.next;while(m!==n)}else m===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Wu(n){var i=sn(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var d=l.dispatch,m=l.pending,v=i.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do v=n(v,S.action),S=S.next;while(S!==m);hn(v,i.memoizedState)||(Fr=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,d]}function ug(){}function fg(n,i){var l=At,d=sn(),m=i(),v=!hn(d.memoizedState,m);if(v&&(d.memoizedState=m,Fr=!0),d=d.queue,qu(pg.bind(null,l,d,n),[n]),d.getSnapshot!==i||v||ar!==null&&ar.memoizedState.tag&1){if(l.flags|=2048,ho(9,hg.bind(null,l,d,m,i),void 0,null),or===null)throw Error(s(349));(di&30)!==0||mg(l,i,m)}return m}function mg(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=At.updateQueue,i===null?(i={lastEffect:null,stores:null},At.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function hg(n,i,l,d){i.value=l,i.getSnapshot=d,gg(i)&&xg(n)}function pg(n,i,l){return l(function(){gg(i)&&xg(n)})}function gg(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!hn(n,l)}catch{return!0}}function xg(n){var i=Jn(n,1);i!==null&&yn(i,n,1,-1)}function vg(n){var i=Dn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:n},i.queue=n,n=n.dispatch=aC.bind(null,At,n),[i.memoizedState,n]}function ho(n,i,l,d){return n={tag:n,create:i,destroy:l,deps:d,next:null},i=At.updateQueue,i===null?(i={lastEffect:null,stores:null},At.updateQueue=i,i.lastEffect=n.next=n):(l=i.lastEffect,l===null?i.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,i.lastEffect=n)),n}function yg(){return sn().memoizedState}function Gl(n,i,l,d){var m=Dn();At.flags|=n,m.memoizedState=ho(1|i,l,void 0,d===void 0?null:d)}function Hl(n,i,l,d){var m=sn();d=d===void 0?null:d;var v=void 0;if(tr!==null){var S=tr.memoizedState;if(v=S.destroy,d!==null&&$u(d,S.deps)){m.memoizedState=ho(i,l,v,d);return}}At.flags|=n,m.memoizedState=ho(1|i,l,v,d)}function bg(n,i){return Gl(8390656,8,n,i)}function qu(n,i){return Hl(2048,8,n,i)}function jg(n,i){return Hl(4,2,n,i)}function wg(n,i){return Hl(4,4,n,i)}function Ng(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Sg(n,i,l){return l=l!=null?l.concat([n]):null,Hl(4,4,Ng.bind(null,i,n),l)}function Ku(){}function Cg(n,i){var l=sn();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&$u(i,d[1])?d[0]:(l.memoizedState=[n,i],n)}function kg(n,i){var l=sn();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&$u(i,d[1])?d[0]:(n=n(),l.memoizedState=[n,i],n)}function Pg(n,i,l){return(di&21)===0?(n.baseState&&(n.baseState=!1,Fr=!0),n.memoizedState=l):(hn(l,i)||(l=np(),At.lanes|=l,ui|=l,n.baseState=!0),i)}function sC(n,i){var l=vt;vt=l!==0&&4>l?l:4,n(!0);var d=Bu.transition;Bu.transition={};try{n(!1),i()}finally{vt=l,Bu.transition=d}}function Tg(){return sn().memoizedState}function iC(n,i,l){var d=As(n);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Eg(n))_g(i,l);else if(l=ag(n,i,l,d),l!==null){var m=Cr();yn(l,n,d,m),Ag(l,i,d)}}function aC(n,i,l){var d=As(n),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Eg(n))_g(i,m);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var S=i.lastRenderedState,A=v(S,l);if(m.hasEagerState=!0,m.eagerState=A,hn(A,S)){var M=i.interleaved;M===null?(m.next=m,Iu(i)):(m.next=M.next,M.next=m),i.interleaved=m;return}}catch{}finally{}l=ag(n,i,m,d),l!==null&&(m=Cr(),yn(l,n,d,m),Ag(l,i,d))}}function Eg(n){var i=n.alternate;return n===At||i!==null&&i===At}function _g(n,i){uo=Ql=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function Ag(n,i,l){if((l&4194240)!==0){var d=i.lanes;d&=n.pendingLanes,l|=d,i.lanes=l,Gd(n,l)}}var Yl={readContext:nn,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},oC={readContext:nn,useCallback:function(n,i){return Dn().memoizedState=[n,i===void 0?null:i],n},useContext:nn,useEffect:bg,useImperativeHandle:function(n,i,l){return l=l!=null?l.concat([n]):null,Gl(4194308,4,Ng.bind(null,i,n),l)},useLayoutEffect:function(n,i){return Gl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Gl(4,2,n,i)},useMemo:function(n,i){var l=Dn();return i=i===void 0?null:i,n=n(),l.memoizedState=[n,i],n},useReducer:function(n,i,l){var d=Dn();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},d.queue=n,n=n.dispatch=iC.bind(null,At,n),[d.memoizedState,n]},useRef:function(n){var i=Dn();return n={current:n},i.memoizedState=n},useState:vg,useDebugValue:Ku,useDeferredValue:function(n){return Dn().memoizedState=n},useTransition:function(){var n=vg(!1),i=n[0];return n=sC.bind(null,n[1]),Dn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,l){var d=At,m=Dn();if(Tt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),or===null)throw Error(s(349));(di&30)!==0||mg(d,i,l)}m.memoizedState=l;var v={value:l,getSnapshot:i};return m.queue=v,bg(pg.bind(null,d,v,n),[n]),d.flags|=2048,ho(9,hg.bind(null,d,v,l,i),void 0,null),l},useId:function(){var n=Dn(),i=or.identifierPrefix;if(Tt){var l=Xn,d=Zn;l=(d&~(1<<32-mn(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=fo++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=nC++,i=":"+i+"r"+l.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},lC={readContext:nn,useCallback:Cg,useContext:nn,useEffect:qu,useImperativeHandle:Sg,useInsertionEffect:jg,useLayoutEffect:wg,useMemo:kg,useReducer:Uu,useRef:yg,useState:function(){return Uu(mo)},useDebugValue:Ku,useDeferredValue:function(n){var i=sn();return Pg(i,tr.memoizedState,n)},useTransition:function(){var n=Uu(mo)[0],i=sn().memoizedState;return[n,i]},useMutableSource:ug,useSyncExternalStore:fg,useId:Tg,unstable_isNewReconciler:!1},cC={readContext:nn,useCallback:Cg,useContext:nn,useEffect:qu,useImperativeHandle:Sg,useInsertionEffect:jg,useLayoutEffect:wg,useMemo:kg,useReducer:Wu,useRef:yg,useState:function(){return Wu(mo)},useDebugValue:Ku,useDeferredValue:function(n){var i=sn();return tr===null?i.memoizedState=n:Pg(i,tr.memoizedState,n)},useTransition:function(){var n=Wu(mo)[0],i=sn().memoizedState;return[n,i]},useMutableSource:ug,useSyncExternalStore:fg,useId:Tg,unstable_isNewReconciler:!1};function gn(n,i){if(n&&n.defaultProps){i=Y({},i),n=n.defaultProps;for(var l in n)i[l]===void 0&&(i[l]=n[l]);return i}return i}function Qu(n,i,l,d){i=n.memoizedState,l=l(d,i),l=l==null?i:Y({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Zl={isMounted:function(n){return(n=n._reactInternals)?ni(n)===n:!1},enqueueSetState:function(n,i,l){n=n._reactInternals;var d=Cr(),m=As(n),v=es(d,m);v.payload=i,l!=null&&(v.callback=l),i=Ps(n,v,m),i!==null&&(yn(i,n,m,d),Ul(i,n,m))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var d=Cr(),m=As(n),v=es(d,m);v.tag=1,v.payload=i,l!=null&&(v.callback=l),i=Ps(n,v,m),i!==null&&(yn(i,n,m,d),Ul(i,n,m))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=Cr(),d=As(n),m=es(l,d);m.tag=2,i!=null&&(m.callback=i),i=Ps(n,m,d),i!==null&&(yn(i,n,d,l),Ul(i,n,d))}};function Rg(n,i,l,d,m,v,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,v,S):i.prototype&&i.prototype.isPureReactComponent?!Ja(l,d)||!Ja(m,v):!0}function Ig(n,i,l){var d=!1,m=Ss,v=i.contextType;return typeof v=="object"&&v!==null?v=nn(v):(m=Mr(i)?ii:yr.current,d=i.contextTypes,v=(d=d!=null)?qi(n,m):Ss),i=new i(l,v),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Zl,n.stateNode=i,i._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=v),i}function Og(n,i,l,d){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==n&&Zl.enqueueReplaceState(i,i.state,null)}function Gu(n,i,l,d){var m=n.stateNode;m.props=l,m.state=n.memoizedState,m.refs={},Ou(n);var v=i.contextType;typeof v=="object"&&v!==null?m.context=nn(v):(v=Mr(i)?ii:yr.current,m.context=qi(n,v)),m.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Qu(n,i,v,l),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&Zl.enqueueReplaceState(m,m.state,null),Wl(n,l,m,d),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function Ji(n,i){try{var l="",d=i;do l+=ne(d),d=d.return;while(d);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:i,stack:m,digest:null}}function Hu(n,i,l){return{value:n,source:null,stack:l??null,digest:i??null}}function Yu(n,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var dC=typeof WeakMap=="function"?WeakMap:Map;function Dg(n,i,l){l=es(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){sc||(sc=!0,ff=d),Yu(n,i)},l}function Mg(n,i,l){l=es(-1,l),l.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var m=i.value;l.payload=function(){return d(m)},l.callback=function(){Yu(n,i)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Yu(n,i),typeof d!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})}),l}function Fg(n,i,l){var d=n.pingCache;if(d===null){d=n.pingCache=new dC;var m=new Set;d.set(i,m)}else m=d.get(i),m===void 0&&(m=new Set,d.set(i,m));m.has(l)||(m.add(l),n=SC.bind(null,n,i,l),i.then(n,n))}function Lg(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Bg(n,i,l,d,m){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=es(-1,1),i.tag=2,Ps(l,i,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var uC=F.ReactCurrentOwner,Fr=!1;function Sr(n,i,l,d){i.child=n===null?ig(i,null,l,d):Hi(i,n.child,l,d)}function $g(n,i,l,d,m){l=l.render;var v=i.ref;return Zi(i,m),d=Vu(n,i,l,d,v,m),l=zu(),n!==null&&!Fr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,ts(n,i,m)):(Tt&&l&&Su(i),i.flags|=1,Sr(n,i,d,m),i.child)}function Vg(n,i,l,d,m){if(n===null){var v=l.type;return typeof v=="function"&&!yf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=v,zg(n,i,v,d,m)):(n=dc(l.type,null,d,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,(n.lanes&m)===0){var S=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ja,l(S,d)&&n.ref===i.ref)return ts(n,i,m)}return i.flags|=1,n=Is(v,d),n.ref=i.ref,n.return=i,i.child=n}function zg(n,i,l,d,m){if(n!==null){var v=n.memoizedProps;if(Ja(v,d)&&n.ref===i.ref)if(Fr=!1,i.pendingProps=d=v,(n.lanes&m)!==0)(n.flags&131072)!==0&&(Fr=!0);else return i.lanes=n.lanes,ts(n,i,m)}return Zu(n,i,l,d,m)}function Ug(n,i,l){var d=i.pendingProps,m=d.children,v=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(ta,Gr),Gr|=l;else{if((l&1073741824)===0)return n=v!==null?v.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,bt(ta,Gr),Gr|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,bt(ta,Gr),Gr|=d}else v!==null?(d=v.baseLanes|l,i.memoizedState=null):d=l,bt(ta,Gr),Gr|=d;return Sr(n,i,m,l),i.child}function Wg(n,i){var l=i.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Zu(n,i,l,d,m){var v=Mr(l)?ii:yr.current;return v=qi(i,v),Zi(i,m),l=Vu(n,i,l,d,v,m),d=zu(),n!==null&&!Fr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,ts(n,i,m)):(Tt&&d&&Su(i),i.flags|=1,Sr(n,i,l,m),i.child)}function qg(n,i,l,d,m){if(Mr(l)){var v=!0;Dl(i)}else v=!1;if(Zi(i,m),i.stateNode===null)Jl(n,i),Ig(i,l,d),Gu(i,l,d,m),d=!0;else if(n===null){var S=i.stateNode,A=i.memoizedProps;S.props=A;var M=S.context,Z=l.contextType;typeof Z=="object"&&Z!==null?Z=nn(Z):(Z=Mr(l)?ii:yr.current,Z=qi(i,Z));var de=l.getDerivedStateFromProps,fe=typeof de=="function"||typeof S.getSnapshotBeforeUpdate=="function";fe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(A!==d||M!==Z)&&Og(i,S,d,Z),ks=!1;var le=i.memoizedState;S.state=le,Wl(i,d,S,m),M=i.memoizedState,A!==d||le!==M||Dr.current||ks?(typeof de=="function"&&(Qu(i,l,de,d),M=i.memoizedState),(A=ks||Rg(i,l,A,d,le,M,Z))?(fe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4194308)):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=M),S.props=d,S.state=M,S.context=Z,d=A):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{S=i.stateNode,og(n,i),A=i.memoizedProps,Z=i.type===i.elementType?A:gn(i.type,A),S.props=Z,fe=i.pendingProps,le=S.context,M=l.contextType,typeof M=="object"&&M!==null?M=nn(M):(M=Mr(l)?ii:yr.current,M=qi(i,M));var Ce=l.getDerivedStateFromProps;(de=typeof Ce=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(A!==fe||le!==M)&&Og(i,S,d,M),ks=!1,le=i.memoizedState,S.state=le,Wl(i,d,S,m);var _e=i.memoizedState;A!==fe||le!==_e||Dr.current||ks?(typeof Ce=="function"&&(Qu(i,l,Ce,d),_e=i.memoizedState),(Z=ks||Rg(i,l,Z,d,le,_e,M)||!1)?(de||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,_e,M),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,_e,M)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof S.componentDidUpdate!="function"||A===n.memoizedProps&&le===n.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&le===n.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=_e),S.props=d,S.state=_e,S.context=M,d=Z):(typeof S.componentDidUpdate!="function"||A===n.memoizedProps&&le===n.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&le===n.memoizedState||(i.flags|=1024),d=!1)}return Xu(n,i,l,d,v,m)}function Xu(n,i,l,d,m,v){Wg(n,i);var S=(i.flags&128)!==0;if(!d&&!S)return m&&Yp(i,l,!1),ts(n,i,v);d=i.stateNode,uC.current=i;var A=S&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,n!==null&&S?(i.child=Hi(i,n.child,null,v),i.child=Hi(i,null,A,v)):Sr(n,i,A,v),i.memoizedState=d.state,m&&Yp(i,l,!0),i.child}function Kg(n){var i=n.stateNode;i.pendingContext?Gp(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Gp(n,i.context,!1),Du(n,i.containerInfo)}function Qg(n,i,l,d,m){return Gi(),Tu(m),i.flags|=256,Sr(n,i,l,d),i.child}var Ju={dehydrated:null,treeContext:null,retryLane:0};function ef(n){return{baseLanes:n,cachePool:null,transitions:null}}function Gg(n,i,l){var d=i.pendingProps,m=_t.current,v=!1,S=(i.flags&128)!==0,A;if((A=S)||(A=n!==null&&n.memoizedState===null?!1:(m&2)!==0),A?(v=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),bt(_t,m&1),n===null)return Pu(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(S=d.children,n=d.fallback,v?(d=i.mode,v=i.child,S={mode:"hidden",children:S},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=uc(S,d,0,null),n=pi(n,d,l,null),v.return=i,n.return=i,v.sibling=n,i.child=v,i.child.memoizedState=ef(l),i.memoizedState=Ju,n):tf(i,S));if(m=n.memoizedState,m!==null&&(A=m.dehydrated,A!==null))return fC(n,i,S,d,A,m,l);if(v){v=d.fallback,S=i.mode,m=n.child,A=m.sibling;var M={mode:"hidden",children:d.children};return(S&1)===0&&i.child!==m?(d=i.child,d.childLanes=0,d.pendingProps=M,i.deletions=null):(d=Is(m,M),d.subtreeFlags=m.subtreeFlags&14680064),A!==null?v=Is(A,v):(v=pi(v,S,l,null),v.flags|=2),v.return=i,d.return=i,d.sibling=v,i.child=d,d=v,v=i.child,S=n.child.memoizedState,S=S===null?ef(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=n.childLanes&~l,i.memoizedState=Ju,d}return v=n.child,n=v.sibling,d=Is(v,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,n!==null&&(l=i.deletions,l===null?(i.deletions=[n],i.flags|=16):l.push(n)),i.child=d,i.memoizedState=null,d}function tf(n,i){return i=uc({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Xl(n,i,l,d){return d!==null&&Tu(d),Hi(i,n.child,null,l),n=tf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function fC(n,i,l,d,m,v,S){if(l)return i.flags&256?(i.flags&=-257,d=Hu(Error(s(422))),Xl(n,i,S,d)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(v=d.fallback,m=i.mode,d=uc({mode:"visible",children:d.children},m,0,null),v=pi(v,m,S,null),v.flags|=2,d.return=i,v.return=i,d.sibling=v,i.child=d,(i.mode&1)!==0&&Hi(i,n.child,null,S),i.child.memoizedState=ef(S),i.memoizedState=Ju,v);if((i.mode&1)===0)return Xl(n,i,S,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var A=d.dgst;return d=A,v=Error(s(419)),d=Hu(v,d,void 0),Xl(n,i,S,d)}if(A=(S&n.childLanes)!==0,Fr||A){if(d=or,d!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|S))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Jn(n,m),yn(d,n,m,-1))}return vf(),d=Hu(Error(s(421))),Xl(n,i,S,d)}return m.data==="$?"?(i.flags|=128,i.child=n.child,i=CC.bind(null,n),m._reactRetry=i,null):(n=v.treeContext,Qr=ws(m.nextSibling),Kr=i,Tt=!0,pn=null,n!==null&&(tn[rn++]=Zn,tn[rn++]=Xn,tn[rn++]=ai,Zn=n.id,Xn=n.overflow,ai=i),i=tf(i,d.children),i.flags|=4096,i)}function Hg(n,i,l){n.lanes|=i;var d=n.alternate;d!==null&&(d.lanes|=i),Ru(n.return,i,l)}function rf(n,i,l,d,m){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=m)}function Yg(n,i,l){var d=i.pendingProps,m=d.revealOrder,v=d.tail;if(Sr(n,i,d.children,l),d=_t.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Hg(n,l,i);else if(n.tag===19)Hg(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(bt(_t,d),(i.mode&1)===0)i.memoizedState=null;else switch(m){case"forwards":for(l=i.child,m=null;l!==null;)n=l.alternate,n!==null&&ql(n)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),rf(i,!1,m,l,v);break;case"backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&ql(n)===null){i.child=m;break}n=m.sibling,m.sibling=l,l=m,m=n}rf(i,!0,l,null,v);break;case"together":rf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Jl(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function ts(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),ui|=i.lanes,(l&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,l=Is(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=Is(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function mC(n,i,l){switch(i.tag){case 3:Kg(i),Gi();break;case 5:dg(i);break;case 1:Mr(i.type)&&Dl(i);break;case 4:Du(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,m=i.memoizedProps.value;bt(Vl,d._currentValue),d._currentValue=m;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(bt(_t,_t.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Gg(n,i,l):(bt(_t,_t.current&1),n=ts(n,i,l),n!==null?n.sibling:null);bt(_t,_t.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(n.flags&128)!==0){if(d)return Yg(n,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),bt(_t,_t.current),d)break;return null;case 22:case 23:return i.lanes=0,Ug(n,i,l)}return ts(n,i,l)}var Zg,nf,Xg,Jg;Zg=function(n,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},nf=function(){},Xg=function(n,i,l,d){var m=n.memoizedProps;if(m!==d){n=i.stateNode,ci(On.current);var v=null;switch(l){case"input":m=tt(n,m),d=tt(n,d),v=[];break;case"select":m=Y({},m,{value:void 0}),d=Y({},d,{value:void 0}),v=[];break;case"textarea":m=J(n,m),d=J(n,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=Rl)}xt(l,d);var S;l=null;for(Z in m)if(!d.hasOwnProperty(Z)&&m.hasOwnProperty(Z)&&m[Z]!=null)if(Z==="style"){var A=m[Z];for(S in A)A.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(o.hasOwnProperty(Z)?v||(v=[]):(v=v||[]).push(Z,null));for(Z in d){var M=d[Z];if(A=m?.[Z],d.hasOwnProperty(Z)&&M!==A&&(M!=null||A!=null))if(Z==="style")if(A){for(S in A)!A.hasOwnProperty(S)||M&&M.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in M)M.hasOwnProperty(S)&&A[S]!==M[S]&&(l||(l={}),l[S]=M[S])}else l||(v||(v=[]),v.push(Z,l)),l=M;else Z==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,A=A?A.__html:void 0,M!=null&&A!==M&&(v=v||[]).push(Z,M)):Z==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(Z,""+M):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(o.hasOwnProperty(Z)?(M!=null&&Z==="onScroll"&&wt("scroll",n),v||A===M||(v=[])):(v=v||[]).push(Z,M))}l&&(v=v||[]).push("style",l);var Z=v;(i.updateQueue=Z)&&(i.flags|=4)}},Jg=function(n,i,l,d){l!==d&&(i.flags|=4)};function po(n,i){if(!Tt)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function jr(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(i)for(var m=n.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=d,n.childLanes=l,i}function hC(n,i,l){var d=i.pendingProps;switch(Cu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(i),null;case 1:return Mr(i.type)&&Ol(),jr(i),null;case 3:return d=i.stateNode,Xi(),Nt(Dr),Nt(yr),Lu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Bl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,pn!==null&&(pf(pn),pn=null))),nf(n,i),jr(i),null;case 5:Mu(i);var m=ci(co.current);if(l=i.type,n!==null&&i.stateNode!=null)Xg(n,i,l,d,m),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(s(166));return jr(i),null}if(n=ci(On.current),Bl(i)){d=i.stateNode,l=i.type;var v=i.memoizedProps;switch(d[In]=i,d[so]=v,n=(i.mode&1)!==0,l){case"dialog":wt("cancel",d),wt("close",d);break;case"iframe":case"object":case"embed":wt("load",d);break;case"video":case"audio":for(m=0;m<to.length;m++)wt(to[m],d);break;case"source":wt("error",d);break;case"img":case"image":case"link":wt("error",d),wt("load",d);break;case"details":wt("toggle",d);break;case"input":Wr(d,v),wt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},wt("invalid",d);break;case"textarea":Ne(d,v),wt("invalid",d)}xt(l,v),m=null;for(var S in v)if(v.hasOwnProperty(S)){var A=v[S];S==="children"?typeof A=="string"?d.textContent!==A&&(v.suppressHydrationWarning!==!0&&Al(d.textContent,A,n),m=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(v.suppressHydrationWarning!==!0&&Al(d.textContent,A,n),m=["children",""+A]):o.hasOwnProperty(S)&&A!=null&&S==="onScroll"&&wt("scroll",d)}switch(l){case"input":dt(d),Fa(d,v,!0);break;case"textarea":dt(d),ce(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Rl)}d=m,i.updateQueue=d,d!==null&&(i.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Oe(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=S.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=S.createElement(l,{is:d.is}):(n=S.createElement(l),l==="select"&&(S=n,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):n=S.createElementNS(n,l),n[In]=i,n[so]=d,Zg(n,i,!1,!1),i.stateNode=n;e:{switch(S=ps(l,d),l){case"dialog":wt("cancel",n),wt("close",n),m=d;break;case"iframe":case"object":case"embed":wt("load",n),m=d;break;case"video":case"audio":for(m=0;m<to.length;m++)wt(to[m],n);m=d;break;case"source":wt("error",n),m=d;break;case"img":case"image":case"link":wt("error",n),wt("load",n),m=d;break;case"details":wt("toggle",n),m=d;break;case"input":Wr(n,d),m=tt(n,d),wt("invalid",n);break;case"option":m=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},m=Y({},d,{value:void 0}),wt("invalid",n);break;case"textarea":Ne(n,d),m=J(n,d),wt("invalid",n);break;default:m=d}xt(l,m),A=m;for(v in A)if(A.hasOwnProperty(v)){var M=A[v];v==="style"?Ye(n,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Zt(n,M)):v==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&en(n,M):typeof M=="number"&&en(n,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?M!=null&&v==="onScroll"&&wt("scroll",n):M!=null&&R(n,v,M,S))}switch(l){case"input":dt(n),Fa(n,d,!1);break;case"textarea":dt(n),ce(n);break;case"option":d.value!=null&&n.setAttribute("value",""+je(d.value));break;case"select":n.multiple=!!d.multiple,v=d.value,v!=null?V(n,!!d.multiple,v,!1):d.defaultValue!=null&&V(n,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=Rl)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return jr(i),null;case 6:if(n&&i.stateNode!=null)Jg(n,i,n.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(s(166));if(l=ci(co.current),ci(On.current),Bl(i)){if(d=i.stateNode,l=i.memoizedProps,d[In]=i,(v=d.nodeValue!==l)&&(n=Kr,n!==null))switch(n.tag){case 3:Al(d.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Al(d.nodeValue,l,(n.mode&1)!==0)}v&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[In]=i,i.stateNode=d}return jr(i),null;case 13:if(Nt(_t),d=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Tt&&Qr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)rg(),Gi(),i.flags|=98560,v=!1;else if(v=Bl(i),d!==null&&d.dehydrated!==null){if(n===null){if(!v)throw Error(s(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[In]=i}else Gi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jr(i),v=!1}else pn!==null&&(pf(pn),pn=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(_t.current&1)!==0?rr===0&&(rr=3):vf())),i.updateQueue!==null&&(i.flags|=4),jr(i),null);case 4:return Xi(),nf(n,i),n===null&&ro(i.stateNode.containerInfo),jr(i),null;case 10:return Au(i.type._context),jr(i),null;case 17:return Mr(i.type)&&Ol(),jr(i),null;case 19:if(Nt(_t),v=i.memoizedState,v===null)return jr(i),null;if(d=(i.flags&128)!==0,S=v.rendering,S===null)if(d)po(v,!1);else{if(rr!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(S=ql(n),S!==null){for(i.flags|=128,po(v,!1),d=S.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)v=l,n=d,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,n=S.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return bt(_t,_t.current&1|2),i.child}n=n.sibling}v.tail!==null&&Ut()>ra&&(i.flags|=128,d=!0,po(v,!1),i.lanes=4194304)}else{if(!d)if(n=ql(S),n!==null){if(i.flags|=128,d=!0,l=n.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),po(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!Tt)return jr(i),null}else 2*Ut()-v.renderingStartTime>ra&&l!==1073741824&&(i.flags|=128,d=!0,po(v,!1),i.lanes=4194304);v.isBackwards?(S.sibling=i.child,i.child=S):(l=v.last,l!==null?l.sibling=S:i.child=S,v.last=S)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=Ut(),i.sibling=null,l=_t.current,bt(_t,d?l&1|2:l&1),i):(jr(i),null);case 22:case 23:return xf(),d=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Gr&1073741824)!==0&&(jr(i),i.subtreeFlags&6&&(i.flags|=8192)):jr(i),null;case 24:return null;case 25:return null}throw Error(s(156,i.tag))}function pC(n,i){switch(Cu(i),i.tag){case 1:return Mr(i.type)&&Ol(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Xi(),Nt(Dr),Nt(yr),Lu(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return Mu(i),null;case 13:if(Nt(_t),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Gi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Nt(_t),null;case 4:return Xi(),null;case 10:return Au(i.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var ec=!1,wr=!1,gC=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function ea(n,i){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Dt(n,i,d)}else l.current=null}function sf(n,i,l){try{l()}catch(d){Dt(n,i,d)}}var ex=!1;function xC(n,i){if(gu=bl,n=Rp(),lu(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var S=0,A=-1,M=-1,Z=0,de=0,fe=n,le=null;t:for(;;){for(var Ce;fe!==l||m!==0&&fe.nodeType!==3||(A=S+m),fe!==v||d!==0&&fe.nodeType!==3||(M=S+d),fe.nodeType===3&&(S+=fe.nodeValue.length),(Ce=fe.firstChild)!==null;)le=fe,fe=Ce;for(;;){if(fe===n)break t;if(le===l&&++Z===m&&(A=S),le===v&&++de===d&&(M=S),(Ce=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=Ce}l=A===-1||M===-1?null:{start:A,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(xu={focusedElem:n,selectionRange:l},bl=!1,Pe=i;Pe!==null;)if(i=Pe,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Pe=n;else for(;Pe!==null;){i=Pe;try{var _e=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var De=_e.memoizedProps,Wt=_e.memoizedState,W=i.stateNode,L=W.getSnapshotBeforeUpdate(i.elementType===i.type?De:gn(i.type,De),Wt);W.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var Q=i.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ve){Dt(i,i.return,ve)}if(n=i.sibling,n!==null){n.return=i.return,Pe=n;break}Pe=i.return}return _e=ex,ex=!1,_e}function go(n,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&n)===n){var v=m.destroy;m.destroy=void 0,v!==void 0&&sf(i,l,v)}m=m.next}while(m!==d)}}function tc(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&n)===n){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function af(n){var i=n.ref;if(i!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof i=="function"?i(n):i.current=n}}function tx(n){var i=n.alternate;i!==null&&(n.alternate=null,tx(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[In],delete i[so],delete i[ju],delete i[JS],delete i[eC])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function rx(n){return n.tag===5||n.tag===3||n.tag===4}function nx(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rx(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function of(n,i,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(n,i):l.insertBefore(n,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(n,l)):(i=l,i.appendChild(n)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Rl));else if(d!==4&&(n=n.child,n!==null))for(of(n,i,l),n=n.sibling;n!==null;)of(n,i,l),n=n.sibling}function lf(n,i,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(lf(n,i,l),n=n.sibling;n!==null;)lf(n,i,l),n=n.sibling}var gr=null,xn=!1;function Ts(n,i,l){for(l=l.child;l!==null;)sx(n,i,l),l=l.sibling}function sx(n,i,l){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(hl,l)}catch{}switch(l.tag){case 5:wr||ea(l,i);case 6:var d=gr,m=xn;gr=null,Ts(n,i,l),gr=d,xn=m,gr!==null&&(xn?(n=gr,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):gr.removeChild(l.stateNode));break;case 18:gr!==null&&(xn?(n=gr,l=l.stateNode,n.nodeType===8?bu(n.parentNode,l):n.nodeType===1&&bu(n,l),Qa(n)):bu(gr,l.stateNode));break;case 4:d=gr,m=xn,gr=l.stateNode.containerInfo,xn=!0,Ts(n,i,l),gr=d,xn=m;break;case 0:case 11:case 14:case 15:if(!wr&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&sf(l,i,S),m=m.next}while(m!==d)}Ts(n,i,l);break;case 1:if(!wr&&(ea(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(A){Dt(l,i,A)}Ts(n,i,l);break;case 21:Ts(n,i,l);break;case 22:l.mode&1?(wr=(d=wr)||l.memoizedState!==null,Ts(n,i,l),wr=d):Ts(n,i,l);break;default:Ts(n,i,l)}}function ix(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new gC),i.forEach(function(d){var m=kC.bind(null,n,d);l.has(d)||(l.add(d),d.then(m,m))})}}function vn(n,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var v=n,S=i,A=S;e:for(;A!==null;){switch(A.tag){case 5:gr=A.stateNode,xn=!1;break e;case 3:gr=A.stateNode.containerInfo,xn=!0;break e;case 4:gr=A.stateNode.containerInfo,xn=!0;break e}A=A.return}if(gr===null)throw Error(s(160));sx(v,S,m),gr=null,xn=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(Z){Dt(m,i,Z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ax(i,n),i=i.sibling}function ax(n,i){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(vn(i,n),Mn(n),d&4){try{go(3,n,n.return),tc(3,n)}catch(De){Dt(n,n.return,De)}try{go(5,n,n.return)}catch(De){Dt(n,n.return,De)}}break;case 1:vn(i,n),Mn(n),d&512&&l!==null&&ea(l,l.return);break;case 5:if(vn(i,n),Mn(n),d&512&&l!==null&&ea(l,l.return),n.flags&32){var m=n.stateNode;try{en(m,"")}catch(De){Dt(n,n.return,De)}}if(d&4&&(m=n.stateNode,m!=null)){var v=n.memoizedProps,S=l!==null?l.memoizedProps:v,A=n.type,M=n.updateQueue;if(n.updateQueue=null,M!==null)try{A==="input"&&v.type==="radio"&&v.name!=null&&Jr(m,v),ps(A,S);var Z=ps(A,v);for(S=0;S<M.length;S+=2){var de=M[S],fe=M[S+1];de==="style"?Ye(m,fe):de==="dangerouslySetInnerHTML"?Zt(m,fe):de==="children"?en(m,fe):R(m,de,fe,Z)}switch(A){case"input":fn(m,v);break;case"textarea":be(m,v);break;case"select":var le=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var Ce=v.value;Ce!=null?V(m,!!v.multiple,Ce,!1):le!==!!v.multiple&&(v.defaultValue!=null?V(m,!!v.multiple,v.defaultValue,!0):V(m,!!v.multiple,v.multiple?[]:"",!1))}m[so]=v}catch(De){Dt(n,n.return,De)}}break;case 6:if(vn(i,n),Mn(n),d&4){if(n.stateNode===null)throw Error(s(162));m=n.stateNode,v=n.memoizedProps;try{m.nodeValue=v}catch(De){Dt(n,n.return,De)}}break;case 3:if(vn(i,n),Mn(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(De){Dt(n,n.return,De)}break;case 4:vn(i,n),Mn(n);break;case 13:vn(i,n),Mn(n),m=n.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(uf=Ut())),d&4&&ix(n);break;case 22:if(de=l!==null&&l.memoizedState!==null,n.mode&1?(wr=(Z=wr)||de,vn(i,n),wr=Z):vn(i,n),Mn(n),d&8192){if(Z=n.memoizedState!==null,(n.stateNode.isHidden=Z)&&!de&&(n.mode&1)!==0)for(Pe=n,de=n.child;de!==null;){for(fe=Pe=de;Pe!==null;){switch(le=Pe,Ce=le.child,le.tag){case 0:case 11:case 14:case 15:go(4,le,le.return);break;case 1:ea(le,le.return);var _e=le.stateNode;if(typeof _e.componentWillUnmount=="function"){d=le,l=le.return;try{i=d,_e.props=i.memoizedProps,_e.state=i.memoizedState,_e.componentWillUnmount()}catch(De){Dt(d,l,De)}}break;case 5:ea(le,le.return);break;case 22:if(le.memoizedState!==null){cx(fe);continue}}Ce!==null?(Ce.return=le,Pe=Ce):cx(fe)}de=de.sibling}e:for(de=null,fe=n;;){if(fe.tag===5){if(de===null){de=fe;try{m=fe.stateNode,Z?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(A=fe.stateNode,M=fe.memoizedProps.style,S=M!=null&&M.hasOwnProperty("display")?M.display:null,A.style.display=ye("display",S))}catch(De){Dt(n,n.return,De)}}}else if(fe.tag===6){if(de===null)try{fe.stateNode.nodeValue=Z?"":fe.memoizedProps}catch(De){Dt(n,n.return,De)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===n)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===n)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===n)break e;de===fe&&(de=null),fe=fe.return}de===fe&&(de=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:vn(i,n),Mn(n),d&4&&ix(n);break;case 21:break;default:vn(i,n),Mn(n)}}function Mn(n){var i=n.flags;if(i&2){try{e:{for(var l=n.return;l!==null;){if(rx(l)){var d=l;break e}l=l.return}throw Error(s(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(en(m,""),d.flags&=-33);var v=nx(n);lf(n,v,m);break;case 3:case 4:var S=d.stateNode.containerInfo,A=nx(n);of(n,A,S);break;default:throw Error(s(161))}}catch(M){Dt(n,n.return,M)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function vC(n,i,l){Pe=n,ox(n)}function ox(n,i,l){for(var d=(n.mode&1)!==0;Pe!==null;){var m=Pe,v=m.child;if(m.tag===22&&d){var S=m.memoizedState!==null||ec;if(!S){var A=m.alternate,M=A!==null&&A.memoizedState!==null||wr;A=ec;var Z=wr;if(ec=S,(wr=M)&&!Z)for(Pe=m;Pe!==null;)S=Pe,M=S.child,S.tag===22&&S.memoizedState!==null?dx(m):M!==null?(M.return=S,Pe=M):dx(m);for(;v!==null;)Pe=v,ox(v),v=v.sibling;Pe=m,ec=A,wr=Z}lx(n)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Pe=v):lx(n)}}function lx(n){for(;Pe!==null;){var i=Pe;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:wr||tc(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!wr)if(l===null)d.componentDidMount();else{var m=i.elementType===i.type?l.memoizedProps:gn(i.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&cg(i,v,d);break;case 3:var S=i.updateQueue;if(S!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}cg(i,S,l)}break;case 5:var A=i.stateNode;if(l===null&&i.flags&4){l=A;var M=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Z=i.alternate;if(Z!==null){var de=Z.memoizedState;if(de!==null){var fe=de.dehydrated;fe!==null&&Qa(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}wr||i.flags&512&&af(i)}catch(le){Dt(i,i.return,le)}}if(i===n){Pe=null;break}if(l=i.sibling,l!==null){l.return=i.return,Pe=l;break}Pe=i.return}}function cx(n){for(;Pe!==null;){var i=Pe;if(i===n){Pe=null;break}var l=i.sibling;if(l!==null){l.return=i.return,Pe=l;break}Pe=i.return}}function dx(n){for(;Pe!==null;){var i=Pe;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{tc(4,i)}catch(M){Dt(i,l,M)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var m=i.return;try{d.componentDidMount()}catch(M){Dt(i,m,M)}}var v=i.return;try{af(i)}catch(M){Dt(i,v,M)}break;case 5:var S=i.return;try{af(i)}catch(M){Dt(i,S,M)}}}catch(M){Dt(i,i.return,M)}if(i===n){Pe=null;break}var A=i.sibling;if(A!==null){A.return=i.return,Pe=A;break}Pe=i.return}}var yC=Math.ceil,rc=F.ReactCurrentDispatcher,cf=F.ReactCurrentOwner,an=F.ReactCurrentBatchConfig,mt=0,or=null,Xt=null,xr=0,Gr=0,ta=Ns(0),rr=0,xo=null,ui=0,nc=0,df=0,vo=null,Lr=null,uf=0,ra=1/0,rs=null,sc=!1,ff=null,Es=null,ic=!1,_s=null,ac=0,yo=0,mf=null,oc=-1,lc=0;function Cr(){return(mt&6)!==0?Ut():oc!==-1?oc:oc=Ut()}function As(n){return(n.mode&1)===0?1:(mt&2)!==0&&xr!==0?xr&-xr:rC.transition!==null?(lc===0&&(lc=np()),lc):(n=vt,n!==0||(n=window.event,n=n===void 0?16:fp(n.type)),n)}function yn(n,i,l,d){if(50<yo)throw yo=0,mf=null,Error(s(185));za(n,l,d),((mt&2)===0||n!==or)&&(n===or&&((mt&2)===0&&(nc|=l),rr===4&&Rs(n,xr)),Br(n,d),l===1&&mt===0&&(i.mode&1)===0&&(ra=Ut()+500,Ml&&Cs()))}function Br(n,i){var l=n.callbackNode;rS(n,i);var d=xl(n,n===or?xr:0);if(d===0)l!==null&&ep(l),n.callbackNode=null,n.callbackPriority=0;else if(i=d&-d,n.callbackPriority!==i){if(l!=null&&ep(l),i===1)n.tag===0?tC(fx.bind(null,n)):Zp(fx.bind(null,n)),ZS(function(){(mt&6)===0&&Cs()}),l=null;else{switch(sp(d)){case 1:l=qd;break;case 4:l=tp;break;case 16:l=ml;break;case 536870912:l=rp;break;default:l=ml}l=bx(l,ux.bind(null,n))}n.callbackPriority=i,n.callbackNode=l}}function ux(n,i){if(oc=-1,lc=0,(mt&6)!==0)throw Error(s(327));var l=n.callbackNode;if(na()&&n.callbackNode!==l)return null;var d=xl(n,n===or?xr:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||i)i=cc(n,d);else{i=d;var m=mt;mt|=2;var v=hx();(or!==n||xr!==i)&&(rs=null,ra=Ut()+500,mi(n,i));do try{wC();break}catch(A){mx(n,A)}while(!0);_u(),rc.current=v,mt=m,Xt!==null?i=0:(or=null,xr=0,i=rr)}if(i!==0){if(i===2&&(m=Kd(n),m!==0&&(d=m,i=hf(n,m))),i===1)throw l=xo,mi(n,0),Rs(n,d),Br(n,Ut()),l;if(i===6)Rs(n,d);else{if(m=n.current.alternate,(d&30)===0&&!bC(m)&&(i=cc(n,d),i===2&&(v=Kd(n),v!==0&&(d=v,i=hf(n,v))),i===1))throw l=xo,mi(n,0),Rs(n,d),Br(n,Ut()),l;switch(n.finishedWork=m,n.finishedLanes=d,i){case 0:case 1:throw Error(s(345));case 2:hi(n,Lr,rs);break;case 3:if(Rs(n,d),(d&130023424)===d&&(i=uf+500-Ut(),10<i)){if(xl(n,0)!==0)break;if(m=n.suspendedLanes,(m&d)!==d){Cr(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=yu(hi.bind(null,n,Lr,rs),i);break}hi(n,Lr,rs);break;case 4:if(Rs(n,d),(d&4194240)===d)break;for(i=n.eventTimes,m=-1;0<d;){var S=31-mn(d);v=1<<S,S=i[S],S>m&&(m=S),d&=~v}if(d=m,d=Ut()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*yC(d/1960))-d,10<d){n.timeoutHandle=yu(hi.bind(null,n,Lr,rs),d);break}hi(n,Lr,rs);break;case 5:hi(n,Lr,rs);break;default:throw Error(s(329))}}}return Br(n,Ut()),n.callbackNode===l?ux.bind(null,n):null}function hf(n,i){var l=vo;return n.current.memoizedState.isDehydrated&&(mi(n,i).flags|=256),n=cc(n,i),n!==2&&(i=Lr,Lr=l,i!==null&&pf(i)),n}function pf(n){Lr===null?Lr=n:Lr.push.apply(Lr,n)}function bC(n){for(var i=n;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],v=m.getSnapshot;m=m.value;try{if(!hn(v(),m))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rs(n,i){for(i&=~df,i&=~nc,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var l=31-mn(i),d=1<<l;n[l]=-1,i&=~d}}function fx(n){if((mt&6)!==0)throw Error(s(327));na();var i=xl(n,0);if((i&1)===0)return Br(n,Ut()),null;var l=cc(n,i);if(n.tag!==0&&l===2){var d=Kd(n);d!==0&&(i=d,l=hf(n,d))}if(l===1)throw l=xo,mi(n,0),Rs(n,i),Br(n,Ut()),l;if(l===6)throw Error(s(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,hi(n,Lr,rs),Br(n,Ut()),null}function gf(n,i){var l=mt;mt|=1;try{return n(i)}finally{mt=l,mt===0&&(ra=Ut()+500,Ml&&Cs())}}function fi(n){_s!==null&&_s.tag===0&&(mt&6)===0&&na();var i=mt;mt|=1;var l=an.transition,d=vt;try{if(an.transition=null,vt=1,n)return n()}finally{vt=d,an.transition=l,mt=i,(mt&6)===0&&Cs()}}function xf(){Gr=ta.current,Nt(ta)}function mi(n,i){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,YS(l)),Xt!==null)for(l=Xt.return;l!==null;){var d=l;switch(Cu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ol();break;case 3:Xi(),Nt(Dr),Nt(yr),Lu();break;case 5:Mu(d);break;case 4:Xi();break;case 13:Nt(_t);break;case 19:Nt(_t);break;case 10:Au(d.type._context);break;case 22:case 23:xf()}l=l.return}if(or=n,Xt=n=Is(n.current,null),xr=Gr=i,rr=0,xo=null,df=nc=ui=0,Lr=vo=null,li!==null){for(i=0;i<li.length;i++)if(l=li[i],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,v=l.pending;if(v!==null){var S=v.next;v.next=m,d.next=S}l.pending=d}li=null}return n}function mx(n,i){do{var l=Xt;try{if(_u(),Kl.current=Yl,Ql){for(var d=At.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Ql=!1}if(di=0,ar=tr=At=null,uo=!1,fo=0,cf.current=null,l===null||l.return===null){rr=1,xo=i,Xt=null;break}e:{var v=n,S=l.return,A=l,M=i;if(i=xr,A.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=M,de=A,fe=de.tag;if((de.mode&1)===0&&(fe===0||fe===11||fe===15)){var le=de.alternate;le?(de.updateQueue=le.updateQueue,de.memoizedState=le.memoizedState,de.lanes=le.lanes):(de.updateQueue=null,de.memoizedState=null)}var Ce=Lg(S);if(Ce!==null){Ce.flags&=-257,Bg(Ce,S,A,v,i),Ce.mode&1&&Fg(v,Z,i),i=Ce,M=Z;var _e=i.updateQueue;if(_e===null){var De=new Set;De.add(M),i.updateQueue=De}else _e.add(M);break e}else{if((i&1)===0){Fg(v,Z,i),vf();break e}M=Error(s(426))}}else if(Tt&&A.mode&1){var Wt=Lg(S);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),Bg(Wt,S,A,v,i),Tu(Ji(M,A));break e}}v=M=Ji(M,A),rr!==4&&(rr=2),vo===null?vo=[v]:vo.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var W=Dg(v,M,i);lg(v,W);break e;case 1:A=M;var L=v.type,Q=v.stateNode;if((v.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Es===null||!Es.has(Q)))){v.flags|=65536,i&=-i,v.lanes|=i;var ve=Mg(v,A,i);lg(v,ve);break e}}v=v.return}while(v!==null)}gx(l)}catch(Le){i=Le,Xt===l&&l!==null&&(Xt=l=l.return);continue}break}while(!0)}function hx(){var n=rc.current;return rc.current=Yl,n===null?Yl:n}function vf(){(rr===0||rr===3||rr===2)&&(rr=4),or===null||(ui&268435455)===0&&(nc&268435455)===0||Rs(or,xr)}function cc(n,i){var l=mt;mt|=2;var d=hx();(or!==n||xr!==i)&&(rs=null,mi(n,i));do try{jC();break}catch(m){mx(n,m)}while(!0);if(_u(),mt=l,rc.current=d,Xt!==null)throw Error(s(261));return or=null,xr=0,rr}function jC(){for(;Xt!==null;)px(Xt)}function wC(){for(;Xt!==null&&!QN();)px(Xt)}function px(n){var i=yx(n.alternate,n,Gr);n.memoizedProps=n.pendingProps,i===null?gx(n):Xt=i,cf.current=null}function gx(n){var i=n;do{var l=i.alternate;if(n=i.return,(i.flags&32768)===0){if(l=hC(l,i,Gr),l!==null){Xt=l;return}}else{if(l=pC(l,i),l!==null){l.flags&=32767,Xt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{rr=6,Xt=null;return}}if(i=i.sibling,i!==null){Xt=i;return}Xt=i=n}while(i!==null);rr===0&&(rr=5)}function hi(n,i,l){var d=vt,m=an.transition;try{an.transition=null,vt=1,NC(n,i,l,d)}finally{an.transition=m,vt=d}return null}function NC(n,i,l,d){do na();while(_s!==null);if((mt&6)!==0)throw Error(s(327));l=n.finishedWork;var m=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0;var v=l.lanes|l.childLanes;if(nS(n,v),n===or&&(Xt=or=null,xr=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ic||(ic=!0,bx(ml,function(){return na(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=an.transition,an.transition=null;var S=vt;vt=1;var A=mt;mt|=4,cf.current=null,xC(n,l),ax(l,n),US(xu),bl=!!gu,xu=gu=null,n.current=l,vC(l),GN(),mt=A,vt=S,an.transition=v}else n.current=l;if(ic&&(ic=!1,_s=n,ac=m),v=n.pendingLanes,v===0&&(Es=null),ZN(l.stateNode),Br(n,Ut()),i!==null)for(d=n.onRecoverableError,l=0;l<i.length;l++)m=i[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(sc)throw sc=!1,n=ff,ff=null,n;return(ac&1)!==0&&n.tag!==0&&na(),v=n.pendingLanes,(v&1)!==0?n===mf?yo++:(yo=0,mf=n):yo=0,Cs(),null}function na(){if(_s!==null){var n=sp(ac),i=an.transition,l=vt;try{if(an.transition=null,vt=16>n?16:n,_s===null)var d=!1;else{if(n=_s,_s=null,ac=0,(mt&6)!==0)throw Error(s(331));var m=mt;for(mt|=4,Pe=n.current;Pe!==null;){var v=Pe,S=v.child;if((Pe.flags&16)!==0){var A=v.deletions;if(A!==null){for(var M=0;M<A.length;M++){var Z=A[M];for(Pe=Z;Pe!==null;){var de=Pe;switch(de.tag){case 0:case 11:case 15:go(8,de,v)}var fe=de.child;if(fe!==null)fe.return=de,Pe=fe;else for(;Pe!==null;){de=Pe;var le=de.sibling,Ce=de.return;if(tx(de),de===Z){Pe=null;break}if(le!==null){le.return=Ce,Pe=le;break}Pe=Ce}}}var _e=v.alternate;if(_e!==null){var De=_e.child;if(De!==null){_e.child=null;do{var Wt=De.sibling;De.sibling=null,De=Wt}while(De!==null)}}Pe=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,Pe=S;else e:for(;Pe!==null;){if(v=Pe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:go(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,Pe=W;break e}Pe=v.return}}var L=n.current;for(Pe=L;Pe!==null;){S=Pe;var Q=S.child;if((S.subtreeFlags&2064)!==0&&Q!==null)Q.return=S,Pe=Q;else e:for(S=L;Pe!==null;){if(A=Pe,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:tc(9,A)}}catch(Le){Dt(A,A.return,Le)}if(A===S){Pe=null;break e}var ve=A.sibling;if(ve!==null){ve.return=A.return,Pe=ve;break e}Pe=A.return}}if(mt=m,Cs(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(hl,n)}catch{}d=!0}return d}finally{vt=l,an.transition=i}}return!1}function xx(n,i,l){i=Ji(l,i),i=Dg(n,i,1),n=Ps(n,i,1),i=Cr(),n!==null&&(za(n,1,i),Br(n,i))}function Dt(n,i,l){if(n.tag===3)xx(n,n,l);else for(;i!==null;){if(i.tag===3){xx(i,n,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Es===null||!Es.has(d))){n=Ji(l,n),n=Mg(i,n,1),i=Ps(i,n,1),n=Cr(),i!==null&&(za(i,1,n),Br(i,n));break}}i=i.return}}function SC(n,i,l){var d=n.pingCache;d!==null&&d.delete(i),i=Cr(),n.pingedLanes|=n.suspendedLanes&l,or===n&&(xr&l)===l&&(rr===4||rr===3&&(xr&130023424)===xr&&500>Ut()-uf?mi(n,0):df|=l),Br(n,i)}function vx(n,i){i===0&&((n.mode&1)===0?i=1:(i=gl,gl<<=1,(gl&130023424)===0&&(gl=4194304)));var l=Cr();n=Jn(n,i),n!==null&&(za(n,i,l),Br(n,l))}function CC(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),vx(n,l)}function kC(n,i){var l=0;switch(n.tag){case 13:var d=n.stateNode,m=n.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(s(314))}d!==null&&d.delete(i),vx(n,l)}var yx;yx=function(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps||Dr.current)Fr=!0;else{if((n.lanes&l)===0&&(i.flags&128)===0)return Fr=!1,mC(n,i,l);Fr=(n.flags&131072)!==0}else Fr=!1,Tt&&(i.flags&1048576)!==0&&Xp(i,Ll,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Jl(n,i),n=i.pendingProps;var m=qi(i,yr.current);Zi(i,l),m=Vu(null,i,d,n,m,l);var v=zu();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Mr(d)?(v=!0,Dl(i)):v=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Ou(i),m.updater=Zl,i.stateNode=m,m._reactInternals=i,Gu(i,d,n,l),i=Xu(null,i,d,!0,v,l)):(i.tag=0,Tt&&v&&Su(i),Sr(null,i,m,l),i=i.child),i;case 16:d=i.elementType;e:{switch(Jl(n,i),n=i.pendingProps,m=d._init,d=m(d._payload),i.type=d,m=i.tag=TC(d),n=gn(d,n),m){case 0:i=Zu(null,i,d,n,l);break e;case 1:i=qg(null,i,d,n,l);break e;case 11:i=$g(null,i,d,n,l);break e;case 14:i=Vg(null,i,d,gn(d.type,n),l);break e}throw Error(s(306,d,""))}return i;case 0:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:gn(d,m),Zu(n,i,d,m,l);case 1:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:gn(d,m),qg(n,i,d,m,l);case 3:e:{if(Kg(i),n===null)throw Error(s(387));d=i.pendingProps,v=i.memoizedState,m=v.element,og(n,i),Wl(i,d,null,l);var S=i.memoizedState;if(d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){m=Ji(Error(s(423)),i),i=Qg(n,i,d,l,m);break e}else if(d!==m){m=Ji(Error(s(424)),i),i=Qg(n,i,d,l,m);break e}else for(Qr=ws(i.stateNode.containerInfo.firstChild),Kr=i,Tt=!0,pn=null,l=ig(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Gi(),d===m){i=ts(n,i,l);break e}Sr(n,i,d,l)}i=i.child}return i;case 5:return dg(i),n===null&&Pu(i),d=i.type,m=i.pendingProps,v=n!==null?n.memoizedProps:null,S=m.children,vu(d,m)?S=null:v!==null&&vu(d,v)&&(i.flags|=32),Wg(n,i),Sr(n,i,S,l),i.child;case 6:return n===null&&Pu(i),null;case 13:return Gg(n,i,l);case 4:return Du(i,i.stateNode.containerInfo),d=i.pendingProps,n===null?i.child=Hi(i,null,d,l):Sr(n,i,d,l),i.child;case 11:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:gn(d,m),$g(n,i,d,m,l);case 7:return Sr(n,i,i.pendingProps,l),i.child;case 8:return Sr(n,i,i.pendingProps.children,l),i.child;case 12:return Sr(n,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,m=i.pendingProps,v=i.memoizedProps,S=m.value,bt(Vl,d._currentValue),d._currentValue=S,v!==null)if(hn(v.value,S)){if(v.children===m.children&&!Dr.current){i=ts(n,i,l);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var A=v.dependencies;if(A!==null){S=v.child;for(var M=A.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=es(-1,l&-l),M.tag=2;var Z=v.updateQueue;if(Z!==null){Z=Z.shared;var de=Z.pending;de===null?M.next=M:(M.next=de.next,de.next=M),Z.pending=M}}v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),Ru(v.return,l,i),A.lanes|=l;break}M=M.next}}else if(v.tag===10)S=v.type===i.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(s(341));S.lanes|=l,A=S.alternate,A!==null&&(A.lanes|=l),Ru(S,l,i),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===i){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}Sr(n,i,m.children,l),i=i.child}return i;case 9:return m=i.type,d=i.pendingProps.children,Zi(i,l),m=nn(m),d=d(m),i.flags|=1,Sr(n,i,d,l),i.child;case 14:return d=i.type,m=gn(d,i.pendingProps),m=gn(d.type,m),Vg(n,i,d,m,l);case 15:return zg(n,i,i.type,i.pendingProps,l);case 17:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:gn(d,m),Jl(n,i),i.tag=1,Mr(d)?(n=!0,Dl(i)):n=!1,Zi(i,l),Ig(i,d,m),Gu(i,d,m,l),Xu(null,i,d,!0,n,l);case 19:return Yg(n,i,l);case 22:return Ug(n,i,l)}throw Error(s(156,i.tag))};function bx(n,i){return Jh(n,i)}function PC(n,i,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(n,i,l,d){return new PC(n,i,l,d)}function yf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function TC(n){if(typeof n=="function")return yf(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ee)return 11;if(n===ge)return 14}return 2}function Is(n,i){var l=n.alternate;return l===null?(l=on(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function dc(n,i,l,d,m,v){var S=2;if(d=n,typeof n=="function")yf(n)&&(S=1);else if(typeof n=="string")S=5;else e:switch(n){case K:return pi(l.children,m,v,i);case te:S=8,m|=8;break;case xe:return n=on(12,l,i,m|2),n.elementType=xe,n.lanes=v,n;case ie:return n=on(13,l,i,m),n.elementType=ie,n.lanes=v,n;case H:return n=on(19,l,i,m),n.elementType=H,n.lanes=v,n;case q:return uc(l,m,v,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case he:S=10;break e;case pe:S=9;break e;case ee:S=11;break e;case ge:S=14;break e;case G:S=16,d=null;break e}throw Error(s(130,n==null?n:typeof n,""))}return i=on(S,l,i,m),i.elementType=n,i.type=d,i.lanes=v,i}function pi(n,i,l,d){return n=on(7,n,d,i),n.lanes=l,n}function uc(n,i,l,d){return n=on(22,n,d,i),n.elementType=q,n.lanes=l,n.stateNode={isHidden:!1},n}function bf(n,i,l){return n=on(6,n,null,i),n.lanes=l,n}function jf(n,i,l){return i=on(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function EC(n,i,l,d,m){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qd(0),this.expirationTimes=Qd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qd(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function wf(n,i,l,d,m,v,S,A,M){return n=new EC(n,i,l,A,M),i===1?(i=1,v===!0&&(i|=8)):i=0,v=on(3,null,null,i),n.current=v,v.stateNode=n,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ou(v),n}function _C(n,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:d==null?null:""+d,children:n,containerInfo:i,implementation:l}}function jx(n){if(!n)return Ss;n=n._reactInternals;e:{if(ni(n)!==n||n.tag!==1)throw Error(s(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Mr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(s(171))}if(n.tag===1){var l=n.type;if(Mr(l))return Hp(n,l,i)}return i}function wx(n,i,l,d,m,v,S,A,M){return n=wf(l,d,!0,n,m,v,S,A,M),n.context=jx(null),l=n.current,d=Cr(),m=As(l),v=es(d,m),v.callback=i??null,Ps(l,v,m),n.current.lanes=m,za(n,m,d),Br(n,d),n}function fc(n,i,l,d){var m=i.current,v=Cr(),S=As(m);return l=jx(l),i.context===null?i.context=l:i.pendingContext=l,i=es(v,S),i.payload={element:n},d=d===void 0?null:d,d!==null&&(i.callback=d),n=Ps(m,i,S),n!==null&&(yn(n,m,S,v),Ul(n,m,S)),S}function mc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Nx(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function Nf(n,i){Nx(n,i),(n=n.alternate)&&Nx(n,i)}function AC(){return null}var Sx=typeof reportError=="function"?reportError:function(n){console.error(n)};function Sf(n){this._internalRoot=n}hc.prototype.render=Sf.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));fc(n,i,null,null)},hc.prototype.unmount=Sf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;fi(function(){fc(null,n,null,null)}),i[Hn]=null}};function hc(n){this._internalRoot=n}hc.prototype.unstable_scheduleHydration=function(n){if(n){var i=op();n={blockedOn:null,target:n,priority:i};for(var l=0;l<ys.length&&i!==0&&i<ys[l].priority;l++);ys.splice(l,0,n),l===0&&dp(n)}};function Cf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function pc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Cx(){}function RC(n,i,l,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var Z=mc(S);v.call(Z)}}var S=wx(i,d,n,0,null,!1,!1,"",Cx);return n._reactRootContainer=S,n[Hn]=S.current,ro(n.nodeType===8?n.parentNode:n),fi(),S}for(;m=n.lastChild;)n.removeChild(m);if(typeof d=="function"){var A=d;d=function(){var Z=mc(M);A.call(Z)}}var M=wf(n,0,!1,null,null,!1,!1,"",Cx);return n._reactRootContainer=M,n[Hn]=M.current,ro(n.nodeType===8?n.parentNode:n),fi(function(){fc(i,M,l,d)}),M}function gc(n,i,l,d,m){var v=l._reactRootContainer;if(v){var S=v;if(typeof m=="function"){var A=m;m=function(){var M=mc(S);A.call(M)}}fc(i,S,n,m)}else S=RC(l,i,n,m,d);return mc(S)}ip=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var l=Va(i.pendingLanes);l!==0&&(Gd(i,l|1),Br(i,Ut()),(mt&6)===0&&(ra=Ut()+500,Cs()))}break;case 13:fi(function(){var d=Jn(n,1);if(d!==null){var m=Cr();yn(d,n,1,m)}}),Nf(n,1)}},Hd=function(n){if(n.tag===13){var i=Jn(n,134217728);if(i!==null){var l=Cr();yn(i,n,134217728,l)}Nf(n,134217728)}},ap=function(n){if(n.tag===13){var i=As(n),l=Jn(n,i);if(l!==null){var d=Cr();yn(l,n,i,d)}Nf(n,i)}},op=function(){return vt},lp=function(n,i){var l=vt;try{return vt=n,i()}finally{vt=l}},Vd=function(n,i,l){switch(i){case"input":if(fn(n,l),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==n&&d.form===n.form){var m=Il(d);if(!m)throw Error(s(90));ft(d),fn(d,m)}}}break;case"textarea":be(n,l);break;case"select":i=l.value,i!=null&&V(n,!!l.multiple,i,!1)}},Kh=gf,Qh=fi;var IC={usingClientEntryPoint:!1,Events:[io,Ui,Il,Wh,qh,gf]},bo={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OC={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Zh(n),n===null?null:n.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||AC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{hl=xc.inject(OC),Rn=xc}catch{}}return $r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IC,$r.createPortal=function(n,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cf(i))throw Error(s(200));return _C(n,i,null,l)},$r.createRoot=function(n,i){if(!Cf(n))throw Error(s(299));var l=!1,d="",m=Sx;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=wf(n,1,!1,null,null,l,!1,d,m),n[Hn]=i.current,ro(n.nodeType===8?n.parentNode:n),new Sf(i)},$r.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=Zh(i),n=n===null?null:n.stateNode,n},$r.flushSync=function(n){return fi(n)},$r.hydrate=function(n,i,l){if(!pc(i))throw Error(s(200));return gc(null,n,i,!0,l)},$r.hydrateRoot=function(n,i,l){if(!Cf(n))throw Error(s(405));var d=l!=null&&l.hydratedSources||null,m=!1,v="",S=Sx;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),i=wx(i,null,n,1,l??null,m,!1,v,S),n[Hn]=i.current,ro(n),d)for(n=0;n<d.length;n++)l=d[n],m=l._getVersion,m=m(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,m]:i.mutableSourceEagerHydrationData.push(l,m);return new hc(i)},$r.render=function(n,i,l){if(!pc(i))throw Error(s(200));return gc(null,n,i,!1,l)},$r.unmountComponentAtNode=function(n){if(!pc(n))throw Error(s(40));return n._reactRootContainer?(fi(function(){gc(null,null,n,!1,function(){n._reactRootContainer=null,n[Hn]=null})}),!0):!1},$r.unstable_batchedUpdates=gf,$r.unstable_renderSubtreeIntoContainer=function(n,i,l,d){if(!pc(l))throw Error(s(200));if(n==null||n._reactInternals===void 0)throw Error(s(38));return gc(n,i,l,!1,d)},$r.version="18.3.1-next-f1338f8080-20240426",$r}var Ix;function my(){if(Ix)return Tf.exports;Ix=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Tf.exports=zC(),Tf.exports}var Ox;function UC(){if(Ox)return vc;Ox=1;var e=my();return vc.createRoot=e.createRoot,vc.hydrateRoot=e.hydrateRoot,vc}var WC=UC();function qC(e,r){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,a,o,c,u=[],f="",h=e.split("/");for(h[0]||h.shift();o=h.shift();)s=o[0],s==="*"?(u.push(s),f+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(a=o.indexOf("?",1),c=o.indexOf(".",1),u.push(o.substring(1,~a?a:~c?c:o.length)),f+=~a&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(f+=(~a?"?":"")+"\\"+o.substring(c))):f+="/"+o;return{keys:u,pattern:new RegExp("^"+f+(r?"(?=$|/)":"/?$"),"i")}}var p=ad();const qt=fy(p),Bm=MC({__proto__:null,default:qt},[p]);var Af={exports:{}},Rf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dx;function KC(){if(Dx)return Rf;Dx=1;var e=ad();function r(y,w){return y===w&&(y!==0||1/y===1/w)||y!==y&&w!==w}var s=typeof Object.is=="function"?Object.is:r,a=e.useState,o=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function f(y,w){var k=w(),C=a({inst:{value:k,getSnapshot:w}}),b=C[0].inst,j=C[1];return c(function(){b.value=k,b.getSnapshot=w,h(b)&&j({inst:b})},[y,k,w]),o(function(){return h(b)&&j({inst:b}),y(function(){h(b)&&j({inst:b})})},[y]),u(k),k}function h(y){var w=y.getSnapshot;y=y.value;try{var k=w();return!s(y,k)}catch{return!0}}function g(y,w){return w()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:f;return Rf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,Rf}var Mx;function QC(){return Mx||(Mx=1,Af.exports=KC()),Af.exports}var GC=QC();const HC=Bm.useInsertionEffect,YC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZC=YC?p.useLayoutEffect:p.useEffect,XC=HC||ZC,hy=e=>{const r=p.useRef([e,(...s)=>r[0](...s)]).current;return XC(()=>{r[0]=e}),r[1]},JC="popstate",$m="pushState",Vm="replaceState",e1="hashchange",Fx=[JC,$m,Vm,e1],t1=e=>{for(const r of Fx)addEventListener(r,e);return()=>{for(const r of Fx)removeEventListener(r,e)}},py=(e,r)=>GC.useSyncExternalStore(t1,e,r),r1=()=>location.search,n1=({ssrSearch:e=""}={})=>py(r1,()=>e),Lx=()=>location.pathname,s1=({ssrPath:e}={})=>py(Lx,e?()=>e:Lx),i1=(e,{replace:r=!1,state:s=null}={})=>history[r?Vm:$m](s,"",e),a1=(e={})=>[s1(e),i1],Bx=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Bx]>"u"){for(const e of[$m,Vm]){const r=history[e];history[e]=function(){const s=r.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),s}}Object.defineProperty(window,Bx,{value:!0})}const o1=(e,r)=>r.toLowerCase().indexOf(e.toLowerCase())?"~"+r:r.slice(e.length)||"/",gy=(e="")=>e==="/"?"":e,l1=(e,r)=>e[0]==="~"?e.slice(1):gy(r)+e,c1=(e="",r)=>o1($x(gy(e)),$x(r)),$x=e=>{try{return decodeURI(e)}catch{return e}},xy={hook:a1,searchHook:n1,parser:qC,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},vy=p.createContext(xy),Jo=()=>p.useContext(vy),yy={},by=p.createContext(yy),d1=()=>p.useContext(by),od=e=>{const[r,s]=e.hook(e);return[c1(e.base,r),hy((a,o)=>s(l1(a,e.base),o))]},Pa=()=>od(Jo()),jy=(e,r,s,a)=>{const{pattern:o,keys:c}=r instanceof RegExp?{keys:!1,pattern:r}:e(r||"*",a),u=o.exec(s)||[],[f,...h]=u;return f!==void 0?[!0,(()=>{const g=c!==!1?Object.fromEntries(c.map((y,w)=>[y,h[w]])):u.groups;let x={...h};return g&&Object.assign(x,g),x})(),...a?[f]:[]]:[!1,null]},u1=({children:e,...r})=>{const s=Jo(),a=r.hook?xy:s;let o=a;const[c,u]=r.ssrPath?.split("?")??[];u&&(r.ssrSearch=u,r.ssrPath=c),r.hrefs=r.hrefs??r.hook?.hrefs;let f=p.useRef({}),h=f.current,g=h;for(let x in a){const y=x==="base"?a[x]+(r[x]||""):r[x]||a[x];h===g&&y!==g[x]&&(f.current=g={...g}),g[x]=y,(y!==a[x]||y!==o[x])&&(o=g)}return p.createElement(vy.Provider,{value:o,children:e})},Vx=({children:e,component:r},s)=>r?p.createElement(r,{params:s}):typeof e=="function"?e(s):e,f1=e=>{let r=p.useRef(yy);const s=r.current;return r.current=Object.keys(e).length!==Object.keys(s).length||Object.entries(e).some(([a,o])=>o!==s[a])?e:s},ln=({path:e,nest:r,match:s,...a})=>{const o=Jo(),[c]=od(o),[u,f,h]=s??jy(o.parser,e,c,r),g=f1({...d1(),...f});if(!u)return null;const x=h?p.createElement(u1,{base:h},Vx(a,g)):Vx(a,g);return p.createElement(by.Provider,{value:g,children:x})},Tc=p.forwardRef((e,r)=>{const s=Jo(),[a,o]=od(s),{to:c="",href:u=c,onClick:f,asChild:h,children:g,className:x,replace:y,state:w,...k}=e,C=hy(j=>{j.ctrlKey||j.metaKey||j.altKey||j.shiftKey||j.button!==0||(f?.(j),j.defaultPrevented||(j.preventDefault(),o(u,e)))}),b=s.hrefs(u[0]==="~"?u.slice(1):s.base+u,s);return h&&p.isValidElement(g)?p.cloneElement(g,{onClick:C,href:b}):p.createElement("a",{...k,onClick:C,href:b,className:x?.call?x(a===u):x,children:g,ref:r})}),wy=e=>Array.isArray(e)?e.flatMap(r=>wy(r&&r.type===p.Fragment?r.props.children:r)):[e],m1=({children:e,location:r})=>{const s=Jo(),[a]=od(s);for(const o of wy(e)){let c=0;if(p.isValidElement(o)&&(c=jy(s.parser,o.props.path,r||a,o.props.nest))[0])return p.cloneElement(o,{match:c})}return null};var Ta=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},h1={setTimeout:(e,r)=>setTimeout(e,r),clearTimeout:e=>clearTimeout(e),setInterval:(e,r)=>setInterval(e,r),clearInterval:e=>clearInterval(e)},p1=class{#e=h1;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,r){return this.#e.setTimeout(e,r)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,r){return this.#e.setInterval(e,r)}clearInterval(e){this.#e.clearInterval(e)}},gi=new p1;function g1(e){setTimeout(e,0)}var bi=typeof window>"u"||"Deno"in globalThis;function Pr(){}function x1(e,r){return typeof e=="function"?e(r):e}function nm(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ny(e,r){return Math.max(e+(r||0)-Date.now(),0)}function Vs(e,r){return typeof e=="function"?e(r):e}function cn(e,r){return typeof e=="function"?e(r):e}function zx(e,r){const{type:s="all",exact:a,fetchStatus:o,predicate:c,queryKey:u,stale:f}=e;if(u){if(a){if(r.queryHash!==zm(u,r.options))return!1}else if(!Ro(r.queryKey,u))return!1}if(s!=="all"){const h=r.isActive();if(s==="active"&&!h||s==="inactive"&&h)return!1}return!(typeof f=="boolean"&&r.isStale()!==f||o&&o!==r.state.fetchStatus||c&&!c(r))}function Ux(e,r){const{exact:s,status:a,predicate:o,mutationKey:c}=e;if(c){if(!r.options.mutationKey)return!1;if(s){if(ji(r.options.mutationKey)!==ji(c))return!1}else if(!Ro(r.options.mutationKey,c))return!1}return!(a&&r.state.status!==a||o&&!o(r))}function zm(e,r){return(r?.queryKeyHashFn||ji)(e)}function ji(e){return JSON.stringify(e,(r,s)=>sm(s)?Object.keys(s).sort().reduce((a,o)=>(a[o]=s[o],a),{}):s)}function Ro(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(r).every(s=>Ro(e[s],r[s])):!1}var v1=Object.prototype.hasOwnProperty;function Sy(e,r){if(e===r)return e;const s=Wx(e)&&Wx(r);if(!s&&!(sm(e)&&sm(r)))return r;const o=(s?e:Object.keys(e)).length,c=s?r:Object.keys(r),u=c.length,f=s?new Array(u):{};let h=0;for(let g=0;g<u;g++){const x=s?g:c[g],y=e[x],w=r[x];if(y===w){f[x]=y,(s?g<o:v1.call(e,x))&&h++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){f[x]=w;continue}const k=Sy(y,w);f[x]=k,k===y&&h++}return o===u&&h===o?e:f}function Fc(e,r){if(!r||Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}function Wx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function sm(e){if(!qx(e))return!1;const r=e.constructor;if(r===void 0)return!0;const s=r.prototype;return!(!qx(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function qx(e){return Object.prototype.toString.call(e)==="[object Object]"}function y1(e){return new Promise(r=>{gi.setTimeout(r,e)})}function im(e,r,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,r):s.structuralSharing!==!1?Sy(e,r):r}function b1(e,r,s=0){const a=[...e,r];return s&&a.length>s?a.slice(1):a}function j1(e,r,s=0){const a=[r,...e];return s&&a.length>s?a.slice(0,-1):a}var Um=Symbol();function Cy(e,r){return!e.queryFn&&r?.initialPromise?()=>r.initialPromise:!e.queryFn||e.queryFn===Um?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ky(e,r){return typeof e=="function"?e(...r):!!e}var w1=class extends Ta{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!bi&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Wm=new w1;function am(){let e,r;const s=new Promise((o,c)=>{e=o,r=c});s.status="pending",s.catch(()=>{});function a(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{a({status:"fulfilled",value:o}),e(o)},s.reject=o=>{a({status:"rejected",reason:o}),r(o)},s}var N1=g1;function S1(){let e=[],r=0,s=f=>{f()},a=f=>{f()},o=N1;const c=f=>{r?e.push(f):o(()=>{s(f)})},u=()=>{const f=e;e=[],f.length&&o(()=>{a(()=>{f.forEach(h=>{s(h)})})})};return{batch:f=>{let h;r++;try{h=f()}finally{r--,r||u()}return h},batchCalls:f=>(...h)=>{c(()=>{f(...h)})},schedule:c,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{a=f},setScheduler:f=>{o=f}}}var ir=S1(),C1=class extends Ta{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!bi&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Lc=new C1;function k1(e){return Math.min(1e3*2**e,3e4)}function Py(e){return(e??"online")==="online"?Lc.isOnline():!0}var om=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ty(e){let r=!1,s=0,a;const o=am(),c=()=>o.status!=="pending",u=b=>{if(!c()){const j=new om(b);w(j),e.onCancel?.(j)}},f=()=>{r=!0},h=()=>{r=!1},g=()=>Wm.isFocused()&&(e.networkMode==="always"||Lc.isOnline())&&e.canRun(),x=()=>Py(e.networkMode)&&e.canRun(),y=b=>{c()||(a?.(),o.resolve(b))},w=b=>{c()||(a?.(),o.reject(b))},k=()=>new Promise(b=>{a=j=>{(c()||g())&&b(j)},e.onPause?.()}).then(()=>{a=void 0,c()||e.onContinue?.()}),C=()=>{if(c())return;let b;const j=s===0?e.initialPromise:void 0;try{b=j??e.fn()}catch(T){b=Promise.reject(T)}Promise.resolve(b).then(y).catch(T=>{if(c())return;const P=e.retry??(bi?0:3),R=e.retryDelay??k1,F=typeof R=="function"?R(s,T):R,$=P===!0||typeof P=="number"&&s<P||typeof P=="function"&&P(s,T);if(r||!$){w(T);return}s++,e.onFail?.(s,T),y1(F).then(()=>g()?void 0:k()).then(()=>{r?w(T):C()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(a?.(),o),cancelRetry:f,continueRetry:h,canStart:x,start:()=>(x()?C():k().then(C),o)}}var Ey=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nm(this.gcTime)&&(this.#e=gi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bi?1/0:300*1e3))}clearGcTimeout(){this.#e&&(gi.clearTimeout(this.#e),this.#e=void 0)}},P1=class extends Ey{#e;#t;#r;#n;#s;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Kx(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Kx(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),this.#e=r)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,r){const s=im(this.state.data,e,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),s}setState(e,r){this.#i({type:"setState",state:e,setStateOptions:r})}cancel(e){const r=this.#s?.promise;return this.#s?.cancel(e),r?r.then(Pr).catch(Pr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>cn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Um||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Vs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Ny(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,r){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},o=()=>{const f=Cy(this.options,r),g=(()=>{const x={client:this.#n,queryKey:this.queryKey,meta:this.meta};return a(x),x})();return this.#o=!1,this.options.persister?this.options.persister(f,g,this):f(g)},u=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:o};return a(f),f})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#s=Ty({initialPromise:r?.initialPromise,fn:u.fetchFn,onCancel:f=>{f instanceof om&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(f,h)=>{this.#i({type:"failed",failureCount:f,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const f=await this.#s.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#r.config.onSuccess?.(f,this),this.#r.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof om){if(f.silent)return this.#s.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#r.config.onError?.(f,this),this.#r.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,..._y(s.data,this.options),fetchMeta:e.meta??null};case"success":const a={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),ir.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function _y(e,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Py(r.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Kx(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,s=r!==void 0,a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var T1=class extends Ta{constructor(e,r){super(),this.options=r,this.#e=e,this.#i=null,this.#o=am(),this.bindMethods(),this.setOptions(r)}#e;#t=void 0;#r=void 0;#n=void 0;#s;#a;#o;#i;#p;#f;#m;#c;#d;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Qx(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return lm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return lm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(e){const r=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof cn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),r._defaulted&&!Fc(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&Gx(this.#t,s,this.options,r)&&this.#u(),this.updateResult(),a&&(this.#t!==s||cn(this.options.enabled,this.#t)!==cn(r.enabled,this.#t)||Vs(this.options.staleTime,this.#t)!==Vs(r.staleTime,this.#t))&&this.#g();const o=this.#x();a&&(this.#t!==s||cn(this.options.enabled,this.#t)!==cn(r.enabled,this.#t)||o!==this.#l)&&this.#v(o)}getOptimisticResult(e){const r=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(r,e);return _1(this,s)&&(this.#n=s,this.#a=this.options,this.#s=this.#t.state),s}getCurrentResult(){return this.#n}trackResult(e,r){return new Proxy(e,{get:(s,a)=>(this.trackProp(a),r?.(a),a==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,a))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,r);return s.fetch().then(()=>this.createResult(s,r))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(e){this.#w();let r=this.#t.fetch(this.options,e);return e?.throwOnError||(r=r.catch(Pr)),r}#g(){this.#b();const e=Vs(this.options.staleTime,this.#t);if(bi||this.#n.isStale||!nm(e))return;const s=Ny(this.#n.dataUpdatedAt,e)+1;this.#c=gi.setTimeout(()=>{this.#n.isStale||this.updateResult()},s)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#j(),this.#l=e,!(bi||cn(this.options.enabled,this.#t)===!1||!nm(this.#l)||this.#l===0)&&(this.#d=gi.setInterval(()=>{(this.options.refetchIntervalInBackground||Wm.isFocused())&&this.#u()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#b(){this.#c&&(gi.clearTimeout(this.#c),this.#c=void 0)}#j(){this.#d&&(gi.clearInterval(this.#d),this.#d=void 0)}createResult(e,r){const s=this.#t,a=this.options,o=this.#n,c=this.#s,u=this.#a,h=e!==s?e.state:this.#r,{state:g}=e;let x={...g},y=!1,w;if(r._optimisticResults){const te=this.hasListeners(),xe=!te&&Qx(e,r),he=te&&Gx(e,s,r,a);(xe||he)&&(x={...x,..._y(g.data,e.options)}),r._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:k,errorUpdatedAt:C,status:b}=x;w=x.data;let j=!1;if(r.placeholderData!==void 0&&w===void 0&&b==="pending"){let te;o?.isPlaceholderData&&r.placeholderData===u?.placeholderData?(te=o.data,j=!0):te=typeof r.placeholderData=="function"?r.placeholderData(this.#m?.state.data,this.#m):r.placeholderData,te!==void 0&&(b="success",w=im(o?.data,te,r),y=!0)}if(r.select&&w!==void 0&&!j)if(o&&w===c?.data&&r.select===this.#p)w=this.#f;else try{this.#p=r.select,w=r.select(w),w=im(o?.data,w,r),this.#f=w,this.#i=null}catch(te){this.#i=te}this.#i&&(k=this.#i,w=this.#f,C=Date.now(),b="error");const T=x.fetchStatus==="fetching",P=b==="pending",R=b==="error",F=P&&T,$=w!==void 0,K={status:b,fetchStatus:x.fetchStatus,isPending:P,isSuccess:b==="success",isError:R,isInitialLoading:F,isLoading:F,data:w,dataUpdatedAt:x.dataUpdatedAt,error:k,errorUpdatedAt:C,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>h.dataUpdateCount||x.errorUpdateCount>h.errorUpdateCount,isFetching:T,isRefetching:T&&!P,isLoadingError:R&&!$,isPaused:x.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:R&&$,isStale:qm(e,r),refetch:this.refetch,promise:this.#o,isEnabled:cn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const te=pe=>{K.status==="error"?pe.reject(K.error):K.data!==void 0&&pe.resolve(K.data)},xe=()=>{const pe=this.#o=K.promise=am();te(pe)},he=this.#o;switch(he.status){case"pending":e.queryHash===s.queryHash&&te(he);break;case"fulfilled":(K.status==="error"||K.data!==he.value)&&xe();break;case"rejected":(K.status!=="error"||K.error!==he.reason)&&xe();break}}return K}updateResult(){const e=this.#n,r=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#a=this.options,this.#s.data!==void 0&&(this.#m=this.#t),Fc(r,e))return;this.#n=r;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!this.#h.size)return!0;const c=new Set(o??this.#h);return this.options.throwOnError&&c.add("error"),Object.keys(this.#n).some(u=>{const f=u;return this.#n[f]!==e[f]&&c.has(f)})};this.#N({listeners:s()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const r=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(r?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){ir.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function E1(e,r){return cn(r.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&r.retryOnMount===!1)}function Qx(e,r){return E1(e,r)||e.state.data!==void 0&&lm(e,r,r.refetchOnMount)}function lm(e,r,s){if(cn(r.enabled,e)!==!1&&Vs(r.staleTime,e)!=="static"){const a=typeof s=="function"?s(e):s;return a==="always"||a!==!1&&qm(e,r)}return!1}function Gx(e,r,s,a){return(e!==r||cn(a.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&qm(e,s)}function qm(e,r){return cn(r.enabled,e)!==!1&&e.isStaleByTime(Vs(r.staleTime,e))}function _1(e,r){return!Fc(e.getCurrentResult(),r)}function Hx(e){return{onFetch:(r,s)=>{const a=r.options,o=r.fetchOptions?.meta?.fetchMore?.direction,c=r.state.data?.pages||[],u=r.state.data?.pageParams||[];let f={pages:[],pageParams:[]},h=0;const g=async()=>{let x=!1;const y=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(r.signal.aborted?x=!0:r.signal.addEventListener("abort",()=>{x=!0}),r.signal)})},w=Cy(r.options,r.fetchOptions),k=async(C,b,j)=>{if(x)return Promise.reject();if(b==null&&C.pages.length)return Promise.resolve(C);const P=(()=>{const X={client:r.client,queryKey:r.queryKey,pageParam:b,direction:j?"backward":"forward",meta:r.options.meta};return y(X),X})(),R=await w(P),{maxPages:F}=r.options,$=j?j1:b1;return{pages:$(C.pages,R,F),pageParams:$(C.pageParams,b,F)}};if(o&&c.length){const C=o==="backward",b=C?A1:Yx,j={pages:c,pageParams:u},T=b(a,j);f=await k(j,T,C)}else{const C=e??c.length;do{const b=h===0?u[0]??a.initialPageParam:Yx(a,f);if(h>0&&b==null)break;f=await k(f,b),h++}while(h<C)}return f};r.options.persister?r.fetchFn=()=>r.options.persister?.(g,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},s):r.fetchFn=g}}}function Yx(e,{pages:r,pageParams:s}){const a=r.length-1;return r.length>0?e.getNextPageParam(r[a],r,s[a],s):void 0}function A1(e,{pages:r,pageParams:s}){return r.length>0?e.getPreviousPageParam?.(r[0],r,s[0],s):void 0}var R1=class extends Ey{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||Ay(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(r=>r!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const r=()=>{this.#n({type:"continue"})};this.#r=Ty({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(o,c)=>{this.#n({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",a=!this.#r.canStart();try{if(s)r();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#t.config.onMutate?.(e,this);const c=await this.options.onMutate?.(e);c!==this.state.context&&this.#n({type:"pending",context:c,variables:e,isPaused:a})}const o=await this.#r.start();return await this.#t.config.onSuccess?.(o,e,this.state.context,this),await this.options.onSuccess?.(o,e,this.state.context),await this.#t.config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,e,this.state.context),this.#n({type:"success",data:o}),o}catch(o){try{throw await this.#t.config.onError?.(o,e,this.state.context,this),await this.options.onError?.(o,e,this.state.context),await this.#t.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,e,this.state.context),o}finally{this.#n({type:"error",error:o})}}finally{this.#t.runNext(this)}}#n(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ir.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Ay(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var I1=class extends Ta{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,r,s){const a=new R1({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(r),state:s});return this.add(a),a}add(e){this.#e.add(e);const r=yc(e);if(typeof r=="string"){const s=this.#t.get(r);s?s.push(e):this.#t.set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const r=yc(e);if(typeof r=="string"){const s=this.#t.get(r);if(s)if(s.length>1){const a=s.indexOf(e);a!==-1&&s.splice(a,1)}else s[0]===e&&this.#t.delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=yc(e);if(typeof r=="string"){const a=this.#t.get(r)?.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){const r=yc(e);return typeof r=="string"?this.#t.get(r)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ir.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const r={exact:!0,...e};return this.getAll().find(s=>Ux(r,s))}findAll(e={}){return this.getAll().filter(r=>Ux(e,r))}notify(e){ir.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ir.batch(()=>Promise.all(e.map(r=>r.continue().catch(Pr))))}};function yc(e){return e.options.scope?.id}var O1=class extends Ta{#e;#t=void 0;#r;#n;constructor(r,s){super(),this.#e=r,this.setOptions(s),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){const s=this.options;this.options=this.#e.defaultMutationOptions(r),Fc(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),s?.mutationKey&&this.options.mutationKey&&ji(s.mutationKey)!==ji(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(r){this.#s(),this.#a(r)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#a()}mutate(r,s){return this.#n=s,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(r)}#s(){const r=this.#r?.state??Ay();this.#t={...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset}}#a(r){ir.batch(()=>{if(this.#n&&this.hasListeners()){const s=this.#t.variables,a=this.#t.context;r?.type==="success"?(this.#n.onSuccess?.(r.data,s,a),this.#n.onSettled?.(r.data,null,s,a)):r?.type==="error"&&(this.#n.onError?.(r.error,s,a),this.#n.onSettled?.(void 0,r.error,s,a))}this.listeners.forEach(s=>{s(this.#t)})})}},D1=class extends Ta{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,r,s){const a=r.queryKey,o=r.queryHash??zm(a,r);let c=this.get(o);return c||(c=new P1({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=this.#e.get(e.queryHash);r&&(e.destroy(),r===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ir.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>zx(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>zx(e,s)):r}notify(e){ir.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ir.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ir.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},M1=class{#e;#t;#r;#n;#s;#a;#o;#i;constructor(e={}){this.#e=e.queryCache||new D1,this.#t=e.mutationCache||new I1,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Wm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Lc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const r=this.defaultQueryOptions({queryKey:e});return this.#e.get(r.queryHash)?.state.data}ensureQueryData(e){const r=this.defaultQueryOptions(e),s=this.#e.build(this,r),a=s.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Vs(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:r,state:s})=>{const a=s.data;return[r,a]})}setQueryData(e,r,s){const a=this.defaultQueryOptions({queryKey:e}),c=this.#e.get(a.queryHash)?.state.data,u=x1(r,c);if(u!==void 0)return this.#e.build(this,a).setData(u,{...s,manual:!0})}setQueriesData(e,r,s){return ir.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,r,s)]))}getQueryState(e){const r=this.defaultQueryOptions({queryKey:e});return this.#e.get(r.queryHash)?.state}removeQueries(e){const r=this.#e;ir.batch(()=>{r.findAll(e).forEach(s=>{r.remove(s)})})}resetQueries(e,r){const s=this.#e;return ir.batch(()=>(s.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},r)))}cancelQueries(e,r={}){const s={revert:!0,...r},a=ir.batch(()=>this.#e.findAll(e).map(o=>o.cancel(s)));return Promise.all(a).then(Pr).catch(Pr)}invalidateQueries(e,r={}){return ir.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},r)))}refetchQueries(e,r={}){const s={...r,cancelRefetch:r.cancelRefetch??!0},a=ir.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,s);return s.throwOnError||(c=c.catch(Pr)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(a).then(Pr)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const s=this.#e.build(this,r);return s.isStaleByTime(Vs(r.staleTime,s))?s.fetch(r):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Pr).catch(Pr)}fetchInfiniteQuery(e){return e.behavior=Hx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Pr).catch(Pr)}ensureInfiniteQueryData(e){return e.behavior=Hx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,r){this.#n.set(ji(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...this.#n.values()],s={};return r.forEach(a=>{Ro(e,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(e,r){this.#s.set(ji(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...this.#s.values()],s={};return r.forEach(a=>{Ro(e,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const r={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return r.queryHash||(r.queryHash=zm(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===Um&&(r.enabled=!1),r}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Ry=p.createContext(void 0),Or=e=>{const r=p.useContext(Ry);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},F1=({client:e,children:r})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(Ry.Provider,{value:e,children:r})),Iy=p.createContext(!1),L1=()=>p.useContext(Iy);Iy.Provider;function B1(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $1=p.createContext(B1()),V1=()=>p.useContext($1),z1=(e,r)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(r.isReset()||(e.retryOnMount=!1))},U1=e=>{p.useEffect(()=>{e.clearReset()},[e])},W1=({result:e,errorResetBoundary:r,throwOnError:s,query:a,suspense:o})=>e.isError&&!r.isReset()&&!e.isFetching&&a&&(o&&e.data===void 0||ky(s,[e.error,a])),q1=e=>{if(e.suspense){const s=o=>o==="static"?o:Math.max(o??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...o)=>s(a(...o)):s(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},K1=(e,r)=>e.isLoading&&e.isFetching&&!r,Q1=(e,r)=>e?.suspense&&r.isPending,Zx=(e,r,s)=>r.fetchOptimistic(e).catch(()=>{s.clearReset()});function G1(e,r,s){const a=L1(),o=V1(),c=Or(),u=c.defaultQueryOptions(e);c.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=a?"isRestoring":"optimistic",q1(u),z1(u,o),U1(o);const f=!c.getQueryCache().get(u.queryHash),[h]=p.useState(()=>new r(c,u)),g=h.getOptimisticResult(u),x=!a&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(y=>{const w=x?h.subscribe(ir.batchCalls(y)):Pr;return h.updateResult(),w},[h,x]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),p.useEffect(()=>{h.setOptions(u)},[u,h]),Q1(u,g))throw Zx(u,h,o);if(W1({result:g,errorResetBoundary:o,throwOnError:u.throwOnError,query:c.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw g.error;return c.getDefaultOptions().queries?._experimental_afterQuery?.(u,g),u.experimental_prefetchInRender&&!bi&&K1(g,a)&&(f?Zx(u,h,o):c.getQueryCache().get(u.queryHash)?.promise)?.catch(Pr).finally(()=>{h.updateResult()}),u.notifyOnChangeProps?g:h.trackResult(g)}function pt(e,r){return G1(e,T1)}function Ke(e,r){const s=Or(),[a]=p.useState(()=>new O1(s,e));p.useEffect(()=>{a.setOptions(e)},[a,e]);const o=p.useSyncExternalStore(p.useCallback(u=>a.subscribe(ir.batchCalls(u)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),c=p.useCallback((u,f)=>{a.mutate(u,f).catch(Pr)},[a]);if(o.error&&ky(a.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:c,mutateAsync:o.mutate}}async function Oy(e){if(!e.ok){const r=await e.text()||e.statusText;throw new Error(`${e.status}: ${r}`)}}async function Ct(e,r,s){const a={};s&&(a["Content-Type"]="application/json");const o=localStorage.getItem("auth_token");o&&(a.Authorization=`Bearer ${o}`);const c=await fetch(r,{method:e,headers:a,body:s?JSON.stringify(s):void 0,credentials:"include"});return await Oy(c),c}const H1=({on401:e})=>async({queryKey:r})=>{const s={},a=localStorage.getItem("auth_token");a&&(s.Authorization=`Bearer ${a}`);const o=await fetch(r.join("/"),{headers:s,credentials:"include"});return await Oy(o),await o.json()},dr=new M1({defaultOptions:{queries:{queryFn:H1({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Y1=1,Z1=1e6;let If=0;function X1(){return If=(If+1)%Number.MAX_SAFE_INTEGER,If.toString()}const Of=new Map,Xx=e=>{if(Of.has(e))return;const r=setTimeout(()=>{Of.delete(e),To({type:"REMOVE_TOAST",toastId:e})},Z1);Of.set(e,r)},J1=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,Y1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===r.toast.id?{...s,...r.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=r;return s?Xx(s):e.toasts.forEach(a=>{Xx(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==r.toastId)}}},Ec=[];let _c={toasts:[]};function To(e){_c=J1(_c,e),Ec.forEach(r=>{r(_c)})}function ek({...e}){const r=X1(),s=o=>To({type:"UPDATE_TOAST",toast:{...o,id:r}}),a=()=>To({type:"DISMISS_TOAST",toastId:r});return To({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:o=>{o||a()}}}),{id:r,dismiss:a,update:s}}function Vt(){const[e,r]=p.useState(_c);return p.useEffect(()=>(Ec.push(r),()=>{const s=Ec.indexOf(r);s>-1&&Ec.splice(s,1)}),[e]),{...e,toast:ek,dismiss:s=>To({type:"DISMISS_TOAST",toastId:s})}}var Ea=my();const tk=fy(Ea);function Fe(e,r,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e?.(o),s===!1||!o.defaultPrevented)return r?.(o)}}function Jx(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function wi(...e){return r=>{let s=!1;const a=e.map(o=>{const c=Jx(o,r);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<a.length;o++){const c=a[o];typeof c=="function"?c():Jx(e[o],null)}}}}function lt(...e){return p.useCallback(wi(...e),e)}function rk(e,r){const s=p.createContext(r),a=c=>{const{children:u,...f}=c,h=p.useMemo(()=>f,Object.values(f));return t.jsx(s.Provider,{value:h,children:u})};a.displayName=e+"Provider";function o(c){const u=p.useContext(s);if(u)return u;if(r!==void 0)return r;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[a,o]}function zr(e,r=[]){let s=[];function a(c,u){const f=p.createContext(u),h=s.length;s=[...s,u];const g=y=>{const{scope:w,children:k,...C}=y,b=w?.[e]?.[h]||f,j=p.useMemo(()=>C,Object.values(C));return t.jsx(b.Provider,{value:j,children:k})};g.displayName=c+"Provider";function x(y,w){const k=w?.[e]?.[h]||f,C=p.useContext(k);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[g,x]}const o=()=>{const c=s.map(u=>p.createContext(u));return function(f){const h=f?.[e]||c;return p.useMemo(()=>({[`__scope${e}`]:{...f,[e]:h}}),[f,h])}};return o.scopeName=e,[a,nk(o,...r)]}function nk(...e){const r=e[0];if(e.length===1)return r;const s=()=>{const a=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=a.reduce((f,{useScope:h,scopeName:g})=>{const y=h(c)[`__scope${g}`];return{...f,...y}},{});return p.useMemo(()=>({[`__scope${r.scopeName}`]:u}),[u])}};return s.scopeName=r.scopeName,s}function Ni(e){const r=ik(e),s=p.forwardRef((a,o)=>{const{children:c,...u}=a,f=p.Children.toArray(c),h=f.find(ak);if(h){const g=h.props.children,x=f.map(y=>y===h?p.Children.count(g)>1?p.Children.only(null):p.isValidElement(g)?g.props.children:null:y);return t.jsx(r,{...u,ref:o,children:p.isValidElement(g)?p.cloneElement(g,void 0,x):null})}return t.jsx(r,{...u,ref:o,children:c})});return s.displayName=`${e}.Slot`,s}var sk=Ni("Slot");function ik(e){const r=p.forwardRef((s,a)=>{const{children:o,...c}=s;if(p.isValidElement(o)){const u=lk(o),f=ok(c,o.props);return o.type!==p.Fragment&&(f.ref=a?wi(a,u):u),p.cloneElement(o,f)}return p.Children.count(o)>1?p.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var Dy=Symbol("radix.slottable");function My(e){const r=({children:s})=>t.jsx(t.Fragment,{children:s});return r.displayName=`${e}.Slottable`,r.__radixId=Dy,r}function ak(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Dy}function ok(e,r){const s={...r};for(const a in r){const o=e[a],c=r[a];/^on[A-Z]/.test(a)?o&&c?s[a]=(...f)=>{const h=c(...f);return o(...f),h}:o&&(s[a]=o):a==="style"?s[a]={...o,...c}:a==="className"&&(s[a]=[o,c].filter(Boolean).join(" "))}return{...e,...s}}function lk(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Km(e){const r=e+"CollectionProvider",[s,a]=zr(r),[o,c]=s(r,{collectionRef:{current:null},itemMap:new Map}),u=b=>{const{scope:j,children:T}=b,P=qt.useRef(null),R=qt.useRef(new Map).current;return t.jsx(o,{scope:j,itemMap:R,collectionRef:P,children:T})};u.displayName=r;const f=e+"CollectionSlot",h=Ni(f),g=qt.forwardRef((b,j)=>{const{scope:T,children:P}=b,R=c(f,T),F=lt(j,R.collectionRef);return t.jsx(h,{ref:F,children:P})});g.displayName=f;const x=e+"CollectionItemSlot",y="data-radix-collection-item",w=Ni(x),k=qt.forwardRef((b,j)=>{const{scope:T,children:P,...R}=b,F=qt.useRef(null),$=lt(j,F),X=c(x,T);return qt.useEffect(()=>(X.itemMap.set(F,{ref:F,...R}),()=>void X.itemMap.delete(F))),t.jsx(w,{[y]:"",ref:$,children:P})});k.displayName=x;function C(b){const j=c(e+"CollectionConsumer",b);return qt.useCallback(()=>{const P=j.collectionRef.current;if(!P)return[];const R=Array.from(P.querySelectorAll(`[${y}]`));return Array.from(j.itemMap.values()).sort((X,K)=>R.indexOf(X.ref.current)-R.indexOf(K.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:u,Slot:g,ItemSlot:k},C,a]}var ck=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=ck.reduce((e,r)=>{const s=Ni(`Primitive.${r}`),a=p.forwardRef((o,c)=>{const{asChild:u,...f}=o,h=u?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(h,{...f,ref:c})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function Fy(e,r){e&&Ea.flushSync(()=>e.dispatchEvent(r))}function un(e){const r=p.useRef(e);return p.useEffect(()=>{r.current=e}),p.useMemo(()=>(...s)=>r.current?.(...s),[])}function dk(e,r=globalThis?.document){const s=un(e);p.useEffect(()=>{const a=o=>{o.key==="Escape"&&s(o)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[s,r])}var uk="DismissableLayer",cm="dismissableLayer.update",fk="dismissableLayer.pointerDownOutside",mk="dismissableLayer.focusOutside",ev,Ly=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_a=p.forwardRef((e,r)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...h}=e,g=p.useContext(Ly),[x,y]=p.useState(null),w=x?.ownerDocument??globalThis?.document,[,k]=p.useState({}),C=lt(r,K=>y(K)),b=Array.from(g.layers),[j]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),T=b.indexOf(j),P=x?b.indexOf(x):-1,R=g.layersWithOutsidePointerEventsDisabled.size>0,F=P>=T,$=pk(K=>{const te=K.target,xe=[...g.branches].some(he=>he.contains(te));!F||xe||(o?.(K),u?.(K),K.defaultPrevented||f?.())},w),X=gk(K=>{const te=K.target;[...g.branches].some(he=>he.contains(te))||(c?.(K),u?.(K),K.defaultPrevented||f?.())},w);return dk(K=>{P===g.layers.size-1&&(a?.(K),!K.defaultPrevented&&f&&(K.preventDefault(),f()))},w),p.useEffect(()=>{if(x)return s&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(ev=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(x)),g.layers.add(x),tv(),()=>{s&&g.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=ev)}},[x,w,s,g]),p.useEffect(()=>()=>{x&&(g.layers.delete(x),g.layersWithOutsidePointerEventsDisabled.delete(x),tv())},[x,g]),p.useEffect(()=>{const K=()=>k({});return document.addEventListener(cm,K),()=>document.removeEventListener(cm,K)},[]),t.jsx($e.div,{...h,ref:C,style:{pointerEvents:R?F?"auto":"none":void 0,...e.style},onFocusCapture:Fe(e.onFocusCapture,X.onFocusCapture),onBlurCapture:Fe(e.onBlurCapture,X.onBlurCapture),onPointerDownCapture:Fe(e.onPointerDownCapture,$.onPointerDownCapture)})});_a.displayName=uk;var hk="DismissableLayerBranch",By=p.forwardRef((e,r)=>{const s=p.useContext(Ly),a=p.useRef(null),o=lt(r,a);return p.useEffect(()=>{const c=a.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),t.jsx($e.div,{...e,ref:o})});By.displayName=hk;function pk(e,r=globalThis?.document){const s=un(e),a=p.useRef(!1),o=p.useRef(()=>{});return p.useEffect(()=>{const c=f=>{if(f.target&&!a.current){let h=function(){$y(fk,s,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(r.removeEventListener("click",o.current),o.current=h,r.addEventListener("click",o.current,{once:!0})):h()}else r.removeEventListener("click",o.current);a.current=!1},u=window.setTimeout(()=>{r.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),r.removeEventListener("pointerdown",c),r.removeEventListener("click",o.current)}},[r,s]),{onPointerDownCapture:()=>a.current=!0}}function gk(e,r=globalThis?.document){const s=un(e),a=p.useRef(!1);return p.useEffect(()=>{const o=c=>{c.target&&!a.current&&$y(mk,s,{originalEvent:c},{discrete:!1})};return r.addEventListener("focusin",o),()=>r.removeEventListener("focusin",o)},[r,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function tv(){const e=new CustomEvent(cm);document.dispatchEvent(e)}function $y(e,r,s,{discrete:a}){const o=s.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});r&&o.addEventListener(e,r,{once:!0}),a?Fy(o,c):o.dispatchEvent(c)}var xk=_a,vk=By,vr=globalThis?.document?p.useLayoutEffect:()=>{},yk="Portal",el=p.forwardRef((e,r)=>{const{container:s,...a}=e,[o,c]=p.useState(!1);vr(()=>c(!0),[]);const u=s||o&&globalThis?.document?.body;return u?tk.createPortal(t.jsx($e.div,{...a,ref:r}),u):null});el.displayName=yk;function bk(e,r){return p.useReducer((s,a)=>r[s][a]??s,e)}var En=e=>{const{present:r,children:s}=e,a=jk(r),o=typeof s=="function"?s({present:a.isPresent}):p.Children.only(s),c=lt(a.ref,wk(o));return typeof s=="function"||a.isPresent?p.cloneElement(o,{ref:c}):null};En.displayName="Presence";function jk(e){const[r,s]=p.useState(),a=p.useRef(null),o=p.useRef(e),c=p.useRef("none"),u=e?"mounted":"unmounted",[f,h]=bk(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const g=bc(a.current);c.current=f==="mounted"?g:"none"},[f]),vr(()=>{const g=a.current,x=o.current;if(x!==e){const w=c.current,k=bc(g);e?h("MOUNT"):k==="none"||g?.display==="none"?h("UNMOUNT"):h(x&&w!==k?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,h]),vr(()=>{if(r){let g;const x=r.ownerDocument.defaultView??window,y=k=>{const b=bc(a.current).includes(CSS.escape(k.animationName));if(k.target===r&&b&&(h("ANIMATION_END"),!o.current)){const j=r.style.animationFillMode;r.style.animationFillMode="forwards",g=x.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=j)})}},w=k=>{k.target===r&&(c.current=bc(a.current))};return r.addEventListener("animationstart",w),r.addEventListener("animationcancel",y),r.addEventListener("animationend",y),()=>{x.clearTimeout(g),r.removeEventListener("animationstart",w),r.removeEventListener("animationcancel",y),r.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[r,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:p.useCallback(g=>{a.current=g?getComputedStyle(g):null,s(g)},[])}}function bc(e){return e?.animationName||"none"}function wk(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Nk=Bm[" useInsertionEffect ".trim().toString()]||vr;function ls({prop:e,defaultProp:r,onChange:s=()=>{},caller:a}){const[o,c,u]=Sk({defaultProp:r,onChange:s}),f=e!==void 0,h=f?e:o;{const x=p.useRef(e!==void 0);p.useEffect(()=>{const y=x.current;y!==f&&console.warn(`${a} is changing from ${y?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=f},[f,a])}const g=p.useCallback(x=>{if(f){const y=Ck(x)?x(e):x;y!==e&&u.current?.(y)}else c(x)},[f,e,c,u]);return[h,g]}function Sk({defaultProp:e,onChange:r}){const[s,a]=p.useState(e),o=p.useRef(s),c=p.useRef(r);return Nk(()=>{c.current=r},[r]),p.useEffect(()=>{o.current!==s&&(c.current?.(s),o.current=s)},[s,o]),[s,a,c]}function Ck(e){return typeof e=="function"}var Vy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kk="VisuallyHidden",ld=p.forwardRef((e,r)=>t.jsx($e.span,{...e,ref:r,style:{...Vy,...e.style}}));ld.displayName=kk;var Pk=ld,Qm="ToastProvider",[Gm,Tk,Ek]=Km("Toast"),[zy,QD]=zr("Toast",[Ek]),[_k,cd]=zy(Qm),Uy=e=>{const{__scopeToast:r,label:s="Notification",duration:a=5e3,swipeDirection:o="right",swipeThreshold:c=50,children:u}=e,[f,h]=p.useState(null),[g,x]=p.useState(0),y=p.useRef(!1),w=p.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qm}\`. Expected non-empty \`string\`.`),t.jsx(Gm.Provider,{scope:r,children:t.jsx(_k,{scope:r,label:s,duration:a,swipeDirection:o,swipeThreshold:c,toastCount:g,viewport:f,onViewportChange:h,onToastAdd:p.useCallback(()=>x(k=>k+1),[]),onToastRemove:p.useCallback(()=>x(k=>k-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:w,children:u})})};Uy.displayName=Qm;var Wy="ToastViewport",Ak=["F8"],dm="toast.viewportPause",um="toast.viewportResume",qy=p.forwardRef((e,r)=>{const{__scopeToast:s,hotkey:a=Ak,label:o="Notifications ({hotkey})",...c}=e,u=cd(Wy,s),f=Tk(s),h=p.useRef(null),g=p.useRef(null),x=p.useRef(null),y=p.useRef(null),w=lt(r,y,u.onViewportChange),k=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=u.toastCount>0;p.useEffect(()=>{const j=T=>{a.length!==0&&a.every(R=>T[R]||T.code===R)&&y.current?.focus()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[a]),p.useEffect(()=>{const j=h.current,T=y.current;if(C&&j&&T){const P=()=>{if(!u.isClosePausedRef.current){const X=new CustomEvent(dm);T.dispatchEvent(X),u.isClosePausedRef.current=!0}},R=()=>{if(u.isClosePausedRef.current){const X=new CustomEvent(um);T.dispatchEvent(X),u.isClosePausedRef.current=!1}},F=X=>{!j.contains(X.relatedTarget)&&R()},$=()=>{j.contains(document.activeElement)||R()};return j.addEventListener("focusin",P),j.addEventListener("focusout",F),j.addEventListener("pointermove",P),j.addEventListener("pointerleave",$),window.addEventListener("blur",P),window.addEventListener("focus",R),()=>{j.removeEventListener("focusin",P),j.removeEventListener("focusout",F),j.removeEventListener("pointermove",P),j.removeEventListener("pointerleave",$),window.removeEventListener("blur",P),window.removeEventListener("focus",R)}}},[C,u.isClosePausedRef]);const b=p.useCallback(({tabbingDirection:j})=>{const P=f().map(R=>{const F=R.ref.current,$=[F,...Wk(F)];return j==="forwards"?$:$.reverse()});return(j==="forwards"?P.reverse():P).flat()},[f]);return p.useEffect(()=>{const j=y.current;if(j){const T=P=>{const R=P.altKey||P.ctrlKey||P.metaKey;if(P.key==="Tab"&&!R){const $=document.activeElement,X=P.shiftKey;if(P.target===j&&X){g.current?.focus();return}const xe=b({tabbingDirection:X?"backwards":"forwards"}),he=xe.findIndex(pe=>pe===$);Df(xe.slice(he+1))?P.preventDefault():X?g.current?.focus():x.current?.focus()}};return j.addEventListener("keydown",T),()=>j.removeEventListener("keydown",T)}},[f,b]),t.jsxs(vk,{ref:h,role:"region","aria-label":o.replace("{hotkey}",k),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&t.jsx(fm,{ref:g,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"forwards"});Df(j)}}),t.jsx(Gm.Slot,{scope:s,children:t.jsx($e.ol,{tabIndex:-1,...c,ref:w})}),C&&t.jsx(fm,{ref:x,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"backwards"});Df(j)}})]})});qy.displayName=Wy;var Ky="ToastFocusProxy",fm=p.forwardRef((e,r)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...o}=e,c=cd(Ky,s);return t.jsx(ld,{tabIndex:0,...o,ref:r,style:{position:"fixed"},onFocus:u=>{const f=u.relatedTarget;!c.viewport?.contains(f)&&a()}})});fm.displayName=Ky;var tl="Toast",Rk="toast.swipeStart",Ik="toast.swipeMove",Ok="toast.swipeCancel",Dk="toast.swipeEnd",Qy=p.forwardRef((e,r)=>{const{forceMount:s,open:a,defaultOpen:o,onOpenChange:c,...u}=e,[f,h]=ls({prop:a,defaultProp:o??!0,onChange:c,caller:tl});return t.jsx(En,{present:s||f,children:t.jsx(Lk,{open:f,...u,ref:r,onClose:()=>h(!1),onPause:un(e.onPause),onResume:un(e.onResume),onSwipeStart:Fe(e.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Fe(e.onSwipeMove,g=>{const{x,y}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:Fe(e.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Fe(e.onSwipeEnd,g=>{const{x,y}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),h(!1)})})})});Qy.displayName=tl;var[Mk,Fk]=zy(tl,{onClose(){}}),Lk=p.forwardRef((e,r)=>{const{__scopeToast:s,type:a="foreground",duration:o,open:c,onClose:u,onEscapeKeyDown:f,onPause:h,onResume:g,onSwipeStart:x,onSwipeMove:y,onSwipeCancel:w,onSwipeEnd:k,...C}=e,b=cd(tl,s),[j,T]=p.useState(null),P=lt(r,H=>T(H)),R=p.useRef(null),F=p.useRef(null),$=o||b.duration,X=p.useRef(0),K=p.useRef($),te=p.useRef(0),{onToastAdd:xe,onToastRemove:he}=b,pe=un(()=>{j?.contains(document.activeElement)&&b.viewport?.focus(),u()}),ee=p.useCallback(H=>{!H||H===1/0||(window.clearTimeout(te.current),X.current=new Date().getTime(),te.current=window.setTimeout(pe,H))},[pe]);p.useEffect(()=>{const H=b.viewport;if(H){const ge=()=>{ee(K.current),g?.()},G=()=>{const q=new Date().getTime()-X.current;K.current=K.current-q,window.clearTimeout(te.current),h?.()};return H.addEventListener(dm,G),H.addEventListener(um,ge),()=>{H.removeEventListener(dm,G),H.removeEventListener(um,ge)}}},[b.viewport,$,h,g,ee]),p.useEffect(()=>{c&&!b.isClosePausedRef.current&&ee($)},[c,$,b.isClosePausedRef,ee]),p.useEffect(()=>(xe(),()=>he()),[xe,he]);const ie=p.useMemo(()=>j?e0(j):null,[j]);return b.viewport?t.jsxs(t.Fragment,{children:[ie&&t.jsx(Bk,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:ie}),t.jsx(Mk,{scope:s,onClose:pe,children:Ea.createPortal(t.jsx(Gm.ItemSlot,{scope:s,children:t.jsx(xk,{asChild:!0,onEscapeKeyDown:Fe(f,()=>{b.isFocusedToastEscapeKeyDownRef.current||pe(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx($e.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":b.swipeDirection,...C,ref:P,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Fe(e.onKeyDown,H=>{H.key==="Escape"&&(f?.(H.nativeEvent),H.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,pe()))}),onPointerDown:Fe(e.onPointerDown,H=>{H.button===0&&(R.current={x:H.clientX,y:H.clientY})}),onPointerMove:Fe(e.onPointerMove,H=>{if(!R.current)return;const ge=H.clientX-R.current.x,G=H.clientY-R.current.y,q=!!F.current,N=["left","right"].includes(b.swipeDirection),B=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,Y=N?B(0,ge):0,I=N?0:B(0,G),O=H.pointerType==="touch"?10:2,_={x:Y,y:I},U={originalEvent:H,delta:_};q?(F.current=_,jc(Ik,y,U,{discrete:!1})):rv(_,b.swipeDirection,O)?(F.current=_,jc(Rk,x,U,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ge)>O||Math.abs(G)>O)&&(R.current=null)}),onPointerUp:Fe(e.onPointerUp,H=>{const ge=F.current,G=H.target;if(G.hasPointerCapture(H.pointerId)&&G.releasePointerCapture(H.pointerId),F.current=null,R.current=null,ge){const q=H.currentTarget,N={originalEvent:H,delta:ge};rv(ge,b.swipeDirection,b.swipeThreshold)?jc(Dk,k,N,{discrete:!0}):jc(Ok,w,N,{discrete:!0}),q.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),Bk=e=>{const{__scopeToast:r,children:s,...a}=e,o=cd(tl,r),[c,u]=p.useState(!1),[f,h]=p.useState(!1);return zk(()=>u(!0)),p.useEffect(()=>{const g=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(g)},[]),f?null:t.jsx(el,{asChild:!0,children:t.jsx(ld,{...a,children:c&&t.jsxs(t.Fragment,{children:[o.label," ",s]})})})},$k="ToastTitle",Gy=p.forwardRef((e,r)=>{const{__scopeToast:s,...a}=e;return t.jsx($e.div,{...a,ref:r})});Gy.displayName=$k;var Vk="ToastDescription",Hy=p.forwardRef((e,r)=>{const{__scopeToast:s,...a}=e;return t.jsx($e.div,{...a,ref:r})});Hy.displayName=Vk;var Yy="ToastAction",Zy=p.forwardRef((e,r)=>{const{altText:s,...a}=e;return s.trim()?t.jsx(Jy,{altText:s,asChild:!0,children:t.jsx(Hm,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${Yy}\`. Expected non-empty \`string\`.`),null)});Zy.displayName=Yy;var Xy="ToastClose",Hm=p.forwardRef((e,r)=>{const{__scopeToast:s,...a}=e,o=Fk(Xy,s);return t.jsx(Jy,{asChild:!0,children:t.jsx($e.button,{type:"button",...a,ref:r,onClick:Fe(e.onClick,o.onClose)})})});Hm.displayName=Xy;var Jy=p.forwardRef((e,r)=>{const{__scopeToast:s,altText:a,...o}=e;return t.jsx($e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...o,ref:r})});function e0(e){const r=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),Uk(a)){const o=a.ariaHidden||a.hidden||a.style.display==="none",c=a.dataset.radixToastAnnounceExclude==="";if(!o)if(c){const u=a.dataset.radixToastAnnounceAlt;u&&r.push(u)}else r.push(...e0(a))}}),r}function jc(e,r,s,{discrete:a}){const o=s.originalEvent.currentTarget,c=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});r&&o.addEventListener(e,r,{once:!0}),a?Fy(o,c):o.dispatchEvent(c)}var rv=(e,r,s=0)=>{const a=Math.abs(e.x),o=Math.abs(e.y),c=a>o;return r==="left"||r==="right"?c&&a>s:!c&&o>s};function zk(e=()=>{}){const r=un(e);vr(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[r])}function Uk(e){return e.nodeType===e.ELEMENT_NODE}function Wk(e){const r=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function Df(e){const r=document.activeElement;return e.some(s=>s===r?!0:(s.focus(),document.activeElement!==r))}var qk=Uy,t0=qy,r0=Qy,n0=Gy,s0=Hy,i0=Zy,a0=Hm;function o0(e){var r,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(s=o0(e[r]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function l0(){for(var e,r,s=0,a="",o=arguments.length;s<o;s++)(e=arguments[s])&&(r=o0(e))&&(a&&(a+=" "),a+=r);return a}const nv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sv=l0,rl=(e,r)=>s=>{var a;if(r?.variants==null)return sv(e,s?.class,s?.className);const{variants:o,defaultVariants:c}=r,u=Object.keys(o).map(g=>{const x=s?.[g],y=c?.[g];if(x===null)return null;const w=nv(x)||nv(y);return o[g][w]}),f=s&&Object.entries(s).reduce((g,x)=>{let[y,w]=x;return w===void 0||(g[y]=w),g},{}),h=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((g,x)=>{let{class:y,className:w,...k}=x;return Object.entries(k).every(C=>{let[b,j]=C;return Array.isArray(j)?j.includes({...c,...f}[b]):{...c,...f}[b]===j})?[...g,y,w]:g},[]);return sv(e,u,h,s?.class,s?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c0=(...e)=>e.filter((r,s,a)=>!!r&&a.indexOf(r)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=p.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:u,...f},h)=>p.createElement("svg",{ref:h,...Qk,width:r,height:r,stroke:e,strokeWidth:a?Number(s)*24/Number(r):s,className:c0("lucide",o),...f},[...u.map(([g,x])=>p.createElement(g,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(e,r)=>{const s=p.forwardRef(({className:a,...o},c)=>p.createElement(Gk,{ref:c,iconNode:r,className:c0(`lucide-${Kk(e)}`,a),...o}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Je("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=Je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Je("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=Je("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=Je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=Je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=Je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=Je("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Je("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Je("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=Je("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=Je("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=Je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=Je("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=Je("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=Je("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=Je("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=Je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=Je("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=Je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Je("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=Je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=Je("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Je("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Je("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=Je("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=Je("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=Je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=Je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=Je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=Je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=Je("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=Je("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=Je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=Je("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Xm="-",c2=e=>{const r=u2(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:u=>{const f=u.split(Xm);return f[0]===""&&f.length!==1&&f.shift(),m0(f,r)||d2(u)},getConflictingClassGroupIds:(u,f)=>{const h=s[u]||[];return f&&a[u]?[...h,...a[u]]:h}}},m0=(e,r)=>{if(e.length===0)return r.classGroupId;const s=e[0],a=r.nextPart.get(s),o=a?m0(e.slice(1),a):void 0;if(o)return o;if(r.validators.length===0)return;const c=e.join(Xm);return r.validators.find(({validator:u})=>u(c))?.classGroupId},dv=/^\[(.+)\]$/,d2=e=>{if(dv.test(e)){const r=dv.exec(e)[1],s=r?.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},u2=e=>{const{theme:r,prefix:s}=e,a={nextPart:new Map,validators:[]};return m2(Object.entries(e.classGroups),s).forEach(([c,u])=>{pm(u,a,c,r)}),a},pm=(e,r,s,a)=>{e.forEach(o=>{if(typeof o=="string"){const c=o===""?r:uv(r,o);c.classGroupId=s;return}if(typeof o=="function"){if(f2(o)){pm(o(a),r,s,a);return}r.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([c,u])=>{pm(u,uv(r,c),s,a)})})},uv=(e,r)=>{let s=e;return r.split(Xm).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},f2=e=>e.isThemeGetter,m2=(e,r)=>r?e.map(([s,a])=>{const o=a.map(c=>typeof c=="string"?r+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,f])=>[r+u,f])):c);return[s,o]}):e,h2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,a=new Map;const o=(c,u)=>{s.set(c,u),r++,r>e&&(r=0,a=s,s=new Map)};return{get(c){let u=s.get(c);if(u!==void 0)return u;if((u=a.get(c))!==void 0)return o(c,u),u},set(c,u){s.has(c)?s.set(c,u):o(c,u)}}},h0="!",p2=e=>{const{separator:r,experimentalParseClassName:s}=e,a=r.length===1,o=r[0],c=r.length,u=f=>{const h=[];let g=0,x=0,y;for(let j=0;j<f.length;j++){let T=f[j];if(g===0){if(T===o&&(a||f.slice(j,j+c)===r)){h.push(f.slice(x,j)),x=j+c;continue}if(T==="/"){y=j;continue}}T==="["?g++:T==="]"&&g--}const w=h.length===0?f:f.substring(x),k=w.startsWith(h0),C=k?w.substring(1):w,b=y&&y>x?y-x:void 0;return{modifiers:h,hasImportantModifier:k,baseClassName:C,maybePostfixModifierPosition:b}};return s?f=>s({className:f,parseClassName:u}):u},g2=e=>{if(e.length<=1)return e;const r=[];let s=[];return e.forEach(a=>{a[0]==="["?(r.push(...s.sort(),a),s=[]):s.push(a)}),r.push(...s.sort()),r},x2=e=>({cache:h2(e.cacheSize),parseClassName:p2(e),...c2(e)}),v2=/\s+/,y2=(e,r)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:o}=r,c=[],u=e.trim().split(v2);let f="";for(let h=u.length-1;h>=0;h-=1){const g=u[h],{modifiers:x,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:k}=s(g);let C=!!k,b=a(C?w.substring(0,k):w);if(!b){if(!C){f=g+(f.length>0?" "+f:f);continue}if(b=a(w),!b){f=g+(f.length>0?" "+f:f);continue}C=!1}const j=g2(x).join(":"),T=y?j+h0:j,P=T+b;if(c.includes(P))continue;c.push(P);const R=o(b,C);for(let F=0;F<R.length;++F){const $=R[F];c.push(T+$)}f=g+(f.length>0?" "+f:f)}return f};function b2(){let e=0,r,s,a="";for(;e<arguments.length;)(r=arguments[e++])&&(s=p0(r))&&(a&&(a+=" "),a+=s);return a}const p0=e=>{if(typeof e=="string")return e;let r,s="";for(let a=0;a<e.length;a++)e[a]&&(r=p0(e[a]))&&(s&&(s+=" "),s+=r);return s};function j2(e,...r){let s,a,o,c=u;function u(h){const g=r.reduce((x,y)=>y(x),e());return s=x2(g),a=s.cache.get,o=s.cache.set,c=f,f(h)}function f(h){const g=a(h);if(g)return g;const x=y2(h,s);return o(h,x),x}return function(){return c(b2.apply(null,arguments))}}const St=e=>{const r=s=>s[e]||[];return r.isThemeGetter=!0,r},g0=/^\[(?:([a-z-]+):)?(.+)\]$/i,w2=/^\d+\/\d+$/,N2=new Set(["px","full","screen"]),S2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,C2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,P2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,T2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ns=e=>fa(e)||N2.has(e)||w2.test(e),Ds=e=>Aa(e,"length",M2),fa=e=>!!e&&!Number.isNaN(Number(e)),Ff=e=>Aa(e,"number",fa),wo=e=>!!e&&Number.isInteger(Number(e)),E2=e=>e.endsWith("%")&&fa(e.slice(0,-1)),st=e=>g0.test(e),Ms=e=>S2.test(e),_2=new Set(["length","size","percentage"]),A2=e=>Aa(e,_2,x0),R2=e=>Aa(e,"position",x0),I2=new Set(["image","url"]),O2=e=>Aa(e,I2,L2),D2=e=>Aa(e,"",F2),No=()=>!0,Aa=(e,r,s)=>{const a=g0.exec(e);return a?a[1]?typeof r=="string"?a[1]===r:r.has(a[1]):s(a[2]):!1},M2=e=>C2.test(e)&&!k2.test(e),x0=()=>!1,F2=e=>P2.test(e),L2=e=>T2.test(e),B2=()=>{const e=St("colors"),r=St("spacing"),s=St("blur"),a=St("brightness"),o=St("borderColor"),c=St("borderRadius"),u=St("borderSpacing"),f=St("borderWidth"),h=St("contrast"),g=St("grayscale"),x=St("hueRotate"),y=St("invert"),w=St("gap"),k=St("gradientColorStops"),C=St("gradientColorStopPositions"),b=St("inset"),j=St("margin"),T=St("opacity"),P=St("padding"),R=St("saturate"),F=St("scale"),$=St("sepia"),X=St("skew"),K=St("space"),te=St("translate"),xe=()=>["auto","contain","none"],he=()=>["auto","hidden","clip","visible","scroll"],pe=()=>["auto",st,r],ee=()=>[st,r],ie=()=>["",ns,Ds],H=()=>["auto",fa,st],ge=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",st],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[fa,st];return{cacheSize:500,separator:":",theme:{colors:[No],spacing:[ns,Ds],blur:["none","",Ms,st],brightness:I(),borderColor:[e],borderRadius:["none","","full",Ms,st],borderSpacing:ee(),borderWidth:ie(),contrast:I(),grayscale:B(),hueRotate:I(),invert:B(),gap:ee(),gradientColorStops:[e],gradientColorStopPositions:[E2,Ds],inset:pe(),margin:pe(),opacity:I(),padding:ee(),saturate:I(),scale:I(),sepia:B(),skew:I(),space:ee(),translate:ee()},classGroups:{aspect:[{aspect:["auto","square","video",st]}],container:["container"],columns:[{columns:[Ms]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ge(),st]}],overflow:[{overflow:he()}],"overflow-x":[{"overflow-x":he()}],"overflow-y":[{"overflow-y":he()}],overscroll:[{overscroll:xe()}],"overscroll-x":[{"overscroll-x":xe()}],"overscroll-y":[{"overscroll-y":xe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wo,st]}],basis:[{basis:pe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",st]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",wo,st]}],"grid-cols":[{"grid-cols":[No]}],"col-start-end":[{col:["auto",{span:["full",wo,st]},st]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[No]}],"row-start-end":[{row:["auto",{span:[wo,st]},st]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",st]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",st]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[K]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[K]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",st,r]}],"min-w":[{"min-w":[st,r,"min","max","fit"]}],"max-w":[{"max-w":[st,r,"none","full","min","max","fit","prose",{screen:[Ms]},Ms]}],h:[{h:[st,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[st,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[st,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[st,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Ms,Ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ff]}],"font-family":[{font:[No]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",st]}],"line-clamp":[{"line-clamp":["none",fa,Ff]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ns,st]}],"list-image":[{"list-image":["none",st]}],"list-style-type":[{list:["none","disc","decimal",st]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ns,Ds]}],"underline-offset":[{"underline-offset":["auto",ns,st]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ee()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ge(),R2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",A2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},O2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:G()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[ns,st]}],"outline-w":[{outline:[ns,Ds]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[ns,Ds]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ms,D2]}],"shadow-color":[{shadow:[No]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Ms,st]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[y]}],saturate:[{saturate:[R]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",st]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",st]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",st]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[F]}],"scale-x":[{"scale-x":[F]}],"scale-y":[{"scale-y":[F]}],rotate:[{rotate:[wo,st]}],"translate-x":[{"translate-x":[te]}],"translate-y":[{"translate-y":[te]}],"skew-x":[{"skew-x":[X]}],"skew-y":[{"skew-y":[X]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",st]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ee()}],"scroll-mx":[{"scroll-mx":ee()}],"scroll-my":[{"scroll-my":ee()}],"scroll-ms":[{"scroll-ms":ee()}],"scroll-me":[{"scroll-me":ee()}],"scroll-mt":[{"scroll-mt":ee()}],"scroll-mr":[{"scroll-mr":ee()}],"scroll-mb":[{"scroll-mb":ee()}],"scroll-ml":[{"scroll-ml":ee()}],"scroll-p":[{"scroll-p":ee()}],"scroll-px":[{"scroll-px":ee()}],"scroll-py":[{"scroll-py":ee()}],"scroll-ps":[{"scroll-ps":ee()}],"scroll-pe":[{"scroll-pe":ee()}],"scroll-pt":[{"scroll-pt":ee()}],"scroll-pr":[{"scroll-pr":ee()}],"scroll-pb":[{"scroll-pb":ee()}],"scroll-pl":[{"scroll-pl":ee()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ns,Ds,Ff]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$2=j2(B2);function Te(...e){return $2(l0(e))}const V2=qk,v0=p.forwardRef(({className:e,...r},s)=>t.jsx(t0,{ref:s,className:Te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));v0.displayName=t0.displayName;const z2=rl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),y0=p.forwardRef(({className:e,variant:r,...s},a)=>t.jsx(r0,{ref:a,className:Te(z2({variant:r}),e),...s}));y0.displayName=r0.displayName;const U2=p.forwardRef(({className:e,...r},s)=>t.jsx(i0,{ref:s,className:Te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r}));U2.displayName=i0.displayName;const b0=p.forwardRef(({className:e,...r},s)=>t.jsx(a0,{ref:s,className:Te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:t.jsx(ud,{className:"h-4 w-4"})}));b0.displayName=a0.displayName;const j0=p.forwardRef(({className:e,...r},s)=>t.jsx(n0,{ref:s,className:Te("text-sm font-semibold",e),...r}));j0.displayName=n0.displayName;const w0=p.forwardRef(({className:e,...r},s)=>t.jsx(s0,{ref:s,className:Te("text-sm opacity-90",e),...r}));w0.displayName=s0.displayName;function W2(){const{toasts:e}=Vt();return t.jsxs(V2,{children:[e.map(function({id:r,title:s,description:a,action:o,...c}){return t.jsxs(y0,{...c,children:[t.jsxs("div",{className:"grid gap-1",children:[s&&t.jsx(j0,{children:s}),a&&t.jsx(w0,{children:a})]}),o,t.jsx(b0,{})]},r)}),t.jsx(v0,{})]})}var q2=Bm[" useId ".trim().toString()]||(()=>{}),K2=0;function Ar(e){const[r,s]=p.useState(q2());return vr(()=>{s(a=>a??String(K2++))},[e]),r?`radix-${r}`:""}const Q2=["top","right","bottom","left"],Qs=Math.min,Hr=Math.max,$c=Math.round,wc=Math.floor,Vn=e=>({x:e,y:e}),G2={left:"right",right:"left",bottom:"top",top:"bottom"},H2={start:"end",end:"start"};function gm(e,r,s){return Hr(e,Qs(r,s))}function cs(e,r){return typeof e=="function"?e(r):e}function ds(e){return e.split("-")[0]}function Ra(e){return e.split("-")[1]}function Jm(e){return e==="x"?"y":"x"}function eh(e){return e==="y"?"height":"width"}const Y2=new Set(["top","bottom"]);function Bn(e){return Y2.has(ds(e))?"y":"x"}function th(e){return Jm(Bn(e))}function Z2(e,r,s){s===void 0&&(s=!1);const a=Ra(e),o=th(e),c=eh(o);let u=o==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[c]>r.floating[c]&&(u=Vc(u)),[u,Vc(u)]}function X2(e){const r=Vc(e);return[xm(e),r,xm(r)]}function xm(e){return e.replace(/start|end/g,r=>H2[r])}const fv=["left","right"],mv=["right","left"],J2=["top","bottom"],eP=["bottom","top"];function tP(e,r,s){switch(e){case"top":case"bottom":return s?r?mv:fv:r?fv:mv;case"left":case"right":return r?J2:eP;default:return[]}}function rP(e,r,s,a){const o=Ra(e);let c=tP(ds(e),s==="start",a);return o&&(c=c.map(u=>u+"-"+o),r&&(c=c.concat(c.map(xm)))),c}function Vc(e){return e.replace(/left|right|bottom|top/g,r=>G2[r])}function nP(e){return{top:0,right:0,bottom:0,left:0,...e}}function N0(e){return typeof e!="number"?nP(e):{top:e,right:e,bottom:e,left:e}}function zc(e){const{x:r,y:s,width:a,height:o}=e;return{width:a,height:o,top:s,left:r,right:r+a,bottom:s+o,x:r,y:s}}function hv(e,r,s){let{reference:a,floating:o}=e;const c=Bn(r),u=th(r),f=eh(u),h=ds(r),g=c==="y",x=a.x+a.width/2-o.width/2,y=a.y+a.height/2-o.height/2,w=a[f]/2-o[f]/2;let k;switch(h){case"top":k={x,y:a.y-o.height};break;case"bottom":k={x,y:a.y+a.height};break;case"right":k={x:a.x+a.width,y};break;case"left":k={x:a.x-o.width,y};break;default:k={x:a.x,y:a.y}}switch(Ra(r)){case"start":k[u]-=w*(s&&g?-1:1);break;case"end":k[u]+=w*(s&&g?-1:1);break}return k}const sP=async(e,r,s)=>{const{placement:a="bottom",strategy:o="absolute",middleware:c=[],platform:u}=s,f=c.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(r));let g=await u.getElementRects({reference:e,floating:r,strategy:o}),{x,y}=hv(g,a,h),w=a,k={},C=0;for(let b=0;b<f.length;b++){const{name:j,fn:T}=f[b],{x:P,y:R,data:F,reset:$}=await T({x,y,initialPlacement:a,placement:w,strategy:o,middlewareData:k,rects:g,platform:u,elements:{reference:e,floating:r}});x=P??x,y=R??y,k={...k,[j]:{...k[j],...F}},$&&C<=50&&(C++,typeof $=="object"&&($.placement&&(w=$.placement),$.rects&&(g=$.rects===!0?await u.getElementRects({reference:e,floating:r,strategy:o}):$.rects),{x,y}=hv(g,w,h)),b=-1)}return{x,y,placement:w,strategy:o,middlewareData:k}};async function Mo(e,r){var s;r===void 0&&(r={});const{x:a,y:o,platform:c,rects:u,elements:f,strategy:h}=e,{boundary:g="clippingAncestors",rootBoundary:x="viewport",elementContext:y="floating",altBoundary:w=!1,padding:k=0}=cs(r,e),C=N0(k),j=f[w?y==="floating"?"reference":"floating":y],T=zc(await c.getClippingRect({element:(s=await(c.isElement==null?void 0:c.isElement(j)))==null||s?j:j.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:g,rootBoundary:x,strategy:h})),P=y==="floating"?{x:a,y:o,width:u.floating.width,height:u.floating.height}:u.reference,R=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),F=await(c.isElement==null?void 0:c.isElement(R))?await(c.getScale==null?void 0:c.getScale(R))||{x:1,y:1}:{x:1,y:1},$=zc(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:P,offsetParent:R,strategy:h}):P);return{top:(T.top-$.top+C.top)/F.y,bottom:($.bottom-T.bottom+C.bottom)/F.y,left:(T.left-$.left+C.left)/F.x,right:($.right-T.right+C.right)/F.x}}const iP=e=>({name:"arrow",options:e,async fn(r){const{x:s,y:a,placement:o,rects:c,platform:u,elements:f,middlewareData:h}=r,{element:g,padding:x=0}=cs(e,r)||{};if(g==null)return{};const y=N0(x),w={x:s,y:a},k=th(o),C=eh(k),b=await u.getDimensions(g),j=k==="y",T=j?"top":"left",P=j?"bottom":"right",R=j?"clientHeight":"clientWidth",F=c.reference[C]+c.reference[k]-w[k]-c.floating[C],$=w[k]-c.reference[k],X=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let K=X?X[R]:0;(!K||!await(u.isElement==null?void 0:u.isElement(X)))&&(K=f.floating[R]||c.floating[C]);const te=F/2-$/2,xe=K/2-b[C]/2-1,he=Qs(y[T],xe),pe=Qs(y[P],xe),ee=he,ie=K-b[C]-pe,H=K/2-b[C]/2+te,ge=gm(ee,H,ie),G=!h.arrow&&Ra(o)!=null&&H!==ge&&c.reference[C]/2-(H<ee?he:pe)-b[C]/2<0,q=G?H<ee?H-ee:H-ie:0;return{[k]:w[k]+q,data:{[k]:ge,centerOffset:H-ge-q,...G&&{alignmentOffset:q}},reset:G}}}),aP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var s,a;const{placement:o,middlewareData:c,rects:u,initialPlacement:f,platform:h,elements:g}=r,{mainAxis:x=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:b=!0,...j}=cs(e,r);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const T=ds(o),P=Bn(f),R=ds(f)===f,F=await(h.isRTL==null?void 0:h.isRTL(g.floating)),$=w||(R||!b?[Vc(f)]:X2(f)),X=C!=="none";!w&&X&&$.push(...rP(f,b,C,F));const K=[f,...$],te=await Mo(r,j),xe=[];let he=((a=c.flip)==null?void 0:a.overflows)||[];if(x&&xe.push(te[T]),y){const H=Z2(o,u,F);xe.push(te[H[0]],te[H[1]])}if(he=[...he,{placement:o,overflows:xe}],!xe.every(H=>H<=0)){var pe,ee;const H=(((pe=c.flip)==null?void 0:pe.index)||0)+1,ge=K[H];if(ge&&(!(y==="alignment"?P!==Bn(ge):!1)||he.every(N=>Bn(N.placement)===P?N.overflows[0]>0:!0)))return{data:{index:H,overflows:he},reset:{placement:ge}};let G=(ee=he.filter(q=>q.overflows[0]<=0).sort((q,N)=>q.overflows[1]-N.overflows[1])[0])==null?void 0:ee.placement;if(!G)switch(k){case"bestFit":{var ie;const q=(ie=he.filter(N=>{if(X){const B=Bn(N.placement);return B===P||B==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(B=>B>0).reduce((B,Y)=>B+Y,0)]).sort((N,B)=>N[1]-B[1])[0])==null?void 0:ie[0];q&&(G=q);break}case"initialPlacement":G=f;break}if(o!==G)return{reset:{placement:G}}}return{}}}};function pv(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function gv(e){return Q2.some(r=>e[r]>=0)}const oP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:s}=r,{strategy:a="referenceHidden",...o}=cs(e,r);switch(a){case"referenceHidden":{const c=await Mo(r,{...o,elementContext:"reference"}),u=pv(c,s.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:gv(u)}}}case"escaped":{const c=await Mo(r,{...o,altBoundary:!0}),u=pv(c,s.floating);return{data:{escapedOffsets:u,escaped:gv(u)}}}default:return{}}}}},S0=new Set(["left","top"]);async function lP(e,r){const{placement:s,platform:a,elements:o}=e,c=await(a.isRTL==null?void 0:a.isRTL(o.floating)),u=ds(s),f=Ra(s),h=Bn(s)==="y",g=S0.has(u)?-1:1,x=c&&h?-1:1,y=cs(r,e);let{mainAxis:w,crossAxis:k,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return f&&typeof C=="number"&&(k=f==="end"?C*-1:C),h?{x:k*x,y:w*g}:{x:w*g,y:k*x}}const cP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var s,a;const{x:o,y:c,placement:u,middlewareData:f}=r,h=await lP(r,e);return u===((s=f.offset)==null?void 0:s.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:o+h.x,y:c+h.y,data:{...h,placement:u}}}}},dP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:s,y:a,placement:o}=r,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:j=>{let{x:T,y:P}=j;return{x:T,y:P}}},...h}=cs(e,r),g={x:s,y:a},x=await Mo(r,h),y=Bn(ds(o)),w=Jm(y);let k=g[w],C=g[y];if(c){const j=w==="y"?"top":"left",T=w==="y"?"bottom":"right",P=k+x[j],R=k-x[T];k=gm(P,k,R)}if(u){const j=y==="y"?"top":"left",T=y==="y"?"bottom":"right",P=C+x[j],R=C-x[T];C=gm(P,C,R)}const b=f.fn({...r,[w]:k,[y]:C});return{...b,data:{x:b.x-s,y:b.y-a,enabled:{[w]:c,[y]:u}}}}}},uP=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:s,y:a,placement:o,rects:c,middlewareData:u}=r,{offset:f=0,mainAxis:h=!0,crossAxis:g=!0}=cs(e,r),x={x:s,y:a},y=Bn(o),w=Jm(y);let k=x[w],C=x[y];const b=cs(f,r),j=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(h){const R=w==="y"?"height":"width",F=c.reference[w]-c.floating[R]+j.mainAxis,$=c.reference[w]+c.reference[R]-j.mainAxis;k<F?k=F:k>$&&(k=$)}if(g){var T,P;const R=w==="y"?"width":"height",F=S0.has(ds(o)),$=c.reference[y]-c.floating[R]+(F&&((T=u.offset)==null?void 0:T[y])||0)+(F?0:j.crossAxis),X=c.reference[y]+c.reference[R]+(F?0:((P=u.offset)==null?void 0:P[y])||0)-(F?j.crossAxis:0);C<$?C=$:C>X&&(C=X)}return{[w]:k,[y]:C}}}},fP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var s,a;const{placement:o,rects:c,platform:u,elements:f}=r,{apply:h=()=>{},...g}=cs(e,r),x=await Mo(r,g),y=ds(o),w=Ra(o),k=Bn(o)==="y",{width:C,height:b}=c.floating;let j,T;y==="top"||y==="bottom"?(j=y,T=w===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(T=y,j=w==="end"?"top":"bottom");const P=b-x.top-x.bottom,R=C-x.left-x.right,F=Qs(b-x[j],P),$=Qs(C-x[T],R),X=!r.middlewareData.shift;let K=F,te=$;if((s=r.middlewareData.shift)!=null&&s.enabled.x&&(te=R),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(K=P),X&&!w){const he=Hr(x.left,0),pe=Hr(x.right,0),ee=Hr(x.top,0),ie=Hr(x.bottom,0);k?te=C-2*(he!==0||pe!==0?he+pe:Hr(x.left,x.right)):K=b-2*(ee!==0||ie!==0?ee+ie:Hr(x.top,x.bottom))}await h({...r,availableWidth:te,availableHeight:K});const xe=await u.getDimensions(f.floating);return C!==xe.width||b!==xe.height?{reset:{rects:!0}}:{}}}};function fd(){return typeof window<"u"}function Ia(e){return C0(e)?(e.nodeName||"").toLowerCase():"#document"}function Zr(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function Kn(e){var r;return(r=(C0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function C0(e){return fd()?e instanceof Node||e instanceof Zr(e).Node:!1}function kn(e){return fd()?e instanceof Element||e instanceof Zr(e).Element:!1}function Un(e){return fd()?e instanceof HTMLElement||e instanceof Zr(e).HTMLElement:!1}function xv(e){return!fd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zr(e).ShadowRoot}const mP=new Set(["inline","contents"]);function nl(e){const{overflow:r,overflowX:s,overflowY:a,display:o}=Pn(e);return/auto|scroll|overlay|hidden|clip/.test(r+a+s)&&!mP.has(o)}const hP=new Set(["table","td","th"]);function pP(e){return hP.has(Ia(e))}const gP=[":popover-open",":modal"];function md(e){return gP.some(r=>{try{return e.matches(r)}catch{return!1}})}const xP=["transform","translate","scale","rotate","perspective"],vP=["transform","translate","scale","rotate","perspective","filter"],yP=["paint","layout","strict","content"];function rh(e){const r=nh(),s=kn(e)?Pn(e):e;return xP.some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!r&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!r&&(s.filter?s.filter!=="none":!1)||vP.some(a=>(s.willChange||"").includes(a))||yP.some(a=>(s.contain||"").includes(a))}function bP(e){let r=Gs(e);for(;Un(r)&&!ya(r);){if(rh(r))return r;if(md(r))return null;r=Gs(r)}return null}function nh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jP=new Set(["html","body","#document"]);function ya(e){return jP.has(Ia(e))}function Pn(e){return Zr(e).getComputedStyle(e)}function hd(e){return kn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Gs(e){if(Ia(e)==="html")return e;const r=e.assignedSlot||e.parentNode||xv(e)&&e.host||Kn(e);return xv(r)?r.host:r}function k0(e){const r=Gs(e);return ya(r)?e.ownerDocument?e.ownerDocument.body:e.body:Un(r)&&nl(r)?r:k0(r)}function Fo(e,r,s){var a;r===void 0&&(r=[]),s===void 0&&(s=!0);const o=k0(e),c=o===((a=e.ownerDocument)==null?void 0:a.body),u=Zr(o);if(c){const f=vm(u);return r.concat(u,u.visualViewport||[],nl(o)?o:[],f&&s?Fo(f):[])}return r.concat(o,Fo(o,[],s))}function vm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function P0(e){const r=Pn(e);let s=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const o=Un(e),c=o?e.offsetWidth:s,u=o?e.offsetHeight:a,f=$c(s)!==c||$c(a)!==u;return f&&(s=c,a=u),{width:s,height:a,$:f}}function sh(e){return kn(e)?e:e.contextElement}function ma(e){const r=sh(e);if(!Un(r))return Vn(1);const s=r.getBoundingClientRect(),{width:a,height:o,$:c}=P0(r);let u=(c?$c(s.width):s.width)/a,f=(c?$c(s.height):s.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const wP=Vn(0);function T0(e){const r=Zr(e);return!nh()||!r.visualViewport?wP:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function NP(e,r,s){return r===void 0&&(r=!1),!s||r&&s!==Zr(e)?!1:r}function Si(e,r,s,a){r===void 0&&(r=!1),s===void 0&&(s=!1);const o=e.getBoundingClientRect(),c=sh(e);let u=Vn(1);r&&(a?kn(a)&&(u=ma(a)):u=ma(e));const f=NP(c,s,a)?T0(c):Vn(0);let h=(o.left+f.x)/u.x,g=(o.top+f.y)/u.y,x=o.width/u.x,y=o.height/u.y;if(c){const w=Zr(c),k=a&&kn(a)?Zr(a):a;let C=w,b=vm(C);for(;b&&a&&k!==C;){const j=ma(b),T=b.getBoundingClientRect(),P=Pn(b),R=T.left+(b.clientLeft+parseFloat(P.paddingLeft))*j.x,F=T.top+(b.clientTop+parseFloat(P.paddingTop))*j.y;h*=j.x,g*=j.y,x*=j.x,y*=j.y,h+=R,g+=F,C=Zr(b),b=vm(C)}}return zc({width:x,height:y,x:h,y:g})}function pd(e,r){const s=hd(e).scrollLeft;return r?r.left+s:Si(Kn(e)).left+s}function E0(e,r){const s=e.getBoundingClientRect(),a=s.left+r.scrollLeft-pd(e,s),o=s.top+r.scrollTop;return{x:a,y:o}}function SP(e){let{elements:r,rect:s,offsetParent:a,strategy:o}=e;const c=o==="fixed",u=Kn(a),f=r?md(r.floating):!1;if(a===u||f&&c)return s;let h={scrollLeft:0,scrollTop:0},g=Vn(1);const x=Vn(0),y=Un(a);if((y||!y&&!c)&&((Ia(a)!=="body"||nl(u))&&(h=hd(a)),Un(a))){const k=Si(a);g=ma(a),x.x=k.x+a.clientLeft,x.y=k.y+a.clientTop}const w=u&&!y&&!c?E0(u,h):Vn(0);return{width:s.width*g.x,height:s.height*g.y,x:s.x*g.x-h.scrollLeft*g.x+x.x+w.x,y:s.y*g.y-h.scrollTop*g.y+x.y+w.y}}function CP(e){return Array.from(e.getClientRects())}function kP(e){const r=Kn(e),s=hd(e),a=e.ownerDocument.body,o=Hr(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),c=Hr(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let u=-s.scrollLeft+pd(e);const f=-s.scrollTop;return Pn(a).direction==="rtl"&&(u+=Hr(r.clientWidth,a.clientWidth)-o),{width:o,height:c,x:u,y:f}}const vv=25;function PP(e,r){const s=Zr(e),a=Kn(e),o=s.visualViewport;let c=a.clientWidth,u=a.clientHeight,f=0,h=0;if(o){c=o.width,u=o.height;const x=nh();(!x||x&&r==="fixed")&&(f=o.offsetLeft,h=o.offsetTop)}const g=pd(a);if(g<=0){const x=a.ownerDocument,y=x.body,w=getComputedStyle(y),k=x.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,C=Math.abs(a.clientWidth-y.clientWidth-k);C<=vv&&(c-=C)}else g<=vv&&(c+=g);return{width:c,height:u,x:f,y:h}}const TP=new Set(["absolute","fixed"]);function EP(e,r){const s=Si(e,!0,r==="fixed"),a=s.top+e.clientTop,o=s.left+e.clientLeft,c=Un(e)?ma(e):Vn(1),u=e.clientWidth*c.x,f=e.clientHeight*c.y,h=o*c.x,g=a*c.y;return{width:u,height:f,x:h,y:g}}function yv(e,r,s){let a;if(r==="viewport")a=PP(e,s);else if(r==="document")a=kP(Kn(e));else if(kn(r))a=EP(r,s);else{const o=T0(e);a={x:r.x-o.x,y:r.y-o.y,width:r.width,height:r.height}}return zc(a)}function _0(e,r){const s=Gs(e);return s===r||!kn(s)||ya(s)?!1:Pn(s).position==="fixed"||_0(s,r)}function _P(e,r){const s=r.get(e);if(s)return s;let a=Fo(e,[],!1).filter(f=>kn(f)&&Ia(f)!=="body"),o=null;const c=Pn(e).position==="fixed";let u=c?Gs(e):e;for(;kn(u)&&!ya(u);){const f=Pn(u),h=rh(u);!h&&f.position==="fixed"&&(o=null),(c?!h&&!o:!h&&f.position==="static"&&!!o&&TP.has(o.position)||nl(u)&&!h&&_0(e,u))?a=a.filter(x=>x!==u):o=f,u=Gs(u)}return r.set(e,a),a}function AP(e){let{element:r,boundary:s,rootBoundary:a,strategy:o}=e;const u=[...s==="clippingAncestors"?md(r)?[]:_P(r,this._c):[].concat(s),a],f=u[0],h=u.reduce((g,x)=>{const y=yv(r,x,o);return g.top=Hr(y.top,g.top),g.right=Qs(y.right,g.right),g.bottom=Qs(y.bottom,g.bottom),g.left=Hr(y.left,g.left),g},yv(r,f,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function RP(e){const{width:r,height:s}=P0(e);return{width:r,height:s}}function IP(e,r,s){const a=Un(r),o=Kn(r),c=s==="fixed",u=Si(e,!0,c,r);let f={scrollLeft:0,scrollTop:0};const h=Vn(0);function g(){h.x=pd(o)}if(a||!a&&!c)if((Ia(r)!=="body"||nl(o))&&(f=hd(r)),a){const k=Si(r,!0,c,r);h.x=k.x+r.clientLeft,h.y=k.y+r.clientTop}else o&&g();c&&!a&&o&&g();const x=o&&!a&&!c?E0(o,f):Vn(0),y=u.left+f.scrollLeft-h.x-x.x,w=u.top+f.scrollTop-h.y-x.y;return{x:y,y:w,width:u.width,height:u.height}}function Lf(e){return Pn(e).position==="static"}function bv(e,r){if(!Un(e)||Pn(e).position==="fixed")return null;if(r)return r(e);let s=e.offsetParent;return Kn(e)===s&&(s=s.ownerDocument.body),s}function A0(e,r){const s=Zr(e);if(md(e))return s;if(!Un(e)){let o=Gs(e);for(;o&&!ya(o);){if(kn(o)&&!Lf(o))return o;o=Gs(o)}return s}let a=bv(e,r);for(;a&&pP(a)&&Lf(a);)a=bv(a,r);return a&&ya(a)&&Lf(a)&&!rh(a)?s:a||bP(e)||s}const OP=async function(e){const r=this.getOffsetParent||A0,s=this.getDimensions,a=await s(e.floating);return{reference:IP(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function DP(e){return Pn(e).direction==="rtl"}const MP={convertOffsetParentRelativeRectToViewportRelativeRect:SP,getDocumentElement:Kn,getClippingRect:AP,getOffsetParent:A0,getElementRects:OP,getClientRects:CP,getDimensions:RP,getScale:ma,isElement:kn,isRTL:DP};function R0(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function FP(e,r){let s=null,a;const o=Kn(e);function c(){var f;clearTimeout(a),(f=s)==null||f.disconnect(),s=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),c();const g=e.getBoundingClientRect(),{left:x,top:y,width:w,height:k}=g;if(f||r(),!w||!k)return;const C=wc(y),b=wc(o.clientWidth-(x+w)),j=wc(o.clientHeight-(y+k)),T=wc(x),R={rootMargin:-C+"px "+-b+"px "+-j+"px "+-T+"px",threshold:Hr(0,Qs(1,h))||1};let F=!0;function $(X){const K=X[0].intersectionRatio;if(K!==h){if(!F)return u();K?u(!1,K):a=setTimeout(()=>{u(!1,1e-7)},1e3)}K===1&&!R0(g,e.getBoundingClientRect())&&u(),F=!1}try{s=new IntersectionObserver($,{...R,root:o.ownerDocument})}catch{s=new IntersectionObserver($,R)}s.observe(e)}return u(!0),c}function LP(e,r,s,a){a===void 0&&(a={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=a,g=sh(e),x=o||c?[...g?Fo(g):[],...Fo(r)]:[];x.forEach(T=>{o&&T.addEventListener("scroll",s,{passive:!0}),c&&T.addEventListener("resize",s)});const y=g&&f?FP(g,s):null;let w=-1,k=null;u&&(k=new ResizeObserver(T=>{let[P]=T;P&&P.target===g&&k&&(k.unobserve(r),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var R;(R=k)==null||R.observe(r)})),s()}),g&&!h&&k.observe(g),k.observe(r));let C,b=h?Si(e):null;h&&j();function j(){const T=Si(e);b&&!R0(b,T)&&s(),b=T,C=requestAnimationFrame(j)}return s(),()=>{var T;x.forEach(P=>{o&&P.removeEventListener("scroll",s),c&&P.removeEventListener("resize",s)}),y?.(),(T=k)==null||T.disconnect(),k=null,h&&cancelAnimationFrame(C)}}const BP=cP,$P=dP,VP=aP,zP=fP,UP=oP,jv=iP,WP=uP,qP=(e,r,s)=>{const a=new Map,o={platform:MP,...s},c={...o.platform,_c:a};return sP(e,r,{...o,platform:c})};var KP=typeof document<"u",QP=function(){},Ic=KP?p.useLayoutEffect:QP;function Uc(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let s,a,o;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==r.length)return!1;for(a=s;a--!==0;)if(!Uc(e[a],r[a]))return!1;return!0}if(o=Object.keys(e),s=o.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(r,o[a]))return!1;for(a=s;a--!==0;){const c=o[a];if(!(c==="_owner"&&e.$$typeof)&&!Uc(e[c],r[c]))return!1}return!0}return e!==e&&r!==r}function I0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function wv(e,r){const s=I0(e);return Math.round(r*s)/s}function Bf(e){const r=p.useRef(e);return Ic(()=>{r.current=e}),r}function GP(e){e===void 0&&(e={});const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:h,open:g}=e,[x,y]=p.useState({x:0,y:0,strategy:s,placement:r,middlewareData:{},isPositioned:!1}),[w,k]=p.useState(a);Uc(w,a)||k(a);const[C,b]=p.useState(null),[j,T]=p.useState(null),P=p.useCallback(N=>{N!==X.current&&(X.current=N,b(N))},[]),R=p.useCallback(N=>{N!==K.current&&(K.current=N,T(N))},[]),F=c||C,$=u||j,X=p.useRef(null),K=p.useRef(null),te=p.useRef(x),xe=h!=null,he=Bf(h),pe=Bf(o),ee=Bf(g),ie=p.useCallback(()=>{if(!X.current||!K.current)return;const N={placement:r,strategy:s,middleware:w};pe.current&&(N.platform=pe.current),qP(X.current,K.current,N).then(B=>{const Y={...B,isPositioned:ee.current!==!1};H.current&&!Uc(te.current,Y)&&(te.current=Y,Ea.flushSync(()=>{y(Y)}))})},[w,r,s,pe,ee]);Ic(()=>{g===!1&&te.current.isPositioned&&(te.current.isPositioned=!1,y(N=>({...N,isPositioned:!1})))},[g]);const H=p.useRef(!1);Ic(()=>(H.current=!0,()=>{H.current=!1}),[]),Ic(()=>{if(F&&(X.current=F),$&&(K.current=$),F&&$){if(he.current)return he.current(F,$,ie);ie()}},[F,$,ie,he,xe]);const ge=p.useMemo(()=>({reference:X,floating:K,setReference:P,setFloating:R}),[P,R]),G=p.useMemo(()=>({reference:F,floating:$}),[F,$]),q=p.useMemo(()=>{const N={position:s,left:0,top:0};if(!G.floating)return N;const B=wv(G.floating,x.x),Y=wv(G.floating,x.y);return f?{...N,transform:"translate("+B+"px, "+Y+"px)",...I0(G.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:B,top:Y}},[s,f,G.floating,x.x,x.y]);return p.useMemo(()=>({...x,update:ie,refs:ge,elements:G,floatingStyles:q}),[x,ie,ge,G,q])}const HP=e=>{function r(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:a,padding:o}=typeof e=="function"?e(s):e;return a&&r(a)?a.current!=null?jv({element:a.current,padding:o}).fn(s):{}:a?jv({element:a,padding:o}).fn(s):{}}}},YP=(e,r)=>({...BP(e),options:[e,r]}),ZP=(e,r)=>({...$P(e),options:[e,r]}),XP=(e,r)=>({...WP(e),options:[e,r]}),JP=(e,r)=>({...VP(e),options:[e,r]}),eT=(e,r)=>({...zP(e),options:[e,r]}),tT=(e,r)=>({...UP(e),options:[e,r]}),rT=(e,r)=>({...HP(e),options:[e,r]});var nT="Arrow",O0=p.forwardRef((e,r)=>{const{children:s,width:a=10,height:o=5,...c}=e;return t.jsx($e.svg,{...c,ref:r,width:a,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});O0.displayName=nT;var sT=O0;function ih(e){const[r,s]=p.useState(void 0);return vr(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,f;if("borderBoxSize"in c){const h=c.borderBoxSize,g=Array.isArray(h)?h[0]:h;u=g.inlineSize,f=g.blockSize}else u=e.offsetWidth,f=e.offsetHeight;s({width:u,height:f})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else s(void 0)},[e]),r}var ah="Popper",[D0,Oa]=zr(ah),[iT,M0]=D0(ah),F0=e=>{const{__scopePopper:r,children:s}=e,[a,o]=p.useState(null);return t.jsx(iT,{scope:r,anchor:a,onAnchorChange:o,children:s})};F0.displayName=ah;var L0="PopperAnchor",B0=p.forwardRef((e,r)=>{const{__scopePopper:s,virtualRef:a,...o}=e,c=M0(L0,s),u=p.useRef(null),f=lt(r,u),h=p.useRef(null);return p.useEffect(()=>{const g=h.current;h.current=a?.current||u.current,g!==h.current&&c.onAnchorChange(h.current)}),a?null:t.jsx($e.div,{...o,ref:f})});B0.displayName=L0;var oh="PopperContent",[aT,oT]=D0(oh),$0=p.forwardRef((e,r)=>{const{__scopePopper:s,side:a="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:g=[],collisionPadding:x=0,sticky:y="partial",hideWhenDetached:w=!1,updatePositionStrategy:k="optimized",onPlaced:C,...b}=e,j=M0(oh,s),[T,P]=p.useState(null),R=lt(r,re=>P(re)),[F,$]=p.useState(null),X=ih(F),K=X?.width??0,te=X?.height??0,xe=a+(c!=="center"?"-"+c:""),he=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},pe=Array.isArray(g)?g:[g],ee=pe.length>0,ie={padding:he,boundary:pe.filter(cT),altBoundary:ee},{refs:H,floatingStyles:ge,placement:G,isPositioned:q,middlewareData:N}=GP({strategy:"fixed",placement:xe,whileElementsMounted:(...re)=>LP(...re,{animationFrame:k==="always"}),elements:{reference:j.anchor},middleware:[YP({mainAxis:o+te,alignmentAxis:u}),h&&ZP({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?XP():void 0,...ie}),h&&JP({...ie}),eT({...ie,apply:({elements:re,rects:je,availableWidth:Re,availableHeight:Ue})=>{const{width:dt,height:ft}=je.reference,Yt=re.floating.style;Yt.setProperty("--radix-popper-available-width",`${Re}px`),Yt.setProperty("--radix-popper-available-height",`${Ue}px`),Yt.setProperty("--radix-popper-anchor-width",`${dt}px`),Yt.setProperty("--radix-popper-anchor-height",`${ft}px`)}}),F&&rT({element:F,padding:f}),dT({arrowWidth:K,arrowHeight:te}),w&&tT({strategy:"referenceHidden",...ie})]}),[B,Y]=U0(G),I=un(C);vr(()=>{q&&I?.()},[q,I]);const O=N.arrow?.x,_=N.arrow?.y,U=N.arrow?.centerOffset!==0,[ne,ue]=p.useState();return vr(()=>{T&&ue(window.getComputedStyle(T).zIndex)},[T]),t.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:q?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[N.transformOrigin?.x,N.transformOrigin?.y].join(" "),...N.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(aT,{scope:s,placedSide:B,onArrowChange:$,arrowX:O,arrowY:_,shouldHideArrow:U,children:t.jsx($e.div,{"data-side":B,"data-align":Y,...b,ref:R,style:{...b.style,animation:q?void 0:"none"}})})})});$0.displayName=oh;var V0="PopperArrow",lT={top:"bottom",right:"left",bottom:"top",left:"right"},z0=p.forwardRef(function(r,s){const{__scopePopper:a,...o}=r,c=oT(V0,a),u=lT[c.placedSide];return t.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:t.jsx(sT,{...o,ref:s,style:{...o.style,display:"block"}})})});z0.displayName=V0;function cT(e){return e!==null}var dT=e=>({name:"transformOrigin",options:e,fn(r){const{placement:s,rects:a,middlewareData:o}=r,u=o.arrow?.centerOffset!==0,f=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[g,x]=U0(s),y={start:"0%",center:"50%",end:"100%"}[x],w=(o.arrow?.x??0)+f/2,k=(o.arrow?.y??0)+h/2;let C="",b="";return g==="bottom"?(C=u?y:`${w}px`,b=`${-h}px`):g==="top"?(C=u?y:`${w}px`,b=`${a.floating.height+h}px`):g==="right"?(C=`${-h}px`,b=u?y:`${k}px`):g==="left"&&(C=`${a.floating.width+h}px`,b=u?y:`${k}px`),{data:{x:C,y:b}}}});function U0(e){const[r,s="center"]=e.split("-");return[r,s]}var W0=F0,gd=B0,lh=$0,ch=z0,[xd,GD]=zr("Tooltip",[Oa]),dh=Oa(),q0="TooltipProvider",uT=700,Nv="tooltip.open",[fT,K0]=xd(q0),Q0=e=>{const{__scopeTooltip:r,delayDuration:s=uT,skipDelayDuration:a=300,disableHoverableContent:o=!1,children:c}=e,u=p.useRef(!0),f=p.useRef(!1),h=p.useRef(0);return p.useEffect(()=>{const g=h.current;return()=>window.clearTimeout(g)},[]),t.jsx(fT,{scope:r,isOpenDelayedRef:u,delayDuration:s,onOpen:p.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,a)},[a]),isPointerInTransitRef:f,onPointerInTransitChange:p.useCallback(g=>{f.current=g},[]),disableHoverableContent:o,children:c})};Q0.displayName=q0;var G0="Tooltip",[HD,vd]=xd(G0),ym="TooltipTrigger",mT=p.forwardRef((e,r)=>{const{__scopeTooltip:s,...a}=e,o=vd(ym,s),c=K0(ym,s),u=dh(s),f=p.useRef(null),h=lt(r,f,o.onTriggerChange),g=p.useRef(!1),x=p.useRef(!1),y=p.useCallback(()=>g.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),t.jsx(gd,{asChild:!0,...u,children:t.jsx($e.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...a,ref:h,onPointerMove:Fe(e.onPointerMove,w=>{w.pointerType!=="touch"&&!x.current&&!c.isPointerInTransitRef.current&&(o.onTriggerEnter(),x.current=!0)}),onPointerLeave:Fe(e.onPointerLeave,()=>{o.onTriggerLeave(),x.current=!1}),onPointerDown:Fe(e.onPointerDown,()=>{o.open&&o.onClose(),g.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:Fe(e.onFocus,()=>{g.current||o.onOpen()}),onBlur:Fe(e.onBlur,o.onClose),onClick:Fe(e.onClick,o.onClose)})})});mT.displayName=ym;var hT="TooltipPortal",[YD,pT]=xd(hT,{forceMount:void 0}),ba="TooltipContent",H0=p.forwardRef((e,r)=>{const s=pT(ba,e.__scopeTooltip),{forceMount:a=s.forceMount,side:o="top",...c}=e,u=vd(ba,e.__scopeTooltip);return t.jsx(En,{present:a||u.open,children:u.disableHoverableContent?t.jsx(Y0,{side:o,...c,ref:r}):t.jsx(gT,{side:o,...c,ref:r})})}),gT=p.forwardRef((e,r)=>{const s=vd(ba,e.__scopeTooltip),a=K0(ba,e.__scopeTooltip),o=p.useRef(null),c=lt(r,o),[u,f]=p.useState(null),{trigger:h,onClose:g}=s,x=o.current,{onPointerInTransitChange:y}=a,w=p.useCallback(()=>{f(null),y(!1)},[y]),k=p.useCallback((C,b)=>{const j=C.currentTarget,T={x:C.clientX,y:C.clientY},P=jT(T,j.getBoundingClientRect()),R=wT(T,P),F=NT(b.getBoundingClientRect()),$=CT([...R,...F]);f($),y(!0)},[y]);return p.useEffect(()=>()=>w(),[w]),p.useEffect(()=>{if(h&&x){const C=j=>k(j,x),b=j=>k(j,h);return h.addEventListener("pointerleave",C),x.addEventListener("pointerleave",b),()=>{h.removeEventListener("pointerleave",C),x.removeEventListener("pointerleave",b)}}},[h,x,k,w]),p.useEffect(()=>{if(u){const C=b=>{const j=b.target,T={x:b.clientX,y:b.clientY},P=h?.contains(j)||x?.contains(j),R=!ST(T,u);P?w():R&&(w(),g())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[h,x,u,g,w]),t.jsx(Y0,{...e,ref:c})}),[xT,vT]=xd(G0,{isInside:!1}),yT=My("TooltipContent"),Y0=p.forwardRef((e,r)=>{const{__scopeTooltip:s,children:a,"aria-label":o,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=e,h=vd(ba,s),g=dh(s),{onClose:x}=h;return p.useEffect(()=>(document.addEventListener(Nv,x),()=>document.removeEventListener(Nv,x)),[x]),p.useEffect(()=>{if(h.trigger){const y=w=>{w.target?.contains(h.trigger)&&x()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[h.trigger,x]),t.jsx(_a,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:y=>y.preventDefault(),onDismiss:x,children:t.jsxs(lh,{"data-state":h.stateAttribute,...g,...f,ref:r,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[t.jsx(yT,{children:a}),t.jsx(xT,{scope:s,isInside:!0,children:t.jsx(Pk,{id:h.contentId,role:"tooltip",children:o||a})})]})})});H0.displayName=ba;var Z0="TooltipArrow",bT=p.forwardRef((e,r)=>{const{__scopeTooltip:s,...a}=e,o=dh(s);return vT(Z0,s).isInside?null:t.jsx(ch,{...o,...a,ref:r})});bT.displayName=Z0;function jT(e,r){const s=Math.abs(r.top-e.y),a=Math.abs(r.bottom-e.y),o=Math.abs(r.right-e.x),c=Math.abs(r.left-e.x);switch(Math.min(s,a,o,c)){case c:return"left";case o:return"right";case s:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function wT(e,r,s=5){const a=[];switch(r){case"top":a.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":a.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":a.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":a.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return a}function NT(e){const{top:r,right:s,bottom:a,left:o}=e;return[{x:o,y:r},{x:s,y:r},{x:s,y:a},{x:o,y:a}]}function ST(e,r){const{x:s,y:a}=e;let o=!1;for(let c=0,u=r.length-1;c<r.length;u=c++){const f=r[c],h=r[u],g=f.x,x=f.y,y=h.x,w=h.y;x>a!=w>a&&s<(y-g)*(a-x)/(w-x)+g&&(o=!o)}return o}function CT(e){const r=e.slice();return r.sort((s,a)=>s.x<a.x?-1:s.x>a.x?1:s.y<a.y?-1:s.y>a.y?1:0),kT(r)}function kT(e){if(e.length<=1)return e.slice();const r=[];for(let a=0;a<e.length;a++){const o=e[a];for(;r.length>=2;){const c=r[r.length-1],u=r[r.length-2];if((c.x-u.x)*(o.y-u.y)>=(c.y-u.y)*(o.x-u.x))r.pop();else break}r.push(o)}r.pop();const s=[];for(let a=e.length-1;a>=0;a--){const o=e[a];for(;s.length>=2;){const c=s[s.length-1],u=s[s.length-2];if((c.x-u.x)*(o.y-u.y)>=(c.y-u.y)*(o.x-u.x))s.pop();else break}s.push(o)}return s.pop(),r.length===1&&s.length===1&&r[0].x===s[0].x&&r[0].y===s[0].y?r:r.concat(s)}var PT=Q0,X0=H0;const TT=PT,ET=p.forwardRef(({className:e,sideOffset:r=4,...s},a)=>t.jsx(X0,{ref:a,sideOffset:r,className:Te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...s}));ET.displayName=X0.displayName;const se=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));se.displayName="Card";const Ie=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Te("flex flex-col space-y-1.5 p-6",e),...r}));Ie.displayName="CardHeader";const Me=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Te("text-2xl font-semibold leading-none tracking-tight",e),...r}));Me.displayName="CardTitle";const We=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Te("text-sm text-muted-foreground",e),...r}));We.displayName="CardDescription";const ae=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Te("p-6 pt-0",e),...r}));ae.displayName="CardContent";const _T=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Te("flex items-center p-6 pt-0",e),...r}));_T.displayName="CardFooter";const uh=rl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=p.forwardRef(({className:e,variant:r,size:s,asChild:a=!1,...o},c)=>{const u=a?sk:"button";return t.jsx(u,{className:Te(uh({variant:r,size:s,className:e})),ref:c,...o})});z.displayName="Button";var $f="focusScope.autoFocusOnMount",Vf="focusScope.autoFocusOnUnmount",Sv={bubbles:!1,cancelable:!0},AT="FocusScope",yd=p.forwardRef((e,r)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=e,[f,h]=p.useState(null),g=un(o),x=un(c),y=p.useRef(null),w=lt(r,b=>h(b)),k=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(a){let b=function(R){if(k.paused||!f)return;const F=R.target;f.contains(F)?y.current=F:Fs(y.current,{select:!0})},j=function(R){if(k.paused||!f)return;const F=R.relatedTarget;F!==null&&(f.contains(F)||Fs(y.current,{select:!0}))},T=function(R){if(document.activeElement===document.body)for(const $ of R)$.removedNodes.length>0&&Fs(f)};document.addEventListener("focusin",b),document.addEventListener("focusout",j);const P=new MutationObserver(T);return f&&P.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",j),P.disconnect()}}},[a,f,k.paused]),p.useEffect(()=>{if(f){kv.add(k);const b=document.activeElement;if(!f.contains(b)){const T=new CustomEvent($f,Sv);f.addEventListener($f,g),f.dispatchEvent(T),T.defaultPrevented||(RT(FT(J0(f)),{select:!0}),document.activeElement===b&&Fs(f))}return()=>{f.removeEventListener($f,g),setTimeout(()=>{const T=new CustomEvent(Vf,Sv);f.addEventListener(Vf,x),f.dispatchEvent(T),T.defaultPrevented||Fs(b??document.body,{select:!0}),f.removeEventListener(Vf,x),kv.remove(k)},0)}}},[f,g,x,k]);const C=p.useCallback(b=>{if(!s&&!a||k.paused)return;const j=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,T=document.activeElement;if(j&&T){const P=b.currentTarget,[R,F]=IT(P);R&&F?!b.shiftKey&&T===F?(b.preventDefault(),s&&Fs(R,{select:!0})):b.shiftKey&&T===R&&(b.preventDefault(),s&&Fs(F,{select:!0})):T===P&&b.preventDefault()}},[s,a,k.paused]);return t.jsx($e.div,{tabIndex:-1,...u,ref:w,onKeyDown:C})});yd.displayName=AT;function RT(e,{select:r=!1}={}){const s=document.activeElement;for(const a of e)if(Fs(a,{select:r}),document.activeElement!==s)return}function IT(e){const r=J0(e),s=Cv(r,e),a=Cv(r.reverse(),e);return[s,a]}function J0(e){const r=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function Cv(e,r){for(const s of e)if(!OT(s,{upTo:r}))return s}function OT(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function DT(e){return e instanceof HTMLInputElement&&"select"in e}function Fs(e,{select:r=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&DT(e)&&r&&e.select()}}var kv=MT();function MT(){let e=[];return{add(r){const s=e[0];r!==s&&s?.pause(),e=Pv(e,r),e.unshift(r)},remove(r){e=Pv(e,r),e[0]?.resume()}}}function Pv(e,r){const s=[...e],a=s.indexOf(r);return a!==-1&&s.splice(a,1),s}function FT(e){return e.filter(r=>r.tagName!=="A")}var zf=0;function fh(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Tv()),document.body.insertAdjacentElement("beforeend",e[1]??Tv()),zf++,()=>{zf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),zf--}},[])}function Tv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ln=function(){return Ln=Object.assign||function(r){for(var s,a=1,o=arguments.length;a<o;a++){s=arguments[a];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])}return r},Ln.apply(this,arguments)};function eb(e,r){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(s[a[o]]=e[a[o]]);return s}function LT(e,r,s){if(s||arguments.length===2)for(var a=0,o=r.length,c;a<o;a++)(c||!(a in r))&&(c||(c=Array.prototype.slice.call(r,0,a)),c[a]=r[a]);return e.concat(c||Array.prototype.slice.call(r))}var Oc="right-scroll-bar-position",Dc="width-before-scroll-bar",BT="with-scroll-bars-hidden",$T="--removed-body-scroll-bar-size";function Uf(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function VT(e,r){var s=p.useState(function(){return{value:e,callback:r,facade:{get current(){return s.value},set current(a){var o=s.value;o!==a&&(s.value=a,s.callback(a,o))}}}})[0];return s.callback=r,s.facade}var zT=typeof window<"u"?p.useLayoutEffect:p.useEffect,Ev=new WeakMap;function UT(e,r){var s=VT(null,function(a){return e.forEach(function(o){return Uf(o,a)})});return zT(function(){var a=Ev.get(s);if(a){var o=new Set(a),c=new Set(e),u=s.current;o.forEach(function(f){c.has(f)||Uf(f,null)}),c.forEach(function(f){o.has(f)||Uf(f,u)})}Ev.set(s,e)},[e]),s}function WT(e){return e}function qT(e,r){r===void 0&&(r=WT);var s=[],a=!1,o={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(c){var u=r(c,a);return s.push(u),function(){s=s.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(a=!0;s.length;){var u=s;s=[],u.forEach(c)}s={push:function(f){return c(f)},filter:function(){return s}}},assignMedium:function(c){a=!0;var u=[];if(s.length){var f=s;s=[],f.forEach(c),u=s}var h=function(){var x=u;u=[],x.forEach(c)},g=function(){return Promise.resolve().then(h)};g(),s={push:function(x){u.push(x),g()},filter:function(x){return u=u.filter(x),s}}}};return o}function KT(e){e===void 0&&(e={});var r=qT(null);return r.options=Ln({async:!0,ssr:!1},e),r}var tb=function(e){var r=e.sideCar,s=eb(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return p.createElement(a,Ln({},s))};tb.isSideCarExport=!0;function QT(e,r){return e.useMedium(r),tb}var rb=KT(),Wf=function(){},bd=p.forwardRef(function(e,r){var s=p.useRef(null),a=p.useState({onScrollCapture:Wf,onWheelCapture:Wf,onTouchMoveCapture:Wf}),o=a[0],c=a[1],u=e.forwardProps,f=e.children,h=e.className,g=e.removeScrollBar,x=e.enabled,y=e.shards,w=e.sideCar,k=e.noRelative,C=e.noIsolation,b=e.inert,j=e.allowPinchZoom,T=e.as,P=T===void 0?"div":T,R=e.gapMode,F=eb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=w,X=UT([s,r]),K=Ln(Ln({},F),o);return p.createElement(p.Fragment,null,x&&p.createElement($,{sideCar:rb,removeScrollBar:g,shards:y,noRelative:k,noIsolation:C,inert:b,setCallbacks:c,allowPinchZoom:!!j,lockRef:s,gapMode:R}),u?p.cloneElement(p.Children.only(f),Ln(Ln({},K),{ref:X})):p.createElement(P,Ln({},K,{className:h,ref:X}),f))});bd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bd.classNames={fullWidth:Dc,zeroRight:Oc};var GT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=GT();return r&&e.setAttribute("nonce",r),e}function YT(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function ZT(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var XT=function(){var e=0,r=null;return{add:function(s){e==0&&(r=HT())&&(YT(r,s),ZT(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},JT=function(){var e=XT();return function(r,s){p.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&s])}},nb=function(){var e=JT(),r=function(s){var a=s.styles,o=s.dynamic;return e(a,o),null};return r},eE={left:0,top:0,right:0,gap:0},qf=function(e){return parseInt(e||"",10)||0},tE=function(e){var r=window.getComputedStyle(document.body),s=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],o=r[e==="padding"?"paddingRight":"marginRight"];return[qf(s),qf(a),qf(o)]},rE=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return eE;var r=tE(e),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-s+r[2]-r[0])}},nE=nb(),ha="data-scroll-locked",sE=function(e,r,s,a){var o=e.left,c=e.top,u=e.right,f=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(BT,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(ha,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oc,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Dc,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Oc," .").concat(Oc,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Dc," .").concat(Dc,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(ha,`] {
    `).concat($T,": ").concat(f,`px;
  }
`)},_v=function(){var e=parseInt(document.body.getAttribute(ha)||"0",10);return isFinite(e)?e:0},iE=function(){p.useEffect(function(){return document.body.setAttribute(ha,(_v()+1).toString()),function(){var e=_v()-1;e<=0?document.body.removeAttribute(ha):document.body.setAttribute(ha,e.toString())}},[])},aE=function(e){var r=e.noRelative,s=e.noImportant,a=e.gapMode,o=a===void 0?"margin":a;iE();var c=p.useMemo(function(){return rE(o)},[o]);return p.createElement(nE,{styles:sE(c,!r,o,s?"":"!important")})},bm=!1;if(typeof window<"u")try{var Nc=Object.defineProperty({},"passive",{get:function(){return bm=!0,!0}});window.addEventListener("test",Nc,Nc),window.removeEventListener("test",Nc,Nc)}catch{bm=!1}var sa=bm?{passive:!1}:!1,oE=function(e){return e.tagName==="TEXTAREA"},sb=function(e,r){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[r]!=="hidden"&&!(s.overflowY===s.overflowX&&!oE(e)&&s[r]==="visible")},lE=function(e){return sb(e,"overflowY")},cE=function(e){return sb(e,"overflowX")},Av=function(e,r){var s=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var o=ib(e,a);if(o){var c=ab(e,a),u=c[1],f=c[2];if(u>f)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},dE=function(e){var r=e.scrollTop,s=e.scrollHeight,a=e.clientHeight;return[r,s,a]},uE=function(e){var r=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth;return[r,s,a]},ib=function(e,r){return e==="v"?lE(r):cE(r)},ab=function(e,r){return e==="v"?dE(r):uE(r)},fE=function(e,r){return e==="h"&&r==="rtl"?-1:1},mE=function(e,r,s,a,o){var c=fE(e,window.getComputedStyle(r).direction),u=c*a,f=s.target,h=r.contains(f),g=!1,x=u>0,y=0,w=0;do{if(!f)break;var k=ab(e,f),C=k[0],b=k[1],j=k[2],T=b-j-c*C;(C||T)&&ib(e,f)&&(y+=T,w+=C);var P=f.parentNode;f=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!h&&f!==document.body||h&&(r.contains(f)||r===f));return(x&&Math.abs(y)<1||!x&&Math.abs(w)<1)&&(g=!0),g},Sc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Rv=function(e){return[e.deltaX,e.deltaY]},Iv=function(e){return e&&"current"in e?e.current:e},hE=function(e,r){return e[0]===r[0]&&e[1]===r[1]},pE=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gE=0,ia=[];function xE(e){var r=p.useRef([]),s=p.useRef([0,0]),a=p.useRef(),o=p.useState(gE++)[0],c=p.useState(nb)[0],u=p.useRef(e);p.useEffect(function(){u.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var b=LT([e.lockRef.current],(e.shards||[]).map(Iv),!0).filter(Boolean);return b.forEach(function(j){return j.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),b.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var f=p.useCallback(function(b,j){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!u.current.allowPinchZoom;var T=Sc(b),P=s.current,R="deltaX"in b?b.deltaX:P[0]-T[0],F="deltaY"in b?b.deltaY:P[1]-T[1],$,X=b.target,K=Math.abs(R)>Math.abs(F)?"h":"v";if("touches"in b&&K==="h"&&X.type==="range")return!1;var te=Av(K,X);if(!te)return!0;if(te?$=K:($=K==="v"?"h":"v",te=Av(K,X)),!te)return!1;if(!a.current&&"changedTouches"in b&&(R||F)&&(a.current=$),!$)return!0;var xe=a.current||$;return mE(xe,j,b,xe==="h"?R:F)},[]),h=p.useCallback(function(b){var j=b;if(!(!ia.length||ia[ia.length-1]!==c)){var T="deltaY"in j?Rv(j):Sc(j),P=r.current.filter(function($){return $.name===j.type&&($.target===j.target||j.target===$.shadowParent)&&hE($.delta,T)})[0];if(P&&P.should){j.cancelable&&j.preventDefault();return}if(!P){var R=(u.current.shards||[]).map(Iv).filter(Boolean).filter(function($){return $.contains(j.target)}),F=R.length>0?f(j,R[0]):!u.current.noIsolation;F&&j.cancelable&&j.preventDefault()}}},[]),g=p.useCallback(function(b,j,T,P){var R={name:b,delta:j,target:T,should:P,shadowParent:vE(T)};r.current.push(R),setTimeout(function(){r.current=r.current.filter(function(F){return F!==R})},1)},[]),x=p.useCallback(function(b){s.current=Sc(b),a.current=void 0},[]),y=p.useCallback(function(b){g(b.type,Rv(b),b.target,f(b,e.lockRef.current))},[]),w=p.useCallback(function(b){g(b.type,Sc(b),b.target,f(b,e.lockRef.current))},[]);p.useEffect(function(){return ia.push(c),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",h,sa),document.addEventListener("touchmove",h,sa),document.addEventListener("touchstart",x,sa),function(){ia=ia.filter(function(b){return b!==c}),document.removeEventListener("wheel",h,sa),document.removeEventListener("touchmove",h,sa),document.removeEventListener("touchstart",x,sa)}},[]);var k=e.removeScrollBar,C=e.inert;return p.createElement(p.Fragment,null,C?p.createElement(c,{styles:pE(o)}):null,k?p.createElement(aE,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function vE(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const yE=QT(rb,xE);var jd=p.forwardRef(function(e,r){return p.createElement(bd,Ln({},e,{ref:r,sideCar:yE}))});jd.classNames=bd.classNames;var bE=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},aa=new WeakMap,Cc=new WeakMap,kc={},Kf=0,ob=function(e){return e&&(e.host||ob(e.parentNode))},jE=function(e,r){return r.map(function(s){if(e.contains(s))return s;var a=ob(s);return a&&e.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},wE=function(e,r,s,a){var o=jE(r,Array.isArray(e)?e:[e]);kc[s]||(kc[s]=new WeakMap);var c=kc[s],u=[],f=new Set,h=new Set(o),g=function(y){!y||f.has(y)||(f.add(y),g(y.parentNode))};o.forEach(g);var x=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(w){if(f.has(w))x(w);else try{var k=w.getAttribute(a),C=k!==null&&k!=="false",b=(aa.get(w)||0)+1,j=(c.get(w)||0)+1;aa.set(w,b),c.set(w,j),u.push(w),b===1&&C&&Cc.set(w,!0),j===1&&w.setAttribute(s,"true"),C||w.setAttribute(a,"true")}catch(T){console.error("aria-hidden: cannot operate on ",w,T)}})};return x(r),f.clear(),Kf++,function(){u.forEach(function(y){var w=aa.get(y)-1,k=c.get(y)-1;aa.set(y,w),c.set(y,k),w||(Cc.has(y)||y.removeAttribute(a),Cc.delete(y)),k||y.removeAttribute(s)}),Kf--,Kf||(aa=new WeakMap,aa=new WeakMap,Cc=new WeakMap,kc={})}},mh=function(e,r,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),o=bE(e);return o?(a.push.apply(a,Array.from(o.querySelectorAll("[aria-live], script"))),wE(a,o,s,"aria-hidden")):function(){return null}},wd="Dialog",[lb,cb]=zr(wd),[NE,_n]=lb(wd),db=e=>{const{__scopeDialog:r,children:s,open:a,defaultOpen:o,onOpenChange:c,modal:u=!0}=e,f=p.useRef(null),h=p.useRef(null),[g,x]=ls({prop:a,defaultProp:o??!1,onChange:c,caller:wd});return t.jsx(NE,{scope:r,triggerRef:f,contentRef:h,contentId:Ar(),titleId:Ar(),descriptionId:Ar(),open:g,onOpenChange:x,onOpenToggle:p.useCallback(()=>x(y=>!y),[x]),modal:u,children:s})};db.displayName=wd;var ub="DialogTrigger",fb=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,o=_n(ub,s),c=lt(r,o.triggerRef);return t.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":gh(o.open),...a,ref:c,onClick:Fe(e.onClick,o.onOpenToggle)})});fb.displayName=ub;var hh="DialogPortal",[SE,mb]=lb(hh,{forceMount:void 0}),hb=e=>{const{__scopeDialog:r,forceMount:s,children:a,container:o}=e,c=_n(hh,r);return t.jsx(SE,{scope:r,forceMount:s,children:p.Children.map(a,u=>t.jsx(En,{present:s||c.open,children:t.jsx(el,{asChild:!0,container:o,children:u})}))})};hb.displayName=hh;var Wc="DialogOverlay",pb=p.forwardRef((e,r)=>{const s=mb(Wc,e.__scopeDialog),{forceMount:a=s.forceMount,...o}=e,c=_n(Wc,e.__scopeDialog);return c.modal?t.jsx(En,{present:a||c.open,children:t.jsx(kE,{...o,ref:r})}):null});pb.displayName=Wc;var CE=Ni("DialogOverlay.RemoveScroll"),kE=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,o=_n(Wc,s);return t.jsx(jd,{as:CE,allowPinchZoom:!0,shards:[o.contentRef],children:t.jsx($e.div,{"data-state":gh(o.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),Ci="DialogContent",gb=p.forwardRef((e,r)=>{const s=mb(Ci,e.__scopeDialog),{forceMount:a=s.forceMount,...o}=e,c=_n(Ci,e.__scopeDialog);return t.jsx(En,{present:a||c.open,children:c.modal?t.jsx(PE,{...o,ref:r}):t.jsx(TE,{...o,ref:r})})});gb.displayName=Ci;var PE=p.forwardRef((e,r)=>{const s=_n(Ci,e.__scopeDialog),a=p.useRef(null),o=lt(r,s.contentRef,a);return p.useEffect(()=>{const c=a.current;if(c)return mh(c)},[]),t.jsx(xb,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(e.onCloseAutoFocus,c=>{c.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:Fe(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&c.preventDefault()}),onFocusOutside:Fe(e.onFocusOutside,c=>c.preventDefault())})}),TE=p.forwardRef((e,r)=>{const s=_n(Ci,e.__scopeDialog),a=p.useRef(!1),o=p.useRef(!1);return t.jsx(xb,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(a.current||s.triggerRef.current?.focus(),c.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(a.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;s.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),xb=p.forwardRef((e,r)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:c,...u}=e,f=_n(Ci,s),h=p.useRef(null),g=lt(r,h);return fh(),t.jsxs(t.Fragment,{children:[t.jsx(yd,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:c,children:t.jsx(_a,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":gh(f.open),...u,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(_E,{titleId:f.titleId}),t.jsx(RE,{contentRef:h,descriptionId:f.descriptionId})]})]})}),ph="DialogTitle",vb=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,o=_n(ph,s);return t.jsx($e.h2,{id:o.titleId,...a,ref:r})});vb.displayName=ph;var yb="DialogDescription",bb=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,o=_n(yb,s);return t.jsx($e.p,{id:o.descriptionId,...a,ref:r})});bb.displayName=yb;var jb="DialogClose",wb=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,o=_n(jb,s);return t.jsx($e.button,{type:"button",...a,ref:r,onClick:Fe(e.onClick,()=>o.onOpenChange(!1))})});wb.displayName=jb;function gh(e){return e?"open":"closed"}var Nb="DialogTitleWarning",[EE,Sb]=rk(Nb,{contentName:Ci,titleName:ph,docsSlug:"dialog"}),_E=({titleId:e})=>{const r=Sb(Nb),s=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},AE="DialogDescriptionWarning",RE=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Sb(AE).contentName}}.`;return p.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");r&&o&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},xh=db,Cb=fb,vh=hb,Nd=pb,Sd=gb,yh=vb,bh=bb,jh=wb;const Qt=xh,IE=Cb,OE=vh,kb=p.forwardRef(({className:e,...r},s)=>t.jsx(Nd,{ref:s,className:Te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));kb.displayName=Nd.displayName;const Ft=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(OE,{children:[t.jsx(kb,{}),t.jsxs(Sd,{ref:a,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[r,t.jsxs(jh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(ud,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ft.displayName=Sd.displayName;const Lt=({className:e,...r})=>t.jsx("div",{className:Te("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});Lt.displayName="DialogHeader";const Bt=p.forwardRef(({className:e,...r},s)=>t.jsx(yh,{ref:s,className:Te("text-lg font-semibold leading-none tracking-tight",e),...r}));Bt.displayName=yh.displayName;const ja=p.forwardRef(({className:e,...r},s)=>t.jsx(bh,{ref:s,className:Te("text-sm text-muted-foreground",e),...r}));ja.displayName=bh.displayName;function wh(e){const r=p.useRef({value:e,previous:e});return p.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var Cd="Checkbox",[DE,ZD]=zr(Cd),[ME,Nh]=DE(Cd);function FE(e){const{__scopeCheckbox:r,checked:s,children:a,defaultChecked:o,disabled:c,form:u,name:f,onCheckedChange:h,required:g,value:x="on",internal_do_not_use_render:y}=e,[w,k]=ls({prop:s,defaultProp:o??!1,onChange:h,caller:Cd}),[C,b]=p.useState(null),[j,T]=p.useState(null),P=p.useRef(!1),R=C?!!u||!!C.closest("form"):!0,F={checked:w,disabled:c,setChecked:k,control:C,setControl:b,name:f,form:u,value:x,hasConsumerStoppedPropagationRef:P,required:g,defaultChecked:qs(o)?!1:o,isFormControl:R,bubbleInput:j,setBubbleInput:T};return t.jsx(ME,{scope:r,...F,children:LE(y)?y(F):a})}var Pb="CheckboxTrigger",Tb=p.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:s,...a},o)=>{const{control:c,value:u,disabled:f,checked:h,required:g,setControl:x,setChecked:y,hasConsumerStoppedPropagationRef:w,isFormControl:k,bubbleInput:C}=Nh(Pb,e),b=lt(o,x),j=p.useRef(h);return p.useEffect(()=>{const T=c?.form;if(T){const P=()=>y(j.current);return T.addEventListener("reset",P),()=>T.removeEventListener("reset",P)}},[c,y]),t.jsx($e.button,{type:"button",role:"checkbox","aria-checked":qs(h)?"mixed":h,"aria-required":g,"data-state":Ib(h),"data-disabled":f?"":void 0,disabled:f,value:u,...a,ref:b,onKeyDown:Fe(r,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:Fe(s,T=>{y(P=>qs(P)?!0:!P),C&&k&&(w.current=T.isPropagationStopped(),w.current||T.stopPropagation())})})});Tb.displayName=Pb;var Sh=p.forwardRef((e,r)=>{const{__scopeCheckbox:s,name:a,checked:o,defaultChecked:c,required:u,disabled:f,value:h,onCheckedChange:g,form:x,...y}=e;return t.jsx(FE,{__scopeCheckbox:s,checked:o,defaultChecked:c,disabled:f,required:u,onCheckedChange:g,name:a,form:x,value:h,internal_do_not_use_render:({isFormControl:w})=>t.jsxs(t.Fragment,{children:[t.jsx(Tb,{...y,ref:r,__scopeCheckbox:s}),w&&t.jsx(Rb,{__scopeCheckbox:s})]})})});Sh.displayName=Cd;var Eb="CheckboxIndicator",_b=p.forwardRef((e,r)=>{const{__scopeCheckbox:s,forceMount:a,...o}=e,c=Nh(Eb,s);return t.jsx(En,{present:a||qs(c.checked)||c.checked===!0,children:t.jsx($e.span,{"data-state":Ib(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:r,style:{pointerEvents:"none",...e.style}})})});_b.displayName=Eb;var Ab="CheckboxBubbleInput",Rb=p.forwardRef(({__scopeCheckbox:e,...r},s)=>{const{control:a,hasConsumerStoppedPropagationRef:o,checked:c,defaultChecked:u,required:f,disabled:h,name:g,value:x,form:y,bubbleInput:w,setBubbleInput:k}=Nh(Ab,e),C=lt(s,k),b=wh(c),j=ih(a);p.useEffect(()=>{const P=w;if(!P)return;const R=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(R,"checked").set,X=!o.current;if(b!==c&&$){const K=new Event("click",{bubbles:X});P.indeterminate=qs(c),$.call(P,qs(c)?!1:c),P.dispatchEvent(K)}},[w,b,c,o]);const T=p.useRef(qs(c)?!1:c);return t.jsx($e.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??T.current,required:f,disabled:h,name:g,value:x,form:y,...r,tabIndex:-1,ref:C,style:{...r.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Rb.displayName=Ab;function LE(e){return typeof e=="function"}function qs(e){return e==="indeterminate"}function Ib(e){return qs(e)?"indeterminate":e?"checked":"unchecked"}const Gt=p.forwardRef(({className:e,...r},s)=>t.jsx(Sh,{ref:s,className:Te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:t.jsx(_b,{className:Te("flex items-center justify-center text-current"),children:t.jsx(d0,{className:"h-4 w-4"})})}));Gt.displayName=Sh.displayName;var BE="Label",Ob=p.forwardRef((e,r)=>t.jsx($e.label,{...e,ref:r,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Ob.displayName=BE;var Db=Ob;const $E=rl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),we=p.forwardRef(({className:e,...r},s)=>t.jsx(Db,{ref:s,className:Te($E(),e),...r}));we.displayName=Db.displayName;function Mb(){const e=Or(),{toast:r}=Vt(),s=p.useRef(null),a=p.useRef(null);return p.useEffect(()=>{const o=()=>{const f=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,h=new WebSocket(f);s.current=h,h.onopen=()=>{console.log("WebSocket connected")},h.onmessage=g=>{try{const x=JSON.parse(g.data);c(x)}catch(x){console.error("Failed to parse WebSocket message:",x)}},h.onclose=()=>{console.log("WebSocket disconnected"),a.current=setTimeout(o,3e3)},h.onerror=g=>{console.error("WebSocket error:",g)}},c=u=>{switch(u.type){case"BOT_CREATED":case"BOT_UPDATED":case"BOT_DELETED":case"BOT_STATUS_CHANGED":e.invalidateQueries({queryKey:["/api/bot-instances"]}),e.invalidateQueries({queryKey:["/api/dashboard/stats"]});break;case"COMMAND_CREATED":case"COMMAND_UPDATED":case"COMMAND_DELETED":e.invalidateQueries({queryKey:["/api/commands"]});break;case"ACTIVITY_CREATED":e.invalidateQueries({queryKey:["/api/activities"]});break;case"BOT_ERROR":r({title:"Bot Error",description:u.message||"A bot encountered an error",variant:"destructive"});break;case"BOT_CONNECTED":r({title:"Bot Connected",description:`${u.botName} is now online`});break;default:console.log("Unknown WebSocket message type:",u.type)}};return o(),()=>{a.current&&clearTimeout(a.current),s.current&&s.current.close()}},[e,r]),s.current}const Fb=p.createContext(void 0);function VE({children:e}){const[r,s]=p.useState(null),[a,o]=p.useState(null);p.useEffect(()=>{const h=localStorage.getItem("auth_token"),g=localStorage.getItem("user");if(h&&g)try{const x=JSON.parse(g);o(h),s(x)}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("user")}},[]);const f={user:r,token:a,login:(h,g)=>{o(h),s(g),localStorage.setItem("auth_token",h),localStorage.setItem("user",JSON.stringify(g))},logout:()=>{o(null),s(null),localStorage.removeItem("auth_token"),localStorage.removeItem("user")},isAuthenticated:!!a,isAdmin:!!r?.isAdmin};return t.jsx(Fb.Provider,{value:f,children:e})}function sl(){const e=p.useContext(Fb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function zE(){const[e,r]=p.useState(null),[s,a]=p.useState(!1),{data:o,isError:c,error:u}=pt({queryKey:["/api/offer/status"],refetchInterval:1e4,retry:3,staleTime:5e3});p.useEffect(()=>{o&&console.log("Offer Status Data:",{isActive:o.isActive,timeRemaining:o.timeRemaining,config:o.config}),c&&console.error("Offer Status Error:",u)},[o,c,u]),p.useEffect(()=>{if(o?.isActive&&o?.timeRemaining&&o.timeRemaining>0){r(o.timeRemaining);const h=setInterval(()=>{r(g=>!g||g<=1e3?null:g-1e3)},1e3);return()=>clearInterval(h)}else(o?.isActive===!1||o?.timeRemaining!==void 0&&o.timeRemaining<=0)&&r(null)},[o]);const f=h=>{const g=Math.floor(h/1e3),x=Math.floor(g/86400),y=Math.floor(g%86400/3600),w=Math.floor(g%3600/60),k=g%60;return x>0?`${x}d ${y}h ${w}m ${k}s`:y>0?`${y}h ${w}m ${k}s`:w>0?`${w}m ${k}s`:`${k}s`};return!o?.isActive||!e||s?null:t.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 via-orange-50 to-yellow-50 dark:from-yellow-900/20 dark:via-orange-900/20 dark:to-yellow-900/20 border-l-4 border-orange-500 p-4 mb-6 rounded-lg shadow-lg relative","data-testid":"banner-offer-countdown",children:[t.jsx("button",{onClick:()=>a(!0),className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200","aria-label":"Dismiss",children:t.jsx(ud,{className:"h-5 w-5"})}),t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Io,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400 animate-bounce","data-testid":"icon-gift"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-gray-100","data-testid":"text-offer-title",children:"🎁 Limited Time Offer - Auto-Approval Active!"}),t.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300","data-testid":"text-offer-description",children:"Register your bot now for instant approval and activation!"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-center bg-white dark:bg-gray-800 rounded-lg px-3 py-1.5 border border-orange-200 dark:border-orange-800 shadow-md",children:[t.jsx(u0,{className:"h-4 w-4 text-orange-500 animate-pulse mx-auto mb-0.5","data-testid":"icon-clock"}),t.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 mb-0.5",children:"Time Remaining"}),t.jsx("p",{className:"text-sm font-bold text-orange-600 dark:text-orange-400","data-testid":"text-countdown",children:f(e)})]}),t.jsxs("div",{className:"hidden md:block text-xs text-gray-700 dark:text-gray-300",children:[t.jsx("p",{className:"font-semibold mb-0.5 text-[11px]",children:"✨ Benefits:"}),t.jsxs("ul",{className:"space-y-0.5 text-[10px]",children:[t.jsx("li",{children:"✅ Instant approval"}),t.jsx("li",{children:"✅ Auto-activation"}),t.jsx("li",{children:"✅ Premium features"})]})]})]})]})]})}const Pt=p.forwardRef(({className:e,type:r,...s},a)=>t.jsx("input",{type:r,className:Te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));Pt.displayName="Input";function Ov(e,[r,s]){return Math.min(s,Math.max(r,e))}var UE=p.createContext(void 0);function kd(e){const r=p.useContext(UE);return e||r||"ltr"}var WE=[" ","Enter","ArrowUp","ArrowDown"],qE=[" ","Enter"],ki="Select",[Pd,Td,KE]=Km(ki),[Da,XD]=zr(ki,[KE,Oa]),Ed=Oa(),[QE,ei]=Da(ki),[GE,HE]=Da(ki),Lb=e=>{const{__scopeSelect:r,children:s,open:a,defaultOpen:o,onOpenChange:c,value:u,defaultValue:f,onValueChange:h,dir:g,name:x,autoComplete:y,disabled:w,required:k,form:C}=e,b=Ed(r),[j,T]=p.useState(null),[P,R]=p.useState(null),[F,$]=p.useState(!1),X=kd(g),[K,te]=ls({prop:a,defaultProp:o??!1,onChange:c,caller:ki}),[xe,he]=ls({prop:u,defaultProp:f,onChange:h,caller:ki}),pe=p.useRef(null),ee=j?C||!!j.closest("form"):!0,[ie,H]=p.useState(new Set),ge=Array.from(ie).map(G=>G.props.value).join(";");return t.jsx(W0,{...b,children:t.jsxs(QE,{required:k,scope:r,trigger:j,onTriggerChange:T,valueNode:P,onValueNodeChange:R,valueNodeHasChildren:F,onValueNodeHasChildrenChange:$,contentId:Ar(),value:xe,onValueChange:he,open:K,onOpenChange:te,dir:X,triggerPointerDownPosRef:pe,disabled:w,children:[t.jsx(Pd.Provider,{scope:r,children:t.jsx(GE,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(G=>{H(q=>new Set(q).add(G))},[]),onNativeOptionRemove:p.useCallback(G=>{H(q=>{const N=new Set(q);return N.delete(G),N})},[]),children:s})}),ee?t.jsxs(lj,{"aria-hidden":!0,required:k,tabIndex:-1,name:x,autoComplete:y,value:xe,onChange:G=>he(G.target.value),disabled:w,form:C,children:[xe===void 0?t.jsx("option",{value:""}):null,Array.from(ie)]},ge):null]})})};Lb.displayName=ki;var Bb="SelectTrigger",$b=p.forwardRef((e,r)=>{const{__scopeSelect:s,disabled:a=!1,...o}=e,c=Ed(s),u=ei(Bb,s),f=u.disabled||a,h=lt(r,u.onTriggerChange),g=Td(s),x=p.useRef("touch"),[y,w,k]=dj(b=>{const j=g().filter(R=>!R.disabled),T=j.find(R=>R.value===u.value),P=uj(j,b,T);P!==void 0&&u.onValueChange(P.value)}),C=b=>{f||(u.onOpenChange(!0),k()),b&&(u.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return t.jsx(gd,{asChild:!0,...c,children:t.jsx($e.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":cj(u.value)?"":void 0,...o,ref:h,onClick:Fe(o.onClick,b=>{b.currentTarget.focus(),x.current!=="mouse"&&C(b)}),onPointerDown:Fe(o.onPointerDown,b=>{x.current=b.pointerType;const j=b.target;j.hasPointerCapture(b.pointerId)&&j.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(C(b),b.preventDefault())}),onKeyDown:Fe(o.onKeyDown,b=>{const j=y.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&w(b.key),!(j&&b.key===" ")&&WE.includes(b.key)&&(C(),b.preventDefault())})})})});$b.displayName=Bb;var Vb="SelectValue",zb=p.forwardRef((e,r)=>{const{__scopeSelect:s,className:a,style:o,children:c,placeholder:u="",...f}=e,h=ei(Vb,s),{onValueNodeHasChildrenChange:g}=h,x=c!==void 0,y=lt(r,h.onValueNodeChange);return vr(()=>{g(x)},[g,x]),t.jsx($e.span,{...f,ref:y,style:{pointerEvents:"none"},children:cj(h.value)?t.jsx(t.Fragment,{children:u}):c})});zb.displayName=Vb;var YE="SelectIcon",Ub=p.forwardRef((e,r)=>{const{__scopeSelect:s,children:a,...o}=e;return t.jsx($e.span,{"aria-hidden":!0,...o,ref:r,children:a||"▼"})});Ub.displayName=YE;var ZE="SelectPortal",Wb=e=>t.jsx(el,{asChild:!0,...e});Wb.displayName=ZE;var Pi="SelectContent",qb=p.forwardRef((e,r)=>{const s=ei(Pi,e.__scopeSelect),[a,o]=p.useState();if(vr(()=>{o(new DocumentFragment)},[]),!s.open){const c=a;return c?Ea.createPortal(t.jsx(Kb,{scope:e.__scopeSelect,children:t.jsx(Pd.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),c):null}return t.jsx(Qb,{...e,ref:r})});qb.displayName=Pi;var bn=10,[Kb,ti]=Da(Pi),XE="SelectContentImpl",JE=Ni("SelectContent.RemoveScroll"),Qb=p.forwardRef((e,r)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:u,side:f,sideOffset:h,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:w,collisionPadding:k,sticky:C,hideWhenDetached:b,avoidCollisions:j,...T}=e,P=ei(Pi,s),[R,F]=p.useState(null),[$,X]=p.useState(null),K=lt(r,re=>F(re)),[te,xe]=p.useState(null),[he,pe]=p.useState(null),ee=Td(s),[ie,H]=p.useState(!1),ge=p.useRef(!1);p.useEffect(()=>{if(R)return mh(R)},[R]),fh();const G=p.useCallback(re=>{const[je,...Re]=ee().map(ft=>ft.ref.current),[Ue]=Re.slice(-1),dt=document.activeElement;for(const ft of re)if(ft===dt||(ft?.scrollIntoView({block:"nearest"}),ft===je&&$&&($.scrollTop=0),ft===Ue&&$&&($.scrollTop=$.scrollHeight),ft?.focus(),document.activeElement!==dt))return},[ee,$]),q=p.useCallback(()=>G([te,R]),[G,te,R]);p.useEffect(()=>{ie&&q()},[ie,q]);const{onOpenChange:N,triggerPointerDownPosRef:B}=P;p.useEffect(()=>{if(R){let re={x:0,y:0};const je=Ue=>{re={x:Math.abs(Math.round(Ue.pageX)-(B.current?.x??0)),y:Math.abs(Math.round(Ue.pageY)-(B.current?.y??0))}},Re=Ue=>{re.x<=10&&re.y<=10?Ue.preventDefault():R.contains(Ue.target)||N(!1),document.removeEventListener("pointermove",je),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",Re,{capture:!0})}}},[R,N,B]),p.useEffect(()=>{const re=()=>N(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[N]);const[Y,I]=dj(re=>{const je=ee().filter(dt=>!dt.disabled),Re=je.find(dt=>dt.ref.current===document.activeElement),Ue=uj(je,re,Re);Ue&&setTimeout(()=>Ue.ref.current.focus())}),O=p.useCallback((re,je,Re)=>{const Ue=!ge.current&&!Re;(P.value!==void 0&&P.value===je||Ue)&&(xe(re),Ue&&(ge.current=!0))},[P.value]),_=p.useCallback(()=>R?.focus(),[R]),U=p.useCallback((re,je,Re)=>{const Ue=!ge.current&&!Re;(P.value!==void 0&&P.value===je||Ue)&&pe(re)},[P.value]),ne=a==="popper"?jm:Gb,ue=ne===jm?{side:f,sideOffset:h,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:w,collisionPadding:k,sticky:C,hideWhenDetached:b,avoidCollisions:j}:{};return t.jsx(Kb,{scope:s,content:R,viewport:$,onViewportChange:X,itemRefCallback:O,selectedItem:te,onItemLeave:_,itemTextRefCallback:U,focusSelectedItem:q,selectedItemText:he,position:a,isPositioned:ie,searchRef:Y,children:t.jsx(jd,{as:JE,allowPinchZoom:!0,children:t.jsx(yd,{asChild:!0,trapped:P.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Fe(o,re=>{P.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:t.jsx(_a,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:t.jsx(ne,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:re=>re.preventDefault(),...T,...ue,onPlaced:()=>H(!0),ref:K,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:Fe(T.onKeyDown,re=>{const je=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!je&&re.key.length===1&&I(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Ue=ee().filter(dt=>!dt.disabled).map(dt=>dt.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const dt=re.target,ft=Ue.indexOf(dt);Ue=Ue.slice(ft+1)}setTimeout(()=>G(Ue)),re.preventDefault()}})})})})})})});Qb.displayName=XE;var e_="SelectItemAlignedPosition",Gb=p.forwardRef((e,r)=>{const{__scopeSelect:s,onPlaced:a,...o}=e,c=ei(Pi,s),u=ti(Pi,s),[f,h]=p.useState(null),[g,x]=p.useState(null),y=lt(r,K=>x(K)),w=Td(s),k=p.useRef(!1),C=p.useRef(!0),{viewport:b,selectedItem:j,selectedItemText:T,focusSelectedItem:P}=u,R=p.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&g&&b&&j&&T){const K=c.trigger.getBoundingClientRect(),te=g.getBoundingClientRect(),xe=c.valueNode.getBoundingClientRect(),he=T.getBoundingClientRect();if(c.dir!=="rtl"){const dt=he.left-te.left,ft=xe.left-dt,Yt=K.left-ft,tt=K.width+Yt,Wr=Math.max(tt,te.width),Jr=window.innerWidth-bn,fn=Ov(ft,[bn,Math.max(bn,Jr-Wr)]);f.style.minWidth=tt+"px",f.style.left=fn+"px"}else{const dt=te.right-he.right,ft=window.innerWidth-xe.right-dt,Yt=window.innerWidth-K.right-ft,tt=K.width+Yt,Wr=Math.max(tt,te.width),Jr=window.innerWidth-bn,fn=Ov(ft,[bn,Math.max(bn,Jr-Wr)]);f.style.minWidth=tt+"px",f.style.right=fn+"px"}const pe=w(),ee=window.innerHeight-bn*2,ie=b.scrollHeight,H=window.getComputedStyle(g),ge=parseInt(H.borderTopWidth,10),G=parseInt(H.paddingTop,10),q=parseInt(H.borderBottomWidth,10),N=parseInt(H.paddingBottom,10),B=ge+G+ie+N+q,Y=Math.min(j.offsetHeight*5,B),I=window.getComputedStyle(b),O=parseInt(I.paddingTop,10),_=parseInt(I.paddingBottom,10),U=K.top+K.height/2-bn,ne=ee-U,ue=j.offsetHeight/2,re=j.offsetTop+ue,je=ge+G+re,Re=B-je;if(je<=U){const dt=pe.length>0&&j===pe[pe.length-1].ref.current;f.style.bottom="0px";const ft=g.clientHeight-b.offsetTop-b.offsetHeight,Yt=Math.max(ne,ue+(dt?_:0)+ft+q),tt=je+Yt;f.style.height=tt+"px"}else{const dt=pe.length>0&&j===pe[0].ref.current;f.style.top="0px";const Yt=Math.max(U,ge+b.offsetTop+(dt?O:0)+ue)+Re;f.style.height=Yt+"px",b.scrollTop=je-U+b.offsetTop}f.style.margin=`${bn}px 0`,f.style.minHeight=Y+"px",f.style.maxHeight=ee+"px",a?.(),requestAnimationFrame(()=>k.current=!0)}},[w,c.trigger,c.valueNode,f,g,b,j,T,c.dir,a]);vr(()=>R(),[R]);const[F,$]=p.useState();vr(()=>{g&&$(window.getComputedStyle(g).zIndex)},[g]);const X=p.useCallback(K=>{K&&C.current===!0&&(R(),P?.(),C.current=!1)},[R,P]);return t.jsx(r_,{scope:s,contentWrapper:f,shouldExpandOnScrollRef:k,onScrollButtonChange:X,children:t.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:t.jsx($e.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Gb.displayName=e_;var t_="SelectPopperPosition",jm=p.forwardRef((e,r)=>{const{__scopeSelect:s,align:a="start",collisionPadding:o=bn,...c}=e,u=Ed(s);return t.jsx(lh,{...u,...c,ref:r,align:a,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jm.displayName=t_;var[r_,Ch]=Da(Pi,{}),wm="SelectViewport",Hb=p.forwardRef((e,r)=>{const{__scopeSelect:s,nonce:a,...o}=e,c=ti(wm,s),u=Ch(wm,s),f=lt(r,c.onViewportChange),h=p.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(Pd.Slot,{scope:s,children:t.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Fe(o.onScroll,g=>{const x=g.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:w}=u;if(w?.current&&y){const k=Math.abs(h.current-x.scrollTop);if(k>0){const C=window.innerHeight-bn*2,b=parseFloat(y.style.minHeight),j=parseFloat(y.style.height),T=Math.max(b,j);if(T<C){const P=T+k,R=Math.min(C,P),F=P-R;y.style.height=R+"px",y.style.bottom==="0px"&&(x.scrollTop=F>0?F:0,y.style.justifyContent="flex-end")}}}h.current=x.scrollTop})})})]})});Hb.displayName=wm;var Yb="SelectGroup",[n_,s_]=Da(Yb),i_=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e,o=Ar();return t.jsx(n_,{scope:s,id:o,children:t.jsx($e.div,{role:"group","aria-labelledby":o,...a,ref:r})})});i_.displayName=Yb;var Zb="SelectLabel",Xb=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e,o=s_(Zb,s);return t.jsx($e.div,{id:o.id,...a,ref:r})});Xb.displayName=Zb;var qc="SelectItem",[a_,Jb]=Da(qc),ej=p.forwardRef((e,r)=>{const{__scopeSelect:s,value:a,disabled:o=!1,textValue:c,...u}=e,f=ei(qc,s),h=ti(qc,s),g=f.value===a,[x,y]=p.useState(c??""),[w,k]=p.useState(!1),C=lt(r,P=>h.itemRefCallback?.(P,a,o)),b=Ar(),j=p.useRef("touch"),T=()=>{o||(f.onValueChange(a),f.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(a_,{scope:s,value:a,disabled:o,textId:b,isSelected:g,onItemTextChange:p.useCallback(P=>{y(R=>R||(P?.textContent??"").trim())},[]),children:t.jsx(Pd.ItemSlot,{scope:s,value:a,disabled:o,textValue:x,children:t.jsx($e.div,{role:"option","aria-labelledby":b,"data-highlighted":w?"":void 0,"aria-selected":g&&w,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:C,onFocus:Fe(u.onFocus,()=>k(!0)),onBlur:Fe(u.onBlur,()=>k(!1)),onClick:Fe(u.onClick,()=>{j.current!=="mouse"&&T()}),onPointerUp:Fe(u.onPointerUp,()=>{j.current==="mouse"&&T()}),onPointerDown:Fe(u.onPointerDown,P=>{j.current=P.pointerType}),onPointerMove:Fe(u.onPointerMove,P=>{j.current=P.pointerType,o?h.onItemLeave?.():j.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(u.onPointerLeave,P=>{P.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Fe(u.onKeyDown,P=>{h.searchRef?.current!==""&&P.key===" "||(qE.includes(P.key)&&T(),P.key===" "&&P.preventDefault())})})})})});ej.displayName=qc;var Po="SelectItemText",tj=p.forwardRef((e,r)=>{const{__scopeSelect:s,className:a,style:o,...c}=e,u=ei(Po,s),f=ti(Po,s),h=Jb(Po,s),g=HE(Po,s),[x,y]=p.useState(null),w=lt(r,T=>y(T),h.onItemTextChange,T=>f.itemTextRefCallback?.(T,h.value,h.disabled)),k=x?.textContent,C=p.useMemo(()=>t.jsx("option",{value:h.value,disabled:h.disabled,children:k},h.value),[h.disabled,h.value,k]),{onNativeOptionAdd:b,onNativeOptionRemove:j}=g;return vr(()=>(b(C),()=>j(C)),[b,j,C]),t.jsxs(t.Fragment,{children:[t.jsx($e.span,{id:h.textId,...c,ref:w}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Ea.createPortal(c.children,u.valueNode):null]})});tj.displayName=Po;var rj="SelectItemIndicator",nj=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e;return Jb(rj,s).isSelected?t.jsx($e.span,{"aria-hidden":!0,...a,ref:r}):null});nj.displayName=rj;var Nm="SelectScrollUpButton",sj=p.forwardRef((e,r)=>{const s=ti(Nm,e.__scopeSelect),a=Ch(Nm,e.__scopeSelect),[o,c]=p.useState(!1),u=lt(r,a.onScrollButtonChange);return vr(()=>{if(s.viewport&&s.isPositioned){let f=function(){const g=h.scrollTop>0;c(g)};const h=s.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),o?t.jsx(aj,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=s;f&&h&&(f.scrollTop=f.scrollTop-h.offsetHeight)}}):null});sj.displayName=Nm;var Sm="SelectScrollDownButton",ij=p.forwardRef((e,r)=>{const s=ti(Sm,e.__scopeSelect),a=Ch(Sm,e.__scopeSelect),[o,c]=p.useState(!1),u=lt(r,a.onScrollButtonChange);return vr(()=>{if(s.viewport&&s.isPositioned){let f=function(){const g=h.scrollHeight-h.clientHeight,x=Math.ceil(h.scrollTop)<g;c(x)};const h=s.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),o?t.jsx(aj,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=s;f&&h&&(f.scrollTop=f.scrollTop+h.offsetHeight)}}):null});ij.displayName=Sm;var aj=p.forwardRef((e,r)=>{const{__scopeSelect:s,onAutoScroll:a,...o}=e,c=ti("SelectScrollButton",s),u=p.useRef(null),f=Td(s),h=p.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return p.useEffect(()=>()=>h(),[h]),vr(()=>{f().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),t.jsx($e.div,{"aria-hidden":!0,...o,ref:r,style:{flexShrink:0,...o.style},onPointerDown:Fe(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(a,50))}),onPointerMove:Fe(o.onPointerMove,()=>{c.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(a,50))}),onPointerLeave:Fe(o.onPointerLeave,()=>{h()})})}),o_="SelectSeparator",oj=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e;return t.jsx($e.div,{"aria-hidden":!0,...a,ref:r})});oj.displayName=o_;var Cm="SelectArrow",l_=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e,o=Ed(s),c=ei(Cm,s),u=ti(Cm,s);return c.open&&u.position==="popper"?t.jsx(ch,{...o,...a,ref:r}):null});l_.displayName=Cm;var c_="SelectBubbleInput",lj=p.forwardRef(({__scopeSelect:e,value:r,...s},a)=>{const o=p.useRef(null),c=lt(a,o),u=wh(r);return p.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==r&&x){const y=new Event("change",{bubbles:!0});x.call(f,r),f.dispatchEvent(y)}},[u,r]),t.jsx($e.select,{...s,style:{...Vy,...s.style},ref:c,defaultValue:r})});lj.displayName=c_;function cj(e){return e===""||e===void 0}function dj(e){const r=un(e),s=p.useRef(""),a=p.useRef(0),o=p.useCallback(u=>{const f=s.current+u;r(f),(function h(g){s.current=g,window.clearTimeout(a.current),g!==""&&(a.current=window.setTimeout(()=>h(""),1e3))})(f)},[r]),c=p.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,o,c]}function uj(e,r,s){const o=r.length>1&&Array.from(r).every(g=>g===r[0])?r[0]:r,c=s?e.indexOf(s):-1;let u=d_(e,Math.max(c,0));o.length===1&&(u=u.filter(g=>g!==s));const h=u.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==s?h:void 0}function d_(e,r){return e.map((s,a)=>e[(r+a)%e.length])}var u_=Lb,fj=$b,f_=zb,m_=Ub,h_=Wb,mj=qb,p_=Hb,hj=Xb,pj=ej,g_=tj,x_=nj,gj=sj,xj=ij,vj=oj;const mr=u_,hr=f_,nr=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(fj,{ref:a,className:Te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[r,t.jsx(m_,{asChild:!0,children:t.jsx(Zm,{className:"h-4 w-4 opacity-50"})})]}));nr.displayName=fj.displayName;const yj=p.forwardRef(({className:e,...r},s)=>t.jsx(gj,{ref:s,className:Te("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(Yk,{className:"h-4 w-4"})}));yj.displayName=gj.displayName;const bj=p.forwardRef(({className:e,...r},s)=>t.jsx(xj,{ref:s,className:Te("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(Zm,{className:"h-4 w-4"})}));bj.displayName=xj.displayName;const sr=p.forwardRef(({className:e,children:r,position:s="popper",...a},o)=>t.jsx(h_,{children:t.jsxs(mj,{ref:o,className:Te("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:[t.jsx(yj,{}),t.jsx(p_,{className:Te("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),t.jsx(bj,{})]})}));sr.displayName=mj.displayName;const v_=p.forwardRef(({className:e,...r},s)=>t.jsx(hj,{ref:s,className:Te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));v_.displayName=hj.displayName;const Ee=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(pj,{ref:a,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(x_,{children:t.jsx(d0,{className:"h-4 w-4"})})}),t.jsx(g_,{children:r})]}));Ee.displayName=pj.displayName;const y_=p.forwardRef(({className:e,...r},s)=>t.jsx(vj,{ref:s,className:Te("-mx-1 my-1 h-px bg-muted",e),...r}));y_.displayName=vj.displayName;var il=e=>e.type==="checkbox",xi=e=>e instanceof Date,Tr=e=>e==null;const jj=e=>typeof e=="object";var Ht=e=>!Tr(e)&&!Array.isArray(e)&&jj(e)&&!xi(e),b_=e=>Ht(e)&&e.target?il(e.target)?e.target.checked:e.target.value:e,j_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,w_=(e,r)=>e.has(j_(r)),N_=e=>{const r=e.constructor&&e.constructor.prototype;return Ht(r)&&r.hasOwnProperty("isPrototypeOf")},kh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cr(e){let r;const s=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(kh&&(e instanceof Blob||a))&&(s||Ht(e)))if(r=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!N_(e))r=e;else for(const o in e)e.hasOwnProperty(o)&&(r[o]=cr(e[o]));else return e;return r}var _d=e=>/^\w*$/.test(e),er=e=>e===void 0,Ph=e=>Array.isArray(e)?e.filter(Boolean):[],Th=e=>Ph(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ae=(e,r,s)=>{if(!r||!Ht(e))return s;const a=(_d(r)?[r]:Th(r)).reduce((o,c)=>Tr(o)?o:o[c],e);return er(a)||a===e?er(e[r])?s:e[r]:a},Fn=e=>typeof e=="boolean",yt=(e,r,s)=>{let a=-1;const o=_d(r)?[r]:Th(r),c=o.length,u=c-1;for(;++a<c;){const f=o[a];let h=s;if(a!==u){const g=e[f];h=Ht(g)||Array.isArray(g)?g:isNaN(+o[a+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=h,e=e[f]}};const Dv={BLUR:"blur",FOCUS_OUT:"focusout"},wn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ss={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},S_=qt.createContext(null);S_.displayName="HookFormContext";var C_=(e,r,s,a=!0)=>{const o={defaultValues:r._defaultValues};for(const c in e)Object.defineProperty(o,c,{get:()=>{const u=c;return r._proxyFormState[u]!==wn.all&&(r._proxyFormState[u]=!a||wn.all),e[u]}});return o};const k_=typeof window<"u"?qt.useLayoutEffect:qt.useEffect;var $n=e=>typeof e=="string",P_=(e,r,s,a,o)=>$n(e)?(a&&r.watch.add(e),Ae(s,e,o)):Array.isArray(e)?e.map(c=>(a&&r.watch.add(c),Ae(s,c))):(a&&(r.watchAll=!0),s),km=e=>Tr(e)||!jj(e);function Bs(e,r,s=new WeakSet){if(km(e)||km(r))return e===r;if(xi(e)&&xi(r))return e.getTime()===r.getTime();const a=Object.keys(e),o=Object.keys(r);if(a.length!==o.length)return!1;if(s.has(e)||s.has(r))return!0;s.add(e),s.add(r);for(const c of a){const u=e[c];if(!o.includes(c))return!1;if(c!=="ref"){const f=r[c];if(xi(u)&&xi(f)||Ht(u)&&Ht(f)||Array.isArray(u)&&Array.isArray(f)?!Bs(u,f,s):u!==f)return!1}}return!0}var wj=(e,r,s,a,o)=>r?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[a]:o||!0}}:{},_o=e=>Array.isArray(e)?e:[e],Mv=()=>{let e=[];return{get observers(){return e},next:o=>{for(const c of e)c.next&&c.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(c=>c!==o)}}),unsubscribe:()=>{e=[]}}},Vr=e=>Ht(e)&&!Object.keys(e).length,Eh=e=>e.type==="file",Nn=e=>typeof e=="function",Kc=e=>{if(!kh)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Nj=e=>e.type==="select-multiple",_h=e=>e.type==="radio",T_=e=>_h(e)||il(e),Qf=e=>Kc(e)&&e.isConnected;function E_(e,r){const s=r.slice(0,-1).length;let a=0;for(;a<s;)e=er(e)?a++:e[r[a++]];return e}function __(e){for(const r in e)if(e.hasOwnProperty(r)&&!er(e[r]))return!1;return!0}function Jt(e,r){const s=Array.isArray(r)?r:_d(r)?[r]:Th(r),a=s.length===1?e:E_(e,s),o=s.length-1,c=s[o];return a&&delete a[c],o!==0&&(Ht(a)&&Vr(a)||Array.isArray(a)&&__(a))&&Jt(e,s.slice(0,-1)),e}var Sj=e=>{for(const r in e)if(Nn(e[r]))return!0;return!1};function Qc(e,r={}){const s=Array.isArray(e);if(Ht(e)||s)for(const a in e)Array.isArray(e[a])||Ht(e[a])&&!Sj(e[a])?(r[a]=Array.isArray(e[a])?[]:{},Qc(e[a],r[a])):Tr(e[a])||(r[a]=!0);return r}function Cj(e,r,s){const a=Array.isArray(e);if(Ht(e)||a)for(const o in e)Array.isArray(e[o])||Ht(e[o])&&!Sj(e[o])?er(r)||km(s[o])?s[o]=Array.isArray(e[o])?Qc(e[o],[]):{...Qc(e[o])}:Cj(e[o],Tr(r)?{}:r[o],s[o]):s[o]=!Bs(e[o],r[o]);return s}var So=(e,r)=>Cj(e,r,Qc(r));const Fv={value:!1,isValid:!1},Lv={value:!0,isValid:!0};var kj=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!er(e[0].attributes.value)?er(e[0].value)||e[0].value===""?Lv:{value:e[0].value,isValid:!0}:Lv:Fv}return Fv},Pj=(e,{valueAsNumber:r,valueAsDate:s,setValueAs:a})=>er(e)?e:r?e===""?NaN:e&&+e:s&&$n(e)?new Date(e):a?a(e):e;const Bv={isValid:!1,value:null};var Tj=e=>Array.isArray(e)?e.reduce((r,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:r,Bv):Bv;function $v(e){const r=e.ref;return Eh(r)?r.files:_h(r)?Tj(e.refs).value:Nj(r)?[...r.selectedOptions].map(({value:s})=>s):il(r)?kj(e.refs).value:Pj(er(r.value)?e.ref.value:r.value,e)}var A_=(e,r,s,a)=>{const o={};for(const c of e){const u=Ae(r,c);u&&yt(o,c,u._f)}return{criteriaMode:s,names:[...e],fields:o,shouldUseNativeValidation:a}},Gc=e=>e instanceof RegExp,Co=e=>er(e)?e:Gc(e)?e.source:Ht(e)?Gc(e.value)?e.value.source:e.value:e,Vv=e=>({isOnSubmit:!e||e===wn.onSubmit,isOnBlur:e===wn.onBlur,isOnChange:e===wn.onChange,isOnAll:e===wn.all,isOnTouch:e===wn.onTouched});const zv="AsyncFunction";var R_=e=>!!e&&!!e.validate&&!!(Nn(e.validate)&&e.validate.constructor.name===zv||Ht(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===zv)),I_=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Uv=(e,r,s)=>!s&&(r.watchAll||r.watch.has(e)||[...r.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Ao=(e,r,s,a)=>{for(const o of s||Object.keys(e)){const c=Ae(e,o);if(c){const{_f:u,...f}=c;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],o)&&!a)return!0;if(u.ref&&r(u.ref,u.name)&&!a)return!0;if(Ao(f,r))break}else if(Ht(f)&&Ao(f,r))break}}};function Wv(e,r,s){const a=Ae(e,s);if(a||_d(s))return{error:a,name:s};const o=s.split(".");for(;o.length;){const c=o.join("."),u=Ae(r,c),f=Ae(e,c);if(u&&!Array.isArray(u)&&s!==c)return{name:s};if(f&&f.type)return{name:c,error:f};if(f&&f.root&&f.root.type)return{name:`${c}.root`,error:f.root};o.pop()}return{name:s}}var O_=(e,r,s,a)=>{s(e);const{name:o,...c}=e;return Vr(c)||Object.keys(c).length>=Object.keys(r).length||Object.keys(c).find(u=>r[u]===(!a||wn.all))},D_=(e,r,s)=>!e||!r||e===r||_o(e).some(a=>a&&(s?a===r:a.startsWith(r)||r.startsWith(a))),M_=(e,r,s,a,o)=>o.isOnAll?!1:!s&&o.isOnTouch?!(r||e):(s?a.isOnBlur:o.isOnBlur)?!e:(s?a.isOnChange:o.isOnChange)?e:!0,F_=(e,r)=>!Ph(Ae(e,r)).length&&Jt(e,r),L_=(e,r,s)=>{const a=_o(Ae(e,s));return yt(a,"root",r[s]),yt(e,s,a),e},Mc=e=>$n(e);function qv(e,r,s="validate"){if(Mc(e)||Array.isArray(e)&&e.every(Mc)||Fn(e)&&!e)return{type:s,message:Mc(e)?e:"",ref:r}}var oa=e=>Ht(e)&&!Gc(e)?e:{value:e,message:""},Kv=async(e,r,s,a,o,c)=>{const{ref:u,refs:f,required:h,maxLength:g,minLength:x,min:y,max:w,pattern:k,validate:C,name:b,valueAsNumber:j,mount:T}=e._f,P=Ae(s,b);if(!T||r.has(b))return{};const R=f?f[0]:u,F=ee=>{o&&R.reportValidity&&(R.setCustomValidity(Fn(ee)?"":ee||""),R.reportValidity())},$={},X=_h(u),K=il(u),te=X||K,xe=(j||Eh(u))&&er(u.value)&&er(P)||Kc(u)&&u.value===""||P===""||Array.isArray(P)&&!P.length,he=wj.bind(null,b,a,$),pe=(ee,ie,H,ge=ss.maxLength,G=ss.minLength)=>{const q=ee?ie:H;$[b]={type:ee?ge:G,message:q,ref:u,...he(ee?ge:G,q)}};if(c?!Array.isArray(P)||!P.length:h&&(!te&&(xe||Tr(P))||Fn(P)&&!P||K&&!kj(f).isValid||X&&!Tj(f).isValid)){const{value:ee,message:ie}=Mc(h)?{value:!!h,message:h}:oa(h);if(ee&&($[b]={type:ss.required,message:ie,ref:R,...he(ss.required,ie)},!a))return F(ie),$}if(!xe&&(!Tr(y)||!Tr(w))){let ee,ie;const H=oa(w),ge=oa(y);if(!Tr(P)&&!isNaN(P)){const G=u.valueAsNumber||P&&+P;Tr(H.value)||(ee=G>H.value),Tr(ge.value)||(ie=G<ge.value)}else{const G=u.valueAsDate||new Date(P),q=Y=>new Date(new Date().toDateString()+" "+Y),N=u.type=="time",B=u.type=="week";$n(H.value)&&P&&(ee=N?q(P)>q(H.value):B?P>H.value:G>new Date(H.value)),$n(ge.value)&&P&&(ie=N?q(P)<q(ge.value):B?P<ge.value:G<new Date(ge.value))}if((ee||ie)&&(pe(!!ee,H.message,ge.message,ss.max,ss.min),!a))return F($[b].message),$}if((g||x)&&!xe&&($n(P)||c&&Array.isArray(P))){const ee=oa(g),ie=oa(x),H=!Tr(ee.value)&&P.length>+ee.value,ge=!Tr(ie.value)&&P.length<+ie.value;if((H||ge)&&(pe(H,ee.message,ie.message),!a))return F($[b].message),$}if(k&&!xe&&$n(P)){const{value:ee,message:ie}=oa(k);if(Gc(ee)&&!P.match(ee)&&($[b]={type:ss.pattern,message:ie,ref:u,...he(ss.pattern,ie)},!a))return F(ie),$}if(C){if(Nn(C)){const ee=await C(P,s),ie=qv(ee,R);if(ie&&($[b]={...ie,...he(ss.validate,ie.message)},!a))return F(ie.message),$}else if(Ht(C)){let ee={};for(const ie in C){if(!Vr(ee)&&!a)break;const H=qv(await C[ie](P,s),R,ie);H&&(ee={...H,...he(ie,H.message)},F(H.message),a&&($[b]=ee))}if(!Vr(ee)&&($[b]={ref:R,...ee},!a))return $}}return F(!0),$};const B_={mode:wn.onSubmit,reValidateMode:wn.onChange,shouldFocusError:!0};function $_(e={}){let r={...B_,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Nn(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},a={},o=Ht(r.defaultValues)||Ht(r.values)?cr(r.defaultValues||r.values)||{}:{},c=r.shouldUnregister?{}:cr(o),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,g=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...x};const w={array:Mv(),state:Mv()},k=r.criteriaMode===wn.all,C=D=>V=>{clearTimeout(g),g=setTimeout(D,V)},b=async D=>{if(!r.disabled&&(x.isValid||y.isValid||D)){const V=r.resolver?Vr((await K()).errors):await xe(a,!0);V!==s.isValid&&w.state.next({isValid:V})}},j=(D,V)=>{!r.disabled&&(x.isValidating||x.validatingFields||y.isValidating||y.validatingFields)&&((D||Array.from(f.mount)).forEach(J=>{J&&(V?yt(s.validatingFields,J,V):Jt(s.validatingFields,J))}),w.state.next({validatingFields:s.validatingFields,isValidating:!Vr(s.validatingFields)}))},T=(D,V=[],J,Ne,be=!0,ce=!0)=>{if(Ne&&J&&!r.disabled){if(u.action=!0,ce&&Array.isArray(Ae(a,D))){const Oe=J(Ae(a,D),Ne.argA,Ne.argB);be&&yt(a,D,Oe)}if(ce&&Array.isArray(Ae(s.errors,D))){const Oe=J(Ae(s.errors,D),Ne.argA,Ne.argB);be&&yt(s.errors,D,Oe),F_(s.errors,D)}if((x.touchedFields||y.touchedFields)&&ce&&Array.isArray(Ae(s.touchedFields,D))){const Oe=J(Ae(s.touchedFields,D),Ne.argA,Ne.argB);be&&yt(s.touchedFields,D,Oe)}(x.dirtyFields||y.dirtyFields)&&(s.dirtyFields=So(o,c)),w.state.next({name:D,isDirty:pe(D,V),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else yt(c,D,V)},P=(D,V)=>{yt(s.errors,D,V),w.state.next({errors:s.errors})},R=D=>{s.errors=D,w.state.next({errors:s.errors,isValid:!1})},F=(D,V,J,Ne)=>{const be=Ae(a,D);if(be){const ce=Ae(c,D,er(J)?Ae(o,D):J);er(ce)||Ne&&Ne.defaultChecked||V?yt(c,D,V?ce:$v(be._f)):H(D,ce),u.mount&&b()}},$=(D,V,J,Ne,be)=>{let ce=!1,Oe=!1;const ot={name:D};if(!r.disabled){if(!J||Ne){(x.isDirty||y.isDirty)&&(Oe=s.isDirty,s.isDirty=ot.isDirty=pe(),ce=Oe!==ot.isDirty);const Ze=Bs(Ae(o,D),V);Oe=!!Ae(s.dirtyFields,D),Ze?Jt(s.dirtyFields,D):yt(s.dirtyFields,D,!0),ot.dirtyFields=s.dirtyFields,ce=ce||(x.dirtyFields||y.dirtyFields)&&Oe!==!Ze}if(J){const Ze=Ae(s.touchedFields,D);Ze||(yt(s.touchedFields,D,J),ot.touchedFields=s.touchedFields,ce=ce||(x.touchedFields||y.touchedFields)&&Ze!==J)}ce&&be&&w.state.next(ot)}return ce?ot:{}},X=(D,V,J,Ne)=>{const be=Ae(s.errors,D),ce=(x.isValid||y.isValid)&&Fn(V)&&s.isValid!==V;if(r.delayError&&J?(h=C(()=>P(D,J)),h(r.delayError)):(clearTimeout(g),h=null,J?yt(s.errors,D,J):Jt(s.errors,D)),(J?!Bs(be,J):be)||!Vr(Ne)||ce){const Oe={...Ne,...ce&&Fn(V)?{isValid:V}:{},errors:s.errors,name:D};s={...s,...Oe},w.state.next(Oe)}},K=async D=>{j(D,!0);const V=await r.resolver(c,r.context,A_(D||f.mount,a,r.criteriaMode,r.shouldUseNativeValidation));return j(D),V},te=async D=>{const{errors:V}=await K(D);if(D)for(const J of D){const Ne=Ae(V,J);Ne?yt(s.errors,J,Ne):Jt(s.errors,J)}else s.errors=V;return V},xe=async(D,V,J={valid:!0})=>{for(const Ne in D){const be=D[Ne];if(be){const{_f:ce,...Oe}=be;if(ce){const ot=f.array.has(ce.name),Ze=be._f&&R_(be._f);Ze&&x.validatingFields&&j([Ne],!0);const Zt=await Kv(be,f.disabled,c,k,r.shouldUseNativeValidation&&!V,ot);if(Ze&&x.validatingFields&&j([Ne]),Zt[ce.name]&&(J.valid=!1,V))break;!V&&(Ae(Zt,ce.name)?ot?L_(s.errors,Zt,ce.name):yt(s.errors,ce.name,Zt[ce.name]):Jt(s.errors,ce.name))}!Vr(Oe)&&await xe(Oe,V,J)}}return J.valid},he=()=>{for(const D of f.unMount){const V=Ae(a,D);V&&(V._f.refs?V._f.refs.every(J=>!Qf(J)):!Qf(V._f.ref))&&re(D)}f.unMount=new Set},pe=(D,V)=>!r.disabled&&(D&&V&&yt(c,D,V),!Bs(Y(),o)),ee=(D,V,J)=>P_(D,f,{...u.mount?c:er(V)?o:$n(D)?{[D]:V}:V},J,V),ie=D=>Ph(Ae(u.mount?c:o,D,r.shouldUnregister?Ae(o,D,[]):[])),H=(D,V,J={})=>{const Ne=Ae(a,D);let be=V;if(Ne){const ce=Ne._f;ce&&(!ce.disabled&&yt(c,D,Pj(V,ce)),be=Kc(ce.ref)&&Tr(V)?"":V,Nj(ce.ref)?[...ce.ref.options].forEach(Oe=>Oe.selected=be.includes(Oe.value)):ce.refs?il(ce.ref)?ce.refs.forEach(Oe=>{(!Oe.defaultChecked||!Oe.disabled)&&(Array.isArray(be)?Oe.checked=!!be.find(ot=>ot===Oe.value):Oe.checked=be===Oe.value||!!be)}):ce.refs.forEach(Oe=>Oe.checked=Oe.value===be):Eh(ce.ref)?ce.ref.value="":(ce.ref.value=be,ce.ref.type||w.state.next({name:D,values:cr(c)})))}(J.shouldDirty||J.shouldTouch)&&$(D,be,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&B(D)},ge=(D,V,J)=>{for(const Ne in V){if(!V.hasOwnProperty(Ne))return;const be=V[Ne],ce=D+"."+Ne,Oe=Ae(a,ce);(f.array.has(D)||Ht(be)||Oe&&!Oe._f)&&!xi(be)?ge(ce,be,J):H(ce,be,J)}},G=(D,V,J={})=>{const Ne=Ae(a,D),be=f.array.has(D),ce=cr(V);yt(c,D,ce),be?(w.array.next({name:D,values:cr(c)}),(x.isDirty||x.dirtyFields||y.isDirty||y.dirtyFields)&&J.shouldDirty&&w.state.next({name:D,dirtyFields:So(o,c),isDirty:pe(D,ce)})):Ne&&!Ne._f&&!Tr(ce)?ge(D,ce,J):H(D,ce,J),Uv(D,f)&&w.state.next({...s,name:D}),w.state.next({name:u.mount?D:void 0,values:cr(c)})},q=async D=>{u.mount=!0;const V=D.target;let J=V.name,Ne=!0;const be=Ae(a,J),ce=Ze=>{Ne=Number.isNaN(Ze)||xi(Ze)&&isNaN(Ze.getTime())||Bs(Ze,Ae(c,J,Ze))},Oe=Vv(r.mode),ot=Vv(r.reValidateMode);if(be){let Ze,Zt;const en=V.type?$v(be._f):b_(D),zt=D.type===Dv.BLUR||D.type===Dv.FOCUS_OUT,E=!I_(be._f)&&!r.resolver&&!Ae(s.errors,J)&&!be._f.deps||M_(zt,Ae(s.touchedFields,J),s.isSubmitted,ot,Oe),ye=Uv(J,f,zt);yt(c,J,en),zt?(!V||!V.readOnly)&&(be._f.onBlur&&be._f.onBlur(D),h&&h(0)):be._f.onChange&&be._f.onChange(D);const Ye=$(J,en,zt),nt=!Vr(Ye)||ye;if(!zt&&w.state.next({name:J,type:D.type,values:cr(c)}),E)return(x.isValid||y.isValid)&&(r.mode==="onBlur"?zt&&b():zt||b()),nt&&w.state.next({name:J,...ye?{}:Ye});if(!zt&&ye&&w.state.next({...s}),r.resolver){const{errors:xt}=await K([J]);if(ce(en),Ne){const ps=Wv(s.errors,a,J),An=Wv(xt,a,ps.name||J);Ze=An.error,J=An.name,Zt=Vr(xt)}}else j([J],!0),Ze=(await Kv(be,f.disabled,c,k,r.shouldUseNativeValidation))[J],j([J]),ce(en),Ne&&(Ze?Zt=!1:(x.isValid||y.isValid)&&(Zt=await xe(a,!0)));Ne&&(be._f.deps&&B(be._f.deps),X(J,Zt,Ze,Ye))}},N=(D,V)=>{if(Ae(s.errors,V)&&D.focus)return D.focus(),1},B=async(D,V={})=>{let J,Ne;const be=_o(D);if(r.resolver){const ce=await te(er(D)?D:be);J=Vr(ce),Ne=D?!be.some(Oe=>Ae(ce,Oe)):J}else D?(Ne=(await Promise.all(be.map(async ce=>{const Oe=Ae(a,ce);return await xe(Oe&&Oe._f?{[ce]:Oe}:Oe)}))).every(Boolean),!(!Ne&&!s.isValid)&&b()):Ne=J=await xe(a);return w.state.next({...!$n(D)||(x.isValid||y.isValid)&&J!==s.isValid?{}:{name:D},...r.resolver||!D?{isValid:J}:{},errors:s.errors}),V.shouldFocus&&!Ne&&Ao(a,N,D?be:f.mount),Ne},Y=D=>{const V={...u.mount?c:o};return er(D)?V:$n(D)?Ae(V,D):D.map(J=>Ae(V,J))},I=(D,V)=>({invalid:!!Ae((V||s).errors,D),isDirty:!!Ae((V||s).dirtyFields,D),error:Ae((V||s).errors,D),isValidating:!!Ae(s.validatingFields,D),isTouched:!!Ae((V||s).touchedFields,D)}),O=D=>{D&&_o(D).forEach(V=>Jt(s.errors,V)),w.state.next({errors:D?s.errors:{}})},_=(D,V,J)=>{const Ne=(Ae(a,D,{_f:{}})._f||{}).ref,be=Ae(s.errors,D)||{},{ref:ce,message:Oe,type:ot,...Ze}=be;yt(s.errors,D,{...Ze,...V,ref:Ne}),w.state.next({name:D,errors:s.errors,isValid:!1}),J&&J.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},U=(D,V)=>Nn(D)?w.state.subscribe({next:J=>"values"in J&&D(ee(void 0,V),J)}):ee(D,V,!0),ne=D=>w.state.subscribe({next:V=>{D_(D.name,V.name,D.exact)&&O_(V,D.formState||x,fn,D.reRenderRoot)&&D.callback({values:{...c},...s,...V,defaultValues:o})}}).unsubscribe,ue=D=>(u.mount=!0,y={...y,...D.formState},ne({...D,formState:y})),re=(D,V={})=>{for(const J of D?_o(D):f.mount)f.mount.delete(J),f.array.delete(J),V.keepValue||(Jt(a,J),Jt(c,J)),!V.keepError&&Jt(s.errors,J),!V.keepDirty&&Jt(s.dirtyFields,J),!V.keepTouched&&Jt(s.touchedFields,J),!V.keepIsValidating&&Jt(s.validatingFields,J),!r.shouldUnregister&&!V.keepDefaultValue&&Jt(o,J);w.state.next({values:cr(c)}),w.state.next({...s,...V.keepDirty?{isDirty:pe()}:{}}),!V.keepIsValid&&b()},je=({disabled:D,name:V})=>{(Fn(D)&&u.mount||D||f.disabled.has(V))&&(D?f.disabled.add(V):f.disabled.delete(V))},Re=(D,V={})=>{let J=Ae(a,D);const Ne=Fn(V.disabled)||Fn(r.disabled);return yt(a,D,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:D}},name:D,mount:!0,...V}}),f.mount.add(D),J?je({disabled:Fn(V.disabled)?V.disabled:r.disabled,name:D}):F(D,!0,V.value),{...Ne?{disabled:V.disabled||r.disabled}:{},...r.progressive?{required:!!V.required,min:Co(V.min),max:Co(V.max),minLength:Co(V.minLength),maxLength:Co(V.maxLength),pattern:Co(V.pattern)}:{},name:D,onChange:q,onBlur:q,ref:be=>{if(be){Re(D,V),J=Ae(a,D);const ce=er(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,Oe=T_(ce),ot=J._f.refs||[];if(Oe?ot.find(Ze=>Ze===ce):ce===J._f.ref)return;yt(a,D,{_f:{...J._f,...Oe?{refs:[...ot.filter(Qf),ce,...Array.isArray(Ae(o,D))?[{}]:[]],ref:{type:ce.type,name:D}}:{ref:ce}}}),F(D,!1,void 0,ce)}else J=Ae(a,D,{}),J._f&&(J._f.mount=!1),(r.shouldUnregister||V.shouldUnregister)&&!(w_(f.array,D)&&u.action)&&f.unMount.add(D)}}},Ue=()=>r.shouldFocusError&&Ao(a,N,f.mount),dt=D=>{Fn(D)&&(w.state.next({disabled:D}),Ao(a,(V,J)=>{const Ne=Ae(a,J);Ne&&(V.disabled=Ne._f.disabled||D,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(be=>{be.disabled=Ne._f.disabled||D}))},0,!1))},ft=(D,V)=>async J=>{let Ne;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let be=cr(c);if(w.state.next({isSubmitting:!0}),r.resolver){const{errors:ce,values:Oe}=await K();s.errors=ce,be=cr(Oe)}else await xe(a);if(f.disabled.size)for(const ce of f.disabled)Jt(be,ce);if(Jt(s.errors,"root"),Vr(s.errors)){w.state.next({errors:{}});try{await D(be,J)}catch(ce){Ne=ce}}else V&&await V({...s.errors},J),Ue(),setTimeout(Ue);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vr(s.errors)&&!Ne,submitCount:s.submitCount+1,errors:s.errors}),Ne)throw Ne},Yt=(D,V={})=>{Ae(a,D)&&(er(V.defaultValue)?G(D,cr(Ae(o,D))):(G(D,V.defaultValue),yt(o,D,cr(V.defaultValue))),V.keepTouched||Jt(s.touchedFields,D),V.keepDirty||(Jt(s.dirtyFields,D),s.isDirty=V.defaultValue?pe(D,cr(Ae(o,D))):pe()),V.keepError||(Jt(s.errors,D),x.isValid&&b()),w.state.next({...s}))},tt=(D,V={})=>{const J=D?cr(D):o,Ne=cr(J),be=Vr(D),ce=be?o:Ne;if(V.keepDefaultValues||(o=J),!V.keepValues){if(V.keepDirtyValues){const Oe=new Set([...f.mount,...Object.keys(So(o,c))]);for(const ot of Array.from(Oe))Ae(s.dirtyFields,ot)?yt(ce,ot,Ae(c,ot)):G(ot,Ae(ce,ot))}else{if(kh&&er(D))for(const Oe of f.mount){const ot=Ae(a,Oe);if(ot&&ot._f){const Ze=Array.isArray(ot._f.refs)?ot._f.refs[0]:ot._f.ref;if(Kc(Ze)){const Zt=Ze.closest("form");if(Zt){Zt.reset();break}}}}if(V.keepFieldsRef)for(const Oe of f.mount)G(Oe,Ae(ce,Oe));else a={}}c=r.shouldUnregister?V.keepDefaultValues?cr(o):{}:cr(ce),w.array.next({values:{...ce}}),w.state.next({values:{...ce}})}f={mount:V.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!x.isValid||!!V.keepIsValid||!!V.keepDirtyValues,u.watch=!!r.shouldUnregister,w.state.next({submitCount:V.keepSubmitCount?s.submitCount:0,isDirty:be?!1:V.keepDirty?s.isDirty:!!(V.keepDefaultValues&&!Bs(D,o)),isSubmitted:V.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:be?{}:V.keepDirtyValues?V.keepDefaultValues&&c?So(o,c):s.dirtyFields:V.keepDefaultValues&&D?So(o,D):V.keepDirty?s.dirtyFields:{},touchedFields:V.keepTouched?s.touchedFields:{},errors:V.keepErrors?s.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Wr=(D,V)=>tt(Nn(D)?D(c):D,V),Jr=(D,V={})=>{const J=Ae(a,D),Ne=J&&J._f;if(Ne){const be=Ne.refs?Ne.refs[0]:Ne.ref;be.focus&&(be.focus(),V.shouldSelect&&Nn(be.select)&&be.select())}},fn=D=>{s={...s,...D}},hs={control:{register:Re,unregister:re,getFieldState:I,handleSubmit:ft,setError:_,_subscribe:ne,_runSchema:K,_focusError:Ue,_getWatch:ee,_getDirty:pe,_setValid:b,_setFieldArray:T,_setDisabledField:je,_setErrors:R,_getFieldArray:ie,_reset:tt,_resetDefaultValues:()=>Nn(r.defaultValues)&&r.defaultValues().then(D=>{Wr(D,r.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:he,_disableForm:dt,_subjects:w,_proxyFormState:x,get _fields(){return a},get _formValues(){return c},get _state(){return u},set _state(D){u=D},get _defaultValues(){return o},get _names(){return f},set _names(D){f=D},get _formState(){return s},get _options(){return r},set _options(D){r={...r,...D}}},subscribe:ue,trigger:B,register:Re,handleSubmit:ft,watch:U,setValue:G,getValues:Y,reset:Wr,resetField:Yt,clearErrors:O,unregister:re,setError:_,setFocus:Jr,getFieldState:I};return{...hs,formControl:hs}}function Ej(e={}){const r=qt.useRef(void 0),s=qt.useRef(void 0),[a,o]=qt.useState({isDirty:!1,isValidating:!1,isLoading:Nn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Nn(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:a},e.defaultValues&&!Nn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...f}=$_(e);r.current={...f,formState:a}}const c=r.current.control;return c._options=e,k_(()=>{const u=c._subscribe({formState:c._proxyFormState,callback:()=>o({...c._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),c._formState.isReady=!0,u},[c]),qt.useEffect(()=>c._disableForm(e.disabled),[c,e.disabled]),qt.useEffect(()=>{e.mode&&(c._options.mode=e.mode),e.reValidateMode&&(c._options.reValidateMode=e.reValidateMode)},[c,e.mode,e.reValidateMode]),qt.useEffect(()=>{e.errors&&(c._setErrors(e.errors),c._focusError())},[c,e.errors]),qt.useEffect(()=>{e.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,e.shouldUnregister]),qt.useEffect(()=>{if(c._proxyFormState.isDirty){const u=c._getDirty();u!==a.isDirty&&c._subjects.state.next({isDirty:u})}},[c,a.isDirty]),qt.useEffect(()=>{e.values&&!Bs(e.values,s.current)?(c._reset(e.values,{keepFieldsRef:!0,...c._options.resetOptions}),s.current=e.values,o(u=>({...u}))):c._resetDefaultValues()},[c,e.values]),qt.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),r.current.formState=C_(a,c),r.current}const Qv=(e,r,s)=>{if(e&&"reportValidity"in e){const a=Ae(s,r);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},_j=(e,r)=>{for(const s in r.fields){const a=r.fields[s];a&&a.ref&&"reportValidity"in a.ref?Qv(a.ref,s,e):a.refs&&a.refs.forEach(o=>Qv(o,s,e))}},V_=(e,r)=>{r.shouldUseNativeValidation&&_j(e,r);const s={};for(const a in e){const o=Ae(r.fields,a),c=Object.assign(e[a]||{},{ref:o&&o.ref});if(z_(r.names||Object.keys(e),a)){const u=Object.assign({},Ae(s,a));yt(u,"root",c),yt(s,a,u)}else yt(s,a,c)}return s},z_=(e,r)=>e.some(s=>s.startsWith(r+"."));var U_=function(e,r){for(var s={};e.length;){var a=e[0],o=a.code,c=a.message,u=a.path.join(".");if(!s[u])if("unionErrors"in a){var f=a.unionErrors[0].errors[0];s[u]={message:f.message,type:f.code}}else s[u]={message:c,type:o};if("unionErrors"in a&&a.unionErrors.forEach(function(x){return x.errors.forEach(function(y){return e.push(y)})}),r){var h=s[u].types,g=h&&h[a.code];s[u]=wj(u,r,s,o,g?[].concat(g,a.message):a.message)}e.shift()}return s},Aj=function(e,r,s){return s===void 0&&(s={}),function(a,o,c){try{return Promise.resolve((function(u,f){try{var h=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](a,r)).then(function(g){return c.shouldUseNativeValidation&&_j({},c),{errors:{},values:s.raw?a:g}})}catch(g){return f(g)}return h&&h.then?h.then(void 0,f):h})(0,function(u){if((function(f){return Array.isArray(f?.errors)})(u))return{values:{},errors:V_(U_(u.errors,!c.shouldUseNativeValidation&&c.criteriaMode==="all"),c)};throw u}))}catch(u){return Promise.reject(u)}}};const oe=Symbol.for("drizzle:entityKind");function ur(e,r){if(!e||typeof e!="object")return!1;if(e instanceof r)return!0;if(!Object.prototype.hasOwnProperty.call(r,oe))throw new Error(`Class "${r.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let s=Object.getPrototypeOf(e).constructor;if(s)for(;s;){if(oe in s&&s[oe]===r[oe])return!0;s=Object.getPrototypeOf(s)}return!1}class Lo{constructor(r,s){this.table=r,this.config=s,this.name=s.name,this.keyAsName=s.keyAsName,this.notNull=s.notNull,this.default=s.default,this.defaultFn=s.defaultFn,this.onUpdateFn=s.onUpdateFn,this.hasDefault=s.hasDefault,this.primary=s.primaryKey,this.isUnique=s.isUnique,this.uniqueName=s.uniqueName,this.uniqueType=s.uniqueType,this.dataType=s.dataType,this.columnType=s.columnType,this.generated=s.generated,this.generatedIdentity=s.generatedIdentity}static[oe]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(r){return r}mapToDriverValue(r){return r}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class W_{static[oe]="ColumnBuilder";config;constructor(r,s,a){this.config={name:r,keyAsName:r==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:s,columnType:a,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(r){return this.config.default=r,this.config.hasDefault=!0,this}$defaultFn(r){return this.config.defaultFn=r,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(r){return this.config.onUpdateFn=r,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(r){this.config.name===""&&(this.config.name=r)}}const pa=Symbol.for("drizzle:Name");class q_{static[oe]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(r,s){this.reference=()=>{const{name:a,columns:o,foreignColumns:c}=r();return{name:a,columns:o,foreignTable:c[0].table,foreignColumns:c}},s&&(this._onUpdate=s.onUpdate,this._onDelete=s.onDelete)}onUpdate(r){return this._onUpdate=r===void 0?"no action":r,this}onDelete(r){return this._onDelete=r===void 0?"no action":r,this}build(r){return new K_(r,this)}}class K_{constructor(r,s){this.table=r,this.reference=s.reference,this.onUpdate=s._onUpdate,this.onDelete=s._onDelete}static[oe]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:r,columns:s,foreignColumns:a}=this.reference(),o=s.map(f=>f.name),c=a.map(f=>f.name),u=[this.table[pa],...o,a[0].table[pa],...c];return r??`${u.join("_")}_fk`}}function Q_(e,...r){return e(...r)}function G_(e,r){return`${e[pa]}_${r.join("_")}_unique`}function Gv(e,r,s){for(let a=r;a<e.length;a++){const o=e[a];if(o==="\\"){a++;continue}if(o==='"')return[e.slice(r,a).replace(/\\/g,""),a+1];if(!s&&(o===","||o==="}"))return[e.slice(r,a).replace(/\\/g,""),a]}return[e.slice(r).replace(/\\/g,""),e.length]}function Rj(e,r=0){const s=[];let a=r,o=!1;for(;a<e.length;){const c=e[a];if(c===","){(o||a===r)&&s.push(""),o=!0,a++;continue}if(o=!1,c==="\\"){a+=2;continue}if(c==='"'){const[h,g]=Gv(e,a+1,!0);s.push(h),a=g;continue}if(c==="}")return[s,a+1];if(c==="{"){const[h,g]=Rj(e,a+1);s.push(h),a=g;continue}const[u,f]=Gv(e,a,!1);s.push(u),a=f}return[s,a]}function H_(e){const[r]=Rj(e,1);return r}function Ij(e){return`{${e.map(r=>Array.isArray(r)?Ij(r):typeof r=="string"?`"${r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${r}`).join(",")}}`}class ct extends W_{foreignKeyConfigs=[];static[oe]="PgColumnBuilder";array(r){return new Z_(this.config.name,this,r)}references(r,s={}){return this.foreignKeyConfigs.push({ref:r,actions:s}),this}unique(r,s){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=s?.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,s){return this.foreignKeyConfigs.map(({ref:a,actions:o})=>Q_((c,u)=>{const f=new q_(()=>{const h=c();return{columns:[r],foreignColumns:[h]}});return u.onUpdate&&f.onUpdate(u.onUpdate),u.onDelete&&f.onDelete(u.onDelete),f.build(s)},a,o))}buildExtraConfigColumn(r){return new Y_(r,this.config)}}class et extends Lo{constructor(r,s){s.uniqueName||(s.uniqueName=G_(r,[s.name])),super(r,s),this.table=r}static[oe]="PgColumn"}class Y_ extends et{static[oe]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}class Z_ extends ct{static[oe]="PgArrayBuilder";constructor(r,s,a){super(r,"array","PgArray"),this.config.baseBuilder=s,this.config.size=a}build(r){const s=this.config.baseBuilder.build(r);return new Ah(r,this.config,s)}}class Ah extends et{constructor(r,s,a,o){super(r,s),this.baseColumn=a,this.range=o,this.size=s.size}size;static[oe]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=H_(r)),r.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(r,s=!1){const a=r.map(o=>o===null?null:ur(this.baseColumn,Ah)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return s?a:Ij(a)}}const Hv=Symbol.for("drizzle:isPgEnum");function X_(e){return!!e&&typeof e=="function"&&Hv in e&&e[Hv]===!0}class Oj{static[oe]="Subquery";constructor(r,s,a,o=!1,c=[]){this._={brand:"Subquery",sql:r,selectedFields:s,alias:a,isWith:o,usedTables:c}}}const J_={startActiveSpan(e,r){return r()}},ga=Symbol.for("drizzle:ViewBaseConfig"),Gf=Symbol.for("drizzle:Schema"),Yv=Symbol.for("drizzle:Columns"),Zv=Symbol.for("drizzle:ExtraConfigColumns"),Hf=Symbol.for("drizzle:OriginalName"),Yf=Symbol.for("drizzle:BaseName"),Hc=Symbol.for("drizzle:IsAlias"),Xv=Symbol.for("drizzle:ExtraConfigBuilder"),Dj=Symbol.for("drizzle:IsDrizzleTable");let fr=class{static[oe]="Table";static Symbol={Name:pa,Schema:Gf,OriginalName:Hf,Columns:Yv,ExtraConfigColumns:Zv,BaseName:Yf,IsAlias:Hc,ExtraConfigBuilder:Xv};[pa];[Hf];[Gf];[Yv];[Zv];[Yf];[Hc]=!1;[Dj]=!0;[Xv]=void 0;constructor(r,s,a){this[pa]=this[Hf]=r,this[Gf]=s,this[Yf]=a}};function Mj(e){return typeof e=="object"&&e!==null&&Dj in e}function eA(e){return e!=null&&typeof e.getSQL=="function"}function tA(e){const r={sql:"",params:[]};for(const s of e)r.sql+=s.sql,r.params.push(...s.params),s.typings?.length&&(r.typings||(r.typings=[]),r.typings.push(...s.typings));return r}class jn{static[oe]="StringChunk";value;constructor(r){this.value=Array.isArray(r)?r:[r]}getSQL(){return new $t([this])}}class $t{constructor(r){this.queryChunks=r;for(const s of r)if(ur(s,fr)){const a=s[fr.Symbol.Schema];this.usedTables.push(a===void 0?s[fr.Symbol.Name]:a+"."+s[fr.Symbol.Name])}}static[oe]="SQL";decoder=Fj;shouldInlineParams=!1;usedTables=[];append(r){return this.queryChunks.push(...r.queryChunks),this}toQuery(r){return J_.startActiveSpan("drizzle.buildSQL",s=>{const a=this.buildQueryFromSourceParams(this.queryChunks,r);return s?.setAttributes({"drizzle.query.text":a.sql,"drizzle.query.params":JSON.stringify(a.params)}),a})}buildQueryFromSourceParams(r,s){const a=Object.assign({},s,{inlineParams:s.inlineParams||this.shouldInlineParams,paramStartIndex:s.paramStartIndex||{value:0}}),{casing:o,escapeName:c,escapeParam:u,prepareTyping:f,inlineParams:h,paramStartIndex:g}=a;return tA(r.map(x=>{if(ur(x,jn))return{sql:x.value.join(""),params:[]};if(ur(x,Pm))return{sql:c(x.value),params:[]};if(x===void 0)return{sql:"",params:[]};if(Array.isArray(x)){const y=[new jn("(")];for(const[w,k]of x.entries())y.push(k),w<x.length-1&&y.push(new jn(", "));return y.push(new jn(")")),this.buildQueryFromSourceParams(y,a)}if(ur(x,$t))return this.buildQueryFromSourceParams(x.queryChunks,{...a,inlineParams:h||x.shouldInlineParams});if(ur(x,fr)){const y=x[fr.Symbol.Schema],w=x[fr.Symbol.Name];return{sql:y===void 0||x[Hc]?c(w):c(y)+"."+c(w),params:[]}}if(ur(x,Lo)){const y=o.getColumnCasing(x);if(s.invokeSource==="indexes")return{sql:c(y),params:[]};const w=x.table[fr.Symbol.Schema];return{sql:x.table[Hc]||w===void 0?c(x.table[fr.Symbol.Name])+"."+c(y):c(w)+"."+c(x.table[fr.Symbol.Name])+"."+c(y),params:[]}}if(ur(x,rA)){const y=x[ga].schema,w=x[ga].name;return{sql:y===void 0||x[ga].isAlias?c(w):c(y)+"."+c(w),params:[]}}if(ur(x,Bj)){if(ur(x.value,Tm))return{sql:u(g.value++,x),params:[x],typings:["none"]};const y=x.value===null?null:x.encoder.mapToDriverValue(x.value);if(ur(y,$t))return this.buildQueryFromSourceParams([y],a);if(h)return{sql:this.mapInlineParam(y,a),params:[]};let w=["none"];return f&&(w=[f(x.encoder)]),{sql:u(g.value++,y),params:[y],typings:w}}return ur(x,Tm)?{sql:u(g.value++,x),params:[x],typings:["none"]}:ur(x,$t.Aliased)&&x.fieldAlias!==void 0?{sql:c(x.fieldAlias),params:[]}:ur(x,Oj)?x._.isWith?{sql:c(x._.alias),params:[]}:this.buildQueryFromSourceParams([new jn("("),x._.sql,new jn(") "),new Pm(x._.alias)],a):X_(x)?x.schema?{sql:c(x.schema)+"."+c(x.enumName),params:[]}:{sql:c(x.enumName),params:[]}:eA(x)?x.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([x.getSQL()],a):this.buildQueryFromSourceParams([new jn("("),x.getSQL(),new jn(")")],a):h?{sql:this.mapInlineParam(x,a),params:[]}:{sql:u(g.value++,x),params:[x],typings:["none"]}}))}mapInlineParam(r,{escapeString:s}){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return r.toString();if(typeof r=="string")return s(r);if(typeof r=="object"){const a=r.toString();return s(a==="[object Object]"?JSON.stringify(r):a)}throw new Error("Unexpected param value: "+r)}getSQL(){return this}as(r){return r===void 0?this:new $t.Aliased(this,r)}mapWith(r){return this.decoder=typeof r=="function"?{mapFromDriverValue:r}:r,this}inlineParams(){return this.shouldInlineParams=!0,this}if(r){return r?this:void 0}}class Pm{constructor(r){this.value=r}static[oe]="Name";brand;getSQL(){return new $t([this])}}const Fj={mapFromDriverValue:e=>e},Lj={mapToDriverValue:e=>e};({...Fj,...Lj});class Bj{constructor(r,s=Lj){this.value=r,this.encoder=s}static[oe]="Param";brand;getSQL(){return new $t([this])}}function gt(e,...r){const s=[];(r.length>0||e.length>0&&e[0]!=="")&&s.push(new jn(e[0]));for(const[a,o]of r.entries())s.push(o,new jn(e[a+1]));return new $t(s)}(e=>{function r(){return new $t([])}e.empty=r;function s(h){return new $t(h)}e.fromList=s;function a(h){return new $t([new jn(h)])}e.raw=a;function o(h,g){const x=[];for(const[y,w]of h.entries())y>0&&g!==void 0&&x.push(g),x.push(w);return new $t(x)}e.join=o;function c(h){return new Pm(h)}e.identifier=c;function u(h){return new Tm(h)}e.placeholder=u;function f(h,g){return new Bj(h,g)}e.param=f})(gt||(gt={}));(e=>{class r{constructor(a,o){this.sql=a,this.fieldAlias=o}static[oe]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}}e.Aliased=r})($t||($t={}));class Tm{constructor(r){this.name=r}static[oe]="Placeholder";getSQL(){return new $t([this])}}const $j=Symbol.for("drizzle:IsDrizzleView");class rA{static[oe]="View";[ga];[$j]=!0;constructor({name:r,schema:s,selectedFields:a,query:o}){this[ga]={name:r,originalName:r,schema:s,selectedFields:a,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new $t([this])}}function nA(e){return typeof e=="object"&&e!==null&&$j in e}Lo.prototype.getSQL=function(){return new $t([this])};fr.prototype.getSQL=function(){return new $t([this])};Oj.prototype.getSQL=function(){return new $t([this])};function sA(e){return e[fr.Symbol.Columns]}function iA(e){return e[ga].selectedFields}function pr(e,r){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:r}}typeof TextDecoder>"u"||new TextDecoder;class Ad extends ct{static[oe]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(r){if(r){const{name:s,...a}=r;this.config.generatedIdentity={type:"always",sequenceName:s,sequenceOptions:a}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(r){if(r){const{name:s,...a}=r;this.config.generatedIdentity={type:"byDefault",sequenceName:s,sequenceOptions:a}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class aA extends Ad{static[oe]="PgBigInt53Builder";constructor(r){super(r,"number","PgBigInt53")}build(r){return new oA(r,this.config)}}class oA extends et{static[oe]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}class lA extends Ad{static[oe]="PgBigInt64Builder";constructor(r){super(r,"bigint","PgBigInt64")}build(r){return new cA(r,this.config)}}class cA extends et{static[oe]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(r){return BigInt(r)}}function dA(e,r){const{name:s,config:a}=pr(e,r);return a.mode==="number"?new aA(s):new lA(s)}class uA extends ct{static[oe]="PgBigSerial53Builder";constructor(r){super(r,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new fA(r,this.config)}}class fA extends et{static[oe]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}class mA extends ct{static[oe]="PgBigSerial64Builder";constructor(r){super(r,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(r){return new hA(r,this.config)}}class hA extends et{static[oe]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(r){return BigInt(r)}}function pA(e,r){const{name:s,config:a}=pr(e,r);return a.mode==="number"?new uA(s):new mA(s)}class gA extends ct{static[oe]="PgBooleanBuilder";constructor(r){super(r,"boolean","PgBoolean")}build(r){return new xA(r,this.config)}}class xA extends et{static[oe]="PgBoolean";getSQLType(){return"boolean"}}function kr(e){return new gA(e??"")}class vA extends ct{static[oe]="PgCharBuilder";constructor(r,s){super(r,"string","PgChar"),this.config.length=s.length,this.config.enumValues=s.enum}build(r){return new yA(r,this.config)}}class yA extends et{static[oe]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function bA(e,r={}){const{name:s,config:a}=pr(e,r);return new vA(s,a)}class jA extends ct{static[oe]="PgCidrBuilder";constructor(r){super(r,"string","PgCidr")}build(r){return new wA(r,this.config)}}class wA extends et{static[oe]="PgCidr";getSQLType(){return"cidr"}}function NA(e){return new jA(e??"")}class SA extends ct{static[oe]="PgCustomColumnBuilder";constructor(r,s,a){super(r,"custom","PgCustomColumn"),this.config.fieldConfig=s,this.config.customTypeParams=a}build(r){return new CA(r,this.config)}}class CA extends et{static[oe]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(r,s){super(r,s),this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}function kA(e){return(r,s)=>{const{name:a,config:o}=pr(r,s);return new SA(a,o,e)}}class al extends ct{static[oe]="PgDateColumnBaseBuilder";defaultNow(){return this.default(gt`now()`)}}class PA extends al{static[oe]="PgDateBuilder";constructor(r){super(r,"date","PgDate")}build(r){return new TA(r,this.config)}}class TA extends et{static[oe]="PgDate";getSQLType(){return"date"}mapFromDriverValue(r){return new Date(r)}mapToDriverValue(r){return r.toISOString()}}class EA extends al{static[oe]="PgDateStringBuilder";constructor(r){super(r,"string","PgDateString")}build(r){return new _A(r,this.config)}}class _A extends et{static[oe]="PgDateString";getSQLType(){return"date"}}function AA(e,r){const{name:s,config:a}=pr(e,r);return a?.mode==="date"?new PA(s):new EA(s)}class RA extends ct{static[oe]="PgDoublePrecisionBuilder";constructor(r){super(r,"number","PgDoublePrecision")}build(r){return new IA(r,this.config)}}class IA extends et{static[oe]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(r){return typeof r=="string"?Number.parseFloat(r):r}}function OA(e){return new RA(e??"")}class DA extends ct{static[oe]="PgInetBuilder";constructor(r){super(r,"string","PgInet")}build(r){return new MA(r,this.config)}}class MA extends et{static[oe]="PgInet";getSQLType(){return"inet"}}function FA(e){return new DA(e??"")}class LA extends Ad{static[oe]="PgIntegerBuilder";constructor(r){super(r,"number","PgInteger")}build(r){return new BA(r,this.config)}}class BA extends et{static[oe]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(r){return typeof r=="string"?Number.parseInt(r):r}}function Ks(e){return new LA(e??"")}class $A extends ct{static[oe]="PgIntervalBuilder";constructor(r,s){super(r,"string","PgInterval"),this.config.intervalConfig=s}build(r){return new VA(r,this.config)}}class VA extends et{static[oe]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const r=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${r}${s}`}}function zA(e,r={}){const{name:s,config:a}=pr(e,r);return new $A(s,a)}class UA extends ct{static[oe]="PgJsonBuilder";constructor(r){super(r,"json","PgJson")}build(r){return new WA(r,this.config)}}class WA extends et{static[oe]="PgJson";constructor(r,s){super(r,s)}getSQLType(){return"json"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}function qA(e){return new UA(e??"")}class KA extends ct{static[oe]="PgJsonbBuilder";constructor(r){super(r,"json","PgJsonb")}build(r){return new QA(r,this.config)}}class QA extends et{static[oe]="PgJsonb";constructor(r,s){super(r,s)}getSQLType(){return"jsonb"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}function wa(e){return new KA(e??"")}class GA extends ct{static[oe]="PgLineBuilder";constructor(r){super(r,"array","PgLine")}build(r){return new HA(r,this.config)}}class HA extends et{static[oe]="PgLine";getSQLType(){return"line"}mapFromDriverValue(r){const[s,a,o]=r.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(a),Number.parseFloat(o)]}mapToDriverValue(r){return`{${r[0]},${r[1]},${r[2]}}`}}class YA extends ct{static[oe]="PgLineABCBuilder";constructor(r){super(r,"json","PgLineABC")}build(r){return new ZA(r,this.config)}}class ZA extends et{static[oe]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(r){const[s,a,o]=r.slice(1,-1).split(",");return{a:Number.parseFloat(s),b:Number.parseFloat(a),c:Number.parseFloat(o)}}mapToDriverValue(r){return`{${r.a},${r.b},${r.c}}`}}function XA(e,r){const{name:s,config:a}=pr(e,r);return!a?.mode||a.mode==="tuple"?new GA(s):new YA(s)}class JA extends ct{static[oe]="PgMacaddrBuilder";constructor(r){super(r,"string","PgMacaddr")}build(r){return new eR(r,this.config)}}class eR extends et{static[oe]="PgMacaddr";getSQLType(){return"macaddr"}}function tR(e){return new JA(e??"")}class rR extends ct{static[oe]="PgMacaddr8Builder";constructor(r){super(r,"string","PgMacaddr8")}build(r){return new nR(r,this.config)}}class nR extends et{static[oe]="PgMacaddr8";getSQLType(){return"macaddr8"}}function sR(e){return new rR(e??"")}class iR extends ct{static[oe]="PgNumericBuilder";constructor(r,s,a){super(r,"string","PgNumeric"),this.config.precision=s,this.config.scale=a}build(r){return new aR(r,this.config)}}class aR extends et{static[oe]="PgNumeric";precision;scale;constructor(r,s){super(r,s),this.precision=s.precision,this.scale=s.scale}mapFromDriverValue(r){return typeof r=="string"?r:String(r)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class oR extends ct{static[oe]="PgNumericNumberBuilder";constructor(r,s,a){super(r,"number","PgNumericNumber"),this.config.precision=s,this.config.scale=a}build(r){return new lR(r,this.config)}}class lR extends et{static[oe]="PgNumericNumber";precision;scale;constructor(r,s){super(r,s),this.precision=s.precision,this.scale=s.scale}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class cR extends ct{static[oe]="PgNumericBigIntBuilder";constructor(r,s,a){super(r,"bigint","PgNumericBigInt"),this.config.precision=s,this.config.scale=a}build(r){return new dR(r,this.config)}}class dR extends et{static[oe]="PgNumericBigInt";precision;scale;constructor(r,s){super(r,s),this.precision=s.precision,this.scale=s.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function uR(e,r){const{name:s,config:a}=pr(e,r),o=a?.mode;return o==="number"?new oR(s,a?.precision,a?.scale):o==="bigint"?new cR(s,a?.precision,a?.scale):new iR(s,a?.precision,a?.scale)}class fR extends ct{static[oe]="PgPointTupleBuilder";constructor(r){super(r,"array","PgPointTuple")}build(r){return new mR(r,this.config)}}class mR extends et{static[oe]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[s,a]=r.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(a)]}return[r.x,r.y]}mapToDriverValue(r){return`(${r[0]},${r[1]})`}}class hR extends ct{static[oe]="PgPointObjectBuilder";constructor(r){super(r,"json","PgPointObject")}build(r){return new pR(r,this.config)}}class pR extends et{static[oe]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[s,a]=r.slice(1,-1).split(",");return{x:Number.parseFloat(s),y:Number.parseFloat(a)}}return r}mapToDriverValue(r){return`(${r.x},${r.y})`}}function gR(e,r){const{name:s,config:a}=pr(e,r);return!a?.mode||a.mode==="tuple"?new fR(s):new hR(s)}function xR(e){const r=[];for(let s=0;s<e.length;s+=2)r.push(Number.parseInt(e.slice(s,s+2),16));return new Uint8Array(r)}function Jv(e,r){const s=new ArrayBuffer(8),a=new DataView(s);for(let o=0;o<8;o++)a.setUint8(o,e[r+o]);return a.getFloat64(0,!0)}function Vj(e){const r=xR(e);let s=0;const a=r[s];s+=1;const o=new DataView(r.buffer),c=o.getUint32(s,a===1);if(s+=4,c&536870912&&(o.getUint32(s,a===1),s+=4),(c&65535)===1){const u=Jv(r,s);s+=8;const f=Jv(r,s);return s+=8,[u,f]}throw new Error("Unsupported geometry type")}class vR extends ct{static[oe]="PgGeometryBuilder";constructor(r){super(r,"array","PgGeometry")}build(r){return new yR(r,this.config)}}class yR extends et{static[oe]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(r){return Vj(r)}mapToDriverValue(r){return`point(${r[0]} ${r[1]})`}}class bR extends ct{static[oe]="PgGeometryObjectBuilder";constructor(r){super(r,"json","PgGeometryObject")}build(r){return new jR(r,this.config)}}class jR extends et{static[oe]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(r){const s=Vj(r);return{x:s[0],y:s[1]}}mapToDriverValue(r){return`point(${r.x} ${r.y})`}}function wR(e,r){const{name:s,config:a}=pr(e,r);return!a?.mode||a.mode==="tuple"?new vR(s):new bR(s)}class NR extends ct{static[oe]="PgRealBuilder";constructor(r,s){super(r,"number","PgReal"),this.config.length=s}build(r){return new SR(r,this.config)}}class SR extends et{static[oe]="PgReal";constructor(r,s){super(r,s)}getSQLType(){return"real"}mapFromDriverValue=r=>typeof r=="string"?Number.parseFloat(r):r}function CR(e){return new NR(e??"")}class kR extends ct{static[oe]="PgSerialBuilder";constructor(r){super(r,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new PR(r,this.config)}}class PR extends et{static[oe]="PgSerial";getSQLType(){return"serial"}}function TR(e){return new kR(e??"")}class ER extends Ad{static[oe]="PgSmallIntBuilder";constructor(r){super(r,"number","PgSmallInt")}build(r){return new _R(r,this.config)}}class _R extends et{static[oe]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=r=>typeof r=="string"?Number(r):r}function AR(e){return new ER(e??"")}class RR extends ct{static[oe]="PgSmallSerialBuilder";constructor(r){super(r,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new IR(r,this.config)}}class IR extends et{static[oe]="PgSmallSerial";getSQLType(){return"smallserial"}}function OR(e){return new RR(e??"")}class DR extends ct{static[oe]="PgTextBuilder";constructor(r,s){super(r,"string","PgText"),this.config.enumValues=s.enum}build(r){return new MR(r,this.config)}}class MR extends et{static[oe]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function He(e,r={}){const{name:s,config:a}=pr(e,r);return new DR(s,a)}class FR extends al{constructor(r,s,a){super(r,"string","PgTime"),this.withTimezone=s,this.precision=a,this.config.withTimezone=s,this.config.precision=a}static[oe]="PgTimeBuilder";build(r){return new LR(r,this.config)}}class LR extends et{static[oe]="PgTime";withTimezone;precision;constructor(r,s){super(r,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function BR(e,r={}){const{name:s,config:a}=pr(e,r);return new FR(s,a.withTimezone??!1,a.precision)}class $R extends al{static[oe]="PgTimestampBuilder";constructor(r,s,a){super(r,"date","PgTimestamp"),this.config.withTimezone=s,this.config.precision=a}build(r){return new VR(r,this.config)}}class VR extends et{static[oe]="PgTimestamp";withTimezone;precision;constructor(r,s){super(r,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=r=>new Date(this.withTimezone?r:r+"+0000");mapToDriverValue=r=>r.toISOString()}class zR extends al{static[oe]="PgTimestampStringBuilder";constructor(r,s,a){super(r,"string","PgTimestampString"),this.config.withTimezone=s,this.config.precision=a}build(r){return new UR(r,this.config)}}class UR extends et{static[oe]="PgTimestampString";withTimezone;precision;constructor(r,s){super(r,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function kt(e,r={}){const{name:s,config:a}=pr(e,r);return a?.mode==="string"?new zR(s,a.withTimezone??!1,a.precision):new $R(s,a?.withTimezone??!1,a?.precision)}class WR extends ct{static[oe]="PgUUIDBuilder";constructor(r){super(r,"string","PgUUID")}defaultRandom(){return this.default(gt`gen_random_uuid()`)}build(r){return new qR(r,this.config)}}class qR extends et{static[oe]="PgUUID";getSQLType(){return"uuid"}}function KR(e){return new WR(e??"")}class QR extends ct{static[oe]="PgVarcharBuilder";constructor(r,s){super(r,"string","PgVarchar"),this.config.length=s.length,this.config.enumValues=s.enum}build(r){return new GR(r,this.config)}}class GR extends et{static[oe]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function Rr(e,r={}){const{name:s,config:a}=pr(e,r);return new QR(s,a)}class HR extends ct{static[oe]="PgBinaryVectorBuilder";constructor(r,s){super(r,"string","PgBinaryVector"),this.config.dimensions=s.dimensions}build(r){return new YR(r,this.config)}}class YR extends et{static[oe]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function ZR(e,r){const{name:s,config:a}=pr(e,r);return new HR(s,a)}class XR extends ct{static[oe]="PgHalfVectorBuilder";constructor(r,s){super(r,"array","PgHalfVector"),this.config.dimensions=s.dimensions}build(r){return new JR(r,this.config)}}class JR extends et{static[oe]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}function eI(e,r){const{name:s,config:a}=pr(e,r);return new XR(s,a)}class tI extends ct{static[oe]="PgSparseVectorBuilder";constructor(r,s){super(r,"string","PgSparseVector"),this.config.dimensions=s.dimensions}build(r){return new rI(r,this.config)}}class rI extends et{static[oe]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function nI(e,r){const{name:s,config:a}=pr(e,r);return new tI(s,a)}class sI extends ct{static[oe]="PgVectorBuilder";constructor(r,s){super(r,"array","PgVector"),this.config.dimensions=s.dimensions}build(r){return new iI(r,this.config)}}class iI extends et{static[oe]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}function aI(e,r){const{name:s,config:a}=pr(e,r);return new sI(s,a)}function oI(){return{bigint:dA,bigserial:pA,boolean:kr,char:bA,cidr:NA,customType:kA,date:AA,doublePrecision:OA,inet:FA,integer:Ks,interval:zA,json:qA,jsonb:wa,line:XA,macaddr:tR,macaddr8:sR,numeric:uR,point:gR,geometry:wR,real:CR,serial:TR,smallint:AR,smallserial:OR,text:He,time:BR,timestamp:kt,uuid:KR,varchar:Rr,bit:ZR,halfvec:eI,sparsevec:nI,vector:aI}}const Em=Symbol.for("drizzle:PgInlineForeignKeys"),ey=Symbol.for("drizzle:EnableRLS");class ty extends fr{static[oe]="PgTable";static Symbol=Object.assign({},fr.Symbol,{InlineForeignKeys:Em,EnableRLS:ey});[Em]=[];[ey]=!1;[fr.Symbol.ExtraConfigBuilder]=void 0;[fr.Symbol.ExtraConfigColumns]={}}function lI(e,r,s,a,o=e){const c=new ty(e,a,o),u=typeof r=="function"?r(oI()):r,f=Object.fromEntries(Object.entries(u).map(([x,y])=>{const w=y;w.setName(x);const k=w.build(c);return c[Em].push(...w.buildForeignKeys(k,c)),[x,k]})),h=Object.fromEntries(Object.entries(u).map(([x,y])=>{const w=y;w.setName(x);const k=w.buildExtraConfigColumn(c);return[x,k]})),g=Object.assign(c,f);return g[fr.Symbol.Columns]=f,g[fr.Symbol.ExtraConfigColumns]=h,Object.assign(g,{enableRLS:()=>(g[ty.Symbol.EnableRLS]=!0,g)})}const Qn=(e,r,s)=>lI(e,r,s,void 0);var ut;(function(e){e.assertEqual=o=>{};function r(o){}e.assertIs=r;function s(o){throw new Error}e.assertNever=s,e.arrayToEnum=o=>{const c={};for(const u of o)c[u]=u;return c},e.getValidEnumValues=o=>{const c=e.objectKeys(o).filter(f=>typeof o[o[f]]!="number"),u={};for(const f of c)u[f]=o[f];return e.objectValues(u)},e.objectValues=o=>e.objectKeys(o).map(function(c){return o[c]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const c=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&c.push(u);return c},e.find=(o,c)=>{for(const u of o)if(c(u))return u},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function a(o,c=" | "){return o.map(u=>typeof u=="string"?`'${u}'`:u).join(c)}e.joinValues=a,e.jsonStringifyReplacer=(o,c)=>typeof c=="bigint"?c.toString():c})(ut||(ut={}));var _m;(function(e){e.mergeShapes=(r,s)=>({...r,...s})})(_m||(_m={}));const ke=ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),as=e=>{switch(typeof e){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return Number.isNaN(e)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(e)?ke.array:e===null?ke.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ke.promise:typeof Map<"u"&&e instanceof Map?ke.map:typeof Set<"u"&&e instanceof Set?ke.set:typeof Date<"u"&&e instanceof Date?ke.date:ke.object;default:return ke.unknown}},me=ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),cI=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Xr extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=r}format(r){const s=r||function(c){return c.message},a={_errors:[]},o=c=>{for(const u of c.issues)if(u.code==="invalid_union")u.unionErrors.map(o);else if(u.code==="invalid_return_type")o(u.returnTypeError);else if(u.code==="invalid_arguments")o(u.argumentsError);else if(u.path.length===0)a._errors.push(s(u));else{let f=a,h=0;for(;h<u.path.length;){const g=u.path[h];h===u.path.length-1?(f[g]=f[g]||{_errors:[]},f[g]._errors.push(s(u))):f[g]=f[g]||{_errors:[]},f=f[g],h++}}};return o(this),a}static assert(r){if(!(r instanceof Xr))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=s=>s.message){const s={},a=[];for(const o of this.issues)if(o.path.length>0){const c=o.path[0];s[c]=s[c]||[],s[c].push(r(o))}else a.push(r(o));return{formErrors:a,fieldErrors:s}}get formErrors(){return this.flatten()}}Xr.create=e=>new Xr(e);const Na=(e,r)=>{let s;switch(e.code){case me.invalid_type:e.received===ke.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case me.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,ut.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:s=`Unrecognized key(s) in object: ${ut.joinValues(e.keys,", ")}`;break;case me.invalid_union:s="Invalid input";break;case me.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${ut.joinValues(e.options)}`;break;case me.invalid_enum_value:s=`Invalid enum value. Expected ${ut.joinValues(e.options)}, received '${e.received}'`;break;case me.invalid_arguments:s="Invalid function arguments";break;case me.invalid_return_type:s="Invalid function return type";break;case me.invalid_date:s="Invalid date";break;case me.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:ut.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case me.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case me.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case me.custom:s="Invalid input";break;case me.invalid_intersection_types:s="Intersection results could not be merged";break;case me.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case me.not_finite:s="Number must be finite";break;default:s=r.defaultError,ut.assertNever(e)}return{message:s}};let zj=Na;function dI(e){zj=e}function Yc(){return zj}const Zc=e=>{const{data:r,path:s,errorMaps:a,issueData:o}=e,c=[...s,...o.path||[]],u={...o,path:c};if(o.message!==void 0)return{...o,path:c,message:o.message};let f="";const h=a.filter(g=>!!g).slice().reverse();for(const g of h)f=g(u,{data:r,defaultError:f}).message;return{...o,path:c,message:f}},uI=[];function Se(e,r){const s=Yc(),a=Zc({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===Na?void 0:Na].filter(o=>!!o)});e.common.issues.push(a)}class Nr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,s){const a=[];for(const o of s){if(o.status==="aborted")return qe;o.status==="dirty"&&r.dirty(),a.push(o.value)}return{status:r.value,value:a}}static async mergeObjectAsync(r,s){const a=[];for(const o of s){const c=await o.key,u=await o.value;a.push({key:c,value:u})}return Nr.mergeObjectSync(r,a)}static mergeObjectSync(r,s){const a={};for(const o of s){const{key:c,value:u}=o;if(c.status==="aborted"||u.status==="aborted")return qe;c.status==="dirty"&&r.dirty(),u.status==="dirty"&&r.dirty(),c.value!=="__proto__"&&(typeof u.value<"u"||o.alwaysSet)&&(a[c.value]=u.value)}return{status:r.value,value:a}}}const qe=Object.freeze({status:"aborted"}),ua=e=>({status:"dirty",value:e}),Ir=e=>({status:"valid",value:e}),Am=e=>e.status==="aborted",Rm=e=>e.status==="dirty",Ti=e=>e.status==="valid",Bo=e=>typeof Promise<"u"&&e instanceof Promise;var Be;(function(e){e.errToObj=r=>typeof r=="string"?{message:r}:r||{},e.toString=r=>typeof r=="string"?r:r?.message})(Be||(Be={}));class Wn{constructor(r,s,a,o){this._cachedPath=[],this.parent=r,this.data=s,this._path=a,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ry=(e,r)=>{if(Ti(r))return{success:!0,data:r.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Xr(e.common.issues);return this._error=s,this._error}}};function rt(e){if(!e)return{};const{errorMap:r,invalid_type_error:s,required_error:a,description:o}=e;if(r&&(s||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:o}:{errorMap:(u,f)=>{const{message:h}=e;return u.code==="invalid_enum_value"?{message:h??f.defaultError}:typeof f.data>"u"?{message:h??a??f.defaultError}:u.code!=="invalid_type"?{message:f.defaultError}:{message:h??s??f.defaultError}},description:o}}class it{get description(){return this._def.description}_getType(r){return as(r.data)}_getOrReturnCtx(r,s){return s||{common:r.parent.common,data:r.data,parsedType:as(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new Nr,ctx:{common:r.parent.common,data:r.data,parsedType:as(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const s=this._parse(r);if(Bo(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(r){const s=this._parse(r);return Promise.resolve(s)}parse(r,s){const a=this.safeParse(r,s);if(a.success)return a.data;throw a.error}safeParse(r,s){const a={common:{issues:[],async:s?.async??!1,contextualErrorMap:s?.errorMap},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:as(r)},o=this._parseSync({data:r,path:a.path,parent:a});return ry(a,o)}"~validate"(r){const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:as(r)};if(!this["~standard"].async)try{const a=this._parseSync({data:r,path:[],parent:s});return Ti(a)?{value:a.value}:{issues:s.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:s}).then(a=>Ti(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(r,s){const a=await this.safeParseAsync(r,s);if(a.success)return a.data;throw a.error}async safeParseAsync(r,s){const a={common:{issues:[],contextualErrorMap:s?.errorMap,async:!0},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:as(r)},o=this._parse({data:r,path:a.path,parent:a}),c=await(Bo(o)?o:Promise.resolve(o));return ry(a,c)}refine(r,s){const a=o=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(o):s;return this._refinement((o,c)=>{const u=r(o),f=()=>c.addIssue({code:me.custom,...a(o)});return typeof Promise<"u"&&u instanceof Promise?u.then(h=>h?!0:(f(),!1)):u?!0:(f(),!1)})}refinement(r,s){return this._refinement((a,o)=>r(a)?!0:(o.addIssue(typeof s=="function"?s(a,o):s),!1))}_refinement(r){return new Tn({schema:this,typeName:Qe.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return zn.create(this,this._def)}nullable(){return Xs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Cn.create(this)}promise(){return Ca.create(this,this._def)}or(r){return Uo.create([this,r],this._def)}and(r){return Wo.create(this,r,this._def)}transform(r){return new Tn({...rt(this._def),schema:this,typeName:Qe.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const s=typeof r=="function"?r:()=>r;return new Ho({...rt(this._def),innerType:this,defaultValue:s,typeName:Qe.ZodDefault})}brand(){return new Rh({typeName:Qe.ZodBranded,type:this,...rt(this._def)})}catch(r){const s=typeof r=="function"?r:()=>r;return new Yo({...rt(this._def),innerType:this,catchValue:s,typeName:Qe.ZodCatch})}describe(r){const s=this.constructor;return new s({...this._def,description:r})}pipe(r){return ol.create(this,r)}readonly(){return Zo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fI=/^c[^\s-]{8,}$/i,mI=/^[0-9a-z]+$/,hI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gI=/^[a-z0-9_-]{21}$/i,xI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Zf;const jI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,NI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,SI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,CI=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Uj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",PI=new RegExp(`^${Uj}$`);function Wj(e){let r="[0-5]\\d";e.precision?r=`${r}\\.\\d{${e.precision}}`:e.precision==null&&(r=`${r}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${s}`}function TI(e){return new RegExp(`^${Wj(e)}$`)}function qj(e){let r=`${Uj}T${Wj(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${s.join("|")})`,new RegExp(`^${r}$`)}function EI(e,r){return!!((r==="v4"||!r)&&jI.test(e)||(r==="v6"||!r)&&NI.test(e))}function _I(e,r){if(!xI.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const a=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),o=JSON.parse(atob(a));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||r&&o.alg!==r)}catch{return!1}}function AI(e,r){return!!((r==="v4"||!r)&&wI.test(e)||(r==="v6"||!r)&&SI.test(e))}class Sn extends it{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==ke.string){const c=this._getOrReturnCtx(r);return Se(c,{code:me.invalid_type,expected:ke.string,received:c.parsedType}),qe}const a=new Nr;let o;for(const c of this._def.checks)if(c.kind==="min")r.data.length<c.value&&(o=this._getOrReturnCtx(r,o),Se(o,{code:me.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),a.dirty());else if(c.kind==="max")r.data.length>c.value&&(o=this._getOrReturnCtx(r,o),Se(o,{code:me.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),a.dirty());else if(c.kind==="length"){const u=r.data.length>c.value,f=r.data.length<c.value;(u||f)&&(o=this._getOrReturnCtx(r,o),u?Se(o,{code:me.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):f&&Se(o,{code:me.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),a.dirty())}else if(c.kind==="email")yI.test(r.data)||(o=this._getOrReturnCtx(r,o),Se(o,{validation:"email",code:me.invalid_string,message:c.message}),a.dirty());else if(c.kind==="emoji")Zf||(Zf=new RegExp(bI,"u")),Zf.test(r.data)||(o=this._getOrReturnCtx(r,o),Se(o,{validation:"emoji",code:me.invalid_string,message:c.message}),a.dirty());else if(c.kind==="uuid")pI.test(r.data)||(o=this._getOrReturnCtx(r,o),Se(o,{validation:"uuid",code:me.invalid_string,message:c.message}),a.dirty());else if(c.kind==="nanoid")gI.test(r.data)||(o=this._getOrReturnCtx(r,o),Se(o,{validation:"nanoid",code:me.invalid_string,message:c.message}),a.dirty());else if(c.kind==="cuid")fI.test(r.data)||(o=this._getOrReturnCtx(r,o),Se(o,{validation:"cuid",code:me.invalid_string,message:c.message}),a.dirty());else if(c.kind==="cuid2")mI.test(r.data)||(o=this._getOrReturnCtx(r,o),Se(o,{validation:"cuid2",code:me.invalid_string,message:c.message}),a.dirty());else if(c.kind==="ulid")hI.test(r.data)||(o=this._getOrReturnCtx(r,o),Se(o,{validation:"ulid",code:me.invalid_string,message:c.message}),a.dirty());else if(c.kind==="url")try{new URL(r.data)}catch{o=this._getOrReturnCtx(r,o),Se(o,{validation:"url",code:me.invalid_string,message:c.message}),a.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(r.data)||(o=this._getOrReturnCtx(r,o),Se(o,{validation:"regex",code:me.invalid_string,message:c.message}),a.dirty())):c.kind==="trim"?r.data=r.data.trim():c.kind==="includes"?r.data.includes(c.value,c.position)||(o=this._getOrReturnCtx(r,o),Se(o,{code:me.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),a.dirty()):c.kind==="toLowerCase"?r.data=r.data.toLowerCase():c.kind==="toUpperCase"?r.data=r.data.toUpperCase():c.kind==="startsWith"?r.data.startsWith(c.value)||(o=this._getOrReturnCtx(r,o),Se(o,{code:me.invalid_string,validation:{startsWith:c.value},message:c.message}),a.dirty()):c.kind==="endsWith"?r.data.endsWith(c.value)||(o=this._getOrReturnCtx(r,o),Se(o,{code:me.invalid_string,validation:{endsWith:c.value},message:c.message}),a.dirty()):c.kind==="datetime"?qj(c).test(r.data)||(o=this._getOrReturnCtx(r,o),Se(o,{code:me.invalid_string,validation:"datetime",message:c.message}),a.dirty()):c.kind==="date"?PI.test(r.data)||(o=this._getOrReturnCtx(r,o),Se(o,{code:me.invalid_string,validation:"date",message:c.message}),a.dirty()):c.kind==="time"?TI(c).test(r.data)||(o=this._getOrReturnCtx(r,o),Se(o,{code:me.invalid_string,validation:"time",message:c.message}),a.dirty()):c.kind==="duration"?vI.test(r.data)||(o=this._getOrReturnCtx(r,o),Se(o,{validation:"duration",code:me.invalid_string,message:c.message}),a.dirty()):c.kind==="ip"?EI(r.data,c.version)||(o=this._getOrReturnCtx(r,o),Se(o,{validation:"ip",code:me.invalid_string,message:c.message}),a.dirty()):c.kind==="jwt"?_I(r.data,c.alg)||(o=this._getOrReturnCtx(r,o),Se(o,{validation:"jwt",code:me.invalid_string,message:c.message}),a.dirty()):c.kind==="cidr"?AI(r.data,c.version)||(o=this._getOrReturnCtx(r,o),Se(o,{validation:"cidr",code:me.invalid_string,message:c.message}),a.dirty()):c.kind==="base64"?CI.test(r.data)||(o=this._getOrReturnCtx(r,o),Se(o,{validation:"base64",code:me.invalid_string,message:c.message}),a.dirty()):c.kind==="base64url"?kI.test(r.data)||(o=this._getOrReturnCtx(r,o),Se(o,{validation:"base64url",code:me.invalid_string,message:c.message}),a.dirty()):ut.assertNever(c);return{status:a.value,value:r.data}}_regex(r,s,a){return this.refinement(o=>r.test(o),{validation:s,code:me.invalid_string,...Be.errToObj(a)})}_addCheck(r){return new Sn({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...Be.errToObj(r)})}url(r){return this._addCheck({kind:"url",...Be.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...Be.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...Be.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...Be.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...Be.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...Be.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...Be.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...Be.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...Be.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...Be.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...Be.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...Be.errToObj(r)})}datetime(r){return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof r?.precision>"u"?null:r?.precision,offset:r?.offset??!1,local:r?.local??!1,...Be.errToObj(r?.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof r?.precision>"u"?null:r?.precision,...Be.errToObj(r?.message)})}duration(r){return this._addCheck({kind:"duration",...Be.errToObj(r)})}regex(r,s){return this._addCheck({kind:"regex",regex:r,...Be.errToObj(s)})}includes(r,s){return this._addCheck({kind:"includes",value:r,position:s?.position,...Be.errToObj(s?.message)})}startsWith(r,s){return this._addCheck({kind:"startsWith",value:r,...Be.errToObj(s)})}endsWith(r,s){return this._addCheck({kind:"endsWith",value:r,...Be.errToObj(s)})}min(r,s){return this._addCheck({kind:"min",value:r,...Be.errToObj(s)})}max(r,s){return this._addCheck({kind:"max",value:r,...Be.errToObj(s)})}length(r,s){return this._addCheck({kind:"length",value:r,...Be.errToObj(s)})}nonempty(r){return this.min(1,Be.errToObj(r))}trim(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r}get maxLength(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r}}Sn.create=e=>new Sn({checks:[],typeName:Qe.ZodString,coerce:e?.coerce??!1,...rt(e)});function RI(e,r){const s=(e.toString().split(".")[1]||"").length,a=(r.toString().split(".")[1]||"").length,o=s>a?s:a,c=Number.parseInt(e.toFixed(o).replace(".","")),u=Number.parseInt(r.toFixed(o).replace(".",""));return c%u/10**o}class Hs extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==ke.number){const c=this._getOrReturnCtx(r);return Se(c,{code:me.invalid_type,expected:ke.number,received:c.parsedType}),qe}let a;const o=new Nr;for(const c of this._def.checks)c.kind==="int"?ut.isInteger(r.data)||(a=this._getOrReturnCtx(r,a),Se(a,{code:me.invalid_type,expected:"integer",received:"float",message:c.message}),o.dirty()):c.kind==="min"?(c.inclusive?r.data<c.value:r.data<=c.value)&&(a=this._getOrReturnCtx(r,a),Se(a,{code:me.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),o.dirty()):c.kind==="max"?(c.inclusive?r.data>c.value:r.data>=c.value)&&(a=this._getOrReturnCtx(r,a),Se(a,{code:me.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),o.dirty()):c.kind==="multipleOf"?RI(r.data,c.value)!==0&&(a=this._getOrReturnCtx(r,a),Se(a,{code:me.not_multiple_of,multipleOf:c.value,message:c.message}),o.dirty()):c.kind==="finite"?Number.isFinite(r.data)||(a=this._getOrReturnCtx(r,a),Se(a,{code:me.not_finite,message:c.message}),o.dirty()):ut.assertNever(c);return{status:o.value,value:r.data}}gte(r,s){return this.setLimit("min",r,!0,Be.toString(s))}gt(r,s){return this.setLimit("min",r,!1,Be.toString(s))}lte(r,s){return this.setLimit("max",r,!0,Be.toString(s))}lt(r,s){return this.setLimit("max",r,!1,Be.toString(s))}setLimit(r,s,a,o){return new Hs({...this._def,checks:[...this._def.checks,{kind:r,value:s,inclusive:a,message:Be.toString(o)}]})}_addCheck(r){return new Hs({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:Be.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Be.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Be.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Be.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Be.toString(r)})}multipleOf(r,s){return this._addCheck({kind:"multipleOf",value:r,message:Be.toString(s)})}finite(r){return this._addCheck({kind:"finite",message:Be.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Be.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Be.toString(r)})}get minValue(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r}get maxValue(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&ut.isInteger(r.value))}get isFinite(){let r=null,s=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(s===null||a.value>s)&&(s=a.value):a.kind==="max"&&(r===null||a.value<r)&&(r=a.value)}return Number.isFinite(s)&&Number.isFinite(r)}}Hs.create=e=>new Hs({checks:[],typeName:Qe.ZodNumber,coerce:e?.coerce||!1,...rt(e)});class Ys extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==ke.bigint)return this._getInvalidInput(r);let a;const o=new Nr;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?r.data<c.value:r.data<=c.value)&&(a=this._getOrReturnCtx(r,a),Se(a,{code:me.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="max"?(c.inclusive?r.data>c.value:r.data>=c.value)&&(a=this._getOrReturnCtx(r,a),Se(a,{code:me.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="multipleOf"?r.data%c.value!==BigInt(0)&&(a=this._getOrReturnCtx(r,a),Se(a,{code:me.not_multiple_of,multipleOf:c.value,message:c.message}),o.dirty()):ut.assertNever(c);return{status:o.value,value:r.data}}_getInvalidInput(r){const s=this._getOrReturnCtx(r);return Se(s,{code:me.invalid_type,expected:ke.bigint,received:s.parsedType}),qe}gte(r,s){return this.setLimit("min",r,!0,Be.toString(s))}gt(r,s){return this.setLimit("min",r,!1,Be.toString(s))}lte(r,s){return this.setLimit("max",r,!0,Be.toString(s))}lt(r,s){return this.setLimit("max",r,!1,Be.toString(s))}setLimit(r,s,a,o){return new Ys({...this._def,checks:[...this._def.checks,{kind:r,value:s,inclusive:a,message:Be.toString(o)}]})}_addCheck(r){return new Ys({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Be.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Be.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Be.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Be.toString(r)})}multipleOf(r,s){return this._addCheck({kind:"multipleOf",value:r,message:Be.toString(s)})}get minValue(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r}get maxValue(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r}}Ys.create=e=>new Ys({checks:[],typeName:Qe.ZodBigInt,coerce:e?.coerce??!1,...rt(e)});class $o extends it{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==ke.boolean){const a=this._getOrReturnCtx(r);return Se(a,{code:me.invalid_type,expected:ke.boolean,received:a.parsedType}),qe}return Ir(r.data)}}$o.create=e=>new $o({typeName:Qe.ZodBoolean,coerce:e?.coerce||!1,...rt(e)});class Ei extends it{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==ke.date){const c=this._getOrReturnCtx(r);return Se(c,{code:me.invalid_type,expected:ke.date,received:c.parsedType}),qe}if(Number.isNaN(r.data.getTime())){const c=this._getOrReturnCtx(r);return Se(c,{code:me.invalid_date}),qe}const a=new Nr;let o;for(const c of this._def.checks)c.kind==="min"?r.data.getTime()<c.value&&(o=this._getOrReturnCtx(r,o),Se(o,{code:me.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),a.dirty()):c.kind==="max"?r.data.getTime()>c.value&&(o=this._getOrReturnCtx(r,o),Se(o,{code:me.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),a.dirty()):ut.assertNever(c);return{status:a.value,value:new Date(r.data.getTime())}}_addCheck(r){return new Ei({...this._def,checks:[...this._def.checks,r]})}min(r,s){return this._addCheck({kind:"min",value:r.getTime(),message:Be.toString(s)})}max(r,s){return this._addCheck({kind:"max",value:r.getTime(),message:Be.toString(s)})}get minDate(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r!=null?new Date(r):null}}Ei.create=e=>new Ei({checks:[],coerce:e?.coerce||!1,typeName:Qe.ZodDate,...rt(e)});class Xc extends it{_parse(r){if(this._getType(r)!==ke.symbol){const a=this._getOrReturnCtx(r);return Se(a,{code:me.invalid_type,expected:ke.symbol,received:a.parsedType}),qe}return Ir(r.data)}}Xc.create=e=>new Xc({typeName:Qe.ZodSymbol,...rt(e)});class Vo extends it{_parse(r){if(this._getType(r)!==ke.undefined){const a=this._getOrReturnCtx(r);return Se(a,{code:me.invalid_type,expected:ke.undefined,received:a.parsedType}),qe}return Ir(r.data)}}Vo.create=e=>new Vo({typeName:Qe.ZodUndefined,...rt(e)});class zo extends it{_parse(r){if(this._getType(r)!==ke.null){const a=this._getOrReturnCtx(r);return Se(a,{code:me.invalid_type,expected:ke.null,received:a.parsedType}),qe}return Ir(r.data)}}zo.create=e=>new zo({typeName:Qe.ZodNull,...rt(e)});class Sa extends it{constructor(){super(...arguments),this._any=!0}_parse(r){return Ir(r.data)}}Sa.create=e=>new Sa({typeName:Qe.ZodAny,...rt(e)});class yi extends it{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Ir(r.data)}}yi.create=e=>new yi({typeName:Qe.ZodUnknown,...rt(e)});class us extends it{_parse(r){const s=this._getOrReturnCtx(r);return Se(s,{code:me.invalid_type,expected:ke.never,received:s.parsedType}),qe}}us.create=e=>new us({typeName:Qe.ZodNever,...rt(e)});class Jc extends it{_parse(r){if(this._getType(r)!==ke.undefined){const a=this._getOrReturnCtx(r);return Se(a,{code:me.invalid_type,expected:ke.void,received:a.parsedType}),qe}return Ir(r.data)}}Jc.create=e=>new Jc({typeName:Qe.ZodVoid,...rt(e)});class Cn extends it{_parse(r){const{ctx:s,status:a}=this._processInputParams(r),o=this._def;if(s.parsedType!==ke.array)return Se(s,{code:me.invalid_type,expected:ke.array,received:s.parsedType}),qe;if(o.exactLength!==null){const u=s.data.length>o.exactLength.value,f=s.data.length<o.exactLength.value;(u||f)&&(Se(s,{code:u?me.too_big:me.too_small,minimum:f?o.exactLength.value:void 0,maximum:u?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),a.dirty())}if(o.minLength!==null&&s.data.length<o.minLength.value&&(Se(s,{code:me.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),a.dirty()),o.maxLength!==null&&s.data.length>o.maxLength.value&&(Se(s,{code:me.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),a.dirty()),s.common.async)return Promise.all([...s.data].map((u,f)=>o.type._parseAsync(new Wn(s,u,s.path,f)))).then(u=>Nr.mergeArray(a,u));const c=[...s.data].map((u,f)=>o.type._parseSync(new Wn(s,u,s.path,f)));return Nr.mergeArray(a,c)}get element(){return this._def.type}min(r,s){return new Cn({...this._def,minLength:{value:r,message:Be.toString(s)}})}max(r,s){return new Cn({...this._def,maxLength:{value:r,message:Be.toString(s)}})}length(r,s){return new Cn({...this._def,exactLength:{value:r,message:Be.toString(s)}})}nonempty(r){return this.min(1,r)}}Cn.create=(e,r)=>new Cn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Qe.ZodArray,...rt(r)});function la(e){if(e instanceof Ot){const r={};for(const s in e.shape){const a=e.shape[s];r[s]=zn.create(la(a))}return new Ot({...e._def,shape:()=>r})}else return e instanceof Cn?new Cn({...e._def,type:la(e.element)}):e instanceof zn?zn.create(la(e.unwrap())):e instanceof Xs?Xs.create(la(e.unwrap())):e instanceof qn?qn.create(e.items.map(r=>la(r))):e}class Ot extends it{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),s=ut.objectKeys(r);return this._cached={shape:r,keys:s},this._cached}_parse(r){if(this._getType(r)!==ke.object){const g=this._getOrReturnCtx(r);return Se(g,{code:me.invalid_type,expected:ke.object,received:g.parsedType}),qe}const{status:a,ctx:o}=this._processInputParams(r),{shape:c,keys:u}=this._getCached(),f=[];if(!(this._def.catchall instanceof us&&this._def.unknownKeys==="strip"))for(const g in o.data)u.includes(g)||f.push(g);const h=[];for(const g of u){const x=c[g],y=o.data[g];h.push({key:{status:"valid",value:g},value:x._parse(new Wn(o,y,o.path,g)),alwaysSet:g in o.data})}if(this._def.catchall instanceof us){const g=this._def.unknownKeys;if(g==="passthrough")for(const x of f)h.push({key:{status:"valid",value:x},value:{status:"valid",value:o.data[x]}});else if(g==="strict")f.length>0&&(Se(o,{code:me.unrecognized_keys,keys:f}),a.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const x of f){const y=o.data[x];h.push({key:{status:"valid",value:x},value:g._parse(new Wn(o,y,o.path,x)),alwaysSet:x in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const g=[];for(const x of h){const y=await x.key,w=await x.value;g.push({key:y,value:w,alwaysSet:x.alwaysSet})}return g}).then(g=>Nr.mergeObjectSync(a,g)):Nr.mergeObjectSync(a,h)}get shape(){return this._def.shape()}strict(r){return Be.errToObj,new Ot({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(s,a)=>{const o=this._def.errorMap?.(s,a).message??a.defaultError;return s.code==="unrecognized_keys"?{message:Be.errToObj(r).message??o}:{message:o}}}:{}})}strip(){return new Ot({...this._def,unknownKeys:"strip"})}passthrough(){return new Ot({...this._def,unknownKeys:"passthrough"})}extend(r){return new Ot({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new Ot({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:Qe.ZodObject})}setKey(r,s){return this.augment({[r]:s})}catchall(r){return new Ot({...this._def,catchall:r})}pick(r){const s={};for(const a of ut.objectKeys(r))r[a]&&this.shape[a]&&(s[a]=this.shape[a]);return new Ot({...this._def,shape:()=>s})}omit(r){const s={};for(const a of ut.objectKeys(this.shape))r[a]||(s[a]=this.shape[a]);return new Ot({...this._def,shape:()=>s})}deepPartial(){return la(this)}partial(r){const s={};for(const a of ut.objectKeys(this.shape)){const o=this.shape[a];r&&!r[a]?s[a]=o:s[a]=o.optional()}return new Ot({...this._def,shape:()=>s})}required(r){const s={};for(const a of ut.objectKeys(this.shape))if(r&&!r[a])s[a]=this.shape[a];else{let c=this.shape[a];for(;c instanceof zn;)c=c._def.innerType;s[a]=c}return new Ot({...this._def,shape:()=>s})}keyof(){return Kj(ut.objectKeys(this.shape))}}Ot.create=(e,r)=>new Ot({shape:()=>e,unknownKeys:"strip",catchall:us.create(),typeName:Qe.ZodObject,...rt(r)});Ot.strictCreate=(e,r)=>new Ot({shape:()=>e,unknownKeys:"strict",catchall:us.create(),typeName:Qe.ZodObject,...rt(r)});Ot.lazycreate=(e,r)=>new Ot({shape:e,unknownKeys:"strip",catchall:us.create(),typeName:Qe.ZodObject,...rt(r)});class Uo extends it{_parse(r){const{ctx:s}=this._processInputParams(r),a=this._def.options;function o(c){for(const f of c)if(f.result.status==="valid")return f.result;for(const f of c)if(f.result.status==="dirty")return s.common.issues.push(...f.ctx.common.issues),f.result;const u=c.map(f=>new Xr(f.ctx.common.issues));return Se(s,{code:me.invalid_union,unionErrors:u}),qe}if(s.common.async)return Promise.all(a.map(async c=>{const u={...s,common:{...s.common,issues:[]},parent:null};return{result:await c._parseAsync({data:s.data,path:s.path,parent:u}),ctx:u}})).then(o);{let c;const u=[];for(const h of a){const g={...s,common:{...s.common,issues:[]},parent:null},x=h._parseSync({data:s.data,path:s.path,parent:g});if(x.status==="valid")return x;x.status==="dirty"&&!c&&(c={result:x,ctx:g}),g.common.issues.length&&u.push(g.common.issues)}if(c)return s.common.issues.push(...c.ctx.common.issues),c.result;const f=u.map(h=>new Xr(h));return Se(s,{code:me.invalid_union,unionErrors:f}),qe}}get options(){return this._def.options}}Uo.create=(e,r)=>new Uo({options:e,typeName:Qe.ZodUnion,...rt(r)});const is=e=>e instanceof Ko?is(e.schema):e instanceof Tn?is(e.innerType()):e instanceof Qo?[e.value]:e instanceof Zs?e.options:e instanceof Go?ut.objectValues(e.enum):e instanceof Ho?is(e._def.innerType):e instanceof Vo?[void 0]:e instanceof zo?[null]:e instanceof zn?[void 0,...is(e.unwrap())]:e instanceof Xs?[null,...is(e.unwrap())]:e instanceof Rh||e instanceof Zo?is(e.unwrap()):e instanceof Yo?is(e._def.innerType):[];class Rd extends it{_parse(r){const{ctx:s}=this._processInputParams(r);if(s.parsedType!==ke.object)return Se(s,{code:me.invalid_type,expected:ke.object,received:s.parsedType}),qe;const a=this.discriminator,o=s.data[a],c=this.optionsMap.get(o);return c?s.common.async?c._parseAsync({data:s.data,path:s.path,parent:s}):c._parseSync({data:s.data,path:s.path,parent:s}):(Se(s,{code:me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,s,a){const o=new Map;for(const c of s){const u=is(c.shape[r]);if(!u.length)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const f of u){if(o.has(f))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(f)}`);o.set(f,c)}}return new Rd({typeName:Qe.ZodDiscriminatedUnion,discriminator:r,options:s,optionsMap:o,...rt(a)})}}function Im(e,r){const s=as(e),a=as(r);if(e===r)return{valid:!0,data:e};if(s===ke.object&&a===ke.object){const o=ut.objectKeys(r),c=ut.objectKeys(e).filter(f=>o.indexOf(f)!==-1),u={...e,...r};for(const f of c){const h=Im(e[f],r[f]);if(!h.valid)return{valid:!1};u[f]=h.data}return{valid:!0,data:u}}else if(s===ke.array&&a===ke.array){if(e.length!==r.length)return{valid:!1};const o=[];for(let c=0;c<e.length;c++){const u=e[c],f=r[c],h=Im(u,f);if(!h.valid)return{valid:!1};o.push(h.data)}return{valid:!0,data:o}}else return s===ke.date&&a===ke.date&&+e==+r?{valid:!0,data:e}:{valid:!1}}class Wo extends it{_parse(r){const{status:s,ctx:a}=this._processInputParams(r),o=(c,u)=>{if(Am(c)||Am(u))return qe;const f=Im(c.value,u.value);return f.valid?((Rm(c)||Rm(u))&&s.dirty(),{status:s.value,value:f.data}):(Se(a,{code:me.invalid_intersection_types}),qe)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([c,u])=>o(c,u)):o(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}Wo.create=(e,r,s)=>new Wo({left:e,right:r,typeName:Qe.ZodIntersection,...rt(s)});class qn extends it{_parse(r){const{status:s,ctx:a}=this._processInputParams(r);if(a.parsedType!==ke.array)return Se(a,{code:me.invalid_type,expected:ke.array,received:a.parsedType}),qe;if(a.data.length<this._def.items.length)return Se(a,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qe;!this._def.rest&&a.data.length>this._def.items.length&&(Se(a,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const c=[...a.data].map((u,f)=>{const h=this._def.items[f]||this._def.rest;return h?h._parse(new Wn(a,u,a.path,f)):null}).filter(u=>!!u);return a.common.async?Promise.all(c).then(u=>Nr.mergeArray(s,u)):Nr.mergeArray(s,c)}get items(){return this._def.items}rest(r){return new qn({...this._def,rest:r})}}qn.create=(e,r)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qn({items:e,typeName:Qe.ZodTuple,rest:null,...rt(r)})};class qo extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:s,ctx:a}=this._processInputParams(r);if(a.parsedType!==ke.object)return Se(a,{code:me.invalid_type,expected:ke.object,received:a.parsedType}),qe;const o=[],c=this._def.keyType,u=this._def.valueType;for(const f in a.data)o.push({key:c._parse(new Wn(a,f,a.path,f)),value:u._parse(new Wn(a,a.data[f],a.path,f)),alwaysSet:f in a.data});return a.common.async?Nr.mergeObjectAsync(s,o):Nr.mergeObjectSync(s,o)}get element(){return this._def.valueType}static create(r,s,a){return s instanceof it?new qo({keyType:r,valueType:s,typeName:Qe.ZodRecord,...rt(a)}):new qo({keyType:Sn.create(),valueType:r,typeName:Qe.ZodRecord,...rt(s)})}}class ed extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:s,ctx:a}=this._processInputParams(r);if(a.parsedType!==ke.map)return Se(a,{code:me.invalid_type,expected:ke.map,received:a.parsedType}),qe;const o=this._def.keyType,c=this._def.valueType,u=[...a.data.entries()].map(([f,h],g)=>({key:o._parse(new Wn(a,f,a.path,[g,"key"])),value:c._parse(new Wn(a,h,a.path,[g,"value"]))}));if(a.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const h of u){const g=await h.key,x=await h.value;if(g.status==="aborted"||x.status==="aborted")return qe;(g.status==="dirty"||x.status==="dirty")&&s.dirty(),f.set(g.value,x.value)}return{status:s.value,value:f}})}else{const f=new Map;for(const h of u){const g=h.key,x=h.value;if(g.status==="aborted"||x.status==="aborted")return qe;(g.status==="dirty"||x.status==="dirty")&&s.dirty(),f.set(g.value,x.value)}return{status:s.value,value:f}}}}ed.create=(e,r,s)=>new ed({valueType:r,keyType:e,typeName:Qe.ZodMap,...rt(s)});class _i extends it{_parse(r){const{status:s,ctx:a}=this._processInputParams(r);if(a.parsedType!==ke.set)return Se(a,{code:me.invalid_type,expected:ke.set,received:a.parsedType}),qe;const o=this._def;o.minSize!==null&&a.data.size<o.minSize.value&&(Se(a,{code:me.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),s.dirty()),o.maxSize!==null&&a.data.size>o.maxSize.value&&(Se(a,{code:me.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),s.dirty());const c=this._def.valueType;function u(h){const g=new Set;for(const x of h){if(x.status==="aborted")return qe;x.status==="dirty"&&s.dirty(),g.add(x.value)}return{status:s.value,value:g}}const f=[...a.data.values()].map((h,g)=>c._parse(new Wn(a,h,a.path,g)));return a.common.async?Promise.all(f).then(h=>u(h)):u(f)}min(r,s){return new _i({...this._def,minSize:{value:r,message:Be.toString(s)}})}max(r,s){return new _i({...this._def,maxSize:{value:r,message:Be.toString(s)}})}size(r,s){return this.min(r,s).max(r,s)}nonempty(r){return this.min(1,r)}}_i.create=(e,r)=>new _i({valueType:e,minSize:null,maxSize:null,typeName:Qe.ZodSet,...rt(r)});class xa extends it{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:s}=this._processInputParams(r);if(s.parsedType!==ke.function)return Se(s,{code:me.invalid_type,expected:ke.function,received:s.parsedType}),qe;function a(f,h){return Zc({data:f,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Yc(),Na].filter(g=>!!g),issueData:{code:me.invalid_arguments,argumentsError:h}})}function o(f,h){return Zc({data:f,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Yc(),Na].filter(g=>!!g),issueData:{code:me.invalid_return_type,returnTypeError:h}})}const c={errorMap:s.common.contextualErrorMap},u=s.data;if(this._def.returns instanceof Ca){const f=this;return Ir(async function(...h){const g=new Xr([]),x=await f._def.args.parseAsync(h,c).catch(k=>{throw g.addIssue(a(h,k)),g}),y=await Reflect.apply(u,this,x);return await f._def.returns._def.type.parseAsync(y,c).catch(k=>{throw g.addIssue(o(y,k)),g})})}else{const f=this;return Ir(function(...h){const g=f._def.args.safeParse(h,c);if(!g.success)throw new Xr([a(h,g.error)]);const x=Reflect.apply(u,this,g.data),y=f._def.returns.safeParse(x,c);if(!y.success)throw new Xr([o(x,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new xa({...this._def,args:qn.create(r).rest(yi.create())})}returns(r){return new xa({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,s,a){return new xa({args:r||qn.create([]).rest(yi.create()),returns:s||yi.create(),typeName:Qe.ZodFunction,...rt(a)})}}class Ko extends it{get schema(){return this._def.getter()}_parse(r){const{ctx:s}=this._processInputParams(r);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Ko.create=(e,r)=>new Ko({getter:e,typeName:Qe.ZodLazy,...rt(r)});class Qo extends it{_parse(r){if(r.data!==this._def.value){const s=this._getOrReturnCtx(r);return Se(s,{received:s.data,code:me.invalid_literal,expected:this._def.value}),qe}return{status:"valid",value:r.data}}get value(){return this._def.value}}Qo.create=(e,r)=>new Qo({value:e,typeName:Qe.ZodLiteral,...rt(r)});function Kj(e,r){return new Zs({values:e,typeName:Qe.ZodEnum,...rt(r)})}class Zs extends it{_parse(r){if(typeof r.data!="string"){const s=this._getOrReturnCtx(r),a=this._def.values;return Se(s,{expected:ut.joinValues(a),received:s.parsedType,code:me.invalid_type}),qe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){const s=this._getOrReturnCtx(r),a=this._def.values;return Se(s,{received:s.data,code:me.invalid_enum_value,options:a}),qe}return Ir(r.data)}get options(){return this._def.values}get enum(){const r={};for(const s of this._def.values)r[s]=s;return r}get Values(){const r={};for(const s of this._def.values)r[s]=s;return r}get Enum(){const r={};for(const s of this._def.values)r[s]=s;return r}extract(r,s=this._def){return Zs.create(r,{...this._def,...s})}exclude(r,s=this._def){return Zs.create(this.options.filter(a=>!r.includes(a)),{...this._def,...s})}}Zs.create=Kj;class Go extends it{_parse(r){const s=ut.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(r);if(a.parsedType!==ke.string&&a.parsedType!==ke.number){const o=ut.objectValues(s);return Se(a,{expected:ut.joinValues(o),received:a.parsedType,code:me.invalid_type}),qe}if(this._cache||(this._cache=new Set(ut.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){const o=ut.objectValues(s);return Se(a,{received:a.data,code:me.invalid_enum_value,options:o}),qe}return Ir(r.data)}get enum(){return this._def.values}}Go.create=(e,r)=>new Go({values:e,typeName:Qe.ZodNativeEnum,...rt(r)});class Ca extends it{unwrap(){return this._def.type}_parse(r){const{ctx:s}=this._processInputParams(r);if(s.parsedType!==ke.promise&&s.common.async===!1)return Se(s,{code:me.invalid_type,expected:ke.promise,received:s.parsedType}),qe;const a=s.parsedType===ke.promise?s.data:Promise.resolve(s.data);return Ir(a.then(o=>this._def.type.parseAsync(o,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Ca.create=(e,r)=>new Ca({type:e,typeName:Qe.ZodPromise,...rt(r)});class Tn extends it{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:s,ctx:a}=this._processInputParams(r),o=this._def.effect||null,c={addIssue:u=>{Se(a,u),u.fatal?s.abort():s.dirty()},get path(){return a.path}};if(c.addIssue=c.addIssue.bind(c),o.type==="preprocess"){const u=o.transform(a.data,c);if(a.common.async)return Promise.resolve(u).then(async f=>{if(s.value==="aborted")return qe;const h=await this._def.schema._parseAsync({data:f,path:a.path,parent:a});return h.status==="aborted"?qe:h.status==="dirty"||s.value==="dirty"?ua(h.value):h});{if(s.value==="aborted")return qe;const f=this._def.schema._parseSync({data:u,path:a.path,parent:a});return f.status==="aborted"?qe:f.status==="dirty"||s.value==="dirty"?ua(f.value):f}}if(o.type==="refinement"){const u=f=>{const h=o.refinement(f,c);if(a.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(a.common.async===!1){const f=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return f.status==="aborted"?qe:(f.status==="dirty"&&s.dirty(),u(f.value),{status:s.value,value:f.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(f=>f.status==="aborted"?qe:(f.status==="dirty"&&s.dirty(),u(f.value).then(()=>({status:s.value,value:f.value}))))}if(o.type==="transform")if(a.common.async===!1){const u=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Ti(u))return qe;const f=o.transform(u.value,c);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:f}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(u=>Ti(u)?Promise.resolve(o.transform(u.value,c)).then(f=>({status:s.value,value:f})):qe);ut.assertNever(o)}}Tn.create=(e,r,s)=>new Tn({schema:e,typeName:Qe.ZodEffects,effect:r,...rt(s)});Tn.createWithPreprocess=(e,r,s)=>new Tn({schema:r,effect:{type:"preprocess",transform:e},typeName:Qe.ZodEffects,...rt(s)});class zn extends it{_parse(r){return this._getType(r)===ke.undefined?Ir(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}zn.create=(e,r)=>new zn({innerType:e,typeName:Qe.ZodOptional,...rt(r)});class Xs extends it{_parse(r){return this._getType(r)===ke.null?Ir(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Xs.create=(e,r)=>new Xs({innerType:e,typeName:Qe.ZodNullable,...rt(r)});class Ho extends it{_parse(r){const{ctx:s}=this._processInputParams(r);let a=s.data;return s.parsedType===ke.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Ho.create=(e,r)=>new Ho({innerType:e,typeName:Qe.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...rt(r)});class Yo extends it{_parse(r){const{ctx:s}=this._processInputParams(r),a={...s,common:{...s.common,issues:[]}},o=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Bo(o)?o.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new Xr(a.common.issues)},input:a.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Xr(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}Yo.create=(e,r)=>new Yo({innerType:e,typeName:Qe.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...rt(r)});class td extends it{_parse(r){if(this._getType(r)!==ke.nan){const a=this._getOrReturnCtx(r);return Se(a,{code:me.invalid_type,expected:ke.nan,received:a.parsedType}),qe}return{status:"valid",value:r.data}}}td.create=e=>new td({typeName:Qe.ZodNaN,...rt(e)});const II=Symbol("zod_brand");class Rh extends it{_parse(r){const{ctx:s}=this._processInputParams(r),a=s.data;return this._def.type._parse({data:a,path:s.path,parent:s})}unwrap(){return this._def.type}}class ol extends it{_parse(r){const{status:s,ctx:a}=this._processInputParams(r);if(a.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return c.status==="aborted"?qe:c.status==="dirty"?(s.dirty(),ua(c.value)):this._def.out._parseAsync({data:c.value,path:a.path,parent:a})})();{const o=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?qe:o.status==="dirty"?(s.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:a.path,parent:a})}}static create(r,s){return new ol({in:r,out:s,typeName:Qe.ZodPipeline})}}class Zo extends it{_parse(r){const s=this._def.innerType._parse(r),a=o=>(Ti(o)&&(o.value=Object.freeze(o.value)),o);return Bo(s)?s.then(o=>a(o)):a(s)}unwrap(){return this._def.innerType}}Zo.create=(e,r)=>new Zo({innerType:e,typeName:Qe.ZodReadonly,...rt(r)});function ny(e,r){const s=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e;return typeof s=="string"?{message:s}:s}function Ih(e,r={},s){return e?Sa.create().superRefine((a,o)=>{const c=e(a);if(c instanceof Promise)return c.then(u=>{if(!u){const f=ny(r,a),h=f.fatal??s??!0;o.addIssue({code:"custom",...f,fatal:h})}});if(!c){const u=ny(r,a),f=u.fatal??s??!0;o.addIssue({code:"custom",...u,fatal:f})}}):Sa.create()}const OI={object:Ot.lazycreate};var Qe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Qe||(Qe={}));const DI=(e,r={message:`Input not instance of ${e.name}`})=>Ih(s=>s instanceof e,r),Id=Sn.create,Oh=Hs.create,MI=td.create,FI=Ys.create,Dh=$o.create,LI=Ei.create,BI=Xc.create,$I=Vo.create,Qj=zo.create,Xo=Sa.create,VI=yi.create,zI=us.create,UI=Jc.create,Gj=Cn.create,Hj=Ot.create,WI=Ot.strictCreate,Mh=Uo.create,qI=Rd.create,KI=Wo.create,QI=qn.create,Yj=qo.create,GI=ed.create,HI=_i.create,YI=xa.create,ZI=Ko.create,XI=Qo.create,JI=Zs.create,e4=Go.create,t4=Ca.create,sy=Tn.create,r4=zn.create,n4=Xs.create,s4=Tn.createWithPreprocess,i4=ol.create,a4=()=>Id().optional(),o4=()=>Oh().optional(),l4=()=>Dh().optional(),c4={string:(e=>Sn.create({...e,coerce:!0})),number:(e=>Hs.create({...e,coerce:!0})),boolean:(e=>$o.create({...e,coerce:!0})),bigint:(e=>Ys.create({...e,coerce:!0})),date:(e=>Ei.create({...e,coerce:!0}))},d4=qe,u4=Object.freeze(Object.defineProperty({__proto__:null,BRAND:II,DIRTY:ua,EMPTY_PATH:uI,INVALID:qe,NEVER:d4,OK:Ir,ParseStatus:Nr,Schema:it,ZodAny:Sa,ZodArray:Cn,ZodBigInt:Ys,ZodBoolean:$o,ZodBranded:Rh,ZodCatch:Yo,ZodDate:Ei,ZodDefault:Ho,ZodDiscriminatedUnion:Rd,ZodEffects:Tn,ZodEnum:Zs,ZodError:Xr,get ZodFirstPartyTypeKind(){return Qe},ZodFunction:xa,ZodIntersection:Wo,ZodIssueCode:me,ZodLazy:Ko,ZodLiteral:Qo,ZodMap:ed,ZodNaN:td,ZodNativeEnum:Go,ZodNever:us,ZodNull:zo,ZodNullable:Xs,ZodNumber:Hs,ZodObject:Ot,ZodOptional:zn,ZodParsedType:ke,ZodPipeline:ol,ZodPromise:Ca,ZodReadonly:Zo,ZodRecord:qo,ZodSchema:it,ZodSet:_i,ZodString:Sn,ZodSymbol:Xc,ZodTransformer:Tn,ZodTuple:qn,ZodType:it,ZodUndefined:Vo,ZodUnion:Uo,ZodUnknown:yi,ZodVoid:Jc,addIssueToContext:Se,any:Xo,array:Gj,bigint:FI,boolean:Dh,coerce:c4,custom:Ih,date:LI,datetimeRegex:qj,defaultErrorMap:Na,discriminatedUnion:qI,effect:sy,enum:JI,function:YI,getErrorMap:Yc,getParsedType:as,instanceof:DI,intersection:KI,isAborted:Am,isAsync:Bo,isDirty:Rm,isValid:Ti,late:OI,lazy:ZI,literal:XI,makeIssue:Zc,map:GI,nan:MI,nativeEnum:e4,never:zI,null:Qj,nullable:n4,number:Oh,object:Hj,get objectUtil(){return _m},oboolean:l4,onumber:o4,optional:r4,ostring:a4,pipeline:i4,preprocess:s4,promise:t4,quotelessJson:cI,record:Yj,set:HI,setErrorMap:dI,strictObject:WI,string:Id,symbol:BI,transformer:sy,tuple:QI,undefined:$I,union:Mh,unknown:VI,get util(){return ut},void:UI},Symbol.toStringTag,{value:"Module"})),Rt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Kt(e,r){return r.includes(e.columnType)}function f4(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const m4=Mh([Id(),Oh(),Dh(),Qj()]),h4=Mh([m4,Yj(Xo()),Gj(Xo())]),p4=Ih(e=>e instanceof Buffer);function Zj(e,r){const s=r?.zodInstance??u4,a=r?.coerce??{};let o;return f4(e)&&(o=e.enumValues.length?s.enum(e.enumValues):s.string()),o||(Kt(e,["PgGeometry","PgPointTuple"])?o=s.tuple([s.number(),s.number()]):Kt(e,["PgGeometryObject","PgPointObject"])?o=s.object({x:s.number(),y:s.number()}):Kt(e,["PgHalfVector","PgVector"])?(o=s.array(s.number()),o=e.dimensions?o.length(e.dimensions):o):Kt(e,["PgLine"])?o=s.tuple([s.number(),s.number(),s.number()]):Kt(e,["PgLineABC"])?o=s.object({a:s.number(),b:s.number(),c:s.number()}):Kt(e,["PgArray"])?(o=s.array(Zj(e.baseColumn,s)),o=e.size?o.length(e.size):o):e.dataType==="array"?o=s.array(s.any()):e.dataType==="number"?o=g4(e,s,a):e.dataType==="bigint"?o=x4(e,s,a):e.dataType==="boolean"?o=a===!0||a.boolean?s.coerce.boolean():s.boolean():e.dataType==="date"?o=a===!0||a.date?s.coerce.date():s.date():e.dataType==="string"?o=v4(e,s,a):e.dataType==="json"?o=h4:e.dataType==="custom"?o=s.any():e.dataType==="buffer"&&(o=p4)),o||(o=s.any()),o}function g4(e,r,s){let a=e.getSQLType().includes("unsigned"),o,c,u=!1;Kt(e,["MySqlTinyInt","SingleStoreTinyInt"])?(o=a?0:Rt.INT8_MIN,c=a?Rt.INT8_UNSIGNED_MAX:Rt.INT8_MAX,u=!0):Kt(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=a?0:Rt.INT16_MIN,c=a?Rt.INT16_UNSIGNED_MAX:Rt.INT16_MAX,u=!0):Kt(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=a?0:Rt.INT24_MIN,c=a?Rt.INT24_UNSIGNED_MAX:Rt.INT24_MAX,u=Kt(e,["MySqlMediumInt","SingleStoreMediumInt"])):Kt(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=a?0:Rt.INT32_MIN,c=a?Rt.INT32_UNSIGNED_MAX:Rt.INT32_MAX,u=!0):Kt(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=a?0:Rt.INT48_MIN,c=a?Rt.INT48_UNSIGNED_MAX:Rt.INT48_MAX):Kt(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(a=a||Kt(e,["MySqlSerial","SingleStoreSerial"]),o=a?0:Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,u=!0):Kt(e,["MySqlYear","SingleStoreYear"])?(o=1901,c=2155,u=!0):(o=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER);let f=s===!0||s?.number?r.coerce.number():r.number();return f=f.min(o).max(c),u?f.int():f}function x4(e,r,s){const a=e.getSQLType().includes("unsigned"),o=a?0n:Rt.INT64_MIN,c=a?Rt.INT64_UNSIGNED_MAX:Rt.INT64_MAX;return(s===!0||s?.bigint?r.coerce.bigint():r.bigint()).min(o).max(c)}function v4(e,r,s){if(Kt(e,["PgUUID"]))return r.string().uuid();let a,o,c=!1;Kt(e,["PgVarchar","SQLiteText"])?a=e.length:Kt(e,["MySqlVarChar","SingleStoreVarChar"])?a=e.length??Rt.INT16_UNSIGNED_MAX:Kt(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?a=Rt.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?a=Rt.INT24_UNSIGNED_MAX:e.textType==="text"?a=Rt.INT16_UNSIGNED_MAX:a=Rt.INT8_UNSIGNED_MAX),Kt(e,["PgChar","MySqlChar","SingleStoreChar"])&&(a=e.length,c=!0),Kt(e,["PgBinaryVector"])&&(o=/^[01]+$/,a=e.dimensions);let u=s===!0||s?.string?r.coerce.string():r.string();return u=o?u.regex(o):u,a&&c?u.length(a):a?u.max(a):u}function Xj(e){return Mj(e)?sA(e):iA(e)}function Jj(e,r,s,a){const o={};for(const[c,u]of Object.entries(e)){if(!ur(u,Lo)&&!ur(u,$t)&&!ur(u,$t.Aliased)&&typeof u=="object"){const y=Mj(u)||nA(u)?Xj(u):u;o[c]=Jj(y,r[c]??{},s,a);continue}const f=r[c];if(f!==void 0&&typeof f!="function"){o[c]=f;continue}const h=ur(u,Lo)?u:void 0,g=h?Zj(h,a):Xo(),x=typeof f=="function"?f(g):g;s.never(h)||(o[c]=x,h&&(s.nullable(h)&&(o[c]=o[c].nullable()),s.optional(h)&&(o[c]=o[c].optional())))}return Hj(o)}const y4={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Gn=(e,r)=>{const s=Xj(e);return Jj(s,{},y4)},b4=Qn("god_register",{id:Rr("id").primaryKey().default(gt`gen_random_uuid()`),phoneNumber:He("phone_number").notNull().unique(),tenancyName:He("tenancy_name").notNull(),registeredAt:kt("registered_at").default(gt`CURRENT_TIMESTAMP`)}),j4=Qn("server_registry",{id:Rr("id").primaryKey().default(gt`gen_random_uuid()`),serverName:He("server_name").notNull().unique(),maxBotCount:Ks("max_bot_count").notNull(),currentBotCount:Ks("current_bot_count").default(0),serverStatus:He("server_status").default("active"),serverUrl:He("server_url"),baseUrl:He("base_url"),sharedSecret:He("shared_secret"),description:He("description"),lastActive:kt("last_active").default(gt`CURRENT_TIMESTAMP`),createdAt:kt("created_at").default(gt`CURRENT_TIMESTAMP`),updatedAt:kt("updated_at").default(gt`CURRENT_TIMESTAMP`)}),w4=Qn("users",{id:Rr("id").primaryKey().default(gt`gen_random_uuid()`),username:He("username").notNull().unique(),password:He("password").notNull(),role:He("role").notNull().default("user"),serverName:He("server_name").notNull(),createdAt:kt("created_at").default(gt`CURRENT_TIMESTAMP`)}),N4=Qn("bot_instances",{id:Rr("id").primaryKey().default(gt`gen_random_uuid()`),name:He("name").notNull(),phoneNumber:He("phone_number"),status:He("status").notNull().default("offline"),credentials:wa("credentials"),settings:wa("settings").default({}),autoLike:kr("auto_like").default(!0),autoViewStatus:kr("auto_view_status").default(!0),autoReact:kr("auto_react").default(!0),typingMode:He("typing_mode").default("recording"),presenceMode:He("presence_mode").default("available"),alwaysOnline:kr("always_online").default(!1),presenceAutoSwitch:kr("presence_auto_switch").default(!1),chatgptEnabled:kr("chatgpt_enabled").default(!1),lastActivity:kt("last_activity"),messagesCount:Ks("messages_count").default(0),commandsCount:Ks("commands_count").default(0),approvalStatus:He("approval_status").default("pending"),isGuest:kr("is_guest").default(!1),approvalDate:He("approval_date"),expirationMonths:Ks("expiration_months"),autoStart:kr("auto_start").default(!0),credentialVerified:kr("credential_verified").default(!1),credentialPhone:He("credential_phone"),invalidReason:He("invalid_reason"),authMessageSentAt:kt("auth_message_sent_at"),serverName:He("server_name").notNull(),createdAt:kt("created_at").default(gt`CURRENT_TIMESTAMP`),updatedAt:kt("updated_at").default(gt`CURRENT_TIMESTAMP`)}),S4=Qn("commands",{id:Rr("id").primaryKey().default(gt`gen_random_uuid()`),name:He("name").notNull(),description:He("description").notNull(),response:He("response"),isActive:kr("is_active").default(!0),useChatGPT:kr("use_chatgpt").default(!1),botInstanceId:Rr("bot_instance_id"),serverName:He("server_name").notNull(),createdAt:kt("created_at").default(gt`CURRENT_TIMESTAMP`)}),C4=Qn("activities",{id:Rr("id").primaryKey().default(gt`gen_random_uuid()`),botInstanceId:Rr("bot_instance_id"),type:He("type").notNull(),description:He("description").notNull(),metadata:wa("metadata").default({}),serverName:He("server_name").notNull(),remoteTenancy:He("remote_tenancy"),remoteBotId:He("remote_bot_id"),phoneNumber:He("phone_number"),createdAt:kt("created_at").default(gt`CURRENT_TIMESTAMP`)}),k4=Qn("groups",{id:Rr("id").primaryKey().default(gt`gen_random_uuid()`),whatsappId:He("whatsapp_id").notNull().unique(),name:He("name").notNull(),description:He("description"),participantCount:Ks("participant_count").default(0),botInstanceId:Rr("bot_instance_id").notNull(),isActive:kr("is_active").default(!0),serverName:He("server_name").notNull(),createdAt:kt("created_at").default(gt`CURRENT_TIMESTAMP`)}),P4=Qn("viewed_status_ids",{id:Rr("id").primaryKey().default(gt`gen_random_uuid()`),botInstanceId:Rr("bot_instance_id").notNull(),statusId:He("status_id").notNull(),statusSender:He("status_sender").notNull(),viewedAt:kt("viewed_at").default(gt`CURRENT_TIMESTAMP`),expiresAt:kt("expires_at").notNull(),serverName:He("server_name").notNull()}),T4=Qn("external_bot_connections",{id:Rr("id").primaryKey().default(gt`gen_random_uuid()`),phoneNumber:He("phone_number").notNull(),ownerJid:He("owner_jid").notNull(),originServerName:He("origin_server_name").notNull(),remoteBotId:He("remote_bot_id").notNull(),sessionData:wa("session_data"),credentialsValid:kr("credentials_valid").default(!1),lastValidation:kt("last_validation"),connectionEstablishedAt:kt("connection_established_at"),notificationSentAt:kt("notification_sent_at"),features:wa("features").default({}),tempToken:He("temp_token"),expiresAt:kt("expires_at").notNull().default(gt`CURRENT_TIMESTAMP + INTERVAL '24 hours'`),currentServerName:He("current_server_name").notNull(),createdAt:kt("created_at").default(gt`CURRENT_TIMESTAMP`),updatedAt:kt("updated_at").default(gt`CURRENT_TIMESTAMP`)}),E4=Qn("offer_config",{id:Rr("id").primaryKey().default(gt`gen_random_uuid()`),isActive:kr("is_active").default(!1),durationType:He("duration_type").notNull().default("days"),durationValue:Ks("duration_value").notNull().default(7),startDate:kt("start_date").default(gt`CURRENT_TIMESTAMP`),endDate:kt("end_date"),createdAt:kt("created_at").default(gt`CURRENT_TIMESTAMP`),updatedAt:kt("updated_at").default(gt`CURRENT_TIMESTAMP`)});Gn(w4).pick({username:!0,password:!0,role:!0});const _4=Gn(N4).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivity:!0,messagesCount:!0,commandsCount:!0}),A4=Gn(S4).omit({id:!0,createdAt:!0});Gn(C4).omit({id:!0,createdAt:!0});Gn(k4).omit({id:!0,createdAt:!0});Gn(b4).omit({id:!0,registeredAt:!0});Gn(j4).omit({id:!0,createdAt:!0,updatedAt:!0});Gn(P4).omit({id:!0,viewedAt:!0});Gn(T4).omit({id:!0,createdAt:!0,updatedAt:!0});Gn(E4).omit({id:!0,createdAt:!0,updatedAt:!0});const fs=p.forwardRef(({className:e,...r},s)=>t.jsx("textarea",{className:Te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));fs.displayName="Textarea";var Xf="rovingFocusGroup.onEntryFocus",R4={bubbles:!1,cancelable:!0},ll="RovingFocusGroup",[Om,ew,I4]=Km(ll),[O4,Od]=zr(ll,[I4]),[D4,M4]=O4(ll),tw=p.forwardRef((e,r)=>t.jsx(Om.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Om.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(F4,{...e,ref:r})})}));tw.displayName=ll;var F4=p.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,orientation:a,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:h,onEntryFocus:g,preventScrollOnEntryFocus:x=!1,...y}=e,w=p.useRef(null),k=lt(r,w),C=kd(c),[b,j]=ls({prop:u,defaultProp:f??null,onChange:h,caller:ll}),[T,P]=p.useState(!1),R=un(g),F=ew(s),$=p.useRef(!1),[X,K]=p.useState(0);return p.useEffect(()=>{const te=w.current;if(te)return te.addEventListener(Xf,R),()=>te.removeEventListener(Xf,R)},[R]),t.jsx(D4,{scope:s,orientation:a,dir:C,loop:o,currentTabStopId:b,onItemFocus:p.useCallback(te=>j(te),[j]),onItemShiftTab:p.useCallback(()=>P(!0),[]),onFocusableItemAdd:p.useCallback(()=>K(te=>te+1),[]),onFocusableItemRemove:p.useCallback(()=>K(te=>te-1),[]),children:t.jsx($e.div,{tabIndex:T||X===0?-1:0,"data-orientation":a,...y,ref:k,style:{outline:"none",...e.style},onMouseDown:Fe(e.onMouseDown,()=>{$.current=!0}),onFocus:Fe(e.onFocus,te=>{const xe=!$.current;if(te.target===te.currentTarget&&xe&&!T){const he=new CustomEvent(Xf,R4);if(te.currentTarget.dispatchEvent(he),!he.defaultPrevented){const pe=F().filter(G=>G.focusable),ee=pe.find(G=>G.active),ie=pe.find(G=>G.id===b),ge=[ee,ie,...pe].filter(Boolean).map(G=>G.ref.current);sw(ge,x)}}$.current=!1}),onBlur:Fe(e.onBlur,()=>P(!1))})})}),rw="RovingFocusGroupItem",nw=p.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,focusable:a=!0,active:o=!1,tabStopId:c,children:u,...f}=e,h=Ar(),g=c||h,x=M4(rw,s),y=x.currentTabStopId===g,w=ew(s),{onFocusableItemAdd:k,onFocusableItemRemove:C,currentTabStopId:b}=x;return p.useEffect(()=>{if(a)return k(),()=>C()},[a,k,C]),t.jsx(Om.ItemSlot,{scope:s,id:g,focusable:a,active:o,children:t.jsx($e.span,{tabIndex:y?0:-1,"data-orientation":x.orientation,...f,ref:r,onMouseDown:Fe(e.onMouseDown,j=>{a?x.onItemFocus(g):j.preventDefault()}),onFocus:Fe(e.onFocus,()=>x.onItemFocus(g)),onKeyDown:Fe(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){x.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const T=$4(j,x.orientation,x.dir);if(T!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let R=w().filter(F=>F.focusable).map(F=>F.ref.current);if(T==="last")R.reverse();else if(T==="prev"||T==="next"){T==="prev"&&R.reverse();const F=R.indexOf(j.currentTarget);R=x.loop?V4(R,F+1):R.slice(F+1)}setTimeout(()=>sw(R))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:b!=null}):u})})});nw.displayName=rw;var L4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B4(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $4(e,r,s){const a=B4(e.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return L4[a]}function sw(e,r=!1){const s=document.activeElement;for(const a of e)if(a===s||(a.focus({preventScroll:r}),document.activeElement!==s))return}function V4(e,r){return e.map((s,a)=>e[(r+a)%e.length])}var iw=tw,aw=nw,Dd="Tabs",[z4,eM]=zr(Dd,[Od]),ow=Od(),[U4,Fh]=z4(Dd),lw=p.forwardRef((e,r)=>{const{__scopeTabs:s,value:a,onValueChange:o,defaultValue:c,orientation:u="horizontal",dir:f,activationMode:h="automatic",...g}=e,x=kd(f),[y,w]=ls({prop:a,onChange:o,defaultProp:c??"",caller:Dd});return t.jsx(U4,{scope:s,baseId:Ar(),value:y,onValueChange:w,orientation:u,dir:x,activationMode:h,children:t.jsx($e.div,{dir:x,"data-orientation":u,...g,ref:r})})});lw.displayName=Dd;var cw="TabsList",dw=p.forwardRef((e,r)=>{const{__scopeTabs:s,loop:a=!0,...o}=e,c=Fh(cw,s),u=ow(s);return t.jsx(iw,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:a,children:t.jsx($e.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:r})})});dw.displayName=cw;var uw="TabsTrigger",fw=p.forwardRef((e,r)=>{const{__scopeTabs:s,value:a,disabled:o=!1,...c}=e,u=Fh(uw,s),f=ow(s),h=pw(u.baseId,a),g=gw(u.baseId,a),x=a===u.value;return t.jsx(aw,{asChild:!0,...f,focusable:!o,active:x,children:t.jsx($e.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":g,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...c,ref:r,onMouseDown:Fe(e.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?u.onValueChange(a):y.preventDefault()}),onKeyDown:Fe(e.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&u.onValueChange(a)}),onFocus:Fe(e.onFocus,()=>{const y=u.activationMode!=="manual";!x&&!o&&y&&u.onValueChange(a)})})})});fw.displayName=uw;var mw="TabsContent",hw=p.forwardRef((e,r)=>{const{__scopeTabs:s,value:a,forceMount:o,children:c,...u}=e,f=Fh(mw,s),h=pw(f.baseId,a),g=gw(f.baseId,a),x=a===f.value,y=p.useRef(x);return p.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),t.jsx(En,{present:o||x,children:({present:w})=>t.jsx($e.div,{"data-state":x?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":h,hidden:!w,id:g,tabIndex:0,...u,ref:r,style:{...e.style,animationDuration:y.current?"0s":void 0},children:w&&c})})});hw.displayName=mw;function pw(e,r){return`${e}-trigger-${r}`}function gw(e,r){return`${e}-content-${r}`}var W4=lw,xw=dw,vw=fw,yw=hw;const Ma=W4,Ii=p.forwardRef(({className:e,...r},s)=>t.jsx(xw,{ref:s,className:Te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));Ii.displayName=xw.displayName;const Et=p.forwardRef(({className:e,...r},s)=>t.jsx(vw,{ref:s,className:Te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));Et.displayName=vw.displayName;const jt=p.forwardRef(({className:e,...r},s)=>t.jsx(yw,{ref:s,className:Te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));jt.displayName=yw.displayName;const q4=_4.extend({credentialsFile:Xo().optional(),credentialsBase64:Id().optional()});function bw({open:e,onClose:r}){const{toast:s}=Vt(),a=Or(),o=p.useRef(null),[c,u]=p.useState(null),[f,h]=p.useState(""),[g,x]=p.useState("file"),y=Ej({resolver:Aj(q4),defaultValues:{name:"",autoLike:!0,autoViewStatus:!0,autoReact:!1,typingMode:"none",chatgptEnabled:!1}}),w=Ke({mutationFn:async j=>{const T=new FormData;Object.entries(j).forEach(([R,F])=>{R!=="credentialsFile"&&R!=="credentialsBase64"&&T.append(R,String(F))}),g==="file"&&c&&T.append("credentials",c),g==="base64"&&f.trim()&&T.append("credentialsBase64",f.trim());const P=await fetch("/api/bot-instances",{method:"POST",body:T});if(!P.ok){const R=await P.json();throw new Error(R.message||"Failed to create bot instance")}return P.json()},onSuccess:()=>{s({title:"Bot instance created successfully"}),a.invalidateQueries({queryKey:["/api/bot-instances"]}),a.invalidateQueries({queryKey:["/api/dashboard/stats"]}),y.reset(),u(null),h(""),r()},onError:j=>{s({title:"Failed to create bot instance",description:j instanceof Error?j.message:"Unknown error",variant:"destructive"})}}),k=j=>{const T=j.target.files?.[0];if(T){if(!T.name.endsWith(".json")){s({title:"Invalid file type",description:"Please select a valid JSON file",variant:"destructive"});return}if(T.size<10){s({title:"File too small",description:"The credentials file appears to be empty or invalid",variant:"destructive"});return}if(T.size>5*1024*1024){s({title:"File too large",description:"Credentials file must be smaller than 5MB",variant:"destructive"});return}const P=new FileReader;P.onload=R=>{try{const F=R.target?.result,$=JSON.parse(F);if(typeof $!="object"||!$||Array.isArray($))throw new Error("Invalid credentials format");if(Object.keys($).length===0)throw new Error("Credentials file is empty");u(T),s({title:"File validated",description:"Credentials file looks valid",variant:"default"})}catch{s({title:"Invalid JSON file",description:"The file contains invalid JSON or is not a proper credentials file",variant:"destructive"}),u(null)}},P.readAsText(T)}},C=j=>{if(h(j),j.trim())try{const T=atob(j.trim()),P=JSON.parse(T);if(typeof P!="object"||!P||Array.isArray(P))throw new Error("Invalid credentials format");if(Object.keys(P).length===0)throw new Error("Credentials file is empty");s({title:"Base64 credentials validated",description:"Credentials data looks valid",variant:"default"})}catch{s({title:"Invalid base64 credentials",description:"Please check that your base64 string contains valid JSON credentials",variant:"destructive"})}},b=j=>{w.mutate(j)};return t.jsx(Qt,{open:e,onOpenChange:r,children:t.jsxs(Ft,{className:"bg-card border-border max-w-md","data-testid":"modal-add-bot",children:[t.jsx(Lt,{children:t.jsx(Bt,{className:"text-lg font-semibold text-foreground",children:"Add New Bot Instance"})}),t.jsxs("form",{onSubmit:y.handleSubmit(b),className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(we,{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Bot Name"}),t.jsx(Pt,{id:"name",placeholder:"Enter bot name...",...y.register("name"),className:"w-full bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-bot-name"}),y.formState.errors.name&&t.jsx("p",{className:"text-sm text-destructive mt-1",children:y.formState.errors.name.message})]}),t.jsxs("div",{children:[t.jsx(we,{className:"block text-sm font-medium text-foreground mb-2",children:"Credentials"}),t.jsxs(Ma,{value:g,onValueChange:j=>x(j),className:"w-full",children:[t.jsxs(Ii,{className:"grid w-full grid-cols-2",children:[t.jsx(Et,{value:"file",children:"Upload File"}),t.jsx(Et,{value:"base64",children:"Paste Base64"})]}),t.jsxs(jt,{value:"file",className:"mt-4",children:[t.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>o.current?.click(),"data-testid":"dropzone-credentials",children:[t.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center mx-auto mb-3",children:t.jsx("i",{className:"fas fa-upload text-muted-foreground text-xl"})}),t.jsx("p",{className:"text-sm text-foreground font-medium",children:c?c.name:"Click to upload creds.json"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"or drag and drop your credentials file"})]}),t.jsx("input",{ref:o,type:"file",accept:".json",onChange:k,className:"hidden","data-testid":"input-credentials-file"})]}),t.jsx(jt,{value:"base64",className:"mt-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx(fs,{placeholder:"Paste your base64-encoded credentials here...",value:f,onChange:j=>C(j.target.value),className:"min-h-[120px] bg-input border-border text-foreground placeholder:text-muted-foreground font-mono text-sm","data-testid":"textarea-base64-credentials"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste the base64-encoded version of your creds.json file. The bot will decode and validate it automatically."})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(we,{className:"block text-sm font-medium text-foreground mb-2",children:"Auto Features"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Gt,{id:"autoLike",checked:y.watch("autoLike")||!1,onCheckedChange:j=>y.setValue("autoLike",j),"data-testid":"checkbox-auto-like"}),t.jsx(we,{htmlFor:"autoLike",className:"text-sm text-foreground",children:"Auto Like"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Gt,{id:"autoViewStatus",checked:y.watch("autoViewStatus")||!1,onCheckedChange:j=>y.setValue("autoViewStatus",j),"data-testid":"checkbox-auto-view-status"}),t.jsx(we,{htmlFor:"autoViewStatus",className:"text-sm text-foreground",children:"Auto View Status"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Gt,{id:"autoReact",checked:y.watch("autoReact")||!1,onCheckedChange:j=>y.setValue("autoReact",j),"data-testid":"checkbox-auto-react"}),t.jsx(we,{htmlFor:"autoReact",className:"text-sm text-foreground",children:"Auto React"})]})]})]}),t.jsxs("div",{children:[t.jsx(we,{className:"block text-sm font-medium text-foreground mb-2",children:"Typing Mode"}),t.jsxs(mr,{value:y.watch("typingMode")||"none",onValueChange:j=>y.setValue("typingMode",j),children:[t.jsx(nr,{className:"w-full bg-input border-border text-foreground","data-testid":"select-typing-mode",children:t.jsx(hr,{})}),t.jsxs(sr,{className:"bg-popover border-border",children:[t.jsx(Ee,{value:"none",children:"None"}),t.jsx(Ee,{value:"typing",children:"Always Typing"}),t.jsx(Ee,{value:"recording",children:"Recording Audio"}),t.jsx(Ee,{value:"both",children:"Both (Switch)"})]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Gt,{id:"chatgptEnabled",checked:y.watch("chatgptEnabled")||!1,onCheckedChange:j=>y.setValue("chatgptEnabled",j),"data-testid":"checkbox-chatgpt-enabled"}),t.jsx(we,{htmlFor:"chatgptEnabled",className:"text-sm text-foreground",children:"Enable ChatGPT Integration"})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx(z,{type:"button",variant:"ghost",onClick:r,"data-testid":"button-cancel",children:"Cancel"}),t.jsx(z,{type:"submit",disabled:w.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-bot",children:w.isPending?"Creating...":"Create Bot Instance"})]})]})]})})}const K4=["SYSTEM","ADMIN","CUSTOM","FUN","TOOLS","SEARCH","DOWNLOAD","CONVERT"],Jf=`// Example WhatsApp bot command
// Available context: { respond, args, message, client }

const query = args.join(' ');
if (!query) {
  await respond('❌ Please provide a search query!');
  return;
}

await respond(\`🔍 Searching for: *\${query}*\`);
// Your custom logic here
await respond(\`✅ Results for: *\${query}*\`);`;function Q4({open:e,onClose:r}){const{toast:s}=Vt(),a=Or(),[o,c]=p.useState({name:"",description:"",category:"CUSTOM",code:Jf}),{data:u=[],isLoading:f}=pt({queryKey:["/api/commands"],queryFn:async()=>{const x=await fetch("/api/commands");if(!x.ok)throw new Error("Failed to fetch commands");return x.json()}}),h=Ke({mutationFn:async x=>{const y=await fetch("/api/commands/custom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!y.ok){const w=await y.json();throw new Error(w.message||"Failed to create command")}return y.json()},onSuccess:()=>{s({title:"Custom command created successfully"}),a.invalidateQueries({queryKey:["/api/commands"]}),c({name:"",description:"",category:"CUSTOM",code:Jf})},onError:x=>{s({title:"Failed to create command",description:x instanceof Error?x.message:"Unknown error",variant:"destructive"})}}),g=x=>{if(x.preventDefault(),!o.name||!o.description||!o.code){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}h.mutate(o)};return t.jsx(Qt,{open:e,onOpenChange:r,children:t.jsxs(Ft,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(Lt,{children:t.jsx(Bt,{className:"text-xl font-bold",children:"🔧 TREKKER-MD Command Management"})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx("div",{className:"space-y-4",children:t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{children:"Create Custom Command"}),t.jsx(We,{children:"Add custom JavaScript code that will execute when users call your command"})]}),t.jsx(ae,{children:t.jsxs("form",{onSubmit:g,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(we,{htmlFor:"name",children:"Command Name *"}),t.jsx(Pt,{id:"name",placeholder:"mycommand",value:o.name,onChange:x=>c(y=>({...y,name:x.target.value})),className:"font-mono"})]}),t.jsxs("div",{children:[t.jsx(we,{htmlFor:"description",children:"Description *"}),t.jsx(Pt,{id:"description",placeholder:"What does this command do?",value:o.description,onChange:x=>c(y=>({...y,description:x.target.value}))})]}),t.jsxs("div",{children:[t.jsx(we,{htmlFor:"category",children:"Category"}),t.jsxs(mr,{value:o.category,onValueChange:x=>c(y=>({...y,category:x})),children:[t.jsx(nr,{children:t.jsx(hr,{})}),t.jsx(sr,{children:K4.map(x=>t.jsx(Ee,{value:x,children:x},x))})]})]}),t.jsxs("div",{children:[t.jsx(we,{htmlFor:"code",children:"Command Code *"}),t.jsx(fs,{id:"code",placeholder:"Your JavaScript code here...",value:o.code,onChange:x=>c(y=>({...y,code:x.target.value})),className:"min-h-[300px] font-mono text-sm"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available context: respond, args, message, client"})]}),t.jsx(z,{type:"submit",disabled:h.isPending,className:"w-full",children:h.isPending?"Creating...":"Create Command"})]})})]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsxs(Me,{children:["Existing Commands (",u.length,")"]}),t.jsx(We,{children:"All commands available in your TREKKER-MD bot"})]}),t.jsx(ae,{children:f?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),t.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading commands..."})]}):t.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:u.map(x=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"font-mono text-sm font-semibold",children:[".",x.name,x.customCode&&t.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-blue-100 text-blue-800 text-xs rounded",children:"CUSTOM"})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:x.description}),t.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded mt-1 inline-block",children:x.category})]}),t.jsx("div",{className:`w-2 h-2 rounded-full ${x.isActive?"bg-green-500":"bg-red-500"}`})]},x.id))})})]}),t.jsxs(se,{children:[t.jsx(Ie,{children:t.jsx(Me,{children:"💡 Command Example"})}),t.jsx(ae,{children:t.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-x-auto",children:Jf})})]})]})]})]})})}var Lh="Radio",[G4,jw]=zr(Lh),[H4,Y4]=G4(Lh),ww=p.forwardRef((e,r)=>{const{__scopeRadio:s,name:a,checked:o=!1,required:c,disabled:u,value:f="on",onCheck:h,form:g,...x}=e,[y,w]=p.useState(null),k=lt(r,j=>w(j)),C=p.useRef(!1),b=y?g||!!y.closest("form"):!0;return t.jsxs(H4,{scope:s,checked:o,disabled:u,children:[t.jsx($e.button,{type:"button",role:"radio","aria-checked":o,"data-state":kw(o),"data-disabled":u?"":void 0,disabled:u,value:f,...x,ref:k,onClick:Fe(e.onClick,j=>{o||h?.(),b&&(C.current=j.isPropagationStopped(),C.current||j.stopPropagation())})}),b&&t.jsx(Cw,{control:y,bubbles:!C.current,name:a,value:f,checked:o,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});ww.displayName=Lh;var Nw="RadioIndicator",Sw=p.forwardRef((e,r)=>{const{__scopeRadio:s,forceMount:a,...o}=e,c=Y4(Nw,s);return t.jsx(En,{present:a||c.checked,children:t.jsx($e.span,{"data-state":kw(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:r})})});Sw.displayName=Nw;var Z4="RadioBubbleInput",Cw=p.forwardRef(({__scopeRadio:e,control:r,checked:s,bubbles:a=!0,...o},c)=>{const u=p.useRef(null),f=lt(u,c),h=wh(s),g=ih(r);return p.useEffect(()=>{const x=u.current;if(!x)return;const y=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==s&&k){const C=new Event("click",{bubbles:a});k.call(x,s),x.dispatchEvent(C)}},[h,s,a]),t.jsx($e.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:f,style:{...o.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Cw.displayName=Z4;function kw(e){return e?"checked":"unchecked"}var X4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Md="RadioGroup",[J4,tM]=zr(Md,[Od,jw]),Pw=Od(),Tw=jw(),[eO,tO]=J4(Md),Ew=p.forwardRef((e,r)=>{const{__scopeRadioGroup:s,name:a,defaultValue:o,value:c,required:u=!1,disabled:f=!1,orientation:h,dir:g,loop:x=!0,onValueChange:y,...w}=e,k=Pw(s),C=kd(g),[b,j]=ls({prop:c,defaultProp:o??null,onChange:y,caller:Md});return t.jsx(eO,{scope:s,name:a,required:u,disabled:f,value:b,onValueChange:j,children:t.jsx(iw,{asChild:!0,...k,orientation:h,dir:C,loop:x,children:t.jsx($e.div,{role:"radiogroup","aria-required":u,"aria-orientation":h,"data-disabled":f?"":void 0,dir:C,...w,ref:r})})})});Ew.displayName=Md;var _w="RadioGroupItem",Aw=p.forwardRef((e,r)=>{const{__scopeRadioGroup:s,disabled:a,...o}=e,c=tO(_w,s),u=c.disabled||a,f=Pw(s),h=Tw(s),g=p.useRef(null),x=lt(r,g),y=c.value===o.value,w=p.useRef(!1);return p.useEffect(()=>{const k=b=>{X4.includes(b.key)&&(w.current=!0)},C=()=>w.current=!1;return document.addEventListener("keydown",k),document.addEventListener("keyup",C),()=>{document.removeEventListener("keydown",k),document.removeEventListener("keyup",C)}},[]),t.jsx(aw,{asChild:!0,...f,focusable:!u,active:y,children:t.jsx(ww,{disabled:u,required:c.required,checked:y,...h,...o,name:c.name,ref:x,onCheck:()=>c.onValueChange(o.value),onKeyDown:Fe(k=>{k.key==="Enter"&&k.preventDefault()}),onFocus:Fe(o.onFocus,()=>{w.current&&g.current?.click()})})})});Aw.displayName=_w;var rO="RadioGroupIndicator",Rw=p.forwardRef((e,r)=>{const{__scopeRadioGroup:s,...a}=e,o=Tw(s);return t.jsx(Sw,{...o,...a,ref:r})});Rw.displayName=rO;var Iw=Ew,Ow=Aw,nO=Rw;const Fd=p.forwardRef(({className:e,...r},s)=>t.jsx(Iw,{className:Te("grid gap-2",e),...r,ref:s}));Fd.displayName=Iw.displayName;const Ai=p.forwardRef(({className:e,...r},s)=>t.jsx(Ow,{ref:s,className:Te("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:t.jsx(nO,{className:"flex items-center justify-center",children:t.jsx(Xk,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Ai.displayName=Ow.displayName;function sO({open:e,onClose:r,botId:s,phoneNumber:a,guestToken:o,onSuccess:c,crossTenancyMode:u=!1,targetServer:f}){const{toast:h}=Vt(),g=p.useRef(null),x=p.useRef(null),[y,w]=p.useState("base64"),[k,C]=p.useState(""),[b,j]=p.useState(null),[T,P]=p.useState(!1),[R,F]=p.useState(null),[$,X]=p.useState("idle"),[K,te]=p.useState("");p.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]);const xe=async ie=>{if(!ie.trim()){X("idle"),te("");return}X("validating"),te("Validating credentials format...");try{const H=atob(ie.trim()),ge=JSON.parse(H);if(!ge||typeof ge!="object")throw new Error("Invalid credentials format");if(!ge.me||!ge.me.id)throw new Error("Missing essential WhatsApp session data");const G=ge.me.id.match(/^(\d+):/);if(!G)throw new Error("Unable to extract phone number from credentials");const q=G[1],N=a.replace(/[\s\-\(\)\+]/g,"");if(q!==N){X("invalid"),te(`⚠️ Phone number mismatch. Credentials are for ${q}, but you're updating ${a}`);return}X("valid"),te("✅ Credentials format is valid and phone number matches")}catch(H){X("invalid"),H instanceof Error?te(`❌ ${H.message}`):te("❌ Invalid base64 credentials format")}},he=ie=>{const H=ie.target.files?.[0];if(H){if(!H.name.endsWith(".json")){h({title:"Invalid File",description:"Please select a valid .json file",variant:"destructive"});return}j(H)}},pe=async ie=>{if(ie.preventDefault(),y==="base64"){if(!k.trim()){h({title:"Missing Credentials",description:"Please provide a Base64 session ID",variant:"destructive"});return}if($==="invalid"){h({title:"Invalid Credentials",description:"Please fix the credential validation errors before submitting",variant:"destructive"});return}if($==="validating"){h({title:"Validation in Progress",description:"Please wait for credential validation to complete",variant:"destructive"});return}if($!=="valid"&&k.trim()){h({title:"Unvalidated Credentials",description:"Please wait for credential validation to complete",variant:"destructive"});return}}if(y==="file"&&!b){h({title:"Missing File",description:"Please select a credentials file",variant:"destructive"});return}if(!u&&!o){h({title:"Authentication Required",description:"Please authenticate before updating credentials",variant:"destructive"});return}P(!0);try{const H=new FormData;H.append("phoneNumber",a),H.append("action","update_credentials"),H.append("credentialType",y),u||H.append("botId",s),u&&f&&H.append("targetServer",f),y==="base64"?H.append("sessionId",k):b&&H.append("credsFile",b);const ge=u?"/api/guest/cross-tenancy-manage":"/api/guest/manage-bot",G={};o&&(G.Authorization=`Bearer ${o}`);const q=await fetch(ge,{method:"POST",headers:G,body:H}),N=await q.json();q.ok?N.crossTenancy&&N.nextSteps?(F(N),h({title:"Cross-Tenancy Update Initiated!",description:N.message})):(h({title:"Success!",description:N.message}),C(""),j(null),g.current&&(g.current.value=""),c?.(),r()):h({title:"Update Failed",description:N.message||"Failed to update credentials",variant:"destructive"})}catch(H){console.error("Error updating credentials:",H),h({title:"Network Error",description:"Failed to connect to server. Please try again.",variant:"destructive"})}finally{P(!1)}},ee=()=>{T||(C(""),j(null),F(null),g.current&&(g.current.value=""),r())};return t.jsx(Qt,{open:e,onOpenChange:ee,children:t.jsxs(Ft,{className:"max-w-md",children:[t.jsxs(Lt,{children:[t.jsxs(Bt,{children:["🔑 ",u?"Cross-Tenancy":""," Update Bot Credentials"]}),t.jsx(ja,{children:u?`Update credentials across servers (Target: ${f})`:"Update your WhatsApp bot credentials to restore connectivity"})]}),R?t.jsxs("div",{className:"space-y-4",children:[t.jsx(se,{className:"bg-emerald-50 border-emerald-200 dark:bg-emerald-900/20 dark:border-emerald-800",children:t.jsxs(ae,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 text-lg",children:"✅"}),t.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200",children:"Cross-Tenancy Update Successful!"})]}),t.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 mb-3",children:R.message}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Source:"}),t.jsx("div",{className:"text-muted-foreground",children:R.sourceServer})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Target:"}),t.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:R.targetServer})]})]})]})}),t.jsx(se,{className:"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800",children:t.jsxs(ae,{className:"p-4",children:[t.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:"🎯 Next Steps"}),t.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:R.nextSteps?.map((ie,H)=>t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-500 mt-0.5",children:"•"}),ie]},H))})]})}),t.jsx(z,{onClick:ee,className:"w-full",children:"✨ Awesome! Got It"})]}):t.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[t.jsx(se,{className:`${u?"bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:border-purple-800":"bg-blue-50 border-blue-200"}`,children:t.jsxs(ae,{className:"p-3",children:[t.jsxs("p",{className:`text-sm ${u?"text-purple-800 dark:text-purple-200":"text-blue-800"}`,children:[t.jsx("strong",{children:"📱 Phone:"})," ",a,u&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("strong",{children:"🌐 Target Server:"})," ",f]})]}),t.jsx("p",{className:`text-xs mt-1 ${u?"text-purple-600 dark:text-purple-300":"text-blue-600"}`,children:u?"Credentials will be transferred to the target server":"New credentials must match this phone number"})]})}),t.jsxs("div",{children:[t.jsx(we,{className:"text-base font-medium",children:"Choose Credential Type *"}),t.jsxs(Fd,{value:y,onValueChange:ie=>w(ie),className:"mt-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ai,{value:"base64",id:"base64"}),t.jsx(we,{htmlFor:"base64",children:"Paste Base64 Session ID"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ai,{value:"file",id:"file"}),t.jsx(we,{htmlFor:"file",children:"Upload creds.json File"})]})]})]}),y==="base64"?t.jsxs("div",{children:[t.jsx(we,{htmlFor:"sessionId",children:"Base64 Session ID *"}),t.jsx(fs,{id:"sessionId",placeholder:"Paste your Base64 encoded session here...",value:k,onChange:ie=>{const H=ie.target.value;C(H),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{xe(H)},1e3)},className:`min-h-[100px] text-xs ${$==="valid"?"border-green-500 bg-green-50/50":$==="invalid"?"border-red-500 bg-red-50/50":$==="validating"?"border-yellow-500 bg-yellow-50/50":""}`,required:!0}),K&&t.jsx("div",{className:`text-xs mt-2 p-2 rounded border ${$==="valid"?"text-green-700 bg-green-50 border-green-200":$==="invalid"?"text-red-700 bg-red-50 border-red-200":$==="validating"?"text-yellow-700 bg-yellow-50 border-yellow-200":"text-gray-700 bg-gray-50 border-gray-200"}`,children:K}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get this from your WhatsApp session backup. The system will validate the format and phone number match in real-time."})]}):t.jsxs("div",{children:[t.jsx(we,{htmlFor:"credsFile",children:"Upload creds.json File *"}),t.jsx(Pt,{id:"credsFile",type:"file",accept:".json",onChange:he,ref:g,required:!0}),b&&t.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["✅ Selected: ",b.name]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select the creds.json file from your bot session"})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(z,{type:"button",variant:"outline",onClick:ee,disabled:T,className:"flex-1",children:"Cancel"}),t.jsx(z,{type:"submit",disabled:T,className:`flex-1 ${u?"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700":""}`,children:T?"Updating...":u?"🔄 Update Cross-Tenancy":"Update Credentials"})]})]})]})})}function iO({open:e,onClose:r}){const{toast:s}=Vt(),[a,o]=p.useState({botName:"",phoneNumber:"",credentialType:"base64",sessionId:"",credsFile:null,features:{autoLike:!1,autoReact:!1,autoView:!1,presenceMode:"none",intervalSeconds:30,chatGPT:!1},selectedServer:""}),[c,u]=p.useState(1),[f,h]=p.useState(null),[g,x]=p.useState(null),[y,w]=p.useState(null),[k,C]=p.useState(null),[b,j]=p.useState(!1),[T,P]=p.useState(!1),[R,F]=p.useState(null),[$,X]=p.useState(null),[K,te]=p.useState(""),[xe,he]=p.useState([]),pe=async()=>{try{const _=await fetch("/api/servers/available");if(_.ok){const U=await _.json();he(U.servers||[])}else console.error("Failed to fetch available servers"),he([])}catch(_){console.error("Error fetching servers:",_),he([])}},ee=Ke({mutationFn:async _=>{const U=_.replace(/[\s\-\(\)\+]/g,""),ne=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:U})});if(!ne.ok){let re="Failed to check phone number";try{const je=await ne.json();if(je.registeredTo&&je.message)return{registered:!0,currentServer:!1,registeredTo:je.registeredTo,message:je.message,serverMismatch:!0};re=je.message||re}catch{re=ne.statusText||re}throw new Error(re)}const ue=ne.headers.get("content-type");if(!ue||!ue.includes("application/json"))throw new Error("Invalid response format from server");return ne.json()},onSuccess:_=>{X(_),_.registered||_.serverMismatch?_.serverMismatch||!_.currentServer&&_.registeredTo?(x({details:{registeredTo:_.registeredTo},message:_.message,registeredTo:_.registeredTo,botDetails:_.botDetails||null}),u(9)):_.currentServer&&(_.hasBot?(h(_.bot),u(8)):(pe(),u(3))):(pe(),u(3))},onError:_=>{s({title:"Phone Check Failed",description:_.message,variant:"destructive"}),u(1)}}),ie=Ke({mutationFn:async _=>{const U=new FormData;if(U.append("botName",_.botName),U.append("phoneNumber",_.phoneNumber),U.append("credentialType",_.credentialType),U.append("features",JSON.stringify(_.features)),_.selectedServer&&U.append("selectedServer",_.selectedServer),_.credentialType==="base64"&&_.sessionId)try{const ue=atob(_.sessionId.trim());JSON.parse(ue),U.append("sessionId",_.sessionId)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}else _.credsFile&&U.append("credsFile",_.credsFile);const ne=await fetch("/api/guest/register-bot",{method:"POST",body:U});if(!ne.ok){const ue=await ne.json();throw new Error(ue.message||"Failed to register bot")}return ne.json()},onSuccess:_=>{_.type==="existing_bot_found"?(h(_.botDetails),u(8),s({title:"Existing Bot Found",description:_.message||"Welcome back! You have a bot on this server."})):_.type==="cross_tenancy_registered"?(C(_),u(11),s({title:"Auto-Distributed to Available Server",description:_.message||"Your bot has been registered on an available server!"})):(u(7),s({title:"Bot registration submitted",description:_.message||"Your bot is being validated..."}))},onError:_=>{const U=_.message;if(U?.includes("server")&&U?.includes("registered to")){x({message:U}),u(9);return}u(c===6?5:4),s({title:"Registration failed",description:_ instanceof Error?_.message:"Unknown error",variant:"destructive"})}}),H=_=>{if(_.preventDefault(),!a.phoneNumber){s({title:"Validation Error",description:"Please enter your phone number",variant:"destructive"});return}u(2),ee.mutate(a.phoneNumber)},ge=_=>{console.log("Selected server:",_),te(_.name),o(U=>({...U,selectedServer:_.name})),u(4),j(!1)},G=()=>{if(c===4){if(a.credentialType==="base64"&&!a.sessionId){s({title:"Validation Error",description:"Please provide the base64 session ID",variant:"destructive"});return}if(a.credentialType==="file"&&!a.credsFile){s({title:"Validation Error",description:"Please upload the creds.json file",variant:"destructive"});return}u(5)}else c===5&&q()},q=()=>{if(!a.botName){s({title:"Validation Error",description:"Please enter a bot name",variant:"destructive"});return}const _={...a,phoneNumber:a.phoneNumber.replace(/^\+/,""),selectedServer:K||a.selectedServer};u(6),ie.mutate(_)},N=_=>{const U=_.target.files?.[0];U&&o(ne=>({...ne,credsFile:U}))};Ke({mutationFn:async({action:_,botId:U,phoneNumber:ne})=>{const ue=new FormData;ue.append("phoneNumber",ne),ue.append("action",_),ue.append("botId",U);const re=await fetch("/api/guest/manage-bot",{method:"POST",body:ue});if(!re.ok){const je=await re.json();throw new Error(je.message||`Failed to ${_} bot`)}return re.json()},onSuccess:async(_,U)=>{if(s({title:"Success!",description:_.message}),F(null),U.action==="update_credentials")try{s({title:"Credentials Updated Successfully",description:"Returning to default server..."}),await new Promise(ue=>setTimeout(ue,1500)),(await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:"default-server",description:"Returned to default server after credential update"})})).ok&&(s({title:"Returned to Default Server",description:"Credentials updated successfully. You're now back on the default server."}),setTimeout(()=>{I()},2e3))}catch(ne){console.error("Error switching back to default server:",ne),s({title:"Credentials Updated",description:"Credentials updated successfully, but couldn't return to default server.",variant:"destructive"})}else B()},onError:(_,U)=>{s({title:`${U.action.charAt(0).toUpperCase()+U.action.slice(1)} Failed`,description:_.message,variant:"destructive"}),F(null)}});const B=()=>{s({title:"Status Updated",description:"Bot status has been updated. Please check the bot status."})},Y=()=>{o({botName:"",phoneNumber:"",credentialType:"base64",sessionId:"",credsFile:null,features:{autoLike:!0,autoReact:!1,autoView:!0,presenceMode:"none",intervalSeconds:30,chatGPT:!1},selectedServer:""}),u(1)},I=()=>{Y(),h(null),x(null),C(null),P(!1),F(null),r()},O=()=>{u(_=>Math.max(_-1,1))};return t.jsxs(Qt,{open:e,onOpenChange:I,children:[t.jsxs(Ft,{className:"max-w-2xl max-h-[95vh] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[t.jsx(Lt,{children:t.jsx(Bt,{className:"text-2xl font-bold text-center",children:"🚀 Register Your TREKKER-MD Bot"})}),c===1&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsx("div",{className:"flex items-center justify-center mb-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),t.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-emerald-50 to-blue-50 dark:from-emerald-900/20 dark:to-blue-900/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center text-white text-xl",children:"📱"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Enter Your Phone Number"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We'll check if you have an existing bot or help you register a new one"})]}),t.jsxs("form",{onSubmit:H,className:"space-y-6",children:[t.jsxs(se,{className:"border-l-4 border-l-blue-500",children:[t.jsxs(Ie,{className:"pb-3",children:[t.jsx(Me,{className:"text-lg",children:"Phone Number Verification"}),t.jsx(We,{children:"Enter your WhatsApp phone number to begin registration"})]}),t.jsx(ae,{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx(we,{htmlFor:"phoneNumber",className:"text-sm font-medium",children:"Phone Number (with country code) *"}),t.jsx(Pt,{id:"phoneNumber","data-testid":"input-phone-number",placeholder:"+254700000000",value:a.phoneNumber,onChange:_=>{const U=_.target.value.replace(/[\s\-\(\)]/g,"");o(ne=>({...ne,phoneNumber:U}))},onPaste:_=>{_.preventDefault();const ne=_.clipboardData.getData("text").replace(/[\s\-\(\)]/g,"");o(ue=>({...ue,phoneNumber:ne}))},required:!0,className:"mt-1 text-lg",autoFocus:!0}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter your phone number with country code (+ will be removed automatically)"})]})})]}),t.jsx(z,{type:"submit","data-testid":"button-check-phone",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",disabled:ee.isPending,children:ee.isPending?"🔍 Checking...":"🔍 Check Phone Number"})]})]}),c===2&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsx("div",{className:"flex items-center justify-center mb-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),t.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:"🔍"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Checking Your Phone Number"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Searching the God Registry for existing bot registrations..."}),t.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]}),c===3&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsx("div",{className:"flex items-center justify-center mb-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),t.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:"🌍"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Select Your Server"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is not registered. Choose a server to register your bot on."})]}),t.jsxs(se,{className:"border-l-4 border-l-green-500",children:[t.jsxs(Ie,{className:"pb-3",children:[t.jsx(Me,{className:"text-lg",children:"Available Servers"}),t.jsx(We,{children:"Select a server with available bot slots"})]}),t.jsx(ae,{className:"space-y-4",children:t.jsx("div",{className:"grid gap-3",children:xe.map(_=>t.jsx("div",{onClick:()=>ge(_),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors","data-testid":`server-option-${_.id}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:_.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:_.description})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-sm font-medium text-green-600",children:[_.availableSlots," slots available"]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.currentBots,"/",_.maxBots," bots"]})]})]})},_.id))})})]}),t.jsx(z,{onClick:O,variant:"outline",className:"w-full","data-testid":"button-back-step-3",children:"← Back to Phone Number"})]}),c===4&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsx("div",{className:"flex items-center justify-center mb-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),t.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white text-xl",children:"🔐"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Authentication Credentials"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Provide your WhatsApp session credentials to connect your bot"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(se,{className:"border-l-4 border-l-purple-500",children:[t.jsxs(Ie,{className:"pb-3",children:[t.jsx(Me,{className:"text-lg",children:"Bot Information"}),t.jsx(We,{children:"Enter your bot name and choose credential type"})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(we,{htmlFor:"botName",className:"text-sm font-medium",children:"Bot Name *"}),t.jsx(Pt,{id:"botName","data-testid":"input-bot-name",placeholder:"My WhatsApp Bot",value:a.botName,onChange:_=>o(U=>({...U,botName:_.target.value})),required:!0,className:"mt-1",autoFocus:!0})]}),t.jsxs("div",{children:[t.jsx(we,{className:"text-sm font-medium",children:"Choose Credential Type *"}),t.jsxs(Fd,{value:a.credentialType,onValueChange:_=>o(U=>({...U,credentialType:_})),className:"mt-2",children:[t.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[t.jsx(Ai,{value:"base64",id:"base64"}),t.jsx(we,{htmlFor:"base64",className:"cursor-pointer",children:"Paste Base64 Session ID"})]}),t.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[t.jsx(Ai,{value:"file",id:"file"}),t.jsx(we,{htmlFor:"file",className:"cursor-pointer",children:"Upload creds.json File"})]})]})]}),a.credentialType==="base64"?t.jsxs("div",{children:[t.jsx(we,{htmlFor:"sessionId",className:"text-sm font-medium",children:"Base64 Session ID *"}),t.jsx(fs,{id:"sessionId","data-testid":"textarea-session-id",placeholder:"Paste your base64 encoded session ID here...",value:a.sessionId,onChange:_=>o(U=>({...U,sessionId:_.target.value})),className:"min-h-[100px] font-mono text-sm mt-1",required:!0}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get your session ID from the pairing site"})]}):t.jsxs("div",{children:[t.jsx(we,{htmlFor:"credsFile",className:"text-sm font-medium",children:"Upload creds.json File *"}),t.jsx(Pt,{id:"credsFile","data-testid":"input-creds-file",type:"file",accept:".json",onChange:N,required:!0,className:"mt-1"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload the creds.json file from your WhatsApp session"})]})]})]}),t.jsx(z,{onClick:G,"data-testid":"button-next-step",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:"Continue to Features →"})]})]}),c===5&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsx("div",{className:"flex items-center justify-center mb-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"})]})}),t.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:"⚡"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Bot Features"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose the automation features for your bot (optional)"})]}),t.jsxs(se,{className:"border-l-4 border-l-green-500",children:[t.jsxs(Ie,{className:"pb-3",children:[t.jsx(Me,{className:"text-lg",children:"Bot Features (Optional)"}),t.jsx(We,{children:"Select the automation features you want for your bot"})]}),t.jsx(ae,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[t.jsx(Gt,{id:"autoLike","data-testid":"checkbox-auto-like",checked:a.features.autoLike,onCheckedChange:_=>o(U=>({...U,features:{...U.features,autoLike:!!_}})),className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(we,{htmlFor:"autoLike",className:"text-sm font-medium cursor-pointer",children:"Auto Like Status"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically like WhatsApp status updates"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[t.jsx(Gt,{id:"autoReact","data-testid":"checkbox-auto-react",checked:a.features.autoReact,onCheckedChange:_=>o(U=>({...U,features:{...U.features,autoReact:!!_}})),className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(we,{htmlFor:"autoReact",className:"text-sm font-medium cursor-pointer",children:"Auto React"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically react to messages"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[t.jsx(Gt,{id:"autoView","data-testid":"checkbox-auto-view",checked:a.features.autoView,onCheckedChange:_=>o(U=>({...U,features:{...U.features,autoView:!!_}})),className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(we,{htmlFor:"autoView",className:"text-sm font-medium cursor-pointer",children:"Auto View Status"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically view WhatsApp status"})]})]}),t.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50",children:[t.jsxs("div",{className:"mb-3",children:[t.jsx(we,{className:"text-sm font-medium",children:"Presence Configuration"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Configure how the bot appears online to other users"})]}),t.jsxs(mr,{value:a.features.presenceMode,onValueChange:_=>o(U=>({...U,features:{...U.features,presenceMode:_}})),children:[t.jsx(nr,{"data-testid":"select-presence-mode",children:t.jsx(hr,{placeholder:"Select presence mode"})}),t.jsxs(sr,{children:[t.jsx(Ee,{value:"none",children:"None - Appear as normal"}),t.jsx(Ee,{value:"always_online",children:"Always Online"}),t.jsx(Ee,{value:"always_typing",children:"Always Typing"}),t.jsx(Ee,{value:"always_recording",children:"Always Recording"}),t.jsx(Ee,{value:"auto_switch",children:"Auto Switch (Recording & Typing)"})]})]}),a.features.presenceMode==="auto_switch"&&t.jsxs("div",{className:"mt-3",children:[t.jsx(we,{className:"text-xs text-muted-foreground",children:"Switch Interval (seconds)"}),t.jsx(Pt,{type:"number",min:"5",max:"120",value:a.features.intervalSeconds,onChange:_=>o(U=>({...U,features:{...U.features,intervalSeconds:parseInt(_.target.value)||30}})),className:"mt-1","data-testid":"input-interval-seconds"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50 md:col-span-2",children:[t.jsx(Gt,{id:"chatGPT","data-testid":"checkbox-chatgpt",checked:a.features.chatGPT,onCheckedChange:_=>o(U=>({...U,features:{...U.features,chatGPT:!!_}})),className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(we,{htmlFor:"chatGPT",className:"text-sm font-medium cursor-pointer",children:"ChatGPT Integration"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable AI responses for conversations"})]})]})]})})]}),t.jsx(z,{onClick:G,"data-testid":"button-register-bot-final",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:"🚀 Register Bot Now"})]}),c===6&&t.jsx("div",{className:"space-y-6 pb-4",children:t.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:"🚀"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Registering Your Bot"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Please wait while we set up your WhatsApp bot..."}),t.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}),c===7&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center text-white text-2xl",children:"✅"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Bot Registered Successfully!"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your bot credentials have been validated and registered"})]}),t.jsxs(se,{className:"border-l-4 border-l-green-500",children:[t.jsxs(Ie,{children:[t.jsx(Me,{className:"text-lg",children:"🎉 Next Steps"}),t.jsx(We,{children:"Your bot is now awaiting admin approval"})]}),t.jsx(ae,{children:t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-green-500 mt-0.5",children:"✅"}),"Your bot is now dormant and awaiting admin approval"]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-500 mt-0.5",children:"📱"}),"Contact +254704897825 to activate your bot"]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-purple-500 mt-0.5",children:"⏰"}),"You'll receive hourly status updates until activation"]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-orange-500 mt-0.5",children:"🚀"}),"Once approved, enjoy all premium TREKKER-MD features!"]})]})})]}),t.jsx(z,{onClick:I,className:"w-full","data-testid":"button-close-success",children:"Done"})]}),c===8&&f&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-robot text-2xl text-blue-600"})}),t.jsx("h3",{className:"text-xl font-bold mb-2",children:"Existing Bot Found!"}),t.jsxs("p",{className:"text-muted-foreground",children:['To manage your bot "',f.name,'", please verify your ownership by uploading your credentials.']})]}),t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx("span",{children:"🤖"}),f.name]}),t.jsxs(We,{children:["Phone: ",f.phoneNumber]})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Status:"}),t.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${f.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Approval:"}),t.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${f.isApproved?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:f.approvalStatus})]})]}),f.isApproved&&f.timeRemaining&&t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:t.jsxs("p",{className:"text-sm text-green-800",children:["⏰ ",t.jsxs("strong",{children:[f.timeRemaining," days"]})," remaining until expiry"]})}),f.isExpired&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-red-800",children:"⚠️ Your bot has expired. Please contact admin for renewal."})}),t.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-8 h-8 bg-amber-100 dark:bg-amber-800 rounded-full flex items-center justify-center",children:"🔐"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Security Verification Required"}),t.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Please upload your credentials file to verify bot ownership"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(z,{className:"w-full bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>{I(),s({title:"Credential Validation Required",description:"Please use the 'Search Your Bot' page to verify your credentials and manage your bot securely.",duration:5e3})},children:"🔍 Go to Bot Search & Verification"}),t.jsx("div",{className:"text-xs text-amber-700 dark:text-amber-300 text-center",children:'For security, bot management requires credential verification. Use the "Search Your Bot" page to securely access your bot.'})]})]})]})]}),t.jsx(z,{onClick:I,className:"w-full","data-testid":"button-close-existing-bot",children:"Close"})]}),c===9&&g&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-amber-500 rounded-full flex items-center justify-center text-white text-xl",children:"🔄"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-amber-700 dark:text-amber-400",children:"Phone Number Found on Different Server"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is registered on a different server"})]}),t.jsxs(se,{className:"border-l-4 border-l-amber-500",children:[t.jsxs(Ie,{children:[t.jsx(Me,{className:"text-lg",children:"Server Information"}),t.jsx(We,{children:"Current vs. Registered Server"})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-gray-900",children:[t.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Server"}),t.jsx("p",{className:"text-lg font-bold",children:"default-server"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Where you're trying to register"})]}),t.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50 dark:bg-blue-900",children:[t.jsx("h4",{className:"font-medium text-blue-700 dark:text-blue-300 mb-2",children:"Registered Server"}),t.jsx("p",{className:"text-lg font-bold text-blue-600",children:g.registeredTo}),t.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Where your bot exists"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium",children:"Choose Your Action:"}),t.jsxs("div",{className:"grid gap-3",children:[t.jsx(z,{onClick:async _=>{_.preventDefault(),_.stopPropagation(),console.log("Server switch button clicked!"),console.log("ServerMismatch data:",g);try{s({title:"Switching Server",description:`Switching to ${g.registeredTo}...`}),console.log("Making server configure call...");const U=await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:g.registeredTo,description:`Switched to ${g.registeredTo} for bot management`})});if(console.log("Server configure response:",U.status),!U.ok){const re=await U.json();throw console.error("Server configure error:",re),new Error(re.message||"Failed to switch server")}const ne=await U.json();console.log("Server configure result:",ne),s({title:"Server Switched",description:`Successfully switched to ${g.registeredTo}`}),await new Promise(re=>setTimeout(re,1e3)),console.log("Checking registration on new server...");const ue=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:a.phoneNumber})});if(console.log("Check registration response:",ue.status),ue.ok){const re=await ue.json();console.log("Check registration data:",re),re.hasBot&&re.bot?(h(re.bot),te(g.registeredTo),u(8),console.log("Successfully switched to existing bot management")):(console.log("No bot found on registered server"),s({title:"Bot Not Found",description:"Could not find your bot on the registered server",variant:"destructive"}))}else{const re=await ue.text();console.error("Check registration failed:",re),s({title:"Error",description:"Failed to verify bot on registered server",variant:"destructive"})}}catch(U){console.error("Server switch error:",U),s({title:"Server Switch Failed",description:U instanceof Error?U.message:"Unknown error",variant:"destructive"})}},className:"justify-start text-left h-auto p-4","data-testid":"button-switch-to-registered-server",children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:"🔄 Switch to Registered Server"}),t.jsxs("div",{className:"text-sm opacity-80 mt-1",children:["Manage your existing bot on ",g.registeredTo]})]})}),t.jsx(z,{variant:"outline",onClick:()=>{u(3)},className:"justify-start text-left h-auto p-4","data-testid":"button-stay-current-server",children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:"📱 Use Different Phone Number"}),t.jsx("div",{className:"text-sm opacity-80 mt-1",children:"Register a new bot with different phone number on this server"})]})})]})]})]})]}),t.jsx(z,{onClick:O,variant:"outline",className:"w-full","data-testid":"button-back-step-9",children:"← Back to Phone Number"})]}),c===11&&k&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center text-white text-2xl",children:"🌍"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Auto-Distributed to Available Server!"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your bot has been automatically assigned to the best available server"})]}),t.jsxs(se,{className:"border-l-4 border-l-purple-500",children:[t.jsxs(Ie,{children:[t.jsx(Me,{className:"text-lg",children:"🎯 Server Assignment"}),t.jsx(We,{children:"Your bot has been optimally placed"})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 border rounded-lg bg-purple-50 dark:bg-purple-900/20",children:[t.jsx("h4",{className:"font-medium text-purple-700 dark:text-purple-300 mb-2",children:"Assigned Server"}),t.jsx("p",{className:"text-lg font-bold text-purple-600",children:k.assignedServer}),t.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Optimized for your location and performance"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium",children:"✅ What happens next:"}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-green-500 mt-0.5",children:"✅"}),"Your bot is registered on ",k.assignedServer]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-500 mt-0.5",children:"📱"}),"Contact +254704897825 for activation"]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-purple-500 mt-0.5",children:"🔄"}),"Switch to ",k.assignedServer," to manage your bot"]})]})]})]})]}),t.jsxs(z,{onClick:()=>{te(k.assignedServer),I()},className:"w-full","data-testid":"button-switch-to-assigned-server",children:["🔄 Switch to ",k.assignedServer]})]}),c===7&&k&&t.jsxs("div",{className:"space-y-6 py-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-2xl text-white",children:"🔄"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Auto-Distributed Successfully!"}),t.jsx("p",{className:"text-muted-foreground",children:k.message})]}),t.jsxs(se,{className:"border-emerald-200 bg-emerald-50 dark:bg-emerald-900/20 dark:border-emerald-800",children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2 text-emerald-700 dark:text-emerald-400",children:[t.jsx("span",{children:"🤖"}),k.botDetails?.name]}),t.jsxs(We,{children:["Phone: ",k.botDetails?.phoneNumber]})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Original Server:"}),t.jsx("div",{className:"text-muted-foreground",children:k.originalServer})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Assigned To:"}),t.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:k.assignedServer})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Available Slots:"}),t.jsxs("div",{className:"text-blue-600 dark:text-blue-400",children:[k.botDetails?.availableSlots," remaining"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Registration Type:"}),t.jsx("div",{className:"text-purple-600 dark:text-purple-400",children:"Auto-Distribution"})]})]}),k.serverUrl&&t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 dark:bg-blue-900/20 dark:border-blue-800",children:t.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["🌐 ",t.jsx("strong",{children:"Server URL:"})," ",k.serverUrl]})})]})]}),t.jsx(se,{className:"border-blue-200 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-800",children:t.jsxs(ae,{className:"p-4",children:[t.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:"🎯 Next Steps"}),t.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:k.nextSteps?.map((_,U)=>t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-500 mt-0.5",children:"•"}),_]},U))})]})}),t.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[t.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-2 flex items-center gap-2",children:"✨ Cross-Tenancy Benefits"}),t.jsxs("ul",{className:"text-sm text-emerald-700 dark:text-emerald-300 space-y-1",children:[t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Automatic load balancing across servers"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Seamless bot management from any approved server"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Enhanced reliability and availability"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Global bot registry synchronization"]})]})]}),t.jsx(z,{onClick:I,className:"w-full bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700","data-testid":"button-close-cross-tenancy",children:"🚀 Awesome! Let's Go"})]})]}),f&&t.jsx(sO,{open:T,onClose:()=>P(!1),botId:f.id,phoneNumber:f.phoneNumber,crossTenancyMode:!!g,targetServer:g?.details?.registeredTo,onSuccess:()=>{B()}})]})}const aO=rl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Xe({className:e,variant:r,...s}){return t.jsx("div",{className:Te(aO({variant:r}),e),...s})}function oO({open:e,onClose:r}){const[s,a]=p.useState("pending"),[o,c]=p.useState(!1),[u,f]=p.useState(!1),[h,g]=p.useState(null),[x,y]=p.useState("3"),[w,k]=p.useState(""),[C,b]=p.useState(""),j=Or(),{data:T=[],isLoading:P}=pt({queryKey:["/api/bots/pending"],enabled:e&&s==="pending"}),{data:R=[],isLoading:F}=pt({queryKey:["/api/bots/approved"],enabled:e&&s==="approved"}),$=Ke({mutationFn:async({botId:G,duration:q})=>(await Ct("POST",`/api/bots/${G}/approve`,{expirationMonths:q})).json(),onSuccess:()=>{j.invalidateQueries({queryKey:["/api/bots/pending"]}),j.invalidateQueries({queryKey:["/api/bots/approved"]}),c(!1),g(null)}}),X=Ke({mutationFn:async({botId:G,reason:q})=>(await Ct("POST",`/api/bots/${G}/reject`,{reason:q})).json(),onSuccess:()=>{j.invalidateQueries({queryKey:["/api/bots/pending"]}),b("")}}),K=Ke({mutationFn:async({botId:G,message:q})=>(await Ct("POST",`/api/admin/send-message/${G}`,{message:q})).json(),onSuccess:()=>{f(!1),k(""),g(null)}}),te=G=>{g(G),c(!0)},xe=()=>{h&&x&&$.mutate({botId:h.id,duration:parseInt(x)})},he=(G,q)=>{X.mutate({botId:G.id,reason:q})},pe=G=>{g(G),f(!0)},ee=()=>{h&&w.trim()&&K.mutate({botId:h.id,message:w})},ie=G=>new Date(G).toLocaleDateString(),H=(G,q)=>{const N=new Date(G);return N.setMonth(N.getMonth()+q),N.toLocaleDateString()},ge=(G,q)=>{const N=new Date(G);return N.setMonth(N.getMonth()+q),(N.getTime()-Date.now())/(1e3*60*60*24)<=7};return t.jsxs(t.Fragment,{children:[t.jsx(Qt,{open:e,onOpenChange:r,children:t.jsxs(Ft,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsx(Lt,{children:t.jsx(Bt,{className:"text-xl font-bold",children:"🔧 Admin Bot Management"})}),t.jsxs("div",{className:"flex space-x-1 bg-muted/30 p-1 rounded-lg mb-6",children:[t.jsxs("button",{onClick:()=>a("pending"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${s==="pending"?"bg-blue-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:["🔄 Pending Bots (",T.length,")"]}),t.jsxs("button",{onClick:()=>a("approved"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${s==="approved"?"bg-green-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:["✅ Approved Bots (",R.length,")"]})]}),s==="pending"&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Pending Bot Registrations"}),P?t.jsx("div",{className:"text-center py-8",children:t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):T.length===0?t.jsx(se,{children:t.jsx(ae,{className:"text-center py-8",children:t.jsx("p",{className:"text-muted-foreground",children:"No pending bot registrations"})})}):t.jsx("div",{className:"grid gap-4",children:T.map(G=>t.jsx(se,{className:"border-orange-200",children:t.jsx(ae,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-clock text-orange-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:G.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["📱 ",G.phoneNumber||"No phone number"]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",ie(G.createdAt)]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Xe,{variant:"secondary",className:"text-orange-600 bg-orange-100",children:"Pending"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(z,{size:"sm",onClick:()=>te(G),className:"bg-green-600 hover:bg-green-700 text-white",children:[t.jsx("i",{className:"fas fa-check mr-1"}),"Approve"]}),t.jsxs(z,{size:"sm",variant:"outline",onClick:()=>{const q=prompt("Rejection reason:");q&&he(G,q)},className:"text-red-600 border-red-600 hover:bg-red-50",children:[t.jsx("i",{className:"fas fa-times mr-1"}),"Reject"]})]})]})]})})},G.id))})]}),s==="approved"&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Approved & Active Bots"}),F?t.jsx("div",{className:"text-center py-8",children:t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):R.length===0?t.jsx(se,{children:t.jsx(ae,{className:"text-center py-8",children:t.jsx("p",{className:"text-muted-foreground",children:"No approved bots yet"})})}):t.jsx("div",{className:"grid gap-4",children:R.map(G=>t.jsx(se,{className:"border-green-200",children:t.jsx(ae,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-check-circle text-green-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:G.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["📱 ",G.phoneNumber||"No phone number"]}),t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground mt-1",children:[t.jsxs("span",{children:["✅ Approved: ",ie(G.approvalDate)]}),t.jsxs("span",{children:["⏰ Expires: ",H(G.approvalDate,G.expirationMonths)]}),t.jsxs("span",{children:["📅 Duration: ",G.expirationMonths," months"]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Xe,{variant:G.status==="online"?"default":"secondary",className:G.status==="online"?"bg-green-600 text-white":"text-gray-600 bg-gray-100",children:G.status==="online"?"🟢 Online":"⚪ Offline"}),ge(G.approvalDate,G.expirationMonths)&&t.jsx(Xe,{variant:"destructive",className:"text-red-600 bg-red-100",children:"⚠️ Expiring Soon"}),t.jsxs(z,{size:"sm",variant:"outline",onClick:()=>pe(G),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[t.jsx("i",{className:"fas fa-message mr-1"}),"Message"]})]})]})})},G.id))})]})]})}),t.jsx(Qt,{open:o,onOpenChange:c,children:t.jsxs(Ft,{children:[t.jsx(Lt,{children:t.jsx(Bt,{children:"✅ Approve Bot Registration"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(we,{children:"Bot Name"}),t.jsx("p",{className:"font-medium",children:h?.name})]}),t.jsxs("div",{children:[t.jsx(we,{children:"Phone Number"}),t.jsx("p",{className:"font-medium",children:h?.phoneNumber})]}),t.jsxs("div",{children:[t.jsx(we,{htmlFor:"duration",children:"Approval Duration *"}),t.jsxs(mr,{value:x,onValueChange:y,children:[t.jsx(nr,{children:t.jsx(hr,{})}),t.jsxs(sr,{children:[t.jsx(Ee,{value:"1",children:"1 Month"}),t.jsx(Ee,{value:"2",children:"2 Months"}),t.jsx(Ee,{value:"3",children:"3 Months"}),t.jsx(Ee,{value:"6",children:"6 Months"}),t.jsx(Ee,{value:"12",children:"12 Months"})]})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bot will expire and return to pending after this duration"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(z,{onClick:xe,disabled:$.isPending,className:"bg-green-600 hover:bg-green-700",children:$.isPending?"Approving...":"Approve Bot"}),t.jsx(z,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})]})]})]})}),t.jsx(Qt,{open:u,onOpenChange:f,children:t.jsxs(Ft,{children:[t.jsx(Lt,{children:t.jsx(Bt,{children:"📱 Send Message to Bot User"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(we,{children:"Bot"}),t.jsxs("p",{className:"font-medium",children:[h?.name," (",h?.phoneNumber,")"]})]}),t.jsxs("div",{children:[t.jsx(we,{htmlFor:"message",children:"Message *"}),t.jsx(fs,{id:"message",value:w,onChange:G=>k(G.target.value),placeholder:"Enter your message to the bot user...",rows:4})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(z,{onClick:ee,disabled:K.isPending||!w.trim(),className:"bg-blue-600 hover:bg-blue-700",children:K.isPending?"Sending...":"Send Message"}),t.jsx(z,{variant:"outline",onClick:()=>f(!1),children:"Cancel"})]})]})]})})]})}const lO=rl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Er=p.forwardRef(({className:e,variant:r,...s},a)=>t.jsx("div",{ref:a,role:"alert",className:Te(lO({variant:r}),e),...s}));Er.displayName="Alert";const cO=p.forwardRef(({className:e,...r},s)=>t.jsx("h5",{ref:s,className:Te("mb-1 font-medium leading-none tracking-tight",e),...r}));cO.displayName="AlertTitle";const _r=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Te("text-sm [&_p]:leading-relaxed",e),...r}));_r.displayName="AlertDescription";function dO({open:e,onClose:r}){const{toast:s}=Vt(),[a,o]=p.useState(1),[c,u]=p.useState(""),[f,h]=p.useState(""),[g,x]=p.useState(""),[y,w]=p.useState(""),[k,C]=p.useState(null),[b,j]=p.useState(!1),[T,P]=p.useState(null),[R,F]=p.useState(""),[$,X]=p.useState({autoLike:!1,autoReact:!1,autoView:!1,presenceMode:"none",intervalSeconds:30,chatGPT:!1}),{data:K,isLoading:te}=pt({queryKey:["/api/servers/available"],enabled:e&&a===1}),{data:xe}=pt({queryKey:["/api/offer/status"],enabled:e}),he=Ke({mutationFn:async q=>{const N=await fetch(`/api/whatsapp/pairing-code?number=${q.phoneNumber}`,{method:"GET"});if(!N.ok){const Y=await N.json().catch(()=>({message:"Failed to generate pairing code"}));throw new Error(Y.message||"Failed to generate pairing code")}return await N.json()},onSuccess:q=>{if(q.code||q.pairingCode){const N=q.code||q.pairingCode;x(N);const B=q.sessionId||`pair_${f}_${Date.now()}`;w(B),j(!1),o(3),s({title:"Pairing Code Generated!",description:"Enter this code in WhatsApp Settings → Linked Devices. Your session ID will be sent directly to your WhatsApp - check your messages!"})}else throw new Error("No pairing code returned")},onError:q=>{j(!1),s({title:"Pairing Failed",description:q.message||"Failed to generate pairing code. Please try again.",variant:"destructive"})}}),pe=Ke({mutationFn:async q=>{const N=new FormData;N.append("botName",q.botName),N.append("phoneNumber",q.phoneNumber),N.append("credentialType","base64"),N.append("sessionId",q.sessionId),N.append("features",JSON.stringify(q.features)),N.append("selectedServer",q.selectedServer),q.pairingSessionId&&N.append("pairingSessionId",q.pairingSessionId);const B=await fetch("/api/guest/register-bot",{method:"POST",body:N});if(!B.ok){const Y=await B.json();throw new Error(Y.message||"Failed to register bot")}return B.json()},onSuccess:q=>{const N=xe?.isActive;s({title:N?"🎉 Bot Auto-Approved!":"Bot Registered Successfully!",description:N?"Your bot was auto-approved due to active promotional offer!":q.message||"Your bot has been submitted for approval."}),setTimeout(()=>{r(),dr.invalidateQueries({queryKey:["/api/bots"]}),dr.invalidateQueries({queryKey:["/api/bots/approved"]}),window.location.reload()},2e3)},onError:q=>{s({title:"Bot Registration Failed",description:q.message,variant:"destructive"})}}),ee=()=>{if(!c){s({title:"Server Required",description:"Please select a server to continue",variant:"destructive"});return}o(2)},ie=async()=>{if(!f){s({title:"Phone Number Required",description:"Please enter your WhatsApp phone number",variant:"destructive"});return}const q=f.replace(/[\s\-\(\)\+]/g,"");if(!/^\d{10,15}$/.test(q)){s({title:"Invalid Phone Number",description:"Please enter a valid phone number with country code (e.g., 254712345678)",variant:"destructive"});return}try{const N=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:q})});if(N.ok){const B=await N.json();if(B.registered||B.serverMismatch){const Y=B.registeredTo||"another server";s({title:"Phone Number Already Registered",description:`This phone number is already registered on ${Y}. Please use a different number or go to Step 2 to manage your existing bot.`,variant:"destructive"});return}}else{const B=await N.json();if(B.registeredTo){s({title:"Phone Number Already Registered",description:`This phone number is already registered on ${B.registeredTo}. Please use a different number or go to Step 2 to manage your existing bot.`,variant:"destructive"});return}}}catch(N){console.error("Registration check error:",N)}h(q),he.mutate({phoneNumber:q,selectedServer:c})},H=q=>{navigator.clipboard.writeText(q),s({title:"Copied!",description:"Credentials copied to clipboard"})},ge=()=>{if(!R){s({title:"Bot Name Required",description:"Please enter a name for your bot",variant:"destructive"});return}pe.mutate({botName:R,phoneNumber:f,sessionId:k.base64,features:$,selectedServer:c})},G=()=>{T&&(clearInterval(T),P(null)),o(1),u(""),h(""),x(""),w(""),C(null),j(!1),F(""),X({autoLike:!1,autoReact:!1,autoView:!1,presenceMode:"none",intervalSeconds:30,chatGPT:!1})};return t.jsx(Qt,{open:e,onOpenChange:q=>{q||(G(),r())},children:t.jsxs(Ft,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(Lt,{children:[t.jsxs(Bt,{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(Bc,{className:"h-6 w-6"}),"Internal WhatsApp Authentication"]}),t.jsx(ja,{children:"Generate your WhatsApp session credentials securely"})]}),xe?.isActive&&t.jsxs(Er,{className:"border-green-500 bg-green-50 dark:bg-green-900/20",children:[t.jsx(Io,{className:"h-4 w-4 text-green-600"}),t.jsxs(_r,{className:"text-green-800 dark:text-green-200",children:["🎉 ",t.jsx("strong",{children:"Limited Time Offer!"})," All new bots registered now will be auto-approved!",xe?.timeRemaining&&` Expires in ${xe.timeRemaining}`]})]}),a===1&&t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(Us,{className:"h-5 w-5"}),"Step 1: Select Server"]}),t.jsx(We,{children:"Choose which server will host your bot"})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(we,{htmlFor:"server",children:"Available Servers"}),t.jsxs(mr,{value:c,onValueChange:u,children:[t.jsx(nr,{"data-testid":"select-server",children:t.jsx(hr,{placeholder:"Select a server"})}),t.jsx(sr,{children:te?t.jsx(Ee,{value:"loading",disabled:!0,children:"Loading servers..."}):K?.servers?.map(q=>t.jsxs(Ee,{value:q.name,children:[q.name," - ",q.availableSlots," slots available"]},q.name))})]})]}),t.jsx(z,{onClick:ee,className:"w-full","data-testid":"button-next-server",children:"Next: Enter Phone Number"})]})]}),a===2&&t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(Bc,{className:"h-5 w-5"}),"Step 2: Enter Phone Number"]}),t.jsx(We,{children:"Enter your WhatsApp phone number (with country code, no + or spaces)"})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(we,{htmlFor:"phone",children:"Phone Number"}),t.jsx(Pt,{id:"phone",type:"tel",placeholder:"e.g., 1234567890",value:f,onChange:q=>h(q.target.value),"data-testid":"input-phone"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: Country code + phone number (no + or spaces). Example: 1234567890"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(z,{variant:"outline",onClick:()=>o(1),className:"flex-1",children:"Back"}),t.jsx(z,{onClick:ie,disabled:he.isPending,className:"flex-1","data-testid":"button-generate-code",children:he.isPending?"Generating...":"Generate Pairing Code"})]})]})]}),a===3&&t.jsxs(se,{className:"border-blue-200",children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(Jk,{className:"h-5 w-5 text-blue-600"}),"Step 3: Enter Pairing Code in WhatsApp"]}),t.jsx(We,{children:"Session ID will be sent automatically to your WhatsApp"})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg text-center",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Your Pairing Code:"}),t.jsx("p",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400 tracking-wider",children:g}),t.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>H(g),className:"mt-2","data-testid":"button-copy-code",children:[t.jsx(Eo,{className:"h-4 w-4 mr-1"}),"Copy Code"]})]}),t.jsxs(Er,{className:"border-green-500",children:[t.jsx(Yr,{className:"h-4 w-4 text-green-600"}),t.jsx(_r,{children:t.jsxs("ol",{className:"space-y-1 text-sm",children:[t.jsx("li",{children:"1. Open WhatsApp on your phone"}),t.jsxs("li",{children:["2. Go to ",t.jsx("strong",{children:"Settings → Linked Devices"})]}),t.jsxs("li",{children:["3. Tap ",t.jsx("strong",{children:"Link a Device"})]}),t.jsxs("li",{children:["4. Tap ",t.jsx("strong",{children:"Link with phone number instead"})]}),t.jsx("li",{children:"5. Enter the pairing code above"}),t.jsxs("li",{children:["6. ",t.jsx("strong",{children:"Check your WhatsApp messages"})," - Session ID will arrive automatically!"]})]})})]}),t.jsx(Er,{className:"border-blue-500",children:t.jsxs(_r,{className:"text-sm",children:[t.jsx("strong",{children:"📱 What happens next:"}),t.jsxs("ul",{className:"mt-2 space-y-1 ml-4 list-disc",children:[t.jsx("li",{children:"Enter the code above in WhatsApp"}),t.jsx("li",{children:"Session ID will be sent to your WhatsApp automatically"}),t.jsx("li",{children:"Copy that Session ID and continue to Step 2 (Guest Dashboard)"})]})]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(z,{variant:"outline",onClick:()=>{o(2),x("")},className:"flex-1",children:"Try Again"}),t.jsx(z,{onClick:G,className:"flex-1",children:"Done - Go to Step 2"})]})]})]}),a===4&&k&&t.jsxs(se,{className:"border-green-200",children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(Yr,{className:"h-5 w-5 text-green-600"}),"Step 4: Pairing Successful! 🎉"]}),t.jsx(We,{children:"Your Session ID has been sent to your WhatsApp. Continue to register your bot now."})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs(Er,{className:"border-green-500",children:[t.jsx(Yr,{className:"h-4 w-4"}),t.jsx(_r,{className:"font-semibold",children:"✅ Session ID sent to your WhatsApp! Check your messages for a backup copy."})]}),xe?.isActive&&t.jsxs(Er,{className:"border-green-500 bg-green-50 dark:bg-green-900/20",children:[t.jsx(Io,{className:"h-4 w-4 text-green-600"}),t.jsxs(_r,{className:"text-green-800 dark:text-green-200",children:["🎉 ",t.jsx("strong",{children:"Great news!"})," Your bot will be auto-approved due to our active promotional offer!"]})]}),t.jsxs(Er,{className:"border-blue-500",children:[t.jsx(dn,{className:"h-4 w-4"}),t.jsxs(_r,{children:[t.jsx("p",{className:"font-semibold mb-1",children:"📱 What Happened:"}),t.jsxs("ul",{className:"text-sm space-y-1 ml-4 list-disc",children:[t.jsx("li",{children:"✅ Pairing code was used to link your WhatsApp"}),t.jsx("li",{children:"✅ Session ID was automatically generated and sent to your WhatsApp"}),t.jsx("li",{children:"✅ You can now configure and register your bot below"})]})]})]}),t.jsxs(Er,{className:"border-orange-500",children:[t.jsx(dn,{className:"h-4 w-4"}),t.jsx(_r,{className:"font-semibold",children:"⚠️ SECURITY: Never share your Session ID with anyone!"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx(we,{className:"text-xs text-muted-foreground",children:"WhatsApp JID"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(Pt,{value:k.jid,readOnly:!0,className:"font-mono text-sm","data-testid":"text-jid"}),t.jsx(z,{variant:"outline",size:"sm",onClick:()=>H(k.jid),"data-testid":"button-copy-jid",children:t.jsx(Eo,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(we,{className:"text-xs text-muted-foreground",children:"Session ID (Backup - also in WhatsApp)"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("textarea",{value:k.base64,readOnly:!0,className:"w-full h-24 p-2 border rounded-md font-mono text-xs resize-none","data-testid":"text-session-base64"}),t.jsx(z,{variant:"outline",size:"sm",onClick:()=>H(k.base64),"data-testid":"button-copy-session",children:t.jsx(Eo,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"💡 This same Session ID is in your WhatsApp - use either copy for Step 2"})]})]}),t.jsx(z,{onClick:()=>o(5),className:"w-full","data-testid":"button-continue-setup",children:"Continue to Bot Setup"})]})]}),a===5&&t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{children:"Step 5: Configure Your Bot"}),t.jsx(We,{children:"Set up your bot name and features"})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(we,{htmlFor:"botName",children:"Bot Name"}),t.jsx(Pt,{id:"botName",placeholder:"My WhatsApp Bot",value:R,onChange:q=>F(q.target.value),"data-testid":"input-bot-name"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(we,{children:"Bot Features"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Gt,{id:"autoLike",checked:$.autoLike,onCheckedChange:q=>X(N=>({...N,autoLike:q})),"data-testid":"checkbox-auto-like"}),t.jsx("label",{htmlFor:"autoLike",className:"text-sm",children:"Auto Like Status"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Gt,{id:"autoReact",checked:$.autoReact,onCheckedChange:q=>X(N=>({...N,autoReact:q})),"data-testid":"checkbox-auto-react"}),t.jsx("label",{htmlFor:"autoReact",className:"text-sm",children:"Auto React to Messages"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Gt,{id:"autoView",checked:$.autoView,onCheckedChange:q=>X(N=>({...N,autoView:q})),"data-testid":"checkbox-auto-view"}),t.jsx("label",{htmlFor:"autoView",className:"text-sm",children:"Auto View Status"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Gt,{id:"chatGPT",checked:$.chatGPT,onCheckedChange:q=>X(N=>({...N,chatGPT:q})),"data-testid":"checkbox-chatgpt"}),t.jsx("label",{htmlFor:"chatGPT",className:"text-sm",children:"Enable ChatGPT Integration"})]}),t.jsxs("div",{children:[t.jsx(we,{htmlFor:"presence",children:"Presence Mode"}),t.jsxs(mr,{value:$.presenceMode,onValueChange:q=>X(N=>({...N,presenceMode:q})),children:[t.jsx(nr,{"data-testid":"select-presence",children:t.jsx(hr,{})}),t.jsxs(sr,{children:[t.jsx(Ee,{value:"none",children:"None"}),t.jsx(Ee,{value:"always_online",children:"Always Online"}),t.jsx(Ee,{value:"always_typing",children:"Always Typing"}),t.jsx(Ee,{value:"always_recording",children:"Always Recording"}),t.jsx(Ee,{value:"auto_switch",children:"Auto Switch"})]})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(z,{variant:"outline",onClick:()=>o(4),className:"flex-1",children:"Back"}),t.jsx(z,{onClick:ge,disabled:pe.isPending,className:"flex-1","data-testid":"button-register-bot",children:pe.isPending?"Registering...":"Register Bot"})]})]})]})]})})}function uO(){const{isAdmin:e}=sl(),{toast:r}=Vt(),[s,a]=p.useState(!1),[o,c]=p.useState(!1),[u,f]=p.useState(!1),[h,g]=p.useState(!1),[x,y]=p.useState(!1),[w,k]=p.useState(!1),[C,b]=p.useState(null),[j,T]=p.useState(null),{data:P={},isLoading:R}=pt({queryKey:["/api/dashboard/stats"]}),{data:F={},isLoading:$}=pt({queryKey:["/api/server/info"]}),{data:X=[],isLoading:K}=pt({queryKey:["/api/bot-instances"],enabled:e}),{data:te=[],isLoading:xe}=pt({queryKey:["/api/bots/pending"],enabled:e}),{data:he=[],isLoading:pe}=pt({queryKey:["/api/bots/approved"],enabled:e}),{data:ee=[],isLoading:ie}=pt({queryKey:["/api/activities"]}),{data:H=[],isLoading:ge}=pt({queryKey:["/api/commands"],enabled:e}),{data:G=[],isLoading:q}=pt({queryKey:["/api/admin/god-registry"],enabled:e});Mb();const N=Ke({mutationFn:({id:_,expirationMonths:U})=>Ct("POST",`/api/bots/${_}/approve`,{expirationMonths:U}),onSuccess:()=>{r({title:"Bot approved successfully!"}),dr.invalidateQueries({queryKey:["/api/bots/pending"]}),dr.invalidateQueries({queryKey:["/api/bots/approved"]}),dr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{r({title:"Failed to approve bot",variant:"destructive"})}}),B=Ke({mutationFn:_=>Ct("POST",`/api/bots/${_}/reject`),onSuccess:()=>{r({title:"Bot rejected and removed"}),dr.invalidateQueries({queryKey:["/api/bots/pending"]}),dr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{r({title:"Failed to reject bot",variant:"destructive"})}}),Y=Ke({mutationFn:({botId:_,feature:U,enabled:ne})=>Ct("POST",`/api/bot-instances/${_}/toggle-feature`,{feature:U,enabled:ne}),onSuccess:()=>{r({title:"Feature updated successfully!"}),dr.invalidateQueries({queryKey:["/api/bots/approved"]}),dr.invalidateQueries({queryKey:["/api/activities"]})},onError:()=>{r({title:"Failed to update feature",variant:"destructive"})}});Ke({mutationFn:_=>Ct("POST",`/api/bot-instances/${_}/revoke`),onSuccess:()=>{r({title:"Bot approval revoked",description:"Bot returned to pending status"}),dr.invalidateQueries({queryKey:["/api/bots/approved"]}),dr.invalidateQueries({queryKey:["/api/bots/pending"]}),dr.invalidateQueries({queryKey:["/api/bot-instances"]}),dr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{r({title:"Failed to revoke approval",variant:"destructive"})}}),Ke({mutationFn:_=>Ct("POST",`/api/bot-instances/${_}/restart`),onSuccess:()=>{r({title:"Bot restarted successfully"}),dr.invalidateQueries({queryKey:["/api/bots/approved"]}),dr.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:()=>{r({title:"Failed to restart bot",variant:"destructive"})}});const I=Ke({mutationFn:({phoneNumber:_,tenancyName:U})=>Ct("PUT",`/api/admin/god-registry/${encodeURIComponent(_)}`,{tenancyName:U}),onSuccess:()=>{r({title:"Registration updated successfully!"}),dr.invalidateQueries({queryKey:["/api/admin/god-registry"]}),T(null)},onError:()=>{r({title:"Failed to update registration",variant:"destructive"})}}),O=Ke({mutationFn:_=>Ct("DELETE",`/api/admin/god-registry/${encodeURIComponent(_)}`),onSuccess:()=>{r({title:"Registration deleted successfully!"}),dr.invalidateQueries({queryKey:["/api/admin/god-registry"]})},onError:()=>{r({title:"Failed to delete registration",variant:"destructive"})}});return p.useEffect(()=>{e&&(sessionStorage.getItem("admin-refreshed")||(sessionStorage.setItem("admin-refreshed","true"),window.location.reload()))},[e]),t.jsxs("div",{className:"min-h-screen",children:[!e&&t.jsx(zE,{}),t.jsx("header",{className:"bg-card border-b border-border px-4 sm:px-6 py-4 pt-16 lg:pt-4",children:t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["🤖 ",F.serverName||"TREKKER-MD"," Dashboard"]})}),t.jsxs("p",{className:"text-muted-foreground",children:["Ultra fast lifetime WhatsApp bot automation",F.serverName&&t.jsxs("span",{className:"ml-2 text-xs bg-blue-600 text-white px-2 py-1 rounded",children:[F.currentBots,"/",F.maxBots," slots used"]}),!F.hasSecretConfig&&F.serverName==="default-server"&&t.jsx("span",{className:"ml-2 text-xs bg-yellow-600 text-white px-2 py-1 rounded",children:"⚠️ Default server name - Configure recommended"})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[e&&t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(z,{onClick:()=>c(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"🔧 Manage Commands"}),t.jsx(z,{onClick:()=>g(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"👥 Manage Bots"}),t.jsx(z,{onClick:()=>y(!0),className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📱 God Registry"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("button",{className:"w-10 h-10 bg-muted rounded-md flex items-center justify-center hover:bg-muted/80 transition-colors","data-testid":"button-notifications",children:t.jsx("i",{className:"fas fa-bell text-muted-foreground"})}),t.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-destructive rounded-full"})]})]})]})}),t.jsxs("div",{className:"p-6",children:[!e&&t.jsx(se,{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 border-green-200 dark:border-green-800 mb-8",children:t.jsxs(ae,{className:"p-6",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-green-700 dark:text-green-400 mb-2",children:"🚀 Get Started with TREKKER-MD Bot"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Follow these simple steps to activate your WhatsApp bot"})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-5 border-2 border-blue-200 dark:border-blue-800 shadow-sm hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold text-lg",children:"1"}),t.jsx("h3",{className:"font-semibold text-lg",children:"Generate Session ID"})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Get a pairing code to link your WhatsApp. Enter the code in WhatsApp Settings → Linked Devices to receive your session ID"}),t.jsx(Tc,{href:"/guest/generate-session",children:t.jsxs(z,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-open-pairing",children:[t.jsx("i",{className:"fas fa-link mr-2"}),t.jsx("span",{children:"Get Pairing Code"})]})})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-5 border-2 border-purple-200 dark:border-purple-800 shadow-sm hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 bg-purple-500 text-white rounded-full flex items-center justify-center font-bold text-lg",children:"2"}),t.jsx("h3",{className:"font-semibold text-lg",children:"Register Your Bot"})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload your credentials and configure your bot features"}),t.jsx(Tc,{href:"/guest/register-bot",children:t.jsxs(z,{className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:[t.jsx("i",{className:"fas fa-rocket mr-2"}),"Register Now"]})})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-5 border-2 border-emerald-200 dark:border-emerald-800 shadow-sm hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 bg-emerald-500 text-white rounded-full flex items-center justify-center font-bold text-lg",children:"3"}),t.jsx("h3",{className:"font-semibold text-lg",children:"Manage Your Bot"})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Control features, view stats, and manage your bot settings"}),t.jsx(Tc,{href:"/guest/bot-management",children:t.jsxs(z,{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white",children:[t.jsx("i",{className:"fas fa-cog mr-2"}),"Bot Management"]})})]})]})]})}),e?t.jsxs("div",{className:"space-y-6",children:[t.jsxs(se,{className:"bg-card border-border",children:[t.jsxs(Ie,{className:"border-b border-border",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Me,{className:"text-lg font-semibold text-foreground",children:"⏳ Pending Bot Registrations"}),t.jsx(z,{onClick:()=>c(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"🔧 Manage Commands"})]}),t.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Review and approve new bot registrations"})]}),t.jsx(ae,{className:"p-6",children:t.jsx("div",{className:"space-y-4",children:xe?t.jsx("div",{className:"text-center py-4",children:t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):te.length===0?t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-muted-foreground",children:"No pending bot registrations"})}):te.map(_=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-md","data-testid":`pending-bot-${_.id}`,children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-clock text-yellow-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:_.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:_.phoneNumber||"No phone number"}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",new Date(_.createdAt).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(z,{size:"sm",onClick:()=>N.mutate({id:_.id,expirationMonths:12}),disabled:N.isPending,className:"bg-green-600 hover:bg-green-700 text-white","data-testid":`button-approve-${_.id}`,children:"✅ Approve"}),t.jsx(z,{size:"sm",onClick:()=>B.mutate(_.id),disabled:B.isPending,variant:"destructive","data-testid":`button-reject-${_.id}`,children:"❌ Reject"})]})]},_.id))})})]}),e&&t.jsxs(se,{className:"bg-card border-border",children:[t.jsxs(Ie,{className:"border-b border-border",children:[t.jsx(Me,{className:"text-lg font-semibold text-foreground",children:"✅ Approved Bot Instances"}),t.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Active bots with auto-running capabilities"})]}),t.jsx(ae,{className:"p-6",children:t.jsx("div",{className:"space-y-4",children:pe?t.jsx("div",{className:"text-center py-4",children:t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):he.length===0?t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-muted-foreground",children:"No approved bots yet"})}):he.map(_=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-500/10 border border-green-500/20 rounded-md","data-testid":`approved-bot-${_.id}`,children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-robot text-green-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:_.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:_.phoneNumber||"No phone number"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-500/10 text-green-500",children:"APPROVED"}),t.jsx("span",{className:`text-xs px-2 py-1 rounded ${_.status==="online"?"text-green-400 bg-green-500/10":"text-gray-400 bg-gray-500/10"}`,children:_.status?.toUpperCase()||"UNKNOWN"})]})]},_.id))})})]})]}):t.jsx("div",{className:"max-w-2xl mx-auto",children:t.jsxs(se,{className:"bg-card border-border",children:[t.jsxs(Ie,{className:"border-b border-border",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Me,{className:"text-lg font-semibold text-foreground",children:"🚀 Register Your Bot"}),t.jsxs(z,{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-register-bot",children:[t.jsx("i",{className:"fas fa-plus mr-2"}),"Register Bot"]})]}),t.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Upload credentials or paste session ID to register your TREKKER-MD bot"})]}),t.jsx(ae,{className:"p-6",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-robot text-blue-600 text-2xl"})}),t.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"TREKKER-MD Lifetime Bot"}),t.jsx("p",{className:"text-muted-foreground mb-6",children:"Register your WhatsApp bot with credentials or session ID"}),t.jsxs(z,{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white w-full max-w-xs","data-testid":"button-start-registration",children:[t.jsx("i",{className:"fas fa-rocket mr-2"}),"Register Your Bot"]})]})})]})}),t.jsx(se,{className:"bg-gradient-to-r from-blue-600 to-purple-600 border-none mt-8 text-white",children:t.jsx(ae,{className:"p-6",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-3xl font-bold mb-3",children:"🚀 TREKKER-MD LIFETIME BOT"}),t.jsx("p",{className:"text-lg text-blue-100 mb-2",children:"You've Chosen the Ultra-Fast WhatsApp Automation"}),t.jsx("p",{className:"text-sm text-blue-200",children:"No Expiry • Lifetime Access • Premium Features"})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-4 mb-6 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-xl font-semibold mb-3",children:"📋 Quick Start Guide"}),t.jsxs("div",{className:"text-left space-y-2 text-sm",children:[t.jsx("p",{children:"✅ Use the Quoted Session ID to Deploy your Bot"}),t.jsx("p",{children:"✅ DM the owner for lifetime TREKKER-MD bot support"}),t.jsx("p",{children:"✅ Support us - Donations keep this service running"})]})]}),t.jsxs("div",{className:"border-t border-white/20 pt-6 mt-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🔗 Connect With Us"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[t.jsxs("a",{href:"https://t.me/trekkermd",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 transition-colors rounded-lg p-3 text-white font-medium",children:[t.jsx("i",{className:"fab fa-telegram text-xl"}),t.jsx("span",{children:"Telegram"})]}),t.jsxs("a",{href:"https://www.instagram.com/nicholaso_tesla?igsh=eG5oNWVuNXF6eGU0_",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 transition-colors rounded-lg p-3 text-white font-medium",children:[t.jsx("i",{className:"fab fa-instagram text-xl"}),t.jsx("span",{children:"Instagram"})]}),t.jsxs("a",{href:"https://wa.me/254704897825",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 transition-colors rounded-lg p-3 text-white font-medium",children:[t.jsx("i",{className:"fab fa-whatsapp text-xl"}),t.jsx("span",{children:"WhatsApp"})]}),t.jsxs("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 transition-colors rounded-lg p-3 text-white font-medium",children:[t.jsx("i",{className:"fas fa-qrcode text-xl"}),t.jsx("span",{children:"Pair Site"})]}),t.jsxs("a",{href:"https://whatsapp.com/channel/0029Vb6vpSv6WaKiG6ZIy73H",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 transition-colors rounded-lg p-3 text-white font-medium sm:col-span-2 lg:col-span-1",children:[t.jsx("i",{className:"fab fa-whatsapp text-xl"}),t.jsx("span",{children:"WhatsApp Channel"})]})]})]}),t.jsx("p",{className:"text-xs text-blue-200 mt-6 italic",children:"Powered by TREKKER-MD • Ultra Fast Bot 💜"})]})})})]}),t.jsx(bw,{open:s,onClose:()=>a(!1)}),t.jsx(Q4,{open:o,onClose:()=>c(!1)}),t.jsx(iO,{open:u,onClose:()=>f(!1)}),t.jsx(dO,{open:w,onClose:()=>k(!1)}),e&&t.jsx(oO,{open:h,onClose:()=>g(!1)}),C&&t.jsx(Qt,{open:!!C,onOpenChange:()=>b(null),children:t.jsxs(Ft,{className:"max-w-md",children:[t.jsx(Lt,{children:t.jsxs(Bt,{className:"text-lg font-semibold",children:["Manage Bot Features - ",C.name]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Toggle features for this bot. Changes take effect immediately."}),t.jsx("div",{className:"space-y-3",children:[{key:"autoLike",label:"Auto Like Status",description:"Automatically like WhatsApp status updates"},{key:"autoReact",label:"Auto React",description:"Automatically react to messages"},{key:"autoView",label:"Auto View Status",description:"Automatically view WhatsApp status"},{key:"typingIndicator",label:"Typing Indicator",description:"Show typing indicator for responses"},{key:"chatGPT",label:"ChatGPT Integration",description:"Enable AI responses for conversations"}].map(_=>{const U=C.settings?.features?.[_.key]||!1;return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(we,{className:"text-sm font-medium",children:_.label}),t.jsx("p",{className:"text-xs text-muted-foreground",children:_.description})]}),t.jsx(Gt,{checked:U,onCheckedChange:ne=>{Y.mutate({botId:C.id,feature:_.key,enabled:!!ne}),b(ue=>ue?{...ue,settings:{...ue.settings,features:{...ue.settings?.features,[_.key]:!!ne}}}:null)},disabled:Y.isPending})]},_.key)})}),t.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:t.jsx(z,{variant:"outline",onClick:()=>b(null),children:"Close"})})]})]})}),x&&t.jsx(Qt,{open:x,onOpenChange:()=>y(!1),children:t.jsxs(Ft,{className:"max-w-4xl",children:[t.jsxs(Lt,{children:[t.jsx(Bt,{children:"📱 God Registry Management"}),t.jsx(ja,{children:"Manage global phone number registrations across all tenants"})]}),t.jsx("div",{className:"space-y-4",children:q?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):G.length===0?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No registrations found"}):t.jsx("div",{className:"space-y-2",children:G.map(_=>t.jsx("div",{className:"border border-border rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-foreground",children:["📱 ",_.phoneNumber]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tenant: ",_.tenancyName]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",new Date(_.registeredAt).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(z,{variant:"outline",size:"sm",onClick:()=>T(_),"data-testid":`button-edit-${_.phoneNumber}`,children:"✏️ Edit"}),t.jsx(z,{variant:"destructive",size:"sm",onClick:()=>{confirm(`Delete registration for ${_.phoneNumber}?`)&&O.mutate(_.phoneNumber)},disabled:O.isPending,"data-testid":`button-delete-${_.phoneNumber}`,children:O.isPending?"...":"🗑️ Delete"})]})]})},_.phoneNumber))})}),t.jsx("div",{className:"flex justify-end",children:t.jsx(z,{onClick:()=>y(!1),children:"Close"})})]})}),j&&t.jsx(Qt,{open:!!j,onOpenChange:()=>T(null),children:t.jsxs(Ft,{children:[t.jsxs(Lt,{children:[t.jsx(Bt,{children:"✏️ Edit Registration"}),t.jsxs(ja,{children:["Update the tenant assignment for ",j.phoneNumber]})]}),t.jsxs("form",{onSubmit:_=>{_.preventDefault();const ne=new FormData(_.currentTarget).get("tenancyName");ne.trim()&&I.mutate({phoneNumber:j.phoneNumber,tenancyName:ne.trim()})},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),t.jsx("input",{type:"text",value:j.phoneNumber,disabled:!0,className:"w-full p-3 border border-border rounded-md bg-muted text-muted-foreground"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tenant Name"}),t.jsx("input",{type:"text",name:"tenancyName",defaultValue:j.tenancyName,placeholder:"Enter new tenant name",required:!0,className:"w-full p-3 border border-border rounded-md focus:ring-2 focus:ring-primary focus:border-transparent","data-testid":"input-tenancy-name"})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(z,{type:"button",variant:"outline",onClick:()=>T(null),children:"Cancel"}),t.jsx(z,{type:"submit",disabled:I.isPending,"data-testid":"button-update-registration",children:I.isPending?"Updating...":"Update"})]})]})]})})]})}var fO="Separator",iy="horizontal",mO=["horizontal","vertical"],Dw=p.forwardRef((e,r)=>{const{decorative:s,orientation:a=iy,...o}=e,c=hO(a)?a:iy,f=s?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return t.jsx($e.div,{"data-orientation":c,...f,...o,ref:r})});Dw.displayName=fO;function hO(e){return mO.includes(e)}var Mw=Dw;const Dm=p.forwardRef(({className:e,orientation:r="horizontal",decorative:s=!0,...a},o)=>t.jsx(Mw,{ref:o,decorative:s,orientation:r,className:Te("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Dm.displayName=Mw.displayName;function pO({bot:e,isOpen:r,onClose:s}){const{toast:a}=Vt(),o=Or(),[c,u]=p.useState(()=>({autoLike:e.autoLike||!1,autoReact:e.autoReact||!1,autoView:e.autoViewStatus||!1,typingIndicator:e.typingMode!=="none",chatGPT:e.chatgptEnabled||!1,alwaysOnline:e.alwaysOnline||!1,autoRecording:e.presenceMode==="recording",presenceAutoSwitch:e.presenceAutoSwitch||!1})),f=Ke({mutationFn:({feature:k,enabled:C})=>Ct("POST",`/api/bot-instances/${e.id}/toggle-feature`,{feature:k,enabled:C}),onSuccess:(k,{feature:C,enabled:b})=>{u(j=>({...j,[C]:b})),o.invalidateQueries({queryKey:["/api/bots/pending"]}),o.invalidateQueries({queryKey:["/api/bots/approved"]}),o.invalidateQueries({queryKey:["/api/bot-instances"]}),a({title:"Feature updated successfully"})},onError:k=>{a({title:"Failed to update feature",description:k instanceof Error?k.message:"Unknown error",variant:"destructive"})}}),h=(k,C)=>{f.mutate({feature:k,enabled:C})},g=[{id:"autoLike",label:"Auto Like Status",description:"Automatically like WhatsApp status updates",apiKey:"autoLike",getValue:()=>c.autoLike},{id:"autoReact",label:"Auto React",description:"Automatically react to messages",apiKey:"autoReact",getValue:()=>c.autoReact},{id:"autoView",label:"Auto View Status",description:"Automatically view WhatsApp status",apiKey:"autoView",getValue:()=>c.autoView}],x=[{id:"typingIndicator",label:"Typing Indicator",description:"Show typing indicator for responses",apiKey:"typingIndicator",getValue:()=>c.typingIndicator},{id:"autoRecording",label:"Auto Recording",description:"Show recording indicator automatically",apiKey:"autoRecording",getValue:()=>c.autoRecording},{id:"alwaysOnline",label:"Always Online",description:"Keep bot status as online always",apiKey:"alwaysOnline",getValue:()=>c.alwaysOnline},{id:"presenceAutoSwitch",label:"Auto Switch Typing/Recording",description:"Switch between typing and recording every 30 seconds",apiKey:"presenceAutoSwitch",getValue:()=>c.presenceAutoSwitch}],y=[{id:"chatGPT",label:"ChatGPT Integration",description:"Enable AI responses for conversations",apiKey:"chatGPT",getValue:()=>c.chatGPT}],w=(k,C)=>t.jsxs("div",{className:"space-y-3","data-testid":`section-${k.toLowerCase().replace(/\s+/g,"-")}`,children:[t.jsx("h4",{className:"font-medium text-sm text-foreground",children:k}),t.jsx("div",{className:"space-y-3",children:C.map(b=>t.jsxs("div",{className:"flex items-start space-x-3","data-testid":`feature-${b.id}`,children:[t.jsx(Gt,{id:b.id,checked:b.getValue(e),onCheckedChange:j=>h(b.apiKey,!!j),disabled:f.isPending||e.approvalStatus!=="approved","data-testid":`checkbox-${b.id}`}),t.jsxs("div",{className:"flex-1",children:[t.jsx(we,{htmlFor:b.id,className:"text-sm font-medium cursor-pointer",children:b.label}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:b.description})]})]},b.id))})]});return t.jsx(Qt,{open:r,onOpenChange:s,children:t.jsxs(Ft,{className:"max-w-md","data-testid":"modal-bot-features",children:[t.jsx(Lt,{children:t.jsxs(Bt,{"data-testid":"modal-title",children:["Manage Bot Features - ",e.name]})}),t.jsxs("div",{className:"space-y-6",children:[e.approvalStatus!=="approved"&&t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:t.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ Bot must be approved before features can be managed"})}),w("Automation",g),t.jsx(Dm,{}),w("Presence",x),t.jsx(Dm,{}),w("AI Integration",y),t.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:t.jsx(z,{variant:"outline",onClick:s,"data-testid":"button-close",children:"Close"})})]})]})})}function gO(e){if(!e||e.length<8)return e;const r=e.slice(0,7),s=e.slice(-2),a="*".repeat(Math.max(0,e.length-9));return`${r}${a}${s}`}function ay({bot:e}){const{toast:r}=Vt(),s=Or(),{isAdmin:a,token:o}=sl(),[c,u]=p.useState(!1),f=Ke({mutationFn:({feature:b,enabled:j})=>Ct("POST",`/api/bot-instances/${e.id}/toggle-feature`,{feature:b,enabled:j}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]}),r({title:"Feature updated successfully"})},onError:b=>{r({title:"Failed to update feature",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),h=Ke({mutationFn:()=>Ct("POST",`/api/bot-instances/${e.id}/approve`,{expirationMonths:3}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]}),r({title:"Bot approved successfully",description:"Bot is now approved for 3 months"})},onError:b=>{r({title:"Failed to approve bot",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),g=Ke({mutationFn:()=>Ct("POST",`/api/bot-instances/${e.id}/revoke`),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]}),r({title:"Bot approval revoked",description:"Bot has been returned to pending status"})},onError:b=>{r({title:"Failed to revoke approval",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),x=Ke({mutationFn:()=>{if(!a)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/start`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(b=>{if(!b.ok)throw new Error("Failed to start bot");return b.json()})},onSuccess:()=>{r({title:"Bot started successfully"}),s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:b=>{r({title:"Failed to start bot",description:b.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),y=Ke({mutationFn:()=>{if(!a)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/stop`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(b=>{if(!b.ok)throw new Error("Failed to stop bot");return b.json()})},onSuccess:()=>{r({title:"Bot stopped successfully"}),s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:b=>{r({title:"Failed to stop bot",description:b.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),w=Ke({mutationFn:()=>{if(!a)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/restart`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(b=>{if(!b.ok)throw new Error("Failed to restart bot");return b.json()})},onSuccess:()=>{r({title:"Bot restarted successfully"}),s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:b=>{r({title:"Failed to restart bot",description:b.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),k=b=>{switch(b){case"online":return"status-online";case"offline":return"status-offline";case"error":return"status-error";case"loading":return"status-loading";default:return"status-offline"}},C=()=>a?e.status==="online"?t.jsx("button",{onClick:()=>y.mutate(),disabled:y.isPending,className:"flex-1 bg-red-600 text-white py-2 px-3 rounded-md text-sm hover:bg-red-700 transition-colors disabled:opacity-50","data-testid":`button-stop-bot-${e.id}`,children:y.isPending?"Stopping...":"Stop"}):e.status==="error"?t.jsx("button",{onClick:()=>w.mutate(),disabled:w.isPending,className:"flex-1 bg-destructive text-destructive-foreground py-2 px-3 rounded-md text-sm hover:bg-destructive/90 transition-colors disabled:opacity-50","data-testid":`button-restart-bot-${e.id}`,children:w.isPending?"Restarting...":"Restart"}):t.jsx("button",{onClick:()=>x.mutate(),disabled:x.isPending,className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-start-bot-${e.id}`,children:x.isPending?"Starting...":"Start"}):t.jsx("button",{disabled:!0,className:"flex-1 bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm cursor-not-allowed",title:"Admin access required",children:"🔒 Admin Only"});return t.jsxs(se,{className:"bg-card border-border","data-testid":`bot-card-${e.id}`,children:[t.jsxs(ae,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${e.status==="online"?"bg-primary":e.status==="error"?"bg-yellow-500/20":"bg-muted"}`,children:t.jsx("i",{className:`fab fa-whatsapp text-xl ${e.status==="online"?"text-primary-foreground":e.status==="error"?"text-yellow-400 pulse-animation":"text-muted-foreground"}`})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-foreground","data-testid":`bot-name-${e.id}`,children:e.name}),t.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`bot-phone-${e.id}`,children:e.phoneNumber?a?e.phoneNumber:gO(e.phoneNumber):"Not connected"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${k(e.status)}`,"data-testid":`bot-status-${e.id}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),t.jsx("button",{className:"w-8 h-8 bg-muted rounded-md flex items-center justify-center hover:bg-muted/80","data-testid":`button-bot-menu-${e.id}`,children:t.jsx("i",{className:"fas fa-ellipsis-v text-muted-foreground"})})]})]}),t.jsxs("div",{className:"space-y-3 mb-4",children:[e.approvalStatus==="pending"&&t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"⏳ Awaiting Approval"}),t.jsx("p",{className:"text-xs text-yellow-600",children:"This bot is waiting for admin approval"})]}),t.jsx("button",{onClick:()=>h.mutate(),disabled:h.isPending,className:"bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 disabled:opacity-50",children:h.isPending?"⏳":"✅ Approve"})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),t.jsx("button",{onClick:()=>f.mutate({feature:"autoLike",enabled:!e.autoLike}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoLike?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),t.jsx("button",{onClick:()=>f.mutate({feature:"autoView",enabled:!e.autoViewStatus}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoViewStatus?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoViewStatus?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),t.jsx("button",{onClick:()=>f.mutate({feature:"autoReact",enabled:!e.autoReact}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoReact?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),t.jsx("button",{onClick:()=>f.mutate({feature:"chatGPT",enabled:!e.chatgptEnabled}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.chatgptEnabled?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${e.chatgptEnabled?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Typing"}),t.jsx("button",{onClick:()=>f.mutate({feature:"typingIndicator",enabled:e.typingMode==="none"}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.typingMode!=="none"?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${e.typingMode!=="none"?"bg-white":"bg-muted-foreground"}`})})]})]})]}),e.status==="error"&&t.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3 mb-4",children:t.jsx("p",{className:"text-sm text-destructive",children:"Connection timeout - attempting restart"})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-messages-${e.id}`,children:e.messagesCount}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-commands-${e.id}`,children:e.commandsCount}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Commands"})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[C(),a&&t.jsxs(t.Fragment,{children:[e.approvalStatus==="pending"&&t.jsx("button",{onClick:()=>h.mutate(),disabled:h.isPending,className:"bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-approve-${e.id}`,children:h.isPending?"Approving...":"✓ Approve"}),e.approvalStatus==="approved"&&t.jsx("button",{onClick:()=>g.mutate(),disabled:g.isPending,className:"bg-orange-600 text-white py-2 px-3 rounded-md text-sm hover:bg-orange-700 transition-colors disabled:opacity-50","data-testid":`button-revoke-${e.id}`,children:g.isPending?"Revoking...":"↓ Normal"})]}),t.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-analytics-${e.id}`,children:t.jsx("i",{className:"fas fa-chart-line"})}),t.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white py-2 px-3 rounded-md text-sm hover:bg-blue-700 transition-colors","data-testid":`button-features-${e.id}`,children:[t.jsx("i",{className:"fas fa-sliders-h mr-1"}),"Features"]}),t.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-settings-${e.id}`,children:t.jsx("i",{className:"fas fa-cog"})})]})]}),t.jsx(pO,{bot:e,isOpen:c,onClose:()=>u(!1)})]})}function xO(){const[e,r]=p.useState(!1),[s,a]=p.useState("pending"),{data:o=[],isLoading:c}=pt({queryKey:["/api/bots/pending"]}),{data:u=[],isLoading:f}=pt({queryKey:["/api/bots/approved"]}),h=o||[],g=u||[];return Mb(),t.jsxs("div",{children:[t.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Bot Management Dashboard"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage bot instances based on their approval status"})]}),t.jsxs(z,{onClick:()=>r(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-new-bot",children:[t.jsx("i",{className:"fas fa-plus mr-2"}),"Add New Bot"]})]})}),t.jsx("div",{className:"p-6",children:t.jsxs(Ma,{value:s,onValueChange:x=>a(x),children:[t.jsxs(Ii,{className:"grid w-full grid-cols-2",children:[t.jsx(Et,{value:"pending",className:"relative","data-testid":"tab-pending",children:t.jsxs("span",{className:"flex items-center gap-2",children:["⏳ Pending Approval",h.length>0&&t.jsx(Xe,{variant:"secondary",className:"ml-1 bg-yellow-100 text-yellow-800",children:h.length})]})}),t.jsx(Et,{value:"approved",className:"relative","data-testid":"tab-approved",children:t.jsxs("span",{className:"flex items-center gap-2",children:["✅ Approved Bots",g.length>0&&t.jsx(Xe,{variant:"secondary",className:"ml-1 bg-green-100 text-green-800",children:g.length})]})})]}),t.jsxs(jt,{value:"pending",className:"mt-6",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Pending Bot Approvals"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"These bots are awaiting admin approval. Limited functionality is available until approved."})]}),c?t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(3)].map((x,y)=>t.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 animate-pulse",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-24"}),t.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"h-3 bg-muted rounded"}),t.jsx("div",{className:"h-3 bg-muted rounded"})]})]},y))}):h.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-clock text-muted-foreground text-2xl"})}),t.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Pending Approvals"}),t.jsx("p",{className:"text-muted-foreground mb-6",children:"All bots have been reviewed. Create a new bot to get started."}),t.jsx(z,{onClick:()=>r(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-pending-bot",children:"Add New Bot"})]}):t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:h.map(x=>t.jsx(ay,{bot:{...x,approvalStatus:"pending"}},x.id))})]}),t.jsxs(jt,{value:"approved",className:"mt-6",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Approved Bots"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"These bots have been approved and have full functionality available."})]}),f?t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(3)].map((x,y)=>t.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 animate-pulse",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-24"}),t.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"h-3 bg-muted rounded"}),t.jsx("div",{className:"h-3 bg-muted rounded"})]})]},y))}):g.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-check-circle text-muted-foreground text-2xl"})}),t.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Approved Bots"}),t.jsx("p",{className:"text-muted-foreground mb-6",children:"Approve pending bots or create new ones to get started."}),t.jsx(z,{onClick:()=>a("pending"),variant:"outline",className:"mr-2","data-testid":"button-view-pending",children:"View Pending"}),t.jsx(z,{onClick:()=>r(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-approved-bot",children:"Add New Bot"})]}):t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:g.map(x=>t.jsx(ay,{bot:{...x,approvalStatus:"approved"}},x.id))})]})]})}),t.jsx(bw,{open:e,onClose:()=>r(!1)})]})}const vO=A4;function yO(){const{toast:e}=Vt(),r=Or(),[s,a]=p.useState(!1),[o,c]=p.useState("all"),{data:u=[],isLoading:f}=pt({queryKey:["/api/commands"]}),{data:h=[]}=pt({queryKey:["/api/bot-instances"]}),g=Ej({resolver:Aj(vO),defaultValues:{name:"",description:"",response:"",isActive:!0,useChatGPT:!1,botInstanceId:null}}),x=Ke({mutationFn:j=>Ct("POST","/api/commands",j),onSuccess:()=>{e({title:"Command created successfully"}),r.invalidateQueries({queryKey:["/api/commands"]}),g.reset(),a(!1)},onError:j=>{e({title:"Failed to create command",description:j instanceof Error?j.message:"Unknown error",variant:"destructive"})}}),y=Ke({mutationFn:({id:j,isActive:T})=>Ct("PATCH",`/api/commands/${j}`,{isActive:T}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/commands"]})}}),w=Ke({mutationFn:()=>Ct("POST","/api/commands/sync"),onSuccess:j=>{e({title:"Commands synced successfully",description:`${j.addedCount} new commands added`}),r.invalidateQueries({queryKey:["/api/commands"]})},onError:j=>{e({title:"Failed to sync commands",description:j instanceof Error?j.message:"Unknown error",variant:"destructive"})}}),k=Ke({mutationFn:j=>Ct("DELETE",`/api/commands/${j}`),onSuccess:()=>{e({title:"Command deleted successfully"}),r.invalidateQueries({queryKey:["/api/commands"]})},onError:()=>{e({title:"Failed to delete command",variant:"destructive"})}}),C=j=>{x.mutate(j)},b=u.filter(j=>o==="all"?!0:o==="global"?!j.botInstanceId:j.botInstanceId===o);return t.jsxs("div",{children:[t.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Commands"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage bot commands with prefix (.)"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(mr,{value:o,onValueChange:c,children:[t.jsx(nr,{className:"w-48 bg-input border-border text-foreground","data-testid":"select-bot-filter",children:t.jsx(hr,{})}),t.jsxs(sr,{className:"bg-popover border-border",children:[t.jsx(Ee,{value:"all",children:"All Commands"}),t.jsx(Ee,{value:"global",children:"Global Commands"}),h.map(j=>t.jsx(Ee,{value:j.id,children:j.name},j.id))]})]}),t.jsxs(z,{onClick:()=>w.mutate(),disabled:w.isPending,variant:"outline",className:"bg-secondary text-secondary-foreground hover:bg-secondary/90","data-testid":"button-sync-commands",children:[t.jsx("i",{className:"fas fa-sync mr-2"}),w.isPending?"Syncing...":"Sync Commands"]}),t.jsxs(Qt,{open:s,onOpenChange:a,children:[t.jsx(IE,{asChild:!0,children:t.jsxs(z,{className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-command",children:[t.jsx("i",{className:"fas fa-plus mr-2"}),"Add Command"]})}),t.jsxs(Ft,{className:"bg-card border-border max-w-2xl","data-testid":"modal-add-command",children:[t.jsx(Lt,{children:t.jsx(Bt,{className:"text-lg font-semibold text-foreground",children:"Add New Command"})}),t.jsxs("form",{onSubmit:g.handleSubmit(C),className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(we,{htmlFor:"command-name",children:"Command Name"}),t.jsx(Pt,{id:"command-name",placeholder:"help, status, info...",...g.register("name"),"data-testid":"input-command-name"}),g.formState.errors.name&&t.jsx("p",{className:"text-sm text-destructive mt-1",children:g.formState.errors.name.message})]}),t.jsxs("div",{children:[t.jsx(we,{htmlFor:"bot-instance",children:"Bot Instance"}),t.jsxs(mr,{value:g.watch("botInstanceId")||"",onValueChange:j=>g.setValue("botInstanceId",j||null),children:[t.jsx(nr,{"data-testid":"select-command-bot",children:t.jsx(hr,{placeholder:"Global command"})}),t.jsxs(sr,{children:[t.jsx(Ee,{value:"",children:"Global command"}),h.map(j=>t.jsx(Ee,{value:j.id,children:j.name},j.id))]})]})]})]}),t.jsxs("div",{children:[t.jsx(we,{htmlFor:"description",children:"Description"}),t.jsx(Pt,{id:"description",placeholder:"What does this command do?",...g.register("description"),"data-testid":"input-command-description"}),g.formState.errors.description&&t.jsx("p",{className:"text-sm text-destructive mt-1",children:g.formState.errors.description.message})]}),t.jsxs("div",{children:[t.jsx(we,{htmlFor:"response",children:"Response"}),t.jsx(fs,{id:"response",placeholder:"Static response text (leave empty if using ChatGPT)",...g.register("response"),rows:3,"data-testid":"textarea-command-response"})]}),t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Gt,{id:"use-chatgpt",checked:g.watch("useChatGPT")||!1,onCheckedChange:j=>g.setValue("useChatGPT",j),"data-testid":"checkbox-use-chatgpt"}),t.jsx(we,{htmlFor:"use-chatgpt",children:"Use ChatGPT"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Gt,{id:"is-active",checked:g.watch("isActive")||!1,onCheckedChange:j=>g.setValue("isActive",j),"data-testid":"checkbox-command-active"}),t.jsx(we,{htmlFor:"is-active",children:"Active"})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx(z,{type:"button",variant:"ghost",onClick:()=>a(!1),"data-testid":"button-cancel-command",children:"Cancel"}),t.jsx(z,{type:"submit",disabled:x.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-save-command",children:x.isPending?"Creating...":"Create Command"})]})]})]})]})]})]})}),t.jsx("div",{className:"p-6",children:f?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),t.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading commands..."})]}):b.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-terminal text-muted-foreground text-2xl"})}),t.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Commands Found"}),t.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first command to get started"}),t.jsx(z,{onClick:()=>a(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-command",children:"Create Your First Command"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(j=>t.jsxs(se,{className:"bg-card border-border","data-testid":`command-card-${j.id}`,children:[t.jsx(Ie,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("code",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-sm font-mono",children:[".",j.name]}),j.useChatGPT&&t.jsxs("span",{className:"bg-purple-500/10 text-purple-400 px-2 py-1 rounded text-xs",children:[t.jsx("i",{className:"fas fa-brain mr-1"}),"GPT"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>y.mutate({id:j.id,isActive:!j.isActive}),className:`w-8 h-4 rounded-full flex items-center px-1 ${j.isActive?"bg-primary justify-end":"bg-muted justify-start"}`,"data-testid":`toggle-command-${j.id}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${j.isActive?"bg-white":"bg-muted-foreground"}`})}),t.jsx("button",{onClick:()=>k.mutate(j.id),className:"text-muted-foreground hover:text-destructive transition-colors","data-testid":`button-delete-command-${j.id}`,children:t.jsx("i",{className:"fas fa-trash text-sm"})})]})]})}),t.jsxs(ae,{children:[t.jsx("p",{className:"text-sm text-foreground mb-3","data-testid":`command-description-${j.id}`,children:j.description}),j.response&&t.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[t.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Response:"}),t.jsx("p",{className:"text-sm text-foreground","data-testid":`command-response-${j.id}`,children:j.response.length>100?`${j.response.substring(0,100)}...`:j.response})]}),j.botInstanceId&&t.jsx("div",{className:"mt-3",children:t.jsxs("span",{className:"text-xs text-muted-foreground",children:["Bot: ",h.find(T=>T.id===j.botInstanceId)?.name||"Unknown"]})})]})]},j.id))})})]})}const rd=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:s,className:Te("w-full caption-bottom text-sm",e),...r})}));rd.displayName="Table";const nd=p.forwardRef(({className:e,...r},s)=>t.jsx("thead",{ref:s,className:Te("[&_tr]:border-b",e),...r}));nd.displayName="TableHeader";const sd=p.forwardRef(({className:e,...r},s)=>t.jsx("tbody",{ref:s,className:Te("[&_tr:last-child]:border-0",e),...r}));sd.displayName="TableBody";const bO=p.forwardRef(({className:e,...r},s)=>t.jsx("tfoot",{ref:s,className:Te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));bO.displayName="TableFooter";const $s=p.forwardRef(({className:e,...r},s)=>t.jsx("tr",{ref:s,className:Te("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));$s.displayName="TableRow";const Mt=p.forwardRef(({className:e,...r},s)=>t.jsx("th",{ref:s,className:Te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));Mt.displayName="TableHead";const It=p.forwardRef(({className:e,...r},s)=>t.jsx("td",{ref:s,className:Te("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));It.displayName="TableCell";const jO=p.forwardRef(({className:e,...r},s)=>t.jsx("caption",{ref:s,className:Te("mt-4 text-sm text-muted-foreground",e),...r}));jO.displayName="TableCaption";var Fw="AlertDialog",[wO,rM]=zr(Fw,[cb]),ms=cb(),Lw=e=>{const{__scopeAlertDialog:r,...s}=e,a=ms(r);return t.jsx(xh,{...a,...s,modal:!0})};Lw.displayName=Fw;var NO="AlertDialogTrigger",Bw=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,o=ms(s);return t.jsx(Cb,{...o,...a,ref:r})});Bw.displayName=NO;var SO="AlertDialogPortal",$w=e=>{const{__scopeAlertDialog:r,...s}=e,a=ms(r);return t.jsx(vh,{...a,...s})};$w.displayName=SO;var CO="AlertDialogOverlay",Vw=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,o=ms(s);return t.jsx(Nd,{...o,...a,ref:r})});Vw.displayName=CO;var va="AlertDialogContent",[kO,PO]=wO(va),TO=My("AlertDialogContent"),zw=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,children:a,...o}=e,c=ms(s),u=p.useRef(null),f=lt(r,u),h=p.useRef(null);return t.jsx(EE,{contentName:va,titleName:Uw,docsSlug:"alert-dialog",children:t.jsx(kO,{scope:s,cancelRef:h,children:t.jsxs(Sd,{role:"alertdialog",...c,...o,ref:f,onOpenAutoFocus:Fe(o.onOpenAutoFocus,g=>{g.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[t.jsx(TO,{children:a}),t.jsx(_O,{contentRef:u})]})})})});zw.displayName=va;var Uw="AlertDialogTitle",Ww=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,o=ms(s);return t.jsx(yh,{...o,...a,ref:r})});Ww.displayName=Uw;var qw="AlertDialogDescription",Kw=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,o=ms(s);return t.jsx(bh,{...o,...a,ref:r})});Kw.displayName=qw;var EO="AlertDialogAction",Qw=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,o=ms(s);return t.jsx(jh,{...o,...a,ref:r})});Qw.displayName=EO;var Gw="AlertDialogCancel",Hw=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,{cancelRef:o}=PO(Gw,s),c=ms(s),u=lt(r,o);return t.jsx(jh,{...c,...a,ref:u})});Hw.displayName=Gw;var _O=({contentRef:e})=>{const r=`\`${va}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${va}\` by passing a \`${qw}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${va}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},AO=Lw,RO=Bw,IO=$w,Yw=Vw,Zw=zw,Xw=Qw,Jw=Hw,eN=Ww,tN=Kw;const OO=AO,DO=RO,MO=IO,rN=p.forwardRef(({className:e,...r},s)=>t.jsx(Yw,{className:Te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:s}));rN.displayName=Yw.displayName;const nN=p.forwardRef(({className:e,...r},s)=>t.jsxs(MO,{children:[t.jsx(rN,{}),t.jsx(Zw,{ref:s,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r})]}));nN.displayName=Zw.displayName;const sN=({className:e,...r})=>t.jsx("div",{className:Te("flex flex-col space-y-2 text-center sm:text-left",e),...r});sN.displayName="AlertDialogHeader";const iN=({className:e,...r})=>t.jsx("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});iN.displayName="AlertDialogFooter";const aN=p.forwardRef(({className:e,...r},s)=>t.jsx(eN,{ref:s,className:Te("text-lg font-semibold",e),...r}));aN.displayName=eN.displayName;const oN=p.forwardRef(({className:e,...r},s)=>t.jsx(tN,{ref:s,className:Te("text-sm text-muted-foreground",e),...r}));oN.displayName=tN.displayName;const lN=p.forwardRef(({className:e,...r},s)=>t.jsx(Xw,{ref:s,className:Te(uh(),e),...r}));lN.displayName=Xw.displayName;const cN=p.forwardRef(({className:e,...r},s)=>t.jsx(Jw,{ref:s,className:Te(uh({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));cN.displayName=Jw.displayName;function dN({open:e,onClose:r}){const{toast:s}=Vt(),a=Or(),[o,c]=p.useState(""),[u,f]=p.useState({serverUrl:"",adminToken:""}),[h,g]=p.useState(null),[x,y]=p.useState(!1),[w,k]=p.useState(""),[C,b]=p.useState("base64"),[j,T]=p.useState(!1),[P,R]=p.useState(null),[F,$]=p.useState("3"),[X,K]=p.useState(""),[te,xe]=p.useState("all"),[he,pe]=p.useState("all"),[ee,ie]=p.useState("all"),[H,ge]=p.useState("name"),[G,q]=p.useState("asc"),[N,B]=p.useState([]),[Y,I]=p.useState(!1),[O,_]=p.useState(null),[U,ne]=p.useState(""),[ue,re]=p.useState(!1),[je,Re]=p.useState(""),[Ue,dt]=p.useState(!1),{data:ft=[],isLoading:Yt}=pt({queryKey:["/api/master/tenancies"],enabled:e}),{data:tt=[],isLoading:Wr,refetch:Jr}=pt({queryKey:["/api/master/cross-tenancy-bots"],enabled:e,refetchInterval:1e4}),{data:fn=[],isLoading:Fa}=pt({queryKey:["/api/servers/list"],enabled:e,refetchInterval:15e3}),{data:hs=[],isLoading:D}=pt({queryKey:["/api/master/approved-bots"],enabled:e,refetchInterval:1e4}),V=tt.filter(E=>{const ye=X===""||E.name.toLowerCase().includes(X.toLowerCase())||E.phoneNumber.includes(X)||E.tenancy.toLowerCase().includes(X.toLowerCase()),Ye=te==="all"||E.status===te,nt=he==="all"||E.tenancy===he,xt=ee==="all"||E.approvalStatus===ee;return ye&&Ye&&nt&&xt}).sort((E,ye)=>{let Ye,nt;switch(H){case"name":Ye=E.name.toLowerCase(),nt=ye.name.toLowerCase();break;case"phoneNumber":Ye=E.phoneNumber,nt=ye.phoneNumber;break;case"server":Ye=E.tenancy,nt=ye.tenancy;break;case"status":Ye=E.status,nt=ye.status;break;case"lastActivity":Ye=new Date(E.lastActivity||0),nt=new Date(ye.lastActivity||0);break;default:Ye=E.name,nt=ye.name}return Ye<nt?G==="asc"?-1:1:Ye>nt?G==="asc"?1:-1:0}),J={totalBots:tt.length,onlineBots:tt.filter(E=>E.status==="online").length,pendingBots:tt.filter(E=>E.approvalStatus==="pending").length,approvedBots:tt.filter(E=>E.approvalStatus==="approved").length,serverDistribution:tt.reduce((E,ye)=>(E[ye.tenancy]=(E[ye.tenancy]||0)+1,E),{}),statusDistribution:tt.reduce((E,ye)=>(E[ye.status]=(E[ye.status]||0)+1,E),{})};Ke({mutationFn:async E=>(console.log(`Attempting to connect to ${E.tenancy} via God Registry`),{success:!0,message:`Connected to ${E.tenancy} via God Registry`}),onSuccess:()=>{s({title:"Success",description:"Successfully connected to tenancy server"}),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:E=>{s({title:"Connection Failed",description:E.message,variant:"destructive"})}});const Ne=Ke({mutationFn:async E=>await(await Ct("POST","/api/master/migrate-bot",E)).json(),onSuccess:()=>{s({title:"Bot Migration Successful",description:"Bot has been migrated to the target server"}),I(!1),_(null),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:E=>{s({title:"Migration Failed",description:E.message,variant:"destructive"})}}),be=Ke({mutationFn:async E=>await(await Ct("POST","/api/master/batch-operation",E)).json(),onSuccess:E=>{s({title:"Batch Operation Successful",description:`${E.completedCount} of ${E.totalCount} operations completed successfully`}),re(!1),B([]),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:E=>{s({title:"Batch Operation Failed",description:E.message,variant:"destructive"})}}),ce=Ke({mutationFn:async({action:E,botId:ye,tenancy:Ye,data:nt})=>(await Ct("POST","/api/master/bot-action",{action:E,botId:ye,tenancy:Ye,data:nt})).json(),onSuccess:(E,ye)=>{s({title:"Success",description:`Successfully ${ye.action}d bot`}),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:E=>{s({title:"Action Failed",description:E.message,variant:"destructive"})}}),Oe=Ke({mutationFn:async({action:E,botId:ye,tenancy:Ye,feature:nt,enabled:xt})=>(await Ct("POST","/api/master/feature-management",{action:E,botId:ye,tenancy:Ye,feature:nt,enabled:xt})).json(),onSuccess:()=>{s({title:"Feature Updated",description:"Bot feature settings updated successfully"}),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:E=>{s({title:"Feature Update Failed",description:E.message,variant:"destructive"})}}),ot=Ke({mutationFn:async({sourceServer:E,targetServers:ye,commandIds:Ye})=>(await Ct("POST","/api/master/sync-commands",{sourceServer:E,targetServers:ye,commandIds:Ye})).json(),onSuccess:()=>{s({title:"Commands Synced",description:"Commands successfully synced across selected tenancies"})},onError:E=>{s({title:"Command Sync Failed",description:E.message,variant:"destructive"})}}),Ze=(E,ye,Ye,nt)=>{ce.mutate({action:E,botId:ye,tenancy:Ye,data:nt})},Zt=(E,ye,Ye,nt)=>{Oe.mutate({action:"toggle_feature",botId:E,tenancy:ye,feature:Ye,enabled:nt})},en=()=>{if(P&&F){const E=parseInt(F,10);if(isNaN(E)||E<1||E>12){s({title:"Invalid Duration",description:"Approval duration must be between 1 and 12 months",variant:"destructive"});return}Ze("approve",P.id,P.tenancy,{duration:E}),T(!1),R(null)}},zt=E=>{const ye={online:"bg-green-500",offline:"bg-gray-500",pending:"bg-yellow-500",approved:"bg-blue-500",rejected:"bg-red-500",dormant:"bg-purple-500"};return t.jsx(Xe,{className:`${ye[E]||"bg-gray-500"} text-white`,children:E})};return t.jsx(Qt,{open:e,onOpenChange:r,children:t.jsxs(Ft,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsx(Lt,{children:t.jsx(Bt,{className:"text-2xl font-bold text-center",children:"🎛️ Master Control Panel"})}),t.jsxs(Ma,{defaultValue:"overview",className:"w-full",children:[t.jsxs(Ii,{className:"grid w-full grid-cols-6",children:[t.jsx(Et,{value:"overview",children:"Overview"}),t.jsx(Et,{value:"servers",children:"Servers"}),t.jsx(Et,{value:"bots",children:"Bot Management"}),t.jsx(Et,{value:"features",children:"Features"}),t.jsx(Et,{value:"credentials",children:"Credentials"}),t.jsx(Et,{value:"bulk",children:"Bulk Actions"})]}),t.jsxs(jt,{value:"overview",className:"space-y-4",children:[t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6 mb-6 dark:from-blue-900/20 dark:to-purple-900/20 dark:border-blue-800",children:[t.jsx("h3",{className:"text-xl font-bold text-blue-800 dark:text-blue-200 mb-2 flex items-center gap-2",children:"🎛️ Master Control Dashboard"}),t.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-4",children:"Complete control over all server tenancies and bot containers in the TREKKER-MD ecosystem"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:ft.length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Tenancies"})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:tt.length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Bots"})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:tt.filter(E=>E.approvalStatus==="pending").length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Approval"})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:tt.filter(E=>E.status==="online").length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Online Bots"})]})]})]}),t.jsxs(se,{children:[t.jsx(Ie,{children:t.jsxs(Me,{className:"flex items-center gap-2",children:["📊 Real-time System Status",t.jsx(Xe,{variant:"outline",className:"ml-auto",children:"Live"})]})}),t.jsx(ae,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Tenancy Distribution"}),t.jsx("div",{className:"space-y-2",children:ft.map(E=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"font-medium",children:E.name})]}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[E.botCount," bots"]})]},E.name))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Bot Status Summary"}),t.jsx("div",{className:"space-y-2",children:[{status:"online",count:tt.filter(E=>E.status==="online").length,color:"bg-green-500"},{status:"offline",count:tt.filter(E=>E.status==="offline").length,color:"bg-gray-500"},{status:"pending",count:tt.filter(E=>E.approvalStatus==="pending").length,color:"bg-yellow-500"},{status:"error",count:tt.filter(E=>E.status==="error").length,color:"bg-red-500"}].map(E=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`w-3 h-3 ${E.color} rounded-full`}),t.jsx("span",{className:"capitalize",children:E.status})]}),t.jsx("span",{className:"text-sm text-muted-foreground",children:E.count})]},E.status))})]})]})})]})]}),t.jsx(jt,{value:"servers",className:"space-y-4",children:t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{className:"text-blue-600",children:"🖥️ Server Tenancy Management"}),t.jsx(We,{children:"Monitor and control all server instances and their bot containers"})]}),t.jsx(ae,{children:Fa?t.jsx("div",{className:"text-center py-8",children:"Loading server information..."}):t.jsx("div",{className:"space-y-4",children:fn.slice(0,20).map(E=>t.jsx(se,{className:"border-l-4 border-l-blue-500",children:t.jsxs(ae,{className:"pt-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-bold text-lg flex items-center gap-2",children:["🏢 ",E.name,E.status==="active"?t.jsx(Xe,{className:"bg-green-500 text-white",children:"Active"}):t.jsx(Xe,{className:"bg-gray-500 text-white",children:"Available"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:E.description||"Server instance ready for bot deployment"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:E.currentBots}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Bots"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:E.remainingBots}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Available Slots"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-lg font-medium",children:[Math.round(E.currentBots/E.totalBots*100),"%"]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Capacity Used"}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.round(E.currentBots/E.totalBots*100)}%`}})})]})]}),t.jsxs("div",{className:"mt-4 flex gap-2",children:[t.jsx(z,{size:"sm",variant:"outline",onClick:()=>{fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:E.name,description:`Switched to ${E.name} for administration`})}).then(()=>{s({title:"Server Switched",description:`Successfully switched to ${E.name}`}),Jr()})},"data-testid":`button-switch-to-${E.name}`,children:"🔄 Switch To"}),t.jsxs(z,{size:"sm",variant:"outline",onClick:()=>{const ye=tt.filter(Ye=>Ye.tenancy===E.name);s({title:"Server Bots",description:`${E.name} has ${ye.length} bots registered`})},children:["👁️ View Bots (",tt.filter(ye=>ye.tenancy===E.name).length,")"]})]})]})},E.name))})})]})}),t.jsx(jt,{value:"tenancies",className:"space-y-4",children:t.jsx("div",{className:"grid gap-4",children:ft.map(E=>t.jsxs(se,{children:[t.jsx(Ie,{children:t.jsxs(Me,{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[E.name,zt(E.status||"unknown")]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(z,{size:"sm",variant:"outline",onClick:()=>Ze("sync","",E.name),disabled:ce.isPending,children:"Sync"}),t.jsx(z,{size:"sm",variant:"destructive",onClick:()=>Ze("disconnect","",E.name),disabled:ce.isPending,children:"Disconnect"})]})]})}),t.jsx(ae,{children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(we,{children:"Server URL"}),t.jsx(Pt,{value:E.url,readOnly:!0})]}),t.jsxs("div",{children:[t.jsx(we,{children:"Bot Count"}),t.jsx(Pt,{value:E.botCount.toString(),readOnly:!0})]})]})})]},E.name))})}),t.jsxs(jt,{value:"bots",className:"space-y-4",children:[t.jsxs(se,{className:"border-l-4 border-l-purple-500",children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(Rc,{className:"h-5 w-5"}),"Advanced Bot Search & Filtering"]}),t.jsx(We,{children:"Search and filter bots across all server tenancies with real-time results"})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Rc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),t.jsx(Pt,{placeholder:"Search by bot name, phone number, or server...",value:X,onChange:E=>K(E.target.value),className:"pl-10","data-testid":"input-search-bots"})]}),t.jsx(z,{variant:"outline",onClick:()=>{K(""),xe("all"),pe("all"),ie("all")},"data-testid":"button-clear-filters",children:"Clear"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx(we,{className:"text-sm font-medium",children:"Status Filter"}),t.jsxs(mr,{value:te,onValueChange:xe,children:[t.jsx(nr,{"data-testid":"select-status-filter",children:t.jsx(hr,{})}),t.jsxs(sr,{children:[t.jsxs(Ee,{value:"all",children:["All Status (",J.totalBots,")"]}),t.jsxs(Ee,{value:"online",children:["Online (",J.onlineBots,")"]}),t.jsxs(Ee,{value:"offline",children:["Offline (",J.totalBots-J.onlineBots,")"]}),t.jsx(Ee,{value:"loading",children:"Loading"}),t.jsx(Ee,{value:"error",children:"Error"})]})]})]}),t.jsxs("div",{children:[t.jsx(we,{className:"text-sm font-medium",children:"Server Filter"}),t.jsxs(mr,{value:he,onValueChange:pe,children:[t.jsx(nr,{"data-testid":"select-server-filter",children:t.jsx(hr,{})}),t.jsxs(sr,{children:[t.jsx(Ee,{value:"all",children:"All Servers"}),Object.entries(J.serverDistribution).map(([E,ye])=>t.jsxs(Ee,{value:E,children:[E," (",ye,")"]},E))]})]})]}),t.jsxs("div",{children:[t.jsx(we,{className:"text-sm font-medium",children:"Approval Status"}),t.jsxs(mr,{value:ee,onValueChange:ie,children:[t.jsx(nr,{"data-testid":"select-approval-filter",children:t.jsx(hr,{})}),t.jsxs(sr,{children:[t.jsxs(Ee,{value:"all",children:["All (",J.totalBots,")"]}),t.jsxs(Ee,{value:"approved",children:["Approved (",J.approvedBots,")"]}),t.jsxs(Ee,{value:"pending",children:["Pending (",J.pendingBots,")"]}),t.jsx(Ee,{value:"rejected",children:"Rejected"})]})]})]}),t.jsxs("div",{children:[t.jsx(we,{className:"text-sm font-medium",children:"Sort By"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsxs(mr,{value:H,onValueChange:ge,children:[t.jsx(nr,{"data-testid":"select-sort-by",children:t.jsx(hr,{})}),t.jsxs(sr,{children:[t.jsx(Ee,{value:"name",children:"Name"}),t.jsx(Ee,{value:"phoneNumber",children:"Phone"}),t.jsx(Ee,{value:"server",children:"Server"}),t.jsx(Ee,{value:"status",children:"Status"}),t.jsx(Ee,{value:"lastActivity",children:"Activity"})]})]}),t.jsx(z,{variant:"outline",size:"sm",onClick:()=>q(G==="asc"?"desc":"asc"),"data-testid":"button-sort-order",children:G==="asc"?"↑":"↓"})]})]})]}),t.jsx("div",{className:"bg-muted rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("span",{className:"font-medium",children:["Results: ",V.length," of ",J.totalBots," bots"]}),t.jsxs(Xe,{variant:"outline",children:[V.filter(E=>E.status==="online").length," online"]}),t.jsxs(Xe,{variant:"outline",children:[V.filter(E=>E.approvalStatus==="pending").length," pending"]}),t.jsxs(z,{size:"sm",variant:"outline",onClick:()=>Jr(),disabled:Wr,className:"ml-auto","data-testid":"button-refresh-data",children:[t.jsx(Ym,{className:"h-3 w-3 mr-1"}),Wr?"Refreshing...":"Refresh"]})]})})]})]}),t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{className:"text-purple-600",children:"🤖 Complete Bot Registry"}),t.jsx(We,{children:"All bots across all server tenancies with individual container controls"})]}),t.jsx(ae,{children:Wr?t.jsx("div",{className:"text-center py-8",children:"Loading bot registry..."}):t.jsxs(rd,{children:[t.jsx(nd,{children:t.jsxs($s,{children:[t.jsx(Mt,{children:"Bot Details"}),t.jsx(Mt,{children:"Server"}),t.jsx(Mt,{children:"Status"}),t.jsx(Mt,{children:"Approval"}),t.jsx(Mt,{children:"Features"}),t.jsx(Mt,{children:"Stats"}),t.jsx(Mt,{children:"Container Actions"})]})}),t.jsx(sd,{children:V.length===0?t.jsx($s,{children:t.jsx(It,{colSpan:7,className:"text-center py-8",children:t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(Rc,{className:"h-8 w-8 text-muted-foreground"}),t.jsx("p",{className:"text-muted-foreground",children:"No bots match your current filters"}),t.jsx(z,{variant:"outline",size:"sm",onClick:()=>{K(""),xe("all"),pe("all"),ie("all")},children:"Clear all filters"})]})})}):V.map(E=>t.jsxs($s,{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[t.jsx(It,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:E.name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:E.phoneNumber})]})}),t.jsx(It,{children:t.jsx(Xe,{variant:E.tenancy==="default-server"?"default":"outline",children:E.tenancy})}),t.jsx(It,{children:t.jsxs("div",{className:"space-y-1",children:[zt(E.status),E.approvalStatus&&t.jsx("div",{children:zt(E.approvalStatus)})]})}),t.jsx(It,{children:E.approvalStatus==="pending"?t.jsxs("div",{className:"flex gap-1",children:[t.jsx(z,{size:"sm",variant:"default",onClick:()=>{R(E),T(!0)},disabled:ce.isPending,"data-testid":`button-approve-${E.id}`,children:"✅ Approve"}),t.jsx(z,{size:"sm",variant:"destructive",onClick:()=>Ze("reject",E.id,E.tenancy),disabled:ce.isPending,"data-testid":`button-reject-${E.id}`,children:"❌"})]}):E.approvalStatus==="approved"?t.jsxs("div",{className:"text-xs text-green-600",children:["✅ Approved",E.expirationMonths&&t.jsxs("div",{children:["(",E.expirationMonths,"mo)"]})]}):t.jsx(z,{size:"sm",variant:"outline",onClick:()=>Ze("revoke",E.id,E.tenancy),disabled:ce.isPending,"data-testid":`button-revoke-${E.id}`,children:"🔄 Revoke Approval"})}),t.jsx(It,{children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.jsxs(Xe,{variant:E.autoLike?"default":"outline",className:"text-xs",children:["👍 ",E.autoLike?"ON":"OFF"]}),t.jsxs(Xe,{variant:E.chatgptEnabled?"default":"outline",className:"text-xs",children:["🤖 ",E.chatgptEnabled?"ON":"OFF"]})]})}),t.jsx(It,{children:t.jsxs("div",{className:"text-xs space-y-1",children:[t.jsxs("div",{children:["Msgs: ",E.messagesCount||0]}),t.jsxs("div",{children:["Cmds: ",E.commandsCount||0]})]})}),t.jsx(It,{children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.jsx(z,{size:"sm",variant:"outline",onClick:()=>Ze(E.status==="online"?"stop":"start",E.id,E.serverName||E.tenancy||"default-server"),disabled:ce.isPending,"data-testid":`button-${E.status==="online"?"stop":"start"}-${E.id}`,children:E.status==="online"?"⏹️":"▶️"}),t.jsx(z,{size:"sm",variant:"outline",onClick:()=>{g(E),y(!0)},"data-testid":`button-creds-${E.id}`,children:"🔐"}),t.jsx(z,{size:"sm",variant:"outline",onClick:()=>Zt(E.id,E.tenancy,"autoLike",!E.autoLike),disabled:Oe.isPending,children:"🎛️"}),t.jsx(z,{size:"sm",variant:"outline",onClick:()=>{_(E),I(!0)},disabled:ce.isPending,"data-testid":`button-migrate-${E.id}`,title:"Migrate to another server",children:t.jsx(zs,{className:"h-3 w-3"})}),t.jsx(z,{size:"sm",variant:"destructive",onClick:()=>Ze("delete",E.id,E.tenancy),disabled:ce.isPending,"data-testid":`button-delete-${E.id}`,children:"🗑️"})]})})]},`${E.tenancy}-${E.id}`))})]})})]}),t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{className:"text-green-600",children:"✅ Approved & Active Bots"}),t.jsx(We,{children:"Currently approved and active bots across all tenancies"})]}),t.jsx(ae,{children:D?t.jsx("div",{className:"text-center py-8",children:"Loading approved bots..."}):t.jsxs(rd,{children:[t.jsx(nd,{children:t.jsxs($s,{children:[t.jsx(Mt,{children:"Bot Name"}),t.jsx(Mt,{children:"Phone Number"}),t.jsx(Mt,{children:"Tenancy"}),t.jsx(Mt,{children:"Status"}),t.jsx(Mt,{children:"Approval Date"}),t.jsx(Mt,{children:"Last Activity"}),t.jsx(Mt,{children:"Actions"})]})}),t.jsx(sd,{children:hs.map(E=>t.jsxs($s,{children:[t.jsx(It,{className:"font-medium",children:E.name}),t.jsx(It,{children:E.phoneNumber}),t.jsx(It,{children:t.jsx(Xe,{variant:"outline",children:E.serverName})}),t.jsx(It,{children:zt(E.status)}),t.jsx(It,{className:"text-sm text-muted-foreground",children:E.approvalDate?new Date(E.approvalDate).toLocaleDateString():"N/A"}),t.jsx(It,{className:"text-sm text-muted-foreground",children:new Date(E.updatedAt||E.createdAt).toLocaleDateString()}),t.jsx(It,{children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx(z,{size:"sm",variant:"outline",onClick:()=>Ze(E.status==="online"?"stop":"start",E.id,E.serverName||E.tenancy||"default-server"),disabled:ce.isPending,"data-testid":`button-${E.status==="online"?"stop":"start"}-${E.id}`,children:E.status==="online"?"⏹️ Stop":"▶️ Start"}),t.jsx(z,{size:"sm",variant:"destructive",onClick:()=>Ze("delete",E.id,E.tenancy),disabled:ce.isPending,"data-testid":`button-delete-approved-${E.id}`,children:"🗑️ Delete"})]})})]},`approved-${E.serverName}-${E.id}`))})]})})]})]}),t.jsx(jt,{value:"features",className:"space-y-4",children:t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{className:"text-purple-600",children:"🎛️ Cross-Tenancy Feature Control"}),t.jsx(We,{children:"Manage bot features across all tenancies from this central panel"})]}),t.jsxs(ae,{className:"space-y-6",children:[t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800",children:[t.jsx("h4",{className:"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center gap-2",children:"🌐 Global Feature Management"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"autoLike",label:"Auto Like",icon:"👍",description:"Automatically like status updates"},{key:"autoReact",label:"Auto React",icon:"😄",description:"Automatically react to messages"},{key:"autoView",label:"Auto View",icon:"👁️",description:"Automatically view status updates"},{key:"chatGPT",label:"ChatGPT",icon:"🤖",description:"Enable AI chat responses"},{key:"typingIndicator",label:"Typing",icon:"⌨️",description:"Show typing indicators"},{key:"readReceipts",label:"Read Receipts",icon:"✓✓",description:"Send read receipts"}].map(E=>t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"text-lg",children:E.icon}),t.jsx("span",{className:"font-medium text-sm",children:E.label})]}),t.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:E.description}),t.jsx("div",{className:"space-y-2",children:ft.map(ye=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs",children:ye.name}),t.jsx(z,{size:"sm",variant:"outline",onClick:()=>Zt("",ye.name,E.key,!0),className:"h-6 px-2 text-xs",disabled:Oe.isPending,children:"Toggle"})]},ye.name))})]},E.key))})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[t.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:"🤖 Individual Bot Feature Control"}),t.jsx("div",{className:"space-y-4",children:tt.filter(E=>E.approvalStatus==="approved").map(E=>t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"font-medium",children:E.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.phoneNumber," • ",E.tenancy]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[zt(E.status),t.jsx(Xe,{variant:"outline",children:E.tenancy})]})]}),t.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:[{key:"autoLike",label:"Like",icon:"👍"},{key:"autoReact",label:"React",icon:"😄"},{key:"autoView",label:"View",icon:"👁️"},{key:"chatGPT",label:"AI",icon:"🤖"},{key:"typing",label:"Type",icon:"⌨️"},{key:"receipts",label:"Read",icon:"✓✓"}].map(ye=>t.jsxs(z,{size:"sm",variant:"outline",onClick:()=>Zt(E.id,E.tenancy,ye.key,!0),className:"flex flex-col items-center gap-1 h-auto py-2",disabled:Oe.isPending,children:[t.jsx("span",{className:"text-sm",children:ye.icon}),t.jsx("span",{className:"text-xs",children:ye.label})]},ye.key))})]},`${E.tenancy}-${E.id}`))})]}),t.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[t.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-3 flex items-center gap-2",children:"📡 Command Sync Across Tenancies"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Source Server"}),t.jsxs("select",{className:"w-full p-2 border rounded-md bg-white dark:bg-gray-800",children:[t.jsx("option",{value:"",children:"Select source server..."}),ft.map(E=>t.jsx("option",{value:E.name,children:E.name},E.name))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Target Servers"}),t.jsx("div",{className:"space-y-2",children:ft.map(E=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:`target-${E.name}`,className:"rounded"}),t.jsx("label",{htmlFor:`target-${E.name}`,className:"text-sm",children:E.name})]},E.name))})]})]}),t.jsx(z,{className:"w-full mt-4 bg-emerald-600 hover:bg-emerald-700",disabled:ot.isPending,children:"🔄 Sync Selected Commands"})]})]})]})}),t.jsx(jt,{value:"credentials",className:"space-y-4",children:t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{className:"text-green-600",children:"🔐 Bot Credential Management"}),t.jsx(We,{children:"Update WhatsApp credentials for bots in their respective containers"})]}),t.jsxs(ae,{children:[t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 dark:bg-yellow-900/20 dark:border-yellow-800",children:[t.jsx("h4",{className:"font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"⚠️ Credential Update Safety"}),t.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Credential updates are performed within each bot's isolated container. Data registry entries remain unchanged to maintain system integrity."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:tt.filter(E=>E.approvalStatus==="approved").map(E=>t.jsx(se,{className:"border-l-4 border-l-green-500",children:t.jsx(ae,{className:"pt-6",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:E.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:E.phoneNumber}),t.jsx(Xe,{variant:"outline",className:"mt-1",children:E.tenancy})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:"Container Status:"}),zt(E.status)]}),t.jsx(z,{size:"sm",variant:"outline",onClick:()=>{g(E),y(!0)},className:"w-full","data-testid":`button-update-creds-${E.id}`,children:"🔐 Update Credentials"})]})})},`cred-${E.tenancy}-${E.id}`))})]})]})}),t.jsx(jt,{value:"bulk",className:"space-y-4",children:t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{className:"text-red-600",children:"⚡ Bulk Operations"}),t.jsx(We,{children:"Perform actions on multiple bots across all server tenancies"})]}),t.jsx(ae,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 dark:bg-red-900/20 dark:border-red-800",children:[t.jsx("h4",{className:"font-medium text-red-800 dark:text-red-200 mb-3",children:"📋 Bulk Bot Selection"}),t.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.jsxs(z,{size:"sm",variant:"outline",onClick:()=>{const E=tt.map(ye=>`${ye.tenancy}-${ye.id}`);B(E)},children:["✅ Select All (",tt.length,")"]}),t.jsxs(z,{size:"sm",variant:"outline",onClick:()=>{const E=tt.filter(ye=>ye.approvalStatus==="pending").map(ye=>`${ye.tenancy}-${ye.id}`);B(E)},children:["⏳ Select Pending (",tt.filter(E=>E.approvalStatus==="pending").length,")"]}),t.jsxs(z,{size:"sm",variant:"outline",onClick:()=>{const E=tt.filter(ye=>ye.status==="online").map(ye=>`${ye.tenancy}-${ye.id}`);B(E)},children:["🟢 Select Online (",tt.filter(E=>E.status==="online").length,")"]}),t.jsx(z,{size:"sm",variant:"destructive",onClick:()=>B([]),children:"❌ Clear Selection"})]}),t.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["Selected: ",N.length," bots"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(se,{className:"border-l-4 border-l-green-500",children:t.jsxs(ae,{className:"pt-6",children:[t.jsx("h4",{className:"font-medium text-green-600 mb-3",children:"✅ Bulk Approve"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Approve all selected pending bots"}),t.jsx(z,{size:"sm",variant:"default",className:"w-full",disabled:N.length===0,onClick:()=>{N.forEach(E=>{const[ye,Ye]=E.split("-"),nt=tt.find(xt=>xt.tenancy===ye&&xt.id===Ye);nt&&nt.approvalStatus==="pending"&&Ze("approve",Ye,ye,{duration:6})}),s({title:"Bulk Approval",description:`Processing approval for ${N.length} bots`})},children:"Approve Selected"})]})}),t.jsx(se,{className:"border-l-4 border-l-blue-500",children:t.jsxs(ae,{className:"pt-6",children:[t.jsx("h4",{className:"font-medium text-blue-600 mb-3",children:"▶️ Bulk Start"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Start all selected offline bots"}),t.jsx(z,{size:"sm",variant:"outline",className:"w-full",disabled:N.length===0,onClick:()=>{N.forEach(E=>{const[ye,Ye]=E.split("-"),nt=tt.find(xt=>xt.tenancy===ye&&xt.id===Ye);nt&&nt.status==="offline"&&Ze("start",Ye,ye)}),s({title:"Bulk Start",description:`Starting ${N.length} bots`})},children:"Start Selected"})]})}),t.jsx(se,{className:"border-l-4 border-l-orange-500",children:t.jsxs(ae,{className:"pt-6",children:[t.jsx("h4",{className:"font-medium text-orange-600 mb-3",children:"⏹️ Bulk Stop"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Stop all selected online bots"}),t.jsx(z,{size:"sm",variant:"outline",className:"w-full",disabled:N.length===0,onClick:()=>{N.forEach(E=>{const[ye,Ye]=E.split("-"),nt=tt.find(xt=>xt.tenancy===ye&&xt.id===Ye);nt&&nt.status==="online"&&Ze("stop",Ye,ye)}),s({title:"Bulk Stop",description:`Stopping ${N.length} bots`})},children:"Stop Selected"})]})}),t.jsx(se,{className:"border-l-4 border-l-purple-500",children:t.jsxs(ae,{className:"pt-6",children:[t.jsx("h4",{className:"font-medium text-purple-600 mb-3",children:"🎛️ Bulk Features"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Enable features for selected bots"}),t.jsx(z,{size:"sm",variant:"outline",className:"w-full",disabled:N.length===0,onClick:()=>{N.forEach(E=>{const[ye,Ye]=E.split("-");Zt(Ye,ye,"autoLike",!0)}),s({title:"Bulk Feature Update",description:`Enabling features for ${N.length} bots`})},children:"Enable Auto-Like"})]})})]})]})})]})}),t.jsx(jt,{value:"connect",className:"space-y-4",children:t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{children:"God Registry Information"}),t.jsx(We,{children:"Cross-tenancy management is powered by the God Registry table"})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"🔄 How Cross-Tenancy Works:"}),t.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[t.jsx("li",{children:"• All bot registrations are stored in the God Registry table"}),t.jsx("li",{children:"• Each entry contains phone number and tenancy name (SERVER1, SERVER2, etc.)"}),t.jsx("li",{children:"• Master control can see and manage bots across all tenancies"}),t.jsx("li",{children:"• Local tenancy bots show full details, remote ones show registry info"}),t.jsx("li",{children:"• Actions on local tenancy bots are executed directly"}),t.jsx("li",{children:"• Actions on remote tenancy bots are logged for coordination"})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📋 Current Setup:"}),t.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[t.jsxs("li",{children:["• Current Server: ","SERVER1"]}),t.jsx("li",{children:"• God Registry: Active and monitoring all tenancies"}),t.jsx("li",{children:"• Cross-tenancy actions: Logged and tracked"}),t.jsx("li",{children:"• Data isolation: Each tenancy maintains its own bot data"})]})]}),t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-sm text-muted-foreground",children:"No additional setup required - God Registry manages everything automatically"})})]})]})})]}),h&&t.jsx(Qt,{open:x,onOpenChange:y,children:t.jsxs(Ft,{className:"max-w-2xl",children:[t.jsx(Lt,{children:t.jsx(Bt,{children:"🔐 Update Bot Credentials"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[t.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot Information"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Name:"})," ",h.name]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Phone:"})," ",h.phoneNumber]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Server:"})," ",h.tenancy]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Status:"})," ",h.status]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(we,{htmlFor:"credential-type",children:"Credential Type"}),t.jsxs(mr,{value:C,onValueChange:E=>b(E),children:[t.jsx(nr,{children:t.jsx(hr,{placeholder:"Select credential type"})}),t.jsxs(sr,{children:[t.jsx(Ee,{value:"base64",children:"Base64 String"}),t.jsx(Ee,{value:"file",children:"File Upload"})]})]})]}),C==="base64"?t.jsxs("div",{children:[t.jsx(we,{htmlFor:"credentials",children:"New Credentials (Base64)"}),t.jsx("textarea",{id:"credentials",className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm",placeholder:"Paste your base64-encoded credentials here...",value:w,onChange:E=>k(E.target.value)})]}):t.jsxs("div",{children:[t.jsx(we,{htmlFor:"credential-file",children:"Upload Credentials File"}),t.jsx("input",{id:"credential-file",type:"file",accept:".json",className:"w-full p-2 border rounded-md",onChange:E=>{const ye=E.target.files?.[0];if(ye){const Ye=new FileReader;Ye.onload=nt=>{k(nt.target?.result||"")},Ye.readAsText(ye)}}})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(z,{onClick:()=>{if(!w.trim()){s({title:"Validation Error",description:"Please provide credentials",variant:"destructive"});return}fetch("/api/master/bot-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({action:"update_credentials",botId:h.id,tenancy:h.tenancy,data:{credentials:C==="base64"?w:JSON.parse(w),type:C}})}).then(async E=>{if(E.ok)s({title:"Credentials Updated",description:`Credentials updated for ${h.name} in ${h.tenancy} container`}),y(!1),g(null),k(""),Jr();else{const ye=await E.json();s({title:"Update Failed",description:ye.message||"Failed to update credentials",variant:"destructive"})}})},className:"flex-1","data-testid":"button-save-credentials",children:"💾 Update Credentials"}),t.jsx(z,{variant:"outline",onClick:()=>{y(!1),g(null),k("")},children:"Cancel"})]})]})]})]})}),j&&P&&t.jsx(Qt,{open:j,onOpenChange:()=>{T(!1),R(null)},children:t.jsxs(Ft,{className:"max-w-md",children:[t.jsx(Lt,{children:t.jsx(Bt,{className:"text-center flex items-center justify-center gap-2",children:"✅ Cross-Server Bot Approval"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[t.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot Details"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Name:"})," ",P.name]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Phone:"})," ",P.phoneNumber]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Server:"})," ",P.tenancy]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Current Status:"})," ",P.approvalStatus]})]})]}),t.jsxs("div",{children:[t.jsx(we,{htmlFor:"approval-duration",children:"Approval Duration"}),t.jsxs(mr,{value:F,onValueChange:$,children:[t.jsx(nr,{"data-testid":"select-approval-duration",children:t.jsx(hr,{placeholder:"Select approval duration"})}),t.jsxs(sr,{children:[t.jsx(Ee,{value:"1",children:"1 Month"}),t.jsx(Ee,{value:"2",children:"2 Months"}),t.jsx(Ee,{value:"3",children:"3 Months (Recommended)"}),t.jsx(Ee,{value:"6",children:"6 Months"}),t.jsx(Ee,{value:"9",children:"9 Months"}),t.jsx(Ee,{value:"12",children:"12 Months"})]})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bot will be automatically deactivated after this period unless renewed."})]}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 dark:bg-yellow-900/20 dark:border-yellow-800",children:t.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:[t.jsx("strong",{children:"Cross-Server Approval:"})," This bot is located on ",P.tenancy," server. The approval will be coordinated through the God Registry system."]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(z,{onClick:en,disabled:ce.isPending,className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":"button-confirm-approval",children:ce.isPending?t.jsx(t.Fragment,{children:"⏳ Processing..."}):t.jsxs(t.Fragment,{children:["✅ Approve for ",F," Month",parseInt(F)>1?"s":""]})}),t.jsx(z,{variant:"outline",onClick:()=>{T(!1),R(null)},disabled:ce.isPending,"data-testid":"button-cancel-approval",children:"Cancel"})]})]})]})}),Y&&O&&t.jsx(Qt,{open:Y,onOpenChange:I,children:t.jsxs(Ft,{className:"max-w-md",children:[t.jsx(Lt,{children:t.jsxs(Bt,{className:"flex items-center gap-2",children:[t.jsx(zs,{className:"h-5 w-5 text-blue-600"}),"Cross-Server Bot Migration"]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[t.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot to Migrate"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Name:"})," ",O.name]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Phone:"})," ",O.phoneNumber]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Current Server:"})," ",O.tenancy]})]})]}),t.jsxs("div",{children:[t.jsx(we,{htmlFor:"target-server",children:"Target Server"}),t.jsxs(mr,{value:U,onValueChange:ne,children:[t.jsx(nr,{"data-testid":"select-target-server",children:t.jsx(hr,{placeholder:"Select destination server"})}),t.jsx(sr,{children:Object.keys(J.serverDistribution).filter(E=>E!==O.tenancy).map(E=>t.jsxs(Ee,{value:E,children:[E," (",J.serverDistribution[E]," bots)"]},E))})]})]}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 dark:bg-yellow-900/20 dark:border-yellow-800",children:t.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:[t.jsx("strong",{children:"Migration Process:"})," Bot will be safely transferred with all data and credentials. This process maintains data integrity and bot functionality."]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(z,{onClick:()=>{if(!U){s({title:"Target Required",description:"Please select a target server",variant:"destructive"});return}if(U===O.tenancy){s({title:"Invalid Target",description:"Target server must be different from source server",variant:"destructive"});return}Ne.mutate({botId:O.id,sourceServer:O.tenancy,targetServer:U})},disabled:Ne.isPending||!U,className:"flex-1 bg-blue-600 hover:bg-blue-700","data-testid":"button-confirm-migration",children:Ne.isPending?t.jsx(t.Fragment,{children:"⏳ Migrating..."}):t.jsx(t.Fragment,{children:"🚀 Migrate Bot"})}),t.jsx(z,{variant:"outline",onClick:()=>{I(!1),_(null),ne("")},disabled:Ne.isPending,children:"Cancel"})]})]})]})}),ue&&t.jsx(Qt,{open:ue,onOpenChange:re,children:t.jsxs(Ft,{className:"max-w-lg",children:[t.jsx(Lt,{children:t.jsxs(Bt,{className:"flex items-center gap-2",children:[t.jsx(l2,{className:"h-5 w-5 text-purple-600"}),"Batch Bot Operations"]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800",children:[t.jsxs("h4",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:["Selected Bots (",N.length,")"]}),t.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 text-sm",children:N.map(E=>{const[ye,Ye]=E.split("-"),nt=V.find(xt=>xt.tenancy===ye&&xt.id===Ye);return nt?t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:nt.name}),t.jsx("span",{className:"text-muted-foreground",children:nt.tenancy})]},E):null})})]}),t.jsxs("div",{children:[t.jsx(we,{htmlFor:"batch-operation",children:"Operation Type"}),t.jsxs(mr,{value:je,onValueChange:Re,children:[t.jsx(nr,{"data-testid":"select-batch-operation",children:t.jsx(hr,{placeholder:"Select batch operation"})}),t.jsxs(sr,{children:[t.jsx(Ee,{value:"start",children:"Start All Selected Bots"}),t.jsx(Ee,{value:"stop",children:"Stop All Selected Bots"}),t.jsx(Ee,{value:"restart",children:"Restart All Selected Bots"}),t.jsx(Ee,{value:"approve",children:"Bulk Approve (Pending Bots Only)"}),t.jsx(Ee,{value:"feature-toggle",children:"Enable/Disable Feature"})]})]})]}),t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 dark:bg-red-900/20 dark:border-red-800",children:t.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300",children:[t.jsx("strong",{children:"Batch Operations:"})," This will apply the selected operation to all ",N.length,"selected bots simultaneously. This action affects multiple servers and cannot be undone."]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(z,{onClick:()=>{if(!je){s({title:"Operation Required",description:"Please select a batch operation",variant:"destructive"});return}be.mutate({operation:je,botIds:N})},disabled:be.isPending||!je||N.length===0,className:"flex-1 bg-purple-600 hover:bg-purple-700","data-testid":"button-execute-batch",children:be.isPending?t.jsx(t.Fragment,{children:"⏳ Processing..."}):t.jsx(t.Fragment,{children:"⚡ Execute Batch Operation"})}),t.jsx(z,{variant:"outline",onClick:()=>{re(!1),Re("")},disabled:be.isPending,children:"Cancel"})]})]})]})}),Ue&&t.jsx(Qt,{open:Ue,onOpenChange:dt,children:t.jsxs(Ft,{className:"max-w-4xl",children:[t.jsx(Lt,{children:t.jsxs(Bt,{className:"flex items-center gap-2",children:[t.jsx(Ws,{className:"h-5 w-5 text-green-600"}),"Cross-Server Health Monitor"]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(se,{className:"border-green-200",children:t.jsx(ae,{className:"pt-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Healthy Bots"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:V.filter(E=>E.status==="online").length})]}),t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})]})})}),t.jsx(se,{className:"border-yellow-200",children:t.jsx(ae,{className:"pt-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Warning Status"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:V.filter(E=>E.status==="loading").length})]}),t.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"})]})})}),t.jsx(se,{className:"border-red-200",children:t.jsx(ae,{className:"pt-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Critical Issues"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:V.filter(E=>E.status==="error"||E.status==="offline").length})]}),t.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"})]})})})]}),t.jsxs(se,{children:[t.jsx(Ie,{children:t.jsx(Me,{className:"text-sm font-medium",children:"Server Health Status"})}),t.jsx(ae,{children:t.jsx("div",{className:"space-y-3",children:Object.entries(J.serverDistribution).map(([E,ye])=>{const nt=V.filter(An=>An.tenancy===E).filter(An=>An.status==="online").length,xt=Math.round(nt/ye*100)||0,ps=xt>=80?"text-green-600":xt>=60?"text-yellow-600":"text-red-600";return t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${xt>=80?"bg-green-500":xt>=60?"bg-yellow-500":"bg-red-500"}`}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:E}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[nt,"/",ye," bots online"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:`font-bold ${ps}`,children:[xt,"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Health Score"})]})]},E)})})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(z,{variant:"outline",onClick:()=>dt(!1),children:"Close Monitor"})})]})]})})]})})}var oy=1,FO=.9,LO=.8,BO=.17,em=.1,tm=.999,$O=.9999,VO=.99,zO=/[\\\/_+.#"@\[\(\{&]/,UO=/[\\\/_+.#"@\[\(\{&]/g,WO=/[\s-]/,uN=/[\s-]/g;function Mm(e,r,s,a,o,c,u){if(c===r.length)return o===e.length?oy:VO;var f=`${o},${c}`;if(u[f]!==void 0)return u[f];for(var h=a.charAt(c),g=s.indexOf(h,o),x=0,y,w,k,C;g>=0;)y=Mm(e,r,s,a,g+1,c+1,u),y>x&&(g===o?y*=oy:zO.test(e.charAt(g-1))?(y*=LO,k=e.slice(o,g-1).match(UO),k&&o>0&&(y*=Math.pow(tm,k.length))):WO.test(e.charAt(g-1))?(y*=FO,C=e.slice(o,g-1).match(uN),C&&o>0&&(y*=Math.pow(tm,C.length))):(y*=BO,o>0&&(y*=Math.pow(tm,g-o))),e.charAt(g)!==r.charAt(c)&&(y*=$O)),(y<em&&s.charAt(g-1)===a.charAt(c+1)||a.charAt(c+1)===a.charAt(c)&&s.charAt(g-1)!==a.charAt(c))&&(w=Mm(e,r,s,a,g+1,c+2,u),w*em>y&&(y=w*em)),y>x&&(x=y),g=s.indexOf(h,g+1);return u[f]=x,x}function ly(e){return e.toLowerCase().replace(uN," ")}function qO(e,r,s){return e=s&&s.length>0?`${e+" "+s.join(" ")}`:e,Mm(e,r,ly(e),ly(r),0,0,{})}var ko='[cmdk-group=""]',rm='[cmdk-group-items=""]',KO='[cmdk-group-heading=""]',fN='[cmdk-item=""]',cy=`${fN}:not([aria-disabled="true"])`,Fm="cmdk-item-select",ca="data-value",QO=(e,r,s)=>qO(e,r,s),mN=p.createContext(void 0),cl=()=>p.useContext(mN),hN=p.createContext(void 0),Bh=()=>p.useContext(hN),pN=p.createContext(void 0),gN=p.forwardRef((e,r)=>{let s=da(()=>{var O,_;return{search:"",value:(_=(O=e.value)!=null?O:e.defaultValue)!=null?_:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=da(()=>new Set),o=da(()=>new Map),c=da(()=>new Map),u=da(()=>new Set),f=xN(e),{label:h,children:g,value:x,onValueChange:y,filter:w,shouldFilter:k,loop:C,disablePointerSelection:b=!1,vimBindings:j=!0,...T}=e,P=Ar(),R=Ar(),F=Ar(),$=p.useRef(null),X=sD();Ri(()=>{if(x!==void 0){let O=x.trim();s.current.value=O,K.emit()}},[x]),Ri(()=>{X(6,ie)},[]);let K=p.useMemo(()=>({subscribe:O=>(u.current.add(O),()=>u.current.delete(O)),snapshot:()=>s.current,setState:(O,_,U)=>{var ne,ue,re,je;if(!Object.is(s.current[O],_)){if(s.current[O]=_,O==="search")ee(),he(),X(1,pe);else if(O==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Re=document.getElementById(F);Re?Re.focus():(ne=document.getElementById(P))==null||ne.focus()}if(X(7,()=>{var Re;s.current.selectedItemId=(Re=H())==null?void 0:Re.id,K.emit()}),U||X(5,ie),((ue=f.current)==null?void 0:ue.value)!==void 0){let Re=_??"";(je=(re=f.current).onValueChange)==null||je.call(re,Re);return}}K.emit()}},emit:()=>{u.current.forEach(O=>O())}}),[]),te=p.useMemo(()=>({value:(O,_,U)=>{var ne;_!==((ne=c.current.get(O))==null?void 0:ne.value)&&(c.current.set(O,{value:_,keywords:U}),s.current.filtered.items.set(O,xe(_,U)),X(2,()=>{he(),K.emit()}))},item:(O,_)=>(a.current.add(O),_&&(o.current.has(_)?o.current.get(_).add(O):o.current.set(_,new Set([O]))),X(3,()=>{ee(),he(),s.current.value||pe(),K.emit()}),()=>{c.current.delete(O),a.current.delete(O),s.current.filtered.items.delete(O);let U=H();X(4,()=>{ee(),U?.getAttribute("id")===O&&pe(),K.emit()})}),group:O=>(o.current.has(O)||o.current.set(O,new Set),()=>{c.current.delete(O),o.current.delete(O)}),filter:()=>f.current.shouldFilter,label:h||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:P,inputId:F,labelId:R,listInnerRef:$}),[]);function xe(O,_){var U,ne;let ue=(ne=(U=f.current)==null?void 0:U.filter)!=null?ne:QO;return O?ue(O,s.current.search,_):0}function he(){if(!s.current.search||f.current.shouldFilter===!1)return;let O=s.current.filtered.items,_=[];s.current.filtered.groups.forEach(ne=>{let ue=o.current.get(ne),re=0;ue.forEach(je=>{let Re=O.get(je);re=Math.max(Re,re)}),_.push([ne,re])});let U=$.current;ge().sort((ne,ue)=>{var re,je;let Re=ne.getAttribute("id"),Ue=ue.getAttribute("id");return((re=O.get(Ue))!=null?re:0)-((je=O.get(Re))!=null?je:0)}).forEach(ne=>{let ue=ne.closest(rm);ue?ue.appendChild(ne.parentElement===ue?ne:ne.closest(`${rm} > *`)):U.appendChild(ne.parentElement===U?ne:ne.closest(`${rm} > *`))}),_.sort((ne,ue)=>ue[1]-ne[1]).forEach(ne=>{var ue;let re=(ue=$.current)==null?void 0:ue.querySelector(`${ko}[${ca}="${encodeURIComponent(ne[0])}"]`);re?.parentElement.appendChild(re)})}function pe(){let O=ge().find(U=>U.getAttribute("aria-disabled")!=="true"),_=O?.getAttribute(ca);K.setState("value",_||void 0)}function ee(){var O,_,U,ne;if(!s.current.search||f.current.shouldFilter===!1){s.current.filtered.count=a.current.size;return}s.current.filtered.groups=new Set;let ue=0;for(let re of a.current){let je=(_=(O=c.current.get(re))==null?void 0:O.value)!=null?_:"",Re=(ne=(U=c.current.get(re))==null?void 0:U.keywords)!=null?ne:[],Ue=xe(je,Re);s.current.filtered.items.set(re,Ue),Ue>0&&ue++}for(let[re,je]of o.current)for(let Re of je)if(s.current.filtered.items.get(Re)>0){s.current.filtered.groups.add(re);break}s.current.filtered.count=ue}function ie(){var O,_,U;let ne=H();ne&&(((O=ne.parentElement)==null?void 0:O.firstChild)===ne&&((U=(_=ne.closest(ko))==null?void 0:_.querySelector(KO))==null||U.scrollIntoView({block:"nearest"})),ne.scrollIntoView({block:"nearest"}))}function H(){var O;return(O=$.current)==null?void 0:O.querySelector(`${fN}[aria-selected="true"]`)}function ge(){var O;return Array.from(((O=$.current)==null?void 0:O.querySelectorAll(cy))||[])}function G(O){let _=ge()[O];_&&K.setState("value",_.getAttribute(ca))}function q(O){var _;let U=H(),ne=ge(),ue=ne.findIndex(je=>je===U),re=ne[ue+O];(_=f.current)!=null&&_.loop&&(re=ue+O<0?ne[ne.length-1]:ue+O===ne.length?ne[0]:ne[ue+O]),re&&K.setState("value",re.getAttribute(ca))}function N(O){let _=H(),U=_?.closest(ko),ne;for(;U&&!ne;)U=O>0?rD(U,ko):nD(U,ko),ne=U?.querySelector(cy);ne?K.setState("value",ne.getAttribute(ca)):q(O)}let B=()=>G(ge().length-1),Y=O=>{O.preventDefault(),O.metaKey?B():O.altKey?N(1):q(1)},I=O=>{O.preventDefault(),O.metaKey?G(0):O.altKey?N(-1):q(-1)};return p.createElement($e.div,{ref:r,tabIndex:-1,...T,"cmdk-root":"",onKeyDown:O=>{var _;(_=T.onKeyDown)==null||_.call(T,O);let U=O.nativeEvent.isComposing||O.keyCode===229;if(!(O.defaultPrevented||U))switch(O.key){case"n":case"j":{j&&O.ctrlKey&&Y(O);break}case"ArrowDown":{Y(O);break}case"p":case"k":{j&&O.ctrlKey&&I(O);break}case"ArrowUp":{I(O);break}case"Home":{O.preventDefault(),G(0);break}case"End":{O.preventDefault(),B();break}case"Enter":{O.preventDefault();let ne=H();if(ne){let ue=new Event(Fm);ne.dispatchEvent(ue)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:te.inputId,id:te.labelId,style:aD},h),Ld(e,O=>p.createElement(hN.Provider,{value:K},p.createElement(mN.Provider,{value:te},O))))}),GO=p.forwardRef((e,r)=>{var s,a;let o=Ar(),c=p.useRef(null),u=p.useContext(pN),f=cl(),h=xN(e),g=(a=(s=h.current)==null?void 0:s.forceMount)!=null?a:u?.forceMount;Ri(()=>{if(!g)return f.item(o,u?.id)},[g]);let x=vN(o,c,[e.value,e.children,c],e.keywords),y=Bh(),w=Js(X=>X.value&&X.value===x.current),k=Js(X=>g||f.filter()===!1?!0:X.search?X.filtered.items.get(o)>0:!0);p.useEffect(()=>{let X=c.current;if(!(!X||e.disabled))return X.addEventListener(Fm,C),()=>X.removeEventListener(Fm,C)},[k,e.onSelect,e.disabled]);function C(){var X,K;b(),(K=(X=h.current).onSelect)==null||K.call(X,x.current)}function b(){y.setState("value",x.current,!0)}if(!k)return null;let{disabled:j,value:T,onSelect:P,forceMount:R,keywords:F,...$}=e;return p.createElement($e.div,{ref:wi(c,r),...$,id:o,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!w,"data-disabled":!!j,"data-selected":!!w,onPointerMove:j||f.getDisablePointerSelection()?void 0:b,onClick:j?void 0:C},e.children)}),HO=p.forwardRef((e,r)=>{let{heading:s,children:a,forceMount:o,...c}=e,u=Ar(),f=p.useRef(null),h=p.useRef(null),g=Ar(),x=cl(),y=Js(k=>o||x.filter()===!1?!0:k.search?k.filtered.groups.has(u):!0);Ri(()=>x.group(u),[]),vN(u,f,[e.value,e.heading,h]);let w=p.useMemo(()=>({id:u,forceMount:o}),[o]);return p.createElement($e.div,{ref:wi(f,r),...c,"cmdk-group":"",role:"presentation",hidden:y?void 0:!0},s&&p.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:g},s),Ld(e,k=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?g:void 0},p.createElement(pN.Provider,{value:w},k))))}),YO=p.forwardRef((e,r)=>{let{alwaysRender:s,...a}=e,o=p.useRef(null),c=Js(u=>!u.search);return!s&&!c?null:p.createElement($e.div,{ref:wi(o,r),...a,"cmdk-separator":"",role:"separator"})}),ZO=p.forwardRef((e,r)=>{let{onValueChange:s,...a}=e,o=e.value!=null,c=Bh(),u=Js(g=>g.search),f=Js(g=>g.selectedItemId),h=cl();return p.useEffect(()=>{e.value!=null&&c.setState("search",e.value)},[e.value]),p.createElement($e.input,{ref:r,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":f,id:h.inputId,type:"text",value:o?e.value:u,onChange:g=>{o||c.setState("search",g.target.value),s?.(g.target.value)}})}),XO=p.forwardRef((e,r)=>{let{children:s,label:a="Suggestions",...o}=e,c=p.useRef(null),u=p.useRef(null),f=Js(g=>g.selectedItemId),h=cl();return p.useEffect(()=>{if(u.current&&c.current){let g=u.current,x=c.current,y,w=new ResizeObserver(()=>{y=requestAnimationFrame(()=>{let k=g.offsetHeight;x.style.setProperty("--cmdk-list-height",k.toFixed(1)+"px")})});return w.observe(g),()=>{cancelAnimationFrame(y),w.unobserve(g)}}},[]),p.createElement($e.div,{ref:wi(c,r),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":a,id:h.listId},Ld(e,g=>p.createElement("div",{ref:wi(u,h.listInnerRef),"cmdk-list-sizer":""},g)))}),JO=p.forwardRef((e,r)=>{let{open:s,onOpenChange:a,overlayClassName:o,contentClassName:c,container:u,...f}=e;return p.createElement(xh,{open:s,onOpenChange:a},p.createElement(vh,{container:u},p.createElement(Nd,{"cmdk-overlay":"",className:o}),p.createElement(Sd,{"aria-label":e.label,"cmdk-dialog":"",className:c},p.createElement(gN,{ref:r,...f}))))}),eD=p.forwardRef((e,r)=>Js(s=>s.filtered.count===0)?p.createElement($e.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),tD=p.forwardRef((e,r)=>{let{progress:s,children:a,label:o="Loading...",...c}=e;return p.createElement($e.div,{ref:r,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},Ld(e,u=>p.createElement("div",{"aria-hidden":!0},u)))}),Ur=Object.assign(gN,{List:XO,Item:GO,Input:ZO,Group:HO,Separator:YO,Dialog:JO,Empty:eD,Loading:tD});function rD(e,r){let s=e.nextElementSibling;for(;s;){if(s.matches(r))return s;s=s.nextElementSibling}}function nD(e,r){let s=e.previousElementSibling;for(;s;){if(s.matches(r))return s;s=s.previousElementSibling}}function xN(e){let r=p.useRef(e);return Ri(()=>{r.current=e}),r}var Ri=typeof window>"u"?p.useEffect:p.useLayoutEffect;function da(e){let r=p.useRef();return r.current===void 0&&(r.current=e()),r}function Js(e){let r=Bh(),s=()=>e(r.snapshot());return p.useSyncExternalStore(r.subscribe,s,s)}function vN(e,r,s,a=[]){let o=p.useRef(),c=cl();return Ri(()=>{var u;let f=(()=>{var g;for(let x of s){if(typeof x=="string")return x.trim();if(typeof x=="object"&&"current"in x)return x.current?(g=x.current.textContent)==null?void 0:g.trim():o.current}})(),h=a.map(g=>g.trim());c.value(e,f,h),(u=r.current)==null||u.setAttribute(ca,f),o.current=f}),o}var sD=()=>{let[e,r]=p.useState(),s=da(()=>new Map);return Ri(()=>{s.current.forEach(a=>a()),s.current=new Map},[e]),(a,o)=>{s.current.set(a,o),r({})}};function iD(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function Ld({asChild:e,children:r},s){return e&&p.isValidElement(r)?p.cloneElement(iD(r),{ref:r.ref},s(r.props.children)):s(r)}var aD={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const yN=p.forwardRef(({className:e,...r},s)=>t.jsx(Ur,{ref:s,className:Te("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...r}));yN.displayName=Ur.displayName;const bN=p.forwardRef(({className:e,...r},s)=>t.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[t.jsx(Rc,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),t.jsx(Ur.Input,{ref:s,className:Te("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...r})]}));bN.displayName=Ur.Input.displayName;const jN=p.forwardRef(({className:e,...r},s)=>t.jsx(Ur.List,{ref:s,className:Te("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...r}));jN.displayName=Ur.List.displayName;const wN=p.forwardRef((e,r)=>t.jsx(Ur.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));wN.displayName=Ur.Empty.displayName;const NN=p.forwardRef(({className:e,...r},s)=>t.jsx(Ur.Group,{ref:s,className:Te("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...r}));NN.displayName=Ur.Group.displayName;const oD=p.forwardRef(({className:e,...r},s)=>t.jsx(Ur.Separator,{ref:s,className:Te("-mx-1 h-px bg-border",e),...r}));oD.displayName=Ur.Separator.displayName;const SN=p.forwardRef(({className:e,...r},s)=>t.jsx(Ur.Item,{ref:s,className:Te("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...r}));SN.displayName=Ur.Item.displayName;var Bd="Popover",[CN,nM]=zr(Bd,[Oa]),dl=Oa(),[lD,ri]=CN(Bd),kN=e=>{const{__scopePopover:r,children:s,open:a,defaultOpen:o,onOpenChange:c,modal:u=!1}=e,f=dl(r),h=p.useRef(null),[g,x]=p.useState(!1),[y,w]=ls({prop:a,defaultProp:o??!1,onChange:c,caller:Bd});return t.jsx(W0,{...f,children:t.jsx(lD,{scope:r,contentId:Ar(),triggerRef:h,open:y,onOpenChange:w,onOpenToggle:p.useCallback(()=>w(k=>!k),[w]),hasCustomAnchor:g,onCustomAnchorAdd:p.useCallback(()=>x(!0),[]),onCustomAnchorRemove:p.useCallback(()=>x(!1),[]),modal:u,children:s})})};kN.displayName=Bd;var PN="PopoverAnchor",cD=p.forwardRef((e,r)=>{const{__scopePopover:s,...a}=e,o=ri(PN,s),c=dl(s),{onCustomAnchorAdd:u,onCustomAnchorRemove:f}=o;return p.useEffect(()=>(u(),()=>f()),[u,f]),t.jsx(gd,{...c,...a,ref:r})});cD.displayName=PN;var TN="PopoverTrigger",EN=p.forwardRef((e,r)=>{const{__scopePopover:s,...a}=e,o=ri(TN,s),c=dl(s),u=lt(r,o.triggerRef),f=t.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ON(o.open),...a,ref:u,onClick:Fe(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?f:t.jsx(gd,{asChild:!0,...c,children:f})});EN.displayName=TN;var $h="PopoverPortal",[dD,uD]=CN($h,{forceMount:void 0}),_N=e=>{const{__scopePopover:r,forceMount:s,children:a,container:o}=e,c=ri($h,r);return t.jsx(dD,{scope:r,forceMount:s,children:t.jsx(En,{present:s||c.open,children:t.jsx(el,{asChild:!0,container:o,children:a})})})};_N.displayName=$h;var ka="PopoverContent",AN=p.forwardRef((e,r)=>{const s=uD(ka,e.__scopePopover),{forceMount:a=s.forceMount,...o}=e,c=ri(ka,e.__scopePopover);return t.jsx(En,{present:a||c.open,children:c.modal?t.jsx(mD,{...o,ref:r}):t.jsx(hD,{...o,ref:r})})});AN.displayName=ka;var fD=Ni("PopoverContent.RemoveScroll"),mD=p.forwardRef((e,r)=>{const s=ri(ka,e.__scopePopover),a=p.useRef(null),o=lt(r,a),c=p.useRef(!1);return p.useEffect(()=>{const u=a.current;if(u)return mh(u)},[]),t.jsx(jd,{as:fD,allowPinchZoom:!0,children:t.jsx(RN,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(e.onCloseAutoFocus,u=>{u.preventDefault(),c.current||s.triggerRef.current?.focus()}),onPointerDownOutside:Fe(e.onPointerDownOutside,u=>{const f=u.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,g=f.button===2||h;c.current=g},{checkForDefaultPrevented:!1}),onFocusOutside:Fe(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),hD=p.forwardRef((e,r)=>{const s=ri(ka,e.__scopePopover),a=p.useRef(!1),o=p.useRef(!1);return t.jsx(RN,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(a.current||s.triggerRef.current?.focus(),c.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(a.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;s.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),RN=p.forwardRef((e,r)=>{const{__scopePopover:s,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:x,...y}=e,w=ri(ka,s),k=dl(s);return fh(),t.jsx(yd,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:c,children:t.jsx(_a,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:x,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:g,onDismiss:()=>w.onOpenChange(!1),children:t.jsx(lh,{"data-state":ON(w.open),role:"dialog",id:w.contentId,...k,...y,ref:r,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),IN="PopoverClose",pD=p.forwardRef((e,r)=>{const{__scopePopover:s,...a}=e,o=ri(IN,s);return t.jsx($e.button,{type:"button",...a,ref:r,onClick:Fe(e.onClick,()=>o.onOpenChange(!1))})});pD.displayName=IN;var gD="PopoverArrow",xD=p.forwardRef((e,r)=>{const{__scopePopover:s,...a}=e,o=dl(s);return t.jsx(ch,{...o,...a,ref:r})});xD.displayName=gD;function ON(e){return e?"open":"closed"}var vD=kN,yD=EN,bD=_N,DN=AN;const jD=vD,wD=yD,MN=p.forwardRef(({className:e,align:r="center",sideOffset:s=4,...a},o)=>t.jsx(bD,{children:t.jsx(DN,{ref:o,align:r,sideOffset:s,className:Te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...a})}));MN.displayName=DN.displayName;function ND({open:e,onOpenChange:r,currentServerName:s,hasSecretConfig:a}){const{toast:o}=Vt(),c=Or(),[u,f]=p.useState(s||""),[h,g]=p.useState(""),[x,y]=p.useState(!1),{data:w=[],isLoading:k}=pt({queryKey:["/api/servers/list"],enabled:e&&!a}),C=Ke({mutationFn:async T=>await(await Ct("POST","/api/server/configure",T)).json(),onSuccess:T=>{o({title:"Server configured successfully",description:"Your server name has been saved."}),T&&T.requiresRefresh?(o({title:"Server context switched",description:"Refreshing to load new server data..."}),c.clear(),setTimeout(()=>{window.location.reload()},1e3)):c.invalidateQueries({queryKey:["/api/server/info"]}),r(!1)},onError:T=>{o({title:"Configuration failed",description:T.message||"Failed to configure server",variant:"destructive"})}}),b=T=>{if(T.preventDefault(),!u.trim()){o({title:"Server required",description:"Please select a server",variant:"destructive"});return}C.mutate({serverName:u.trim(),description:h.trim()||void 0})},j=w.find(T=>T.name===u);return t.jsx(Qt,{open:e,onOpenChange:r,children:t.jsxs(Ft,{className:"sm:max-w-[500px]","data-testid":"dialog-server-config",children:[t.jsxs(Lt,{children:[t.jsxs(Bt,{className:"flex items-center gap-2",children:[t.jsx(Us,{className:"h-5 w-5"}),"Server Configuration"]}),t.jsx(ja,{children:"Configure your server name and description. This will be used to identify this server instance."})]}),a&&t.jsxs(Er,{"data-testid":"alert-secret-configured",children:[t.jsx(dn,{className:"h-4 w-4"}),t.jsx(_r,{children:"Server name is configured via environment secrets (SERVER_NAME) and cannot be changed through the UI."})]}),!a&&t.jsxs("form",{onSubmit:b,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(we,{"data-testid":"label-server-name",children:"Select Server *"}),k?t.jsxs("div",{className:"flex items-center justify-center p-4 border rounded-md",children:[t.jsx(hm,{className:"h-4 w-4 animate-spin mr-2"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading servers..."})]}):t.jsxs(jD,{open:x,onOpenChange:y,children:[t.jsx(wD,{asChild:!0,children:t.jsxs(z,{variant:"outline",role:"combobox","aria-expanded":x,className:"w-full justify-between",disabled:C.isPending,"data-testid":"button-server-select",children:[u?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(iv,{className:"h-4 w-4"}),t.jsx("span",{children:u}),j&&t.jsxs(Xe,{variant:"secondary",className:"ml-auto",children:[j.currentBots,"/",j.totalBots]})]}):t.jsx("span",{className:"text-muted-foreground",children:"Select a server..."}),t.jsx(Zm,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),t.jsx(MN,{className:"w-full p-0",align:"start",children:t.jsxs(yN,{children:[t.jsx(bN,{placeholder:"Search servers...",className:"h-9"}),t.jsx(wN,{children:"No servers found."}),t.jsx(jN,{className:"max-h-[200px]",children:t.jsx(NN,{children:w.map(T=>t.jsxs(SN,{value:T.name,onSelect:()=>{f(T.name),y(!1)},className:"flex items-center justify-between","data-testid":`option-${T.name}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(iv,{className:"h-4 w-4"}),t.jsx("span",{children:T.name})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Xe,{variant:T.currentBots===0?"secondary":T.remainingBots===0?"destructive":"default",className:"text-xs",children:[T.currentBots,"/",T.totalBots]}),T.remainingBots>0&&t.jsxs("span",{className:"text-xs text-green-600",children:[T.remainingBots," free"]})]})]},T.name))})})]})})]}),j&&t.jsx("div",{className:"text-sm text-muted-foreground p-2 bg-muted rounded",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{children:["Bot Usage: ",j.currentBots,"/",j.totalBots]}),t.jsxs("span",{className:j.remainingBots>0?"text-green-600":"text-red-600",children:[j.remainingBots," slots available"]})]})}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose from Server1 to Server100. Servers with fewer bots are shown first."})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(we,{htmlFor:"description","data-testid":"label-description",children:"Description (Optional)"}),t.jsx(fs,{id:"description","data-testid":"textarea-description",value:h,onChange:T=>g(T.target.value),placeholder:"Describe the purpose of this server...",disabled:C.isPending,rows:3})]}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx(z,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:C.isPending,"data-testid":"button-cancel",children:"Cancel"}),t.jsxs(z,{type:"submit",disabled:C.isPending||!u.trim(),"data-testid":"button-save-config",children:[C.isPending&&t.jsx(hm,{className:"mr-2 h-4 w-4 animate-spin"}),"Switch to ",u]})]})]}),a&&t.jsx("div",{className:"flex justify-end",children:t.jsx(z,{onClick:()=>r(!1),"data-testid":"button-close",children:"Close"})})]})})}var Vh="Progress",zh=100,[SD,sM]=zr(Vh),[CD,kD]=SD(Vh),FN=p.forwardRef((e,r)=>{const{__scopeProgress:s,value:a=null,max:o,getValueLabel:c=PD,...u}=e;(o||o===0)&&!dy(o)&&console.error(TD(`${o}`,"Progress"));const f=dy(o)?o:zh;a!==null&&!uy(a,f)&&console.error(ED(`${a}`,"Progress"));const h=uy(a,f)?a:null,g=id(h)?c(h,f):void 0;return t.jsx(CD,{scope:s,value:h,max:f,children:t.jsx($e.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":id(h)?h:void 0,"aria-valuetext":g,role:"progressbar","data-state":$N(h,f),"data-value":h??void 0,"data-max":f,...u,ref:r})})});FN.displayName=Vh;var LN="ProgressIndicator",BN=p.forwardRef((e,r)=>{const{__scopeProgress:s,...a}=e,o=kD(LN,s);return t.jsx($e.div,{"data-state":$N(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...a,ref:r})});BN.displayName=LN;function PD(e,r){return`${Math.round(e/r*100)}%`}function $N(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function id(e){return typeof e=="number"}function dy(e){return id(e)&&!isNaN(e)&&e>0}function uy(e,r){return id(e)&&!isNaN(e)&&e<=r&&e>=0}function TD(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${zh}\`.`}function ED(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${zh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var VN=FN,_D=BN;const Lm=p.forwardRef(({className:e,value:r,...s},a)=>t.jsx(VN,{ref:a,className:Te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:t.jsx(_D,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));Lm.displayName=VN.displayName;function AD(){const{data:e,isLoading:r}=pt({queryKey:["/api/servers/all"],refetchInterval:5e3}),s=e?.servers||[],a=(y,w,k)=>y!=="active"?t.jsx(a2,{className:"h-4 w-4 text-red-500"}):w>=k?t.jsx(dn,{className:"h-4 w-4 text-yellow-500"}):t.jsx(o2,{className:"h-4 w-4 text-green-500"}),o=(y,w,k)=>y!=="active"?t.jsx(Xe,{variant:"destructive",children:"Inactive"}):w>=k?t.jsx(Xe,{variant:"secondary",children:"Full"}):w===0?t.jsx(Xe,{variant:"outline",children:"Empty"}):t.jsx(Xe,{variant:"default",children:"Active"}),c=y=>y>=90?"bg-red-500":y>=70?"bg-yellow-500":"bg-green-500",u=s.length,f=s.filter(y=>y.serverStatus==="active").length,h=s.reduce((y,w)=>y+w.currentBots,0),g=s.reduce((y,w)=>y+w.maxBots,0),x=g>0?Math.round(h/g*100):0;return r?t.jsx("div",{className:"space-y-6",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((y,w)=>t.jsx(se,{children:t.jsx(ae,{className:"p-6",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})})},w))})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(se,{"data-testid":"card-total-servers",children:t.jsx(ae,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Servers"}),t.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-servers",children:u})]}),t.jsx(Us,{className:"h-8 w-8 text-muted-foreground"})]})})}),t.jsx(se,{"data-testid":"card-active-servers",children:t.jsx(ae,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Servers"}),t.jsx("p",{className:"text-2xl font-bold text-green-600","data-testid":"text-active-servers",children:f})]}),t.jsx(Ym,{className:"h-8 w-8 text-muted-foreground"})]})})}),t.jsx(se,{"data-testid":"card-total-bots",children:t.jsx(ae,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Bots"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600","data-testid":"text-total-bots",children:h})]}),t.jsx(os,{className:"h-8 w-8 text-muted-foreground"})]})})}),t.jsx(se,{"data-testid":"card-avg-utilization",children:t.jsx(ae,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg. Utilization"}),t.jsxs("p",{className:"text-2xl font-bold","data-testid":"text-avg-utilization",children:[x,"%"]})]}),t.jsx("div",{className:"text-right",children:t.jsx(Lm,{value:x,className:"w-16 h-2","data-testid":"progress-avg-utilization"})})]})})})]}),t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(Us,{className:"h-5 w-5"}),"Server Status Overview"]}),t.jsx(We,{children:"Real-time status of all registered servers in the multi-tenant system"})]}),t.jsxs(ae,{children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.map(y=>{const w=y.maxBots>0?Math.round(y.currentBots/y.maxBots*100):0;return t.jsx(se,{className:"relative overflow-hidden","data-testid":`card-server-${y.serverName}`,children:t.jsxs(ae,{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[a(y.serverStatus,y.currentBots,y.maxBots),t.jsx("h3",{className:"font-semibold text-sm","data-testid":`text-server-name-${y.serverName}`,children:y.serverName})]}),t.jsx("div",{"data-testid":`badge-status-${y.serverName}`,children:o(y.serverStatus,y.currentBots,y.maxBots)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Bots"}),t.jsxs("span",{className:"font-medium","data-testid":`text-bot-count-${y.serverName}`,children:[y.currentBots,"/",y.maxBots]})]}),t.jsx(Lm,{value:w,className:`h-2 ${c(w)}`,"data-testid":`progress-utilization-${y.serverName}`}),t.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[t.jsxs("span",{"data-testid":`text-utilization-${y.serverName}`,children:["Utilization: ",w,"%"]}),t.jsxs("span",{"data-testid":`text-slots-free-${y.serverName}`,children:[y.availableSlots," slots free"]})]}),y.description&&t.jsx("p",{className:"text-xs text-muted-foreground truncate mt-2",title:y.description,"data-testid":`text-description-${y.serverName}`,children:y.description})]}),y.currentBots>=y.maxBots&&t.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-bl-lg"})]})},y.serverName)})}),s.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(Us,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-lg font-medium mb-2",children:"No Servers Registered"}),t.jsx("p",{className:"text-sm",children:"Register your first server to see it here."})]})]})]})]})}function RD(){const{toast:e}=Vt(),r=Or(),[s,a]=p.useState("days"),[o,c]=p.useState("7"),{data:u,isLoading:f}=pt({queryKey:["/api/offer/status"],refetchInterval:1e4}),h=Ke({mutationFn:async C=>{const b=await fetch("/api/offer/configure",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(C)});if(!b.ok)throw new Error("Failed to update offer");return b.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/offer/status"]}),e({title:"Offer updated successfully",description:"The promotional offer settings have been updated."})},onError:()=>{e({title:"Failed to update offer",variant:"destructive"})}}),g=()=>{const C=parseInt(o);if(isNaN(C)||C<=0){e({title:"Invalid duration",description:"Please enter a valid duration value",variant:"destructive"});return}h.mutate({durationType:s,durationValue:C,isActive:!0})},x=()=>{h.mutate({isActive:!1})},y=C=>{const b=Math.floor(C/1e3),j=Math.floor(b/86400),T=Math.floor(b%86400/3600),P=Math.floor(b%3600/60);return j>0?`${j}d ${T}h ${P}m`:T>0?`${T}h ${P}m`:`${P}m`},w=C=>new Date(C).toLocaleString(),k=u?.isActive!==void 0;return t.jsx("div",{className:"space-y-6",children:t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(Io,{className:"h-6 w-6 text-yellow-500","data-testid":"icon-gift-header"}),"Promotional Offer Management"]}),t.jsx(We,{children:"Configure auto-approval offers for bot registrations"})]}),t.jsxs(ae,{className:"space-y-6",children:[t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-200","data-testid":"text-env-status",children:"Promotional Offer Feature"}),t.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300","data-testid":"text-env-value",children:["Status: ",k?"Available":"Loading..."]})]}),t.jsx(Xe,{variant:k?"default":"outline",className:k?"bg-green-500":"","data-testid":"badge-env-status",children:k?"Ready":"Loading"})]}),t.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-2","data-testid":"text-env-warning",children:"ℹ️ Configure offer duration and activate promotional auto-approval below"})]}),u?.config&&t.jsxs("div",{className:`p-4 rounded-lg border ${u.isActive?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(u0,{className:`h-5 w-5 ${u.isActive?"text-green-600 animate-pulse":"text-gray-500"}`,"data-testid":"icon-clock-status"}),t.jsxs("p",{className:"font-medium","data-testid":"text-offer-status-title",children:["Offer Status: ",u.isActive?"Active":"Inactive"]})]}),t.jsx(Xe,{variant:u.isActive?"default":"outline",className:u.isActive?"bg-green-500":"","data-testid":"badge-offer-status",children:u.isActive?"Active":"Inactive"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{"data-testid":"text-offer-duration",children:[t.jsx("p",{className:"text-muted-foreground",children:"Duration:"}),t.jsxs("p",{className:"font-medium",children:[u.config.durationValue," ",u.config.durationType]})]}),t.jsxs("div",{"data-testid":"text-offer-start",children:[t.jsx("p",{className:"text-muted-foreground",children:"Start Date:"}),t.jsx("p",{className:"font-medium",children:w(u.config.startDate)})]}),t.jsxs("div",{"data-testid":"text-offer-end",children:[t.jsx("p",{className:"text-muted-foreground",children:"End Date:"}),t.jsx("p",{className:"font-medium",children:w(u.config.endDate)})]}),u.timeRemaining&&t.jsxs("div",{"data-testid":"text-offer-remaining",children:[t.jsx("p",{className:"text-muted-foreground",children:"Time Remaining:"}),t.jsx("p",{className:"font-medium text-orange-600",children:y(u.timeRemaining)})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"font-medium flex items-center gap-2","data-testid":"text-config-title",children:[t.jsx(dd,{className:"h-5 w-5"}),"Configure New Offer"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(we,{htmlFor:"duration-type","data-testid":"label-duration-type",children:"Duration Type"}),t.jsxs(mr,{value:s,onValueChange:a,children:[t.jsx(nr,{id:"duration-type","data-testid":"select-duration-type",children:t.jsx(hr,{})}),t.jsxs(sr,{children:[t.jsx(Ee,{value:"days","data-testid":"option-days",children:"Days"}),t.jsx(Ee,{value:"months","data-testid":"option-months",children:"Months"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(we,{htmlFor:"duration-value","data-testid":"label-duration-value",children:"Duration Value"}),t.jsx(Pt,{id:"duration-value",type:"number",min:"1",value:o,onChange:C=>c(C.target.value),placeholder:"Enter duration","data-testid":"input-duration-value"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(z,{onClick:g,disabled:!k||h.isPending||u?.isActive,className:"flex-1","data-testid":"button-activate-offer",children:h.isPending?"Activating...":"Activate Offer"}),u?.isActive&&t.jsx(z,{variant:"outline",onClick:x,disabled:h.isPending,className:"flex-1","data-testid":"button-deactivate-offer",children:h.isPending?"Deactivating...":"Deactivate Offer"})]}),t.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border border-yellow-200 dark:border-yellow-800",children:t.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200","data-testid":"text-auto-approval-info",children:[t.jsx("strong",{children:"Auto-Approval:"})," When an offer is active, all bot registrations will be automatically approved and placed in the selected server's approved bots list. Bots will auto-start on server restart."]})})]})]})]})})}function ID(){const{toast:e}=Vt(),r=Or(),{logout:s}=sl(),[a,o]=p.useState(!1),[c,u]=p.useState(!1),{data:f=[],isLoading:h}=pt({queryKey:["/api/admin/bot-instances"],queryFn:async()=>{const P=await fetch("/api/admin/bot-instances",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!P.ok)throw new Error("Failed to fetch bot instances");return await P.json()}}),{data:g=[],isLoading:x}=pt({queryKey:["/api/admin/activities"],queryFn:async()=>{const P=await fetch("/api/admin/activities",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!P.ok)throw new Error("Failed to fetch activities");return await P.json()}}),{data:y}=pt({queryKey:["/api/admin/stats"],queryFn:async()=>{const P=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!P.ok)throw new Error("Failed to fetch stats");return P.json()}}),{data:w={}}=pt({queryKey:["/api/server/info"]}),k=Ke({mutationFn:async P=>{const R=await fetch(`/api/admin/bot-instances/${P}/start`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!R.ok)throw new Error("Failed to start bot");return R.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot started successfully"})},onError:()=>{e({title:"Failed to start bot",variant:"destructive"})}}),C=Ke({mutationFn:async P=>{const R=await fetch(`/api/admin/bot-instances/${P}/stop`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!R.ok)throw new Error("Failed to stop bot");return R.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot stopped successfully"})},onError:()=>{e({title:"Failed to stop bot",variant:"destructive"})}}),b=Ke({mutationFn:async P=>{const R=await fetch(`/api/admin/bot-instances/${P}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!R.ok){const F=await R.text();throw new Error(F||"Failed to delete bot")}return R.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot deleted successfully"})},onError:()=>{e({title:"Failed to delete bot",variant:"destructive"})}}),j=P=>{const R={online:"default",offline:"secondary",loading:"outline",error:"destructive",qr_code:"outline"};return t.jsx(Xe,{variant:R[P]||"secondary","data-testid":`status-${P}`,children:P.replace("_"," ").toUpperCase()})},T=P=>new Date(P).toLocaleString();return t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ws,{className:"h-6 w-6 text-red-600"}),t.jsx("h1",{className:"text-3xl font-bold","data-testid":"admin-console-title",children:"Admin Console"})]}),t.jsxs(z,{variant:"outline",onClick:()=>{s(),window.location.href="/"},className:"flex items-center gap-2","data-testid":"button-logout-admin",children:[t.jsx(f0,{className:"h-4 w-4"}),"Logout"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs(se,{children:[t.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Me,{className:"text-sm font-medium",children:"Total Bots"}),t.jsx(os,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(ae,{children:t.jsx("div",{className:"text-2xl font-bold","data-testid":"total-bots",children:y?.totalBots||f.length})})]}),t.jsxs(se,{children:[t.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Me,{className:"text-sm font-medium",children:"Online Bots"}),t.jsx(Ym,{className:"h-4 w-4 text-green-600"})]}),t.jsx(ae,{children:t.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"online-bots",children:f.filter(P=>P.status==="online").length})})]}),t.jsxs(se,{children:[t.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Me,{className:"text-sm font-medium",children:"Total Messages"}),t.jsx(Hk,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(ae,{children:t.jsx("div",{className:"text-2xl font-bold","data-testid":"total-messages",children:f.reduce((P,R)=>P+(R.messagesCount||0),0)})})]}),t.jsxs(se,{children:[t.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Me,{className:"text-sm font-medium",children:"Commands Used"}),t.jsx(i2,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(ae,{children:t.jsx("div",{className:"text-2xl font-bold","data-testid":"total-commands",children:f.reduce((P,R)=>P+(R.commandsCount||0),0)})})]})]}),t.jsxs(Ma,{defaultValue:"overview",className:"space-y-4",children:[t.jsxs(Ii,{children:[t.jsx(Et,{value:"overview","data-testid":"tab-overview",children:"Server Overview"}),t.jsx(Et,{value:"bots","data-testid":"tab-bots",children:"Bot Management"}),t.jsx(Et,{value:"activities","data-testid":"tab-activities",children:"Recent Activity"}),t.jsx(Et,{value:"server","data-testid":"tab-server",children:"Server Config"}),t.jsxs(Et,{value:"offer","data-testid":"tab-offer",children:[t.jsx(Io,{className:"h-4 w-4 mr-2"}),"Promotional Offers"]}),t.jsx(Et,{value:"master","data-testid":"tab-master",children:"Master Control"})]}),t.jsx(jt,{value:"overview",className:"space-y-4",children:t.jsx(AD,{})}),t.jsx(jt,{value:"bots",className:"space-y-4",children:t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{children:"Bot Instance Management"}),t.jsx(We,{children:"Manage all WhatsApp bot instances across the system"})]}),t.jsx(ae,{children:h?t.jsx("div",{className:"text-center py-8",children:"Loading bot instances..."}):t.jsxs(rd,{children:[t.jsx(nd,{children:t.jsxs($s,{children:[t.jsx(Mt,{children:"Name"}),t.jsx(Mt,{children:"Phone Number"}),t.jsx(Mt,{children:"Status"}),t.jsx(Mt,{children:"Messages"}),t.jsx(Mt,{children:"Commands"}),t.jsx(Mt,{children:"Last Activity"}),t.jsx(Mt,{children:"Actions"})]})}),t.jsx(sd,{children:f.map(P=>t.jsxs($s,{children:[t.jsx(It,{className:"font-medium","data-testid":`bot-name-${P.id}`,children:P.name}),t.jsx(It,{"data-testid":`bot-phone-${P.id}`,children:P.phoneNumber||"Not set"}),t.jsx(It,{children:j(P.status)}),t.jsx(It,{"data-testid":`bot-messages-${P.id}`,children:P.messagesCount||0}),t.jsx(It,{"data-testid":`bot-commands-${P.id}`,children:P.commandsCount||0}),t.jsx(It,{"data-testid":`bot-activity-${P.id}`,children:P.lastActivity?T(P.lastActivity):"Never"}),t.jsx(It,{children:t.jsxs("div",{className:"flex gap-2",children:[P.status==="offline"||P.status==="error"?t.jsx(z,{size:"sm",variant:"outline",onClick:()=>k.mutate(P.id),disabled:k.isPending,"data-testid":`button-start-${P.id}`,children:t.jsx(Oo,{className:"h-4 w-4"})}):t.jsx(z,{size:"sm",variant:"outline",onClick:()=>C.mutate(P.id),disabled:C.isPending,"data-testid":`button-stop-${P.id}`,children:t.jsx(Do,{className:"h-4 w-4"})}),t.jsxs(OO,{children:[t.jsx(DO,{asChild:!0,children:t.jsx(z,{size:"sm",variant:"destructive","data-testid":`button-delete-${P.id}`,children:t.jsx(n2,{className:"h-4 w-4"})})}),t.jsxs(nN,{children:[t.jsxs(sN,{children:[t.jsx(aN,{children:"Delete Bot Instance"}),t.jsxs(oN,{children:['Are you sure you want to delete "',P.name,'"? This action cannot be undone.']})]}),t.jsxs(iN,{children:[t.jsx(cN,{children:"Cancel"}),t.jsx(lN,{onClick:()=>b.mutate(P.id),"data-testid":`confirm-delete-${P.id}`,children:"Delete"})]})]})]})]})})]},P.id))})]})})]})}),t.jsx(jt,{value:"activities",className:"space-y-4",children:t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{children:"System Activity Monitor"}),t.jsx(We,{children:"Recent activities across all bot instances"})]}),t.jsx(ae,{children:x?t.jsx("div",{className:"text-center py-8",children:"Loading activities..."}):t.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto","data-testid":"activities-list",children:g.length===0?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No recent activities"}):g.map(P=>t.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Xe,{variant:"outline","data-testid":`activity-type-${P.type}`,children:P.type.replace("_"," ").toUpperCase()}),t.jsx("span",{className:"text-sm text-muted-foreground",children:T(P.createdAt)})]}),t.jsx("p",{className:"text-sm","data-testid":`activity-description-${P.id}`,children:P.description}),P.metadata&&typeof P.metadata=="object"&&Object.keys(P.metadata).length>0?t.jsxs("details",{className:"text-xs",children:[t.jsx("summary",{className:"cursor-pointer text-muted-foreground",children:"View details"}),t.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs overflow-x-auto",children:JSON.stringify(P.metadata,null,2)})]}):null]},P.id))})})]})}),t.jsx(jt,{value:"server",className:"space-y-4",children:t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{children:"Server Configuration"}),t.jsx(We,{children:"Configure server settings and tenancy management"})]}),t.jsx(ae,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Current Server"}),t.jsx("p",{className:"text-2xl font-bold text-primary",children:w?.serverName||"default-server"}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Bot Slots: ",w?.currentBots||0,"/",w?.maxBots||0]})]}),t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Configuration Status"}),t.jsx("p",{className:"text-sm",children:w?.hasSecretConfig?t.jsx("span",{className:"text-green-600",children:"✅ Environment Configured"}):t.jsx("span",{className:"text-yellow-600",children:"⚠️ Manual Configuration"})})]})]}),t.jsx(z,{onClick:()=>u(!0),className:"w-full","data-testid":"button-configure-server-admin",children:"⚙️ Configure Server Settings"}),t.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Switch between server instances and manage tenancy settings"})]})})]})}),t.jsx(jt,{value:"offer",className:"space-y-4",children:t.jsx(RD,{})}),t.jsx(jt,{value:"master",className:"space-y-4",children:t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{children:"Master Control Panel"}),t.jsx(We,{children:"Cross-tenancy bot management using God Registry"})]}),t.jsxs(ae,{children:[t.jsx(z,{onClick:()=>o(!0),className:"w-full","data-testid":"button-open-master-control",children:"🎛️ Open Master Control Panel"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Manage bots across all tenancies from a centralized interface"})]})]})})]}),t.jsx(dN,{open:a,onClose:()=>o(!1)}),t.jsx(ND,{open:c,onOpenChange:u,currentServerName:w?.serverName||"",hasSecretConfig:w?.hasSecretConfig||!1})]})}function OD(){const[e]=p.useState(!0);return t.jsx(dN,{open:e,onClose:()=>{}})}function DD(){return t.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:t.jsx(se,{className:"w-full max-w-md mx-4",children:t.jsxs(ae,{className:"pt-6",children:[t.jsxs("div",{className:"flex mb-4 gap-2",children:[t.jsx(Zk,{className:"h-8 w-8 text-red-500"}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),t.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function MD(){const{toast:e}=Vt(),[r,s]=p.useState(""),[a,o]=p.useState("session"),[c,u]=p.useState(!1),[f,h]=p.useState(null),g=[{step:1,title:"Enter Session ID",description:"Paste your bot's Base64 session credentials to verify ownership",icon:t.jsx(Ws,{className:"h-5 w-5"}),completed:a!=="session"},{step:2,title:"Check Connection",description:"Verify if your bot is currently active and connected",icon:t.jsx(Ac,{className:"h-5 w-5"}),completed:a==="verified"},{step:3,title:"Access Granted",description:"Full access to bot management features",icon:t.jsx(Yr,{className:"h-5 w-5"}),completed:c}],x=Ke({mutationFn:async C=>{const b=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:C.trim()})});if(!b.ok){const j=await b.json();throw new Error(j.message||"Session verification failed")}return b.json()},onSuccess:C=>{h(C),C.botActive?(o("verified"),u(!0),e({title:"Bot Active!",description:`Your bot ${C.phoneNumber} is connected and ready to manage.`})):(o("inactive"),e({title:"Bot Inactive",description:"Your bot is not currently connected. Please provide updated credentials.",variant:"destructive"}))},onError:C=>{e({title:"Verification Failed",description:C.message,variant:"destructive"})}}),y=Ke({mutationFn:async C=>{const b=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:C.trim()})});if(!b.ok){const j=await b.json();throw new Error(j.message||"Session verification failed")}return b.json()},onSuccess:C=>{h(C),C.botActive?(o("verified"),u(!0),e({title:"Bot Active!",description:`Your bot ${C.phoneNumber} is now connected and ready to manage.`})):e({title:"Bot Still Inactive",description:"The bot is still not connected. Please ensure the credentials are current.",variant:"destructive"})},onError:C=>{e({title:"Verification Failed",description:C.message,variant:"destructive"})}}),w=()=>{if(!r.trim()){e({title:"Session ID Required",description:"Please paste your bot's session credentials",variant:"destructive"});return}x.mutate(r)},k=()=>{if(!r.trim()){e({title:"Session ID Required",description:"Please paste updated session credentials",variant:"destructive"});return}y.mutate(r)};return t.jsx("div",{className:"min-h-screen w-full p-6",children:t.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Bot Session Verification"}),t.jsx("p",{className:"text-muted-foreground",children:"Verify your bot ownership with session credentials to access management features"})]}),t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(Ws,{className:"h-5 w-5"}),"Verification Process"]}),t.jsx(We,{children:"Follow these steps to verify your bot session and access management features"})]}),t.jsx(ae,{children:t.jsx("div",{className:"space-y-4",children:g.map(C=>t.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border",children:[t.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${C.completed?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:C.completed?t.jsx(Yr,{className:"h-4 w-4"}):C.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium",children:C.title}),t.jsx("p",{className:"text-sm text-muted-foreground",children:C.description})]}),t.jsx(Xe,{variant:C.completed?"default":"outline",children:C.completed?"Completed":"Pending"})]},C.step))})})]}),a==="session"&&t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(Ws,{className:"h-5 w-5"}),"Enter Session ID from WhatsApp"]}),t.jsx(We,{children:"Paste the SESSION ID you received in WhatsApp (NOT the pairing code)"})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md mb-3",children:[t.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"⚠️ Important: Don't confuse the pairing code with the Session ID"}),t.jsxs("ul",{className:"text-xs text-blue-800 dark:text-blue-200 mt-2 space-y-1 ml-4 list-disc",children:[t.jsx("li",{children:'Pairing Code: Used ONLY for linking WhatsApp (e.g., "ABC-123")'}),t.jsx("li",{children:"Session ID: Long base64 string sent to WhatsApp after pairing succeeds"}),t.jsx("li",{children:"You need the SESSION ID here, not the pairing code"})]})]}),t.jsxs("div",{children:[t.jsx(we,{htmlFor:"session",children:"Session ID (Base64 - from WhatsApp message)"}),t.jsx("textarea",{id:"session",placeholder:"Paste the long SESSION ID from your WhatsApp message here (starts with 'eyJ...' or similar base64)",value:r,onChange:C=>s(C.target.value),className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm","data-testid":"input-session-id"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This will verify ownership and check if your bot is currently active"})]}),t.jsx(z,{onClick:w,disabled:x.isPending,className:"w-full","data-testid":"button-verify-session",children:x.isPending?"Verifying...":"Verify Session & Check Connection"})]})]}),a==="inactive"&&t.jsxs(se,{className:"border-orange-200",children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(dn,{className:"h-5 w-5 text-orange-500"}),"Bot Connection Inactive"]}),t.jsxs(We,{children:["Your bot ",f?.phoneNumber," was found but is not currently connected. Please provide updated session credentials."]})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(we,{htmlFor:"newSession",children:"Updated Session ID / Base64 Credentials"}),t.jsx("textarea",{id:"newSession",placeholder:"Paste your updated base64 session credentials here...",value:r,onChange:C=>s(C.target.value),className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm","data-testid":"input-new-session-id"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Provide fresh session credentials to reactivate your bot connection"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(z,{onClick:k,disabled:y.isPending,className:"flex-1","data-testid":"button-retry-verification",children:y.isPending?"Updating...":"Update & Verify Connection"}),t.jsx(z,{variant:"outline",onClick:()=>{o("session"),s(""),h(null)},children:"Start Over"})]})]})]}),a==="verified"&&t.jsx(se,{className:"border-green-200",children:t.jsx(ae,{className:"pt-6",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:t.jsx(Yr,{className:"h-8 w-8 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-green-800",children:"Bot Connection Verified!"}),t.jsxs("p",{className:"text-green-600 mt-1",children:["Your bot ",f?.phoneNumber," is active and ready to manage."]})]}),t.jsxs("div",{className:"flex gap-2 justify-center",children:[t.jsx(z,{asChild:!0,children:t.jsx("a",{href:"/guest/bot-management",children:"Manage Your Bots"})}),t.jsx(z,{variant:"outline",asChild:!0,children:t.jsx("a",{href:"/guest/credentials",children:"Update Credentials"})})]})]})})}),t.jsx(se,{className:"border-orange-200",children:t.jsx(ae,{className:"pt-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(dn,{className:"h-5 w-5 text-orange-500 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-orange-800",children:"Security Notice"}),t.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Your session ID contains sensitive authentication information. Only enter it on trusted platforms and never share it with others. This verification ensures you have legitimate access to the bot."})]})]})})})]})})}function FD(){const{toast:e}=Vt(),r=Or(),[,s]=Pa(),[a,o]=p.useState(""),[c,u]=p.useState(""),[f,h]=p.useState("session"),[g,x]=p.useState(null),[y,w]=p.useState(null),[k,C]=p.useState(!1),[b,j]=p.useState(null),[T,P]=p.useState(!1),R=Ke({mutationFn:async N=>{try{const Y=N.trim(),I=atob(Y);JSON.parse(I)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}const B=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:N.trim()})});if(!B.ok){const Y=await B.json();throw new Error(Y.message||"Session verification failed")}return B.json()},onSuccess:N=>{if(j(N),o(N.phoneNumber),x(N.token),N.success&&N.botActive&&!N.credentialValidationFailed)h("dashboard"),w(N.botId),e({title:"Bot Active!",description:`Your bot ${N.phoneNumber} is connected and ready to manage.`});else if(N.success&&N.connectionUpdated&&!N.credentialValidationFailed)h("dashboard"),w(N.botId),e({title:"Session Updated!",description:"New session ID tested successfully! Your bot is reconnecting and a success message has been sent to your WhatsApp."}),u(""),setTimeout(()=>{r.invalidateQueries({queryKey:["/api/guest/server-bots",N.phoneNumber]})},3e3);else{h("inactive");let B="Your bot is not currently connected. Please provide updated credentials.";N.credentialValidationFailed||N.message&&N.message.includes("validation failed")?B="The credentials you provided are invalid or expired. Please provide fresh session credentials.":N.message&&N.message.includes("Connection Failure")||N.message.includes("401")?B="Connection test failed - your credentials are invalid or expired. Please get a new session ID.":N.message&&N.message.includes("failed")&&(B="Connection test failed. Please ensure your credentials are current and valid."),e({title:"Bot Inactive",description:B,variant:"destructive"})}},onError:N=>{let B=N.message;B.includes("Cannot extract phone number")?B="❌ Invalid session ID: Cannot extract phone number from the credentials. Please ensure you're using valid WhatsApp session data.":B.includes("Invalid session ID format")&&(B="❌ Invalid session ID format: Please ensure you're pasting valid base64-encoded WhatsApp session data."),e({title:"Verification Failed",description:B,variant:"destructive"})}}),F=Ke({mutationFn:async N=>{try{const Y=N.trim(),I=atob(Y);JSON.parse(I)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}const B=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:N.trim()})});if(!B.ok){const Y=await B.json();throw new Error(Y.message||"Session update failed")}return B.json()},onSuccess:N=>{if(j(N),o(N.phoneNumber),x(N.token),N.success&&!N.credentialValidationFailed){h("dashboard"),w(N.botId);let B="Session Updated!",Y="";N.crossServer?Y=`✅ Credentials updated successfully for bot on ${N.botServer}! Success message sent to your WhatsApp.`:N.botActive?Y=`✅ New session ID updated successfully! Your bot ${N.phoneNumber} is now connected and ready to manage.`:N.connectionUpdated?Y="✅ New session ID tested successfully! Your bot is reconnecting and a success message has been sent to your WhatsApp.":Y="✅ Credentials updated successfully and success message sent to your WhatsApp.",e({title:B,description:Y}),u(""),setTimeout(()=>{r.invalidateQueries({queryKey:["/api/guest/server-bots",N.phoneNumber]})},3e3)}else{let B="New session update failed - connection could not be verified";N.credentialValidationFailed||N.message&&N.message.includes("validation failed")?B="The new credentials you provided are invalid or expired. Please get a fresh session ID.":N.message&&N.message.includes("Connection Failure")||N.message.includes("401")?B="Connection test failed - your new credentials are invalid or expired. Please get a fresh session ID.":N.message&&N.message.includes("failed")&&(B="Connection test failed. Please ensure your new credentials are current and valid."),e({title:"Update Failed",description:B,variant:"destructive"})}},onError:N=>{let B=N.message;B.includes("Cannot extract phone number")?B="❌ Invalid session ID: Cannot extract phone number from the credentials. Please ensure you're using valid WhatsApp session data.":B.includes("Connection timeout")?B="❌ Connection timeout: Your new session ID may be expired or invalid. Please get a fresh session ID.":B.includes("phone number mismatch")?B="❌ Phone number mismatch: The new session ID belongs to a different phone number.":B.includes("Failed to establish connection")?B="❌ Cannot connect with new session ID. Please ensure it's valid and active.":B.includes("Invalid session ID format")&&(B="❌ Invalid session ID format: Please ensure you're pasting valid base64-encoded WhatsApp session data."),e({title:"Update Failed",description:B,variant:"destructive"})}});Ke({mutationFn:async N=>{const B=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:N.trim()})});if(!B.ok){const Y=await B.json();throw new Error(Y.message||"Session verification failed")}return B.json()},onSuccess:N=>{j(N),o(N.phoneNumber),x(N.token),N.botActive?(h("dashboard"),w(N.botId),e({title:"Bot Active!",description:`Your bot ${N.phoneNumber} is now connected and ready to manage.`})):e({title:"Bot Still Inactive",description:"The bot is still not connected. Please ensure the credentials are current.",variant:"destructive"})},onError:N=>{e({title:"Verification Failed",description:N.message,variant:"destructive"})}});const{data:$=[],isLoading:X}=pt({queryKey:["/api/guest/server-bots",a],queryFn:async()=>{if(!a.trim()||f!=="dashboard")return[];const N=a.replace(/[\s\-\(\)\+]/g,""),B=await fetch("/api/guest/search-server-bots",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({phoneNumber:N})});if(!B.ok)return[];const Y=await B.json();return console.log("Bot search response:",Y),(Y.bots||[]).map(O=>({...O,hostingServer:Y.hostingServer||O.hostingServer||O.serverName,currentServer:Y.currentServer,crossServer:O.crossServer||Y.hostingServer!==Y.currentServer}))},enabled:f==="dashboard"&&!!a.trim()&&!!g}),K=Ke({mutationFn:async({action:N,botId:B,phoneNumber:Y})=>{const I=await fetch("/api/guest/server-bot-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:N,botId:B,phoneNumber:Y})});if(!I.ok){const O=await I.json();throw new Error(O.message||`Failed to ${N} bot`)}return I.json()},onSuccess:(N,B)=>{e({title:"Action Successful",description:`Bot ${B.action} completed successfully`}),r.invalidateQueries({queryKey:["/api/guest/server-bots",a]})},onError:N=>{e({title:"Action Failed",description:N.message,variant:"destructive"})}}),te=Ke({mutationFn:async({feature:N,enabled:B,botId:Y})=>{const I=await fetch("/api/guest/server-bot-features",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feature:N,enabled:B,botId:Y,phoneNumber:a})});if(!I.ok){const O=await I.json();throw new Error(O.message||"Failed to update feature")}return I.json()},onSuccess:N=>{const B=N.crossServer?` on ${N.hostingServer}`:"";e({title:"Feature Updated",description:`${N.feature} ${N.enabled?"enabled":"disabled"} successfully${B}`}),r.invalidateQueries({queryKey:["/api/guest/server-bots",a]})},onError:(N,B)=>{let Y=N.message,I="Feature Update Failed";Y.includes("Bot not found")?(I="Bot Not Found",Y="The bot could not be found on the hosting server. It may have been removed."):Y.includes("Only approved bots")?(I="Bot Not Approved",Y="Only approved bots can have features updated. Please contact admin for approval."):Y.includes("Invalid feature name")&&(I="Invalid Feature",Y="The requested feature is not available for this bot."),e({title:I,description:Y,variant:"destructive"})}}),xe=()=>{if(!c.trim()){e({title:"Session ID Required",description:"Please paste your session ID (base64 credentials)",variant:"destructive"});return}R.mutate(c)},he=()=>{if(!c.trim()){e({title:"Session ID Required",description:"Please paste your NEW session credentials",variant:"destructive"});return}u(c.trim()),F.mutate(c.trim())},pe=(N,B)=>{K.mutate({action:N,botId:B.botId,phoneNumber:a})},ee=(N,B,Y)=>{const I=Y.crossServer?{feature:N,enabled:B,botId:Y.botId,phoneNumber:a}:{feature:N,enabled:B,botId:Y.botId};te.mutate(I)},ie=()=>{h("session"),o(""),u(""),x(null),w(null),j(null),P(!1)},H=(N,B)=>{if(B==="pending")return t.jsx(Xe,{variant:"outline",className:"bg-yellow-50 text-yellow-800",children:"Pending Approval"});switch(N){case"online":return t.jsx(Xe,{className:"bg-green-500",children:"Online"});case"offline":return t.jsx(Xe,{variant:"outline",children:"Offline"});case"error":return t.jsx(Xe,{variant:"destructive",children:"Error"});default:return t.jsx(Xe,{variant:"outline",children:N})}},ge=$.filter(N=>N.isActive&&N.isApproved),G=$.filter(N=>N.approvalStatus==="pending"),q=$.filter(N=>!N.isActive||N.approvalStatus==="rejected");return t.jsx("div",{className:"min-h-screen w-full p-6 bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:t.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[t.jsxs("div",{className:"text-center space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx(os,{className:"h-10 w-10 text-blue-600"}),t.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Bot Management Portal"})]}),t.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Manage your WhatsApp bots with secure credential verification"})]}),t.jsx(se,{className:"border-blue-200 bg-blue-50/50 dark:bg-blue-900/20",children:t.jsx(ae,{className:"pt-6",children:t.jsx("div",{className:"flex items-center justify-between",children:[{step:1,title:"Verify Session",icon:Ws,active:f==="session",completed:["dashboard","inactive"].includes(f)},{step:2,title:"Check Connection",icon:Ls,active:f==="inactive",completed:f==="dashboard"},{step:3,title:"Manage Bot",icon:dd,active:f==="dashboard",completed:!1}].map((N,B)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${N.completed?"bg-green-500 border-green-500 text-white":N.active?"bg-blue-500 border-blue-500 text-white":"bg-gray-200 border-gray-300 text-gray-500"}`,children:N.completed?t.jsx(Yr,{className:"h-5 w-5"}):t.jsx(N.icon,{className:"h-5 w-5"})}),t.jsx("div",{className:"ml-3 hidden sm:block",children:t.jsx("p",{className:`text-sm font-medium ${N.active||N.completed?"text-gray-900 dark:text-gray-100":"text-gray-500"}`,children:N.title})}),B<2&&t.jsx("div",{className:`hidden sm:block w-16 h-0.5 mx-4 ${N.completed?"bg-green-500":"bg-gray-300"}`})]},N.step))})})}),f==="session"&&!T&&t.jsxs(se,{className:"border-blue-200",children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(Ws,{className:"h-6 w-6 text-blue-600"}),"Enter Session Credentials"]}),t.jsx(We,{children:"Paste your bot's Base64 session credentials to verify ownership and check connection status"})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Session ID (Base64 Credentials)"}),t.jsx(z,{variant:"ghost",size:"sm",onClick:()=>C(!k),children:k?t.jsx(av,{className:"h-4 w-4"}):t.jsx(ov,{className:"h-4 w-4"})})]}),t.jsx("textarea",{placeholder:"Paste your base64 encoded credentials here...",value:c,onChange:N=>u(N.target.value),className:`w-full h-32 p-3 border rounded-md resize-none font-mono text-sm ${k?"":"filter blur-sm hover:filter-none focus:filter-none"}`,onKeyDown:N=>N.key==="Enter"&&N.ctrlKey&&xe()}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll extract the phone number and check if your bot is currently active"}),t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:[t.jsx("strong",{children:"Need a new session ID?"})," If your credentials are expired:"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(mm,{className:"h-4 w-4"}),t.jsx("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Get NEW SESSION ID"})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(z,{onClick:xe,disabled:R.isPending,size:"lg",className:"flex-1",children:R.isPending?t.jsxs(t.Fragment,{children:[t.jsx(Ls,{className:"h-4 w-4 mr-2 animate-spin"})," Verifying..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"})," Verify Session & Check Connection"]})}),t.jsxs(z,{variant:"outline",onClick:()=>P(!0),size:"lg",className:"flex items-center gap-2",children:[t.jsx(Ac,{className:"h-4 w-4"}),"Use Phone Number"]})]}),t.jsxs(Er,{children:[t.jsx(dn,{className:"h-4 w-4"}),t.jsx(_r,{children:"Your session ID contains sensitive authentication information. Only enter it on trusted platforms and never share it with others."})]})]})]}),f==="session"&&T&&t.jsxs(se,{className:"border-green-200",children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(Ac,{className:"h-6 w-6 text-green-600"}),"Enter Phone Number"]}),t.jsx(We,{children:"Enter your phone number to search for your bot"})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Phone Number (with country code)"}),t.jsx(Pt,{placeholder:"+254700000000",value:a,onChange:N=>{const B=N.target.value.replace(/[\s\-\(\)]/g,"");o(B)},className:"text-lg",autoFocus:!0}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your phone number with country code (+ will be removed automatically)"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(z,{onClick:()=>{if(!a.trim()){e({title:"Phone number required",description:"Please enter your phone number",variant:"destructive"});return}s("/guest/verification")},size:"lg",className:"flex-1",children:[t.jsx(Ac,{className:"h-4 w-4 mr-2"}),"Search Bot by Phone"]}),t.jsx(z,{variant:"outline",onClick:()=>P(!1),size:"lg",children:"Back to Session ID"})]})]})]}),f==="inactive"&&t.jsxs(se,{className:"border-orange-200",children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(dn,{className:"h-6 w-6 text-orange-500"}),"Bot Connection Inactive"]}),t.jsxs(We,{children:["Your bot ",b?.phoneNumber," was found but is not currently connected. Enter a NEW session ID and we'll automatically test the connection and update your bot."]})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Updated Session ID (Base64 Credentials)"}),t.jsx(z,{variant:"ghost",size:"sm",onClick:()=>C(!k),children:k?t.jsx(av,{className:"h-4 w-4"}):t.jsx(ov,{className:"h-4 w-4"})})]}),t.jsx("textarea",{placeholder:"Paste your NEW base64 session credentials here...",value:c,onChange:N=>u(N.target.value),className:`w-full h-32 p-3 border rounded-md resize-none font-mono text-sm ${k?"":"filter blur-sm hover:filter-none focus:filter-none"}`}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll test your NEW session ID connection, verify it works, then update your bot credentials"}),t.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mb-2",children:t.jsx("strong",{children:"✅ What happens automatically:"})}),t.jsxs("ul",{className:"text-xs text-green-600 dark:text-green-400 space-y-1",children:[t.jsx("li",{children:"• We test your new session ID connection"}),t.jsx("li",{children:"• Bot credentials are safely updated if valid"}),t.jsx("li",{children:"• A success message is sent to your WhatsApp"}),t.jsx("li",{children:"• You're taken to the bot management dashboard"})]})]}),t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:[t.jsx("strong",{children:"Need a new session ID?"})," Get fresh credentials:"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(mm,{className:"h-4 w-4"}),t.jsx("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Get NEW SESSION ID"})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(z,{onClick:he,disabled:F.isPending,className:"flex-1",size:"lg",children:F.isPending?t.jsxs(t.Fragment,{children:[t.jsx(hm,{className:"h-4 w-4 mr-2 animate-spin"})," Auto-Testing & Updating Session..."]}):t.jsxs(t.Fragment,{children:[t.jsx(s2,{className:"h-4 w-4 mr-2"})," Auto-Test & Update Session"]})}),t.jsx(z,{variant:"outline",onClick:()=>{h("session"),u(""),j(null),P(!1)},size:"lg",children:"Back"})]})]})]}),f==="dashboard"&&t.jsxs(t.Fragment,{children:[t.jsx(se,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:t.jsx(ae,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Yr,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-green-800 dark:text-green-200",children:"Authentication Successful!"}),t.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["Welcome! You can now manage your bot for ",a]})]}),t.jsx(z,{variant:"outline",size:"sm",onClick:ie,className:"ml-auto",children:"Switch Account"})]})})}),t.jsxs(Ma,{defaultValue:"active",className:"w-full",children:[t.jsxs(Ii,{className:"grid w-full grid-cols-3",children:[t.jsxs(Et,{value:"active",className:"flex items-center gap-2",children:[t.jsx(os,{className:"h-4 w-4"}),"Active Bots (",ge.length,")"]}),t.jsxs(Et,{value:"pending",className:"flex items-center gap-2",children:[t.jsx(dn,{className:"h-4 w-4"}),"Pending (",G.length,")"]}),t.jsxs(Et,{value:"inactive",className:"flex items-center gap-2",children:[t.jsx(Do,{className:"h-4 w-4"}),"Inactive (",q.length,")"]})]}),t.jsx(jt,{value:"active",className:"space-y-4",children:X?t.jsx(se,{children:t.jsxs(ae,{className:"pt-6 text-center",children:[t.jsx(Ls,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),t.jsx("p",{children:"Loading your bots..."})]})}):ge.length===0?t.jsx(se,{children:t.jsxs(ae,{className:"pt-6 text-center",children:[t.jsx(os,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"No active bots found"})]})}):t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ge.map(N=>t.jsxs(se,{className:"border-green-200 hover:shadow-lg transition-shadow",children:[t.jsxs(Ie,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Me,{className:"text-lg",children:N.name}),t.jsxs("div",{className:"flex items-center gap-2",children:[N.crossServer&&t.jsxs(Xe,{variant:"outline",className:"bg-blue-50 text-blue-700 text-xs",children:["📡 ",N.hostingServer]}),H(N.status,N.approvalStatus)]})]}),t.jsxs(We,{children:[N.phoneNumber,N.crossServer&&t.jsx("span",{className:"block text-xs text-blue-600 mt-1",children:"🌍 Cross-server management enabled"})]})]}),t.jsxs(ae,{className:"space-y-4",children:[N.crossServer&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-2 mb-3",children:[t.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"🌐 Cross-Server Bot"}),t.jsx("p",{className:"text-xs text-blue-600",children:"Feature toggles require server connectivity"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),t.jsx("button",{onClick:()=>ee("autoLike",!N.features?.autoLike,N),disabled:te.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${N.features?.autoLike?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${N.features?.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),t.jsx("button",{onClick:()=>ee("autoView",!N.features?.autoView,N),disabled:te.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${N.features?.autoView?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${N.features?.autoView?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),t.jsx("button",{onClick:()=>ee("autoReact",!N.features?.autoReact,N),disabled:te.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${N.features?.autoReact?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${N.features?.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),t.jsx("button",{onClick:()=>ee("chatGPT",!N.features?.chatGPT,N),disabled:te.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${N.features?.chatGPT?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${N.features?.chatGPT?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Always Online"}),t.jsx("button",{onClick:()=>ee("alwaysOnline",!N.features?.alwaysOnline,N),disabled:te.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${N.features?.alwaysOnline?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${N.features?.alwaysOnline?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Typing Indicator"}),t.jsx("button",{onClick:()=>ee("typingIndicator",!N.features?.typingIndicator,N),disabled:te.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${N.features?.typingIndicator?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${N.features?.typingIndicator?"bg-white":"bg-muted-foreground"}`})})]})]}),t.jsx("div",{className:"flex gap-2",children:N.crossServer?t.jsxs("div",{className:"flex-1 bg-blue-50 border border-blue-200 rounded-md p-2 text-center",children:[t.jsxs("p",{className:"text-xs text-blue-700",children:["🌐 Bot hosted on ",N.hostingServer]}),t.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Features can be toggled above"})]}):t.jsxs(t.Fragment,{children:[N.status==="offline"?t.jsxs(z,{size:"sm",onClick:()=>pe("start",N),disabled:K.isPending,className:"flex-1",children:[t.jsx(Oo,{className:"h-3 w-3 mr-1"}),"Start"]}):t.jsxs(z,{size:"sm",variant:"outline",onClick:()=>pe("stop",N),disabled:K.isPending,className:"flex-1",children:[t.jsx(Do,{className:"h-3 w-3 mr-1"}),"Stop"]}),t.jsx(z,{size:"sm",variant:"outline",onClick:()=>pe("restart",N),disabled:K.isPending,title:"Restart bot",children:t.jsx(Ls,{className:"h-3 w-3"})})]})}),t.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground pt-2 border-t",children:[t.jsxs("span",{children:["Messages: ",N.messagesCount||0]}),t.jsxs("span",{children:["Commands: ",N.commandsCount||0]})]})]})]},N.id))})}),t.jsx(jt,{value:"pending",className:"space-y-4",children:G.length===0?t.jsx(se,{children:t.jsxs(ae,{className:"pt-6 text-center",children:[t.jsx(Yr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"No pending approvals"})]})}):t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:G.map(N=>t.jsx(se,{className:"border-yellow-200",children:t.jsxs(Ie,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Me,{className:"text-lg",children:N.name}),H(N.status,N.approvalStatus)]}),t.jsx(We,{children:N.phoneNumber})]})},N.id))})}),t.jsx(jt,{value:"inactive",className:"space-y-4",children:q.length===0?t.jsx(se,{children:t.jsxs(ae,{className:"pt-6 text-center",children:[t.jsx(os,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"No inactive bots"})]})}):t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:q.map(N=>t.jsxs(se,{className:"border-gray-200 hover:shadow-lg transition-shadow",children:[t.jsxs(Ie,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Me,{className:"text-lg",children:N.name}),H(N.status,N.approvalStatus)]}),t.jsx(We,{children:N.phoneNumber})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),t.jsx("button",{onClick:()=>ee("autoLike",!N.features?.autoLike,N),disabled:te.isPending||N.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${N.features?.autoLike?"bg-primary justify-end":"bg-muted justify-start"} ${N.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${N.features?.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),t.jsx("button",{onClick:()=>ee("autoViewStatus",!N.features?.autoView,N),disabled:te.isPending||N.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${N.features?.autoView?"bg-primary justify-end":"bg-muted justify-start"} ${N.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${N.features?.autoView?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),t.jsx("button",{onClick:()=>ee("autoReact",!N.features?.autoReact,N),disabled:te.isPending||N.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${N.features?.autoReact?"bg-primary justify-end":"bg-muted justify-start"} ${N.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${N.features?.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),t.jsx("button",{onClick:()=>ee("chatgptEnabled",!N.features?.chatGPT,N),disabled:te.isPending||N.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${N.features?.chatGPT?"bg-primary justify-end":"bg-muted justify-start"} ${N.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${N.features?.chatGPT?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Always Online"}),t.jsx("button",{onClick:()=>ee("alwaysOnline",!N.features?.alwaysOnline,N),disabled:te.isPending||N.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${N.features?.alwaysOnline?"bg-primary justify-end":"bg-muted justify-start"} ${N.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${N.features?.alwaysOnline?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Typing Indicator"}),t.jsx("button",{onClick:()=>ee("typingIndicator",!N.features?.typingIndicator,N),disabled:te.isPending||N.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${N.features?.typingIndicator?"bg-primary justify-end":"bg-muted justify-start"} ${N.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${N.features?.typingIndicator?"bg-white":"bg-muted-foreground"}`})})]})]}),t.jsx("div",{className:"flex gap-2",children:N.approvalStatus==="approved"?t.jsxs(t.Fragment,{children:[t.jsxs(z,{size:"sm",onClick:()=>pe("start",N),disabled:K.isPending,className:"flex-1",children:[t.jsx(Oo,{className:"h-3 w-3 mr-1"}),"Start"]}),t.jsx(z,{size:"sm",variant:"outline",onClick:()=>pe("restart",N),disabled:K.isPending,title:"Restart bot",children:t.jsx(Ls,{className:"h-3 w-3"})})]}):t.jsxs(z,{size:"sm",disabled:!0,className:"flex-1",title:"Bot must be approved to start",children:[t.jsx(dn,{className:"h-3 w-3 mr-1"}),"Pending Approval"]})}),N.approvalStatus!=="approved"&&t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2 text-xs",children:[t.jsx("p",{className:"text-yellow-800 font-medium",children:"⏳ Awaiting Admin Approval"}),t.jsx("p",{className:"text-yellow-600",children:"Contact admin to activate this bot"})]})]})]},N.id))})})]})]})]})})}function LD(){const{toast:e}=Vt(),r=Or(),[s,a]=p.useState(""),[o,c]=p.useState(!1),{data:u,isLoading:f}=pt({queryKey:["/api/guest/cross-server-bots",s],queryFn:async()=>{if(!s.trim())return{bots:[],servers:[]};const b=s.replace(/[\s\-\(\)\+]/g,""),j=await fetch("/api/guest/cross-server-bots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:b})});if(!j.ok){const T=await j.json();throw new Error(T.message||"Failed to fetch cross-server data")}return j.json()},enabled:o&&!!s.trim()}),h=Ke({mutationFn:async({action:b,botId:j,serverName:T,data:P})=>{const R=await fetch("/api/guest/cross-server-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("guest_token")}`},body:JSON.stringify({action:b,botId:j,serverName:T,...P})});if(!R.ok){const F=await R.json();throw new Error(F.message||`Failed to ${b} bot on ${T}`)}return R.json()},onSuccess:(b,j)=>{e({title:"Cross-Server Action Successful",description:`${j.action} completed on ${j.serverName}`}),r.invalidateQueries({queryKey:["/api/guest/cross-server-bots"]})},onError:b=>{e({title:"Cross-Server Action Failed",description:b.message,variant:"destructive"})}}),g=()=>{if(!s.trim()){e({title:"Phone Required",description:"Please enter your phone number to find your cross-server bots",variant:"destructive"});return}c(!0)},x=(b,j,T)=>{h.mutate({action:b,botId:j.id,serverName:j.serverName,data:T})},y=(b,j)=>{if(j==="pending")return t.jsx(Xe,{variant:"outline",className:"bg-yellow-50 text-yellow-800",children:"Pending"});switch(b){case"online":return t.jsx(Xe,{className:"bg-green-500",children:"Online"});case"offline":return t.jsx(Xe,{variant:"outline",children:"Offline"});case"error":return t.jsx(Xe,{variant:"destructive",children:"Error"});default:return t.jsx(Xe,{variant:"outline",children:b})}},w=u?.bots||[],k=u?.servers||[],C=w.reduce((b,j)=>(b[j.serverName]||(b[j.serverName]=[]),b[j.serverName].push(j),b),{});return t.jsx("div",{className:"min-h-screen w-full p-6",children:t.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Cross-Server Bot Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage your bots across multiple servers from one central location"})]}),t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(Mf,{className:"h-5 w-5"}),"Find Your Cross-Server Bots"]}),t.jsx(We,{children:"Enter your phone number to discover and manage bots across all servers"})]}),t.jsx(ae,{className:"space-y-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Pt,{type:"tel",placeholder:"+1234567890",value:s,onChange:b=>a(b.target.value),className:"flex-1","data-testid":"input-cross-server-phone"}),t.jsx(z,{onClick:g,disabled:f,"data-testid":"button-search-cross-server",children:f?t.jsx(Ls,{className:"h-4 w-4 animate-spin"}):"Find Bots"})]})})]}),o&&!f&&k.length>0&&t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(Us,{className:"h-5 w-5"}),"Server Overview"]}),t.jsxs(We,{children:["Your bots are distributed across ",k.length," server",k.length>1?"s":""]})]}),t.jsx(ae,{children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:k.map(b=>t.jsx(se,{className:"border-blue-200",children:t.jsxs(ae,{className:"pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:b.serverName}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.botCount," bot",b.botCount>1?"s":""]})]}),b.serverUrl&&t.jsx(z,{size:"sm",variant:"outline",asChild:!0,children:t.jsx("a",{href:b.serverUrl,target:"_blank",rel:"noopener noreferrer",children:t.jsx(mm,{className:"h-3 w-3"})})})]}),t.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-green-600",children:b.onlineBots})," online"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-yellow-600",children:b.pendingBots})," pending"]})]})]})},b.serverName))})})]}),o&&!f&&w.length>0&&t.jsxs(Ma,{defaultValue:"all",className:"w-full",children:[t.jsxs(Ii,{className:"grid w-full grid-cols-4",children:[t.jsxs(Et,{value:"all","data-testid":"tab-all-servers",children:["All Servers (",w.length,")"]}),t.jsxs(Et,{value:"online","data-testid":"tab-online-servers",children:["Online (",w.filter(b=>b.status==="online").length,")"]}),t.jsxs(Et,{value:"offline","data-testid":"tab-offline-servers",children:["Offline (",w.filter(b=>b.status==="offline").length,")"]}),t.jsxs(Et,{value:"pending","data-testid":"tab-pending-servers",children:["Pending (",w.filter(b=>b.approvalStatus==="pending").length,")"]})]}),t.jsx(jt,{value:"all",className:"space-y-6",children:Object.entries(C).map(([b,j])=>t.jsxs(se,{children:[t.jsx(Ie,{children:t.jsxs(Me,{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Us,{className:"h-5 w-5"}),b]}),t.jsxs(Xe,{variant:"outline",children:[j.length," bot",j.length>1?"s":""]})]})}),t.jsx(ae,{children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:j.map(T=>t.jsx(se,{className:"border-gray-200",children:t.jsxs(ae,{className:"pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:T.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:T.phoneNumber})]}),y(T.status,T.approvalStatus)]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Messages"}),t.jsx("p",{className:"font-medium",children:T.messagesCount||0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Commands"}),t.jsx("p",{className:"font-medium",children:T.commandsCount||0})]})]}),T.features&&t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-sm font-medium mb-2",children:"Features"}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.features.autoLike&&t.jsx(Xe,{variant:"outline",className:"text-xs",children:"Like"}),T.features.autoReact&&t.jsx(Xe,{variant:"outline",className:"text-xs",children:"React"}),T.features.autoView&&t.jsx(Xe,{variant:"outline",className:"text-xs",children:"View"}),T.features.chatGPT&&t.jsx(Xe,{variant:"outline",className:"text-xs",children:"AI"})]})]}),T.canManage&&T.approvalStatus==="approved"&&t.jsxs("div",{className:"flex gap-1",children:[T.status==="offline"?t.jsxs(z,{size:"sm",onClick:()=>x("start",T),disabled:h.isPending,className:"flex-1","data-testid":`button-cross-start-${T.id}`,children:[t.jsx(Oo,{className:"h-3 w-3 mr-1"}),"Start"]}):t.jsxs(z,{size:"sm",variant:"outline",onClick:()=>x("stop",T),disabled:h.isPending,className:"flex-1","data-testid":`button-cross-stop-${T.id}`,children:[t.jsx(Do,{className:"h-3 w-3 mr-1"}),"Stop"]}),t.jsx(z,{size:"sm",variant:"outline",onClick:()=>x("restart",T),disabled:h.isPending,"data-testid":`button-cross-restart-${T.id}`,children:t.jsx(Ls,{className:"h-3 w-3"})}),t.jsx(z,{size:"sm",variant:"outline",onClick:()=>x("configure",T),disabled:h.isPending,"data-testid":`button-cross-config-${T.id}`,children:t.jsx(dd,{className:"h-3 w-3"})})]}),!T.canManage&&t.jsxs(Er,{children:[t.jsx(dn,{className:"h-4 w-4"}),t.jsx(_r,{className:"text-xs",children:"Limited access on this server. Contact admin for full management."})]})]})},T.id))})})]},b))}),t.jsx(jt,{value:"online",className:"space-y-4",children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:w.filter(b=>b.status==="online").map(b=>t.jsx(se,{className:"border-green-200",children:t.jsxs(ae,{className:"pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-medium",children:b.name}),y(b.status)]}),t.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[b.phoneNumber," • ",b.serverName]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsxs(z,{size:"sm",variant:"outline",onClick:()=>x("stop",b),disabled:h.isPending,className:"flex-1",children:[t.jsx(Do,{className:"h-3 w-3 mr-1"}),"Stop"]}),t.jsx(z,{size:"sm",variant:"outline",onClick:()=>x("restart",b),disabled:h.isPending,children:t.jsx(Ls,{className:"h-3 w-3"})})]})]})},b.id))})}),t.jsx(jt,{value:"offline",className:"space-y-4",children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:w.filter(b=>b.status==="offline").map(b=>t.jsx(se,{className:"border-gray-200",children:t.jsxs(ae,{className:"pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-medium",children:b.name}),y(b.status)]}),t.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[b.phoneNumber," • ",b.serverName]}),t.jsxs(z,{size:"sm",onClick:()=>x("start",b),disabled:h.isPending,className:"w-full",children:[t.jsx(Oo,{className:"h-3 w-3 mr-1"}),"Start Bot"]})]})},b.id))})}),t.jsx(jt,{value:"pending",className:"space-y-4",children:t.jsx("div",{className:"space-y-4",children:w.filter(b=>b.approvalStatus==="pending").map(b=>t.jsx(se,{className:"border-yellow-200",children:t.jsxs(ae,{className:"pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:b.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.phoneNumber," • ",b.serverName]})]}),y(b.status,b.approvalStatus)]}),t.jsxs(Er,{children:[t.jsx(dn,{className:"h-4 w-4"}),t.jsxs(_r,{children:["This bot is awaiting approval from the admin on ",b.serverName,"."]})]})]})},b.id))})})]}),o&&!f&&w.length===0&&t.jsx(se,{children:t.jsxs(ae,{className:"pt-6 text-center space-y-4",children:[t.jsx(Mf,{className:"h-16 w-16 text-muted-foreground mx-auto"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium",children:"No Cross-Server Bots Found"}),t.jsxs("p",{className:"text-muted-foreground",children:["No bots found across servers for phone number ",s,"."]})]}),t.jsxs("div",{className:"flex gap-2 justify-center",children:[t.jsx(z,{variant:"outline",asChild:!0,children:t.jsx("a",{href:"/guest/verification",children:"Register New Bot"})}),t.jsx(z,{variant:"outline",asChild:!0,children:t.jsx("a",{href:"/guest/bot-management",children:"Manage Existing Bots"})})]})]})}),t.jsx(se,{className:"border-blue-200",children:t.jsx(ae,{className:"pt-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Mf,{className:"h-5 w-5 text-blue-500 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-blue-800",children:"Cross-Server Management"}),t.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This feature allows you to manage bots across multiple servers from a single interface. Actions are coordinated through the God Registry system to ensure consistency across all servers. Some features may have limited availability depending on server configuration and your access level."})]})]})})})]})})}function BD(){const{toast:e}=Vt(),[,r]=Pa(),[s,a]=p.useState(1),[o,c]=p.useState(""),[u,f]=p.useState(!1),h=async()=>{f(!0);try{const x=await fetch("/api/pairing/code",{method:"POST",headers:{"Content-Type":"application/json"}});if(!x.ok)throw new Error("Failed to generate pairing code");const y=await x.json();c(y.code),e({title:"Pairing Code Generated!",description:"Use this code in WhatsApp to link your device"})}catch{e({title:"Error",description:"Failed to generate pairing code. Please try again.",variant:"destructive"})}finally{f(!1)}},g=x=>{navigator.clipboard.writeText(x),e({title:"Copied!",description:"Pairing code copied to clipboard"})};return t.jsx("div",{className:"min-h-screen w-full p-6 bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:t.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.jsxs("div",{className:"text-center space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx(Bc,{className:"h-10 w-10 text-blue-600"}),t.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"WhatsApp Bot Setup"})]}),t.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Generate your session credentials to manage your WhatsApp bot"})]}),t.jsx(se,{className:"border-blue-200 bg-blue-50/50 dark:bg-blue-900/20",children:t.jsxs(ae,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-center gap-4",children:[t.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${s>=1?"bg-blue-500 border-blue-500 text-white":"bg-gray-200 border-gray-300 text-gray-500"}`,children:"1"}),t.jsx("div",{className:`w-24 h-0.5 ${s>=2?"bg-blue-500":"bg-gray-300"}`}),t.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${s>=2?"bg-blue-500 border-blue-500 text-white":"bg-gray-200 border-gray-300 text-gray-500"}`,children:"2"})]}),t.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[t.jsx("span",{className:s>=1?"text-blue-600 font-medium":"text-gray-500",children:"Generate Pairing Code"}),t.jsx("span",{className:s>=2?"text-blue-600 font-medium":"text-gray-500",children:"Link WhatsApp"})]})]})}),s===1&&t.jsxs(se,{className:"border-blue-200",children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(Bc,{className:"h-6 w-6 text-blue-600"}),"Step 1: Generate Pairing Code"]}),t.jsx(We,{children:"Click the button below to generate a unique pairing code for your WhatsApp bot"})]}),t.jsx(ae,{className:"space-y-4",children:o?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"text-center p-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Your Pairing Code:"}),t.jsx("p",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400 tracking-wider",children:o}),t.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>g(o),className:"mt-2",children:[t.jsx(Eo,{className:"h-4 w-4 mr-1"}),"Copy Code"]})]}),t.jsx(Er,{className:"border-blue-500",children:t.jsxs(_r,{children:[t.jsx("p",{className:"text-sm font-medium mb-2",children:"📱 This code is valid for linking your WhatsApp account"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Keep this code ready for the next step where you'll enter it in WhatsApp"})]})}),t.jsxs(z,{onClick:()=>a(2),size:"lg",className:"w-full",children:["Continue to WhatsApp Linking",t.jsx(zs,{className:"h-4 w-4 ml-2"})]})]}):t.jsx(z,{onClick:h,disabled:u,size:"lg",className:"w-full",children:u?"Generating...":"Generate Pairing Code"})})]}),s===2&&t.jsxs(se,{className:"border-green-200",children:[t.jsxs(Ie,{children:[t.jsxs(Me,{className:"flex items-center gap-2",children:[t.jsx(Yr,{className:"h-6 w-6 text-green-600"}),"Step 2: Link Your WhatsApp"]}),t.jsx(We,{children:"Follow these instructions to link your WhatsApp account using the pairing code"})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"text-center p-6 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Your Pairing Code:"}),t.jsx("p",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400 tracking-wider",children:o}),t.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>g(o),className:"mt-2",children:[t.jsx(Eo,{className:"h-4 w-4 mr-1"}),"Copy Code"]})]}),t.jsxs(Er,{className:"border-green-500",children:[t.jsx(Yr,{className:"h-4 w-4 text-green-600"}),t.jsx(_r,{children:t.jsxs("ol",{className:"space-y-1 text-sm",children:[t.jsx("li",{children:"1. Open WhatsApp on your phone"}),t.jsxs("li",{children:["2. Go to ",t.jsx("strong",{children:"Settings → Linked Devices"})]}),t.jsxs("li",{children:["3. Tap ",t.jsx("strong",{children:"Link a Device"})]}),t.jsxs("li",{children:["4. Tap ",t.jsx("strong",{children:"Link with phone number instead"})]}),t.jsx("li",{children:"5. Enter the pairing code above"}),t.jsxs("li",{children:["6. ",t.jsx("strong",{children:"Check your WhatsApp messages"})," - Session ID will arrive automatically!"]})]})})]}),t.jsx(Er,{className:"border-blue-500",children:t.jsxs(_r,{className:"text-sm",children:[t.jsx("strong",{children:"📱 What happens next:"}),t.jsxs("ul",{className:"mt-2 space-y-1 ml-4 list-disc",children:[t.jsx("li",{children:"Enter the code above in WhatsApp"}),t.jsx("li",{children:"Session ID will be sent to your WhatsApp automatically"}),t.jsx("li",{children:"Copy that Session ID and continue to Step 2 (Guest Dashboard)"})]})]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(z,{variant:"outline",onClick:()=>{a(1),c("")},size:"lg",className:"flex-1",children:[t.jsx(vi,{className:"h-4 w-4 mr-2"}),"Back"]}),t.jsxs(z,{onClick:()=>r("/guest/bot-management"),size:"lg",className:"flex-1",children:["Go to Dashboard",t.jsx(zs,{className:"h-4 w-4 ml-2"})]})]})]})]}),t.jsx(se,{className:"border-orange-200",children:t.jsx(ae,{className:"pt-6",children:t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Need help? The Session ID will be automatically sent to your WhatsApp after successful pairing."}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Make sure to save the Session ID securely - you'll need it to access your bot dashboard."})]})})})]})})}function $D(){const[,e]=Pa();return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("header",{className:"bg-card border-b border-border px-4 sm:px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Generate Session ID"}),t.jsx("p",{className:"text-muted-foreground",children:"Get your WhatsApp pairing code and session ID"})]}),t.jsxs(z,{variant:"outline",onClick:()=>e("/"),children:[t.jsx(vi,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})]})}),t.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[t.jsx(se,{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-blue-200 dark:border-blue-800 mb-8",children:t.jsx(ae,{className:"p-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl",children:"📱"})}),t.jsx("h3",{className:"text-2xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Step 1: Generate Session ID"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Get a pairing code to link your WhatsApp"})]})})}),t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{children:"🔗 WhatsApp Pairing Process"}),t.jsx(We,{children:"Follow these steps to get your session ID"})]}),t.jsx(ae,{className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[t.jsx("h4",{className:"font-semibold mb-2",children:"📝 Instructions:"}),t.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[t.jsx("li",{children:"Visit the pairing site below"}),t.jsx("li",{children:"Enter your phone number with country code"}),t.jsx("li",{children:"Get the 8-digit pairing code"}),t.jsx("li",{children:"Open WhatsApp → Settings → Linked Devices → Link a Device"}),t.jsx("li",{children:"Enter the pairing code in WhatsApp"}),t.jsx("li",{children:"Copy the session ID that appears"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(z,{asChild:!0,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:t.jsx("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",children:"🔗 Open Pairing Site"})}),t.jsxs(z,{onClick:()=>e("/guest/register-bot"),className:"flex-1 bg-purple-600 hover:bg-purple-700",children:["Next: Register Bot",t.jsx(zs,{className:"h-4 w-4 ml-2"})]})]})]})})]}),t.jsx(se,{className:"mt-6 border-orange-200",children:t.jsx(ae,{className:"pt-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:"⚠️"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-orange-800",children:"Important Notes"}),t.jsxs("ul",{className:"text-sm text-orange-700 mt-2 space-y-1",children:[t.jsx("li",{children:"• Keep your session ID secure and private"}),t.jsx("li",{children:"• The session ID will be sent to your WhatsApp after pairing"}),t.jsx("li",{children:"• You'll need this session ID in the next step"})]})]})]})})})]})]})}function VD(){const{toast:e}=Vt(),[,r]=Pa(),[s,a]=p.useState(1),[o,c]=p.useState({botName:"",phoneNumber:"",credentialType:"base64",sessionId:"",credsFile:null,features:{autoLike:!1,autoReact:!1,autoView:!1,presenceMode:"none",intervalSeconds:30,chatGPT:!1},selectedServer:""}),[u,f]=p.useState(""),[h,g]=p.useState([]),{data:x}=pt({queryKey:["/api/servers/available"],onSuccess:C=>{g(C.servers||[])}}),y=Ke({mutationFn:async C=>{const b=new FormData;b.append("botName",C.botName),b.append("phoneNumber",C.phoneNumber),b.append("credentialType",C.credentialType),b.append("features",JSON.stringify(C.features)),C.selectedServer&&b.append("selectedServer",C.selectedServer),C.credentialType==="base64"&&C.sessionId?b.append("sessionId",C.sessionId):C.credsFile&&b.append("credsFile",C.credsFile);const j=await fetch("/api/guest/register-bot",{method:"POST",body:b});if(!j.ok){const T=await j.json();throw new Error(T.message||"Failed to register bot")}return j.json()},onSuccess:()=>{a(4),e({title:"Bot Registered Successfully!",description:"Your bot is now awaiting admin approval"})},onError:C=>{e({title:"Registration Failed",description:C.message,variant:"destructive"})}}),w=C=>{f(C.name),c(b=>({...b,selectedServer:C.name})),a(2)},k=()=>{if(!o.botName||!o.phoneNumber){e({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}y.mutate(o)};return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("header",{className:"bg-card border-b border-border px-4 sm:px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Register Your Bot"}),t.jsxs("p",{className:"text-muted-foreground",children:["Step ",s," of 4"]})]}),t.jsxs(z,{variant:"outline",onClick:()=>r("/"),children:[t.jsx(vi,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})]})}),t.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[t.jsx("div",{className:"mb-8",children:t.jsx("div",{className:"flex items-center justify-center gap-2",children:[1,2,3,4].map(C=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium ${s>=C?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:s>C?t.jsx(Yr,{className:"h-5 w-5"}):C}),C<4&&t.jsx("div",{className:"w-12 h-1 bg-gray-200 mx-2"})]},C))})}),s===1&&t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{children:"Select Server"}),t.jsx(We,{children:"Choose a server to host your bot"})]}),t.jsx(ae,{className:"space-y-4",children:h.map(C=>t.jsx("div",{onClick:()=>w(C),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:C.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:C.description})]}),t.jsx("div",{className:"text-right",children:t.jsxs("p",{className:"text-sm font-medium text-green-600",children:[C.availableSlots," slots available"]})})]})},C.id))})]}),s===2&&t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{children:"Bot Information & Credentials"}),t.jsx(We,{children:"Enter your bot details and authentication"})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(we,{htmlFor:"botName",children:"Bot Name *"}),t.jsx(Pt,{id:"botName",placeholder:"My WhatsApp Bot",value:o.botName,onChange:C=>c(b=>({...b,botName:C.target.value}))})]}),t.jsxs("div",{children:[t.jsx(we,{htmlFor:"phoneNumber",children:"Phone Number (with country code) *"}),t.jsx(Pt,{id:"phoneNumber",placeholder:"+254700000000",value:o.phoneNumber,onChange:C=>c(b=>({...b,phoneNumber:C.target.value.replace(/[\s\-\(\)]/g,"")}))})]}),t.jsxs("div",{children:[t.jsx(we,{children:"Credential Type *"}),t.jsxs(Fd,{value:o.credentialType,onValueChange:C=>c(b=>({...b,credentialType:C})),children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ai,{value:"base64",id:"base64"}),t.jsx(we,{htmlFor:"base64",children:"Paste Base64 Session ID"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ai,{value:"file",id:"file"}),t.jsx(we,{htmlFor:"file",children:"Upload creds.json File"})]})]})]}),o.credentialType==="base64"?t.jsxs("div",{children:[t.jsx(we,{htmlFor:"sessionId",children:"Base64 Session ID *"}),t.jsx(fs,{id:"sessionId",placeholder:"Paste your base64 encoded session ID here...",value:o.sessionId,onChange:C=>c(b=>({...b,sessionId:C.target.value})),className:"min-h-[100px] font-mono text-sm"})]}):t.jsxs("div",{children:[t.jsx(we,{htmlFor:"credsFile",children:"Upload creds.json File *"}),t.jsx(Pt,{id:"credsFile",type:"file",accept:".json",onChange:C=>c(b=>({...b,credsFile:C.target.files?.[0]||null}))})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(z,{variant:"outline",onClick:()=>a(1),children:[t.jsx(vi,{className:"h-4 w-4 mr-2"}),"Back"]}),t.jsxs(z,{onClick:()=>a(3),className:"flex-1",children:["Next: Features",t.jsx(zs,{className:"h-4 w-4 ml-2"})]})]})]})]}),s===3&&t.jsxs(se,{children:[t.jsxs(Ie,{children:[t.jsx(Me,{children:"Bot Features (Optional)"}),t.jsx(We,{children:"Configure automation features for your bot"})]}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Gt,{id:"autoLike",checked:o.features.autoLike,onCheckedChange:C=>c(b=>({...b,features:{...b.features,autoLike:!!C}}))}),t.jsx(we,{htmlFor:"autoLike",children:"Auto Like Status"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Gt,{id:"autoReact",checked:o.features.autoReact,onCheckedChange:C=>c(b=>({...b,features:{...b.features,autoReact:!!C}}))}),t.jsx(we,{htmlFor:"autoReact",children:"Auto React"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Gt,{id:"autoView",checked:o.features.autoView,onCheckedChange:C=>c(b=>({...b,features:{...b.features,autoView:!!C}}))}),t.jsx(we,{htmlFor:"autoView",children:"Auto View Status"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Gt,{id:"chatGPT",checked:o.features.chatGPT,onCheckedChange:C=>c(b=>({...b,features:{...b.features,chatGPT:!!C}}))}),t.jsx(we,{htmlFor:"chatGPT",children:"ChatGPT Integration"})]})]}),t.jsxs("div",{children:[t.jsx(we,{children:"Presence Mode"}),t.jsxs(mr,{value:o.features.presenceMode,onValueChange:C=>c(b=>({...b,features:{...b.features,presenceMode:C}})),children:[t.jsx(nr,{children:t.jsx(hr,{})}),t.jsxs(sr,{children:[t.jsx(Ee,{value:"none",children:"None"}),t.jsx(Ee,{value:"always_online",children:"Always Online"}),t.jsx(Ee,{value:"always_typing",children:"Always Typing"}),t.jsx(Ee,{value:"always_recording",children:"Always Recording"}),t.jsx(Ee,{value:"auto_switch",children:"Auto Switch"})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(z,{variant:"outline",onClick:()=>a(2),children:[t.jsx(vi,{className:"h-4 w-4 mr-2"}),"Back"]}),t.jsxs(z,{onClick:k,disabled:y.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:[y.isPending?"Registering...":"Register Bot",t.jsx(zs,{className:"h-4 w-4 ml-2"})]})]})]})]}),s===4&&t.jsx(se,{className:"border-green-200",children:t.jsxs(ae,{className:"p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Yr,{className:"h-10 w-10 text-green-600"})}),t.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Bot Registered Successfully!"}),t.jsx("p",{className:"text-muted-foreground mb-6",children:"Your bot is now awaiting admin approval"}),t.jsxs("div",{className:"space-y-2 text-left max-w-md mx-auto mb-6",children:[t.jsx("p",{className:"text-sm",children:"✅ Your bot is dormant and awaiting approval"}),t.jsx("p",{className:"text-sm",children:"📱 Contact +254704897825 to activate"}),t.jsx("p",{className:"text-sm",children:"⏰ You'll receive hourly status updates"})]}),t.jsxs(z,{onClick:()=>r("/guest/bot-management"),className:"w-full max-w-md",children:["Go to Bot Management",t.jsx(zs,{className:"h-4 w-4 ml-2"})]})]})})]})]})}function zD({isOpen:e,onClose:r,onLogin:s}){const[a,o]=p.useState(""),[c,u]=p.useState(""),[f,h]=p.useState(!1),{toast:g}=Vt(),x=async y=>{y.preventDefault(),h(!0);try{const w=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:c})});if(w.ok){const k=await w.json();localStorage.setItem("auth_token",k.token),localStorage.setItem("user",JSON.stringify(k.user)),s(k.token,k.user),r(),g({title:"Login successful",description:k.message}),k.user?.isAdmin&&window.location.reload()}else{const k=await w.json();g({title:"Login failed",description:k.message,variant:"destructive"})}}catch{g({title:"Login error",description:"Failed to connect to server",variant:"destructive"})}finally{h(!1)}};return t.jsx(Qt,{open:e,onOpenChange:r,children:t.jsxs(Ft,{className:"sm:max-w-[425px]",children:[t.jsx(Lt,{children:t.jsx(Bt,{children:"🔐 Admin Login"})}),t.jsxs("form",{onSubmit:x,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(we,{htmlFor:"username",children:"Username"}),t.jsx(Pt,{id:"username",type:"text",value:a,onChange:y=>o(y.target.value),placeholder:"Enter admin username",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(we,{htmlFor:"password",children:"Password"}),t.jsx(Pt,{id:"password",type:"password",value:c,onChange:y=>u(y.target.value),placeholder:"Enter admin password",required:!0})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(z,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:"Cancel"}),t.jsx(z,{type:"submit",disabled:f,className:"flex-1",children:f?"Logging in...":"Login"})]})]})]})})}function UD(){const[e]=Pa(),{user:r,isAdmin:s,logout:a,login:o}=sl(),{toast:c}=Vt(),[u,f]=p.useState(!1),[h,g]=p.useState(!1),x=Ke({mutationFn:()=>Ct("POST","/api/logout"),onSuccess:()=>{a(),c({title:"Logged out successfully"})}}),y=s?[{icon:lv,label:"Dashboard",path:"/"},{icon:os,label:"Bot Instances",path:"/bot-instances"},{icon:r2,label:"Commands",path:"/commands"},{icon:Us,label:"Cross-Server Bots",path:"/cross-server-bots"},{icon:dd,label:"Admin Console",path:"/admin"}]:[{icon:lv,label:"Dashboard",path:"/"},{icon:os,label:"My Bots",path:"/guest/bot-management"}];return t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>f(!u),className:"fixed top-4 left-4 z-50 lg:hidden bg-primary text-primary-foreground p-2 rounded-lg shadow-lg hover:bg-primary/90 transition-colors","aria-label":"Toggle menu",children:u?t.jsx(ud,{className:"w-6 h-6"}):t.jsx(t2,{className:"w-6 h-6"})}),u&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>f(!1)}),t.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-40
        w-64 bg-card border-r border-border flex flex-col
        transform transition-transform duration-300 ease-in-out
        ${u?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[t.jsx("div",{className:"p-4 lg:p-6 border-b border-border",children:t.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[t.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-primary rounded-lg flex items-center justify-center",children:t.jsx(os,{className:"w-5 h-5 lg:w-6 lg:h-6 text-primary-foreground"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-base lg:text-lg font-bold text-foreground",children:"TREKKER-MD"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Bot Manager"})]})]})}),t.jsx("nav",{className:"flex-1 p-3 lg:p-4 space-y-1 lg:space-y-2 overflow-y-auto",children:y.map(w=>{const k=w.icon,C=e===w.path;return t.jsxs(Tc,{href:w.path,onClick:()=>f(!1),className:`flex items-center gap-2 lg:gap-3 px-3 lg:px-4 py-2.5 lg:py-3 rounded-lg transition-colors ${C?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:[t.jsx(k,{className:"w-4 h-4 lg:w-5 lg:h-5 flex-shrink-0"}),t.jsx("span",{className:"font-medium text-sm lg:text-base",children:w.label})]},w.path)})}),t.jsxs("div",{className:"p-3 lg:p-4 border-t border-border",children:[t.jsxs("div",{className:"mb-3 lg:mb-4 p-2.5 lg:p-3 bg-muted rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:r?.username||"Guest"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:s?"Administrator":"Guest User"})]}),r?t.jsxs(z,{onClick:()=>{x.mutate(),f(!1)},disabled:x.isPending,variant:"outline",className:"w-full text-sm lg:text-base",children:[t.jsx(f0,{className:"w-4 h-4 mr-2"}),"Logout"]}):t.jsxs(z,{onClick:()=>{g(!0),f(!1)},variant:"default",className:"w-full text-sm lg:text-base",children:[t.jsx(e2,{className:"w-4 h-4 mr-2"}),"Admin Login"]})]})]}),t.jsx(zD,{isOpen:h,onClose:()=>g(!1),onLogin:(w,k)=>{o(w,k),g(!1)}})]})}function Pc({children:e,requireAdmin:r=!1,requireAuth:s=!1}){const{isAuthenticated:a,isAdmin:o}=sl(),[,c]=Pa();return r&&!o?t.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-6 bg-background",children:t.jsxs(se,{className:"max-w-md w-full",children:[t.jsxs(Ie,{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(cv,{className:"h-8 w-8 text-red-600"})}),t.jsx(Me,{className:"text-2xl text-red-600",children:"Access Denied"}),t.jsx(We,{className:"text-base",children:"This page is restricted to administrators only."})]}),t.jsxs(ae,{className:"text-center space-y-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"You don't have permission to access bot management features. These tools are reserved for system administrators."}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs(z,{onClick:()=>c("/"),className:"w-full","data-testid":"button-return-dashboard",children:[t.jsx(vi,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]}),t.jsx(z,{onClick:()=>c("/guest/verification"),variant:"outline",className:"w-full","data-testid":"button-guest-registration",children:"Register Your Bot"})]})]})]})}):s&&!a?t.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-6 bg-background",children:t.jsxs(se,{className:"max-w-md w-full",children:[t.jsxs(Ie,{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(cv,{className:"h-8 w-8 text-yellow-600"})}),t.jsx(Me,{className:"text-2xl text-yellow-600",children:"Authentication Required"}),t.jsx(We,{className:"text-base",children:"Please log in to access this page."})]}),t.jsxs(ae,{className:"text-center space-y-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"This page requires authentication. Please log in to continue."}),t.jsxs(z,{onClick:()=>c("/"),className:"w-full","data-testid":"button-return-home",children:[t.jsx(vi,{className:"h-4 w-4 mr-2"}),"Return Home"]})]})]})}):t.jsx(t.Fragment,{children:e})}function WD(){return t.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[t.jsx(UD,{}),t.jsx("main",{className:"flex-1 overflow-auto w-full lg:w-auto",children:t.jsxs(m1,{children:[t.jsx(ln,{path:"/",component:uO}),t.jsx(ln,{path:"/bot-instances",children:t.jsx(Pc,{requireAdmin:!0,children:t.jsx(xO,{})})}),t.jsx(ln,{path:"/commands",children:t.jsx(Pc,{requireAdmin:!0,children:t.jsx(yO,{})})}),t.jsx(ln,{path:"/admin",children:t.jsx(Pc,{requireAdmin:!0,children:t.jsx(ID,{})})}),t.jsx(ln,{path:"/cross-server-bots",children:t.jsx(Pc,{requireAdmin:!0,children:t.jsx(OD,{})})}),t.jsx(ln,{path:"/guest/verification",component:MD}),t.jsx(ln,{path:"/guest/bot-management",component:FD}),t.jsx(ln,{path:"/guest/generate-session",component:$D}),t.jsx(ln,{path:"/guest/register-bot",component:VD}),t.jsx(ln,{path:"/guest/cross-server",component:LD}),t.jsx(ln,{path:"/guest/whatsapp-pairing",component:BD}),t.jsx(ln,{component:DD})]})})]})}function qD(){return t.jsx(F1,{client:dr,children:t.jsx(VE,{children:t.jsx(TT,{children:t.jsxs("div",{className:"dark",children:[t.jsx(W2,{}),t.jsx(WD,{})]})})})})}WC.createRoot(document.getElementById("root")).render(t.jsx(qD,{}));
