function I1(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function ly(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gf={exports:{}},po={},xf={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx;function O1(){if(bx)return at;bx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,b={};function j(T,R,re){this.props=T,this.context=R,this.refs=b,this.updater=re||C}j.prototype.isReactComponent={},j.prototype.setState=function(T,R){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,R,"setState")},j.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function E(){}E.prototype=j.prototype;function k(T,R,re){this.props=T,this.context=R,this.refs=b,this.updater=re||C}var I=k.prototype=new E;I.constructor=k,P(I,j.prototype),I.isPureReactComponent=!0;var L=Array.isArray,B=Object.prototype.hasOwnProperty,X={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function te(T,R,re){var le,D={},G=null,ee=null;if(R!=null)for(le in R.ref!==void 0&&(ee=R.ref),R.key!==void 0&&(G=""+R.key),R)B.call(R,le)&&!q.hasOwnProperty(le)&&(D[le]=R[le]);var de=arguments.length-2;if(de===1)D.children=re;else if(1<de){for(var je=Array(de),De=0;De<de;De++)je[De]=arguments[De+2];D.children=je}if(T&&T.defaultProps)for(le in de=T.defaultProps,de)D[le]===void 0&&(D[le]=de[le]);return{$$typeof:e,type:T,key:G,ref:ee,props:D,_owner:X.current}}function we(T,R){return{$$typeof:e,type:T.type,key:R,ref:T.ref,props:T.props,_owner:T._owner}}function xe(T){return typeof T=="object"&&T!==null&&T.$$typeof===e}function ve(T){var R={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(re){return R[re]})}var J=/\/+/g;function se(T,R){return typeof T=="object"&&T!==null&&T.key!=null?ve(""+T.key):R.toString(36)}function W(T,R,re,le,D){var G=typeof T;(G==="undefined"||G==="boolean")&&(T=null);var ee=!1;if(T===null)ee=!0;else switch(G){case"string":case"number":ee=!0;break;case"object":switch(T.$$typeof){case e:case t:ee=!0}}if(ee)return ee=T,D=D(ee),T=le===""?"."+se(ee,0):le,L(D)?(re="",T!=null&&(re=T.replace(J,"$&/")+"/"),W(D,R,re,"",function(De){return De})):D!=null&&(xe(D)&&(D=we(D,re+(!D.key||ee&&ee.key===D.key?"":(""+D.key).replace(J,"$&/")+"/")+T)),R.push(D)),1;if(ee=0,le=le===""?".":le+":",L(T))for(var de=0;de<T.length;de++){G=T[de];var je=le+se(G,de);ee+=W(G,R,re,je,D)}else if(je=w(T),typeof je=="function")for(T=je.call(T),de=0;!(G=T.next()).done;)G=G.value,je=le+se(G,de++),ee+=W(G,R,re,je,D);else if(G==="object")throw R=String(T),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return ee}function he(T,R,re){if(T==null)return T;var le=[],D=0;return W(T,le,"","",function(G){return R.call(re,G,D++)}),le}function K(T){if(T._status===-1){var R=T._result;R=R(),R.then(function(re){(T._status===0||T._status===-1)&&(T._status=1,T._result=re)},function(re){(T._status===0||T._status===-1)&&(T._status=2,T._result=re)}),T._status===-1&&(T._status=0,T._result=R)}if(T._status===1)return T._result.default;throw T._result}var ne={current:null},S={transition:null},$={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:S,ReactCurrentOwner:X};function H(){throw Error("act(...) is not supported in production builds of React.")}return at.Children={map:he,forEach:function(T,R,re){he(T,function(){R.apply(this,arguments)},re)},count:function(T){var R=0;return he(T,function(){R++}),R},toArray:function(T){return he(T,function(R){return R})||[]},only:function(T){if(!xe(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},at.Component=j,at.Fragment=s,at.Profiler=o,at.PureComponent=k,at.StrictMode=a,at.Suspense=h,at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,at.act=H,at.cloneElement=function(T,R,re){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var le=P({},T.props),D=T.key,G=T.ref,ee=T._owner;if(R!=null){if(R.ref!==void 0&&(G=R.ref,ee=X.current),R.key!==void 0&&(D=""+R.key),T.type&&T.type.defaultProps)var de=T.type.defaultProps;for(je in R)B.call(R,je)&&!q.hasOwnProperty(je)&&(le[je]=R[je]===void 0&&de!==void 0?de[je]:R[je])}var je=arguments.length-2;if(je===1)le.children=re;else if(1<je){de=Array(je);for(var De=0;De<je;De++)de[De]=arguments[De+2];le.children=de}return{$$typeof:e,type:T.type,key:D,ref:G,props:le,_owner:ee}},at.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:c,_context:T},T.Consumer=T},at.createElement=te,at.createFactory=function(T){var R=te.bind(null,T);return R.type=T,R},at.createRef=function(){return{current:null}},at.forwardRef=function(T){return{$$typeof:f,render:T}},at.isValidElement=xe,at.lazy=function(T){return{$$typeof:x,_payload:{_status:-1,_result:T},_init:K}},at.memo=function(T,R){return{$$typeof:g,type:T,compare:R===void 0?null:R}},at.startTransition=function(T){var R=S.transition;S.transition={};try{T()}finally{S.transition=R}},at.unstable_act=H,at.useCallback=function(T,R){return ne.current.useCallback(T,R)},at.useContext=function(T){return ne.current.useContext(T)},at.useDebugValue=function(){},at.useDeferredValue=function(T){return ne.current.useDeferredValue(T)},at.useEffect=function(T,R){return ne.current.useEffect(T,R)},at.useId=function(){return ne.current.useId()},at.useImperativeHandle=function(T,R,re){return ne.current.useImperativeHandle(T,R,re)},at.useInsertionEffect=function(T,R){return ne.current.useInsertionEffect(T,R)},at.useLayoutEffect=function(T,R){return ne.current.useLayoutEffect(T,R)},at.useMemo=function(T,R){return ne.current.useMemo(T,R)},at.useReducer=function(T,R,re){return ne.current.useReducer(T,R,re)},at.useRef=function(T){return ne.current.useRef(T)},at.useState=function(T){return ne.current.useState(T)},at.useSyncExternalStore=function(T,R,re){return ne.current.useSyncExternalStore(T,R,re)},at.useTransition=function(){return ne.current.useTransition()},at.version="18.3.1",at}var wx;function Yc(){return wx||(wx=1,xf.exports=O1()),xf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx;function M1(){if(jx)return po;jx=1;var e=Yc(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,g){var x,y={},w=null,C=null;g!==void 0&&(w=""+g),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(C=h.ref);for(x in h)a.call(h,x)&&!c.hasOwnProperty(x)&&(y[x]=h[x]);if(f&&f.defaultProps)for(x in h=f.defaultProps,h)y[x]===void 0&&(y[x]=h[x]);return{$$typeof:t,type:f,key:w,ref:C,props:y,_owner:o.current}}return po.Fragment=s,po.jsx=u,po.jsxs=u,po}var Nx;function D1(){return Nx||(Nx=1,gf.exports=M1()),gf.exports}var r=D1(),mc={},vf={exports:{}},Mr={},yf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function F1(){return Sx||(Sx=1,(function(e){function t(S,$){var H=S.length;S.push($);e:for(;0<H;){var T=H-1>>>1,R=S[T];if(0<o(R,$))S[T]=$,S[H]=R,H=T;else break e}}function s(S){return S.length===0?null:S[0]}function a(S){if(S.length===0)return null;var $=S[0],H=S.pop();if(H!==$){S[0]=H;e:for(var T=0,R=S.length,re=R>>>1;T<re;){var le=2*(T+1)-1,D=S[le],G=le+1,ee=S[G];if(0>o(D,H))G<R&&0>o(ee,D)?(S[T]=ee,S[G]=H,T=G):(S[T]=D,S[le]=H,T=le);else if(G<R&&0>o(ee,H))S[T]=ee,S[G]=H,T=G;else break e}}return $}function o(S,$){var H=S.sortIndex-$.sortIndex;return H!==0?H:S.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],g=[],x=1,y=null,w=3,C=!1,P=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(S){for(var $=s(g);$!==null;){if($.callback===null)a(g);else if($.startTime<=S)a(g),$.sortIndex=$.expirationTime,t(h,$);else break;$=s(g)}}function L(S){if(b=!1,I(S),!P)if(s(h)!==null)P=!0,K(B);else{var $=s(g);$!==null&&ne(L,$.startTime-S)}}function B(S,$){P=!1,b&&(b=!1,E(te),te=-1),C=!0;var H=w;try{for(I($),y=s(h);y!==null&&(!(y.expirationTime>$)||S&&!ve());){var T=y.callback;if(typeof T=="function"){y.callback=null,w=y.priorityLevel;var R=T(y.expirationTime<=$);$=e.unstable_now(),typeof R=="function"?y.callback=R:y===s(h)&&a(h),I($)}else a(h);y=s(h)}if(y!==null)var re=!0;else{var le=s(g);le!==null&&ne(L,le.startTime-$),re=!1}return re}finally{y=null,w=H,C=!1}}var X=!1,q=null,te=-1,we=5,xe=-1;function ve(){return!(e.unstable_now()-xe<we)}function J(){if(q!==null){var S=e.unstable_now();xe=S;var $=!0;try{$=q(!0,S)}finally{$?se():(X=!1,q=null)}}else X=!1}var se;if(typeof k=="function")se=function(){k(J)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,he=W.port2;W.port1.onmessage=J,se=function(){he.postMessage(null)}}else se=function(){j(J,0)};function K(S){q=S,X||(X=!0,se())}function ne(S,$){te=j(function(){S(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){P||C||(P=!0,K(B))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return s(h)},e.unstable_next=function(S){switch(w){case 1:case 2:case 3:var $=3;break;default:$=w}var H=w;w=$;try{return S()}finally{w=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,$){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var H=w;w=S;try{return $()}finally{w=H}},e.unstable_scheduleCallback=function(S,$,H){var T=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?T+H:T):H=T,S){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=H+R,S={id:x++,callback:$,priorityLevel:S,startTime:H,expirationTime:R,sortIndex:-1},H>T?(S.sortIndex=H,t(g,S),s(h)===null&&S===s(g)&&(b?(E(te),te=-1):b=!0,ne(L,H-T))):(S.sortIndex=R,t(h,S),P||C||(P=!0,K(B))),S},e.unstable_shouldYield=ve,e.unstable_wrapCallback=function(S){var $=w;return function(){var H=w;w=$;try{return S.apply(this,arguments)}finally{w=H}}}})(bf)),bf}var Cx;function L1(){return Cx||(Cx=1,yf.exports=F1()),yf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx;function B1(){if(kx)return Mr;kx=1;var e=Yc(),t=L1();function s(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)a.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},y={};function w(n){return h.call(y,n)?!0:h.call(x,n)?!1:g.test(n)?y[n]=!0:(x[n]=!0,!1)}function C(n,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function P(n,i,l,d){if(i===null||typeof i>"u"||C(n,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function b(n,i,l,d,m,v,N){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=n,this.type=i,this.sanitizeURL=v,this.removeEmptyString=N}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){j[n]=new b(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];j[i]=new b(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){j[n]=new b(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){j[n]=new b(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){j[n]=new b(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){j[n]=new b(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){j[n]=new b(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){j[n]=new b(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){j[n]=new b(n,5,!1,n.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function k(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(E,k);j[i]=new b(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(E,k);j[i]=new b(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(E,k);j[i]=new b(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){j[n]=new b(n,1,!1,n.toLowerCase(),null,!1,!1)}),j.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){j[n]=new b(n,1,!1,n.toLowerCase(),null,!0,!0)});function I(n,i,l,d){var m=j.hasOwnProperty(i)?j[i]:null;(m!==null?m.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(P(i,l,m,d)&&(l=null),d||m===null?w(i)&&(l===null?n.removeAttribute(i):n.setAttribute(i,""+l)):m.mustUseProperty?n[m.propertyName]=l===null?m.type===3?!1:"":l:(i=m.attributeName,d=m.attributeNamespace,l===null?n.removeAttribute(i):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?n.setAttributeNS(d,i,l):n.setAttribute(i,l))))}var L=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),X=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),we=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),ve=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),S=Symbol.iterator;function $(n){return n===null||typeof n!="object"?null:(n=S&&n[S]||n["@@iterator"],typeof n=="function"?n:null)}var H=Object.assign,T;function R(n){if(T===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);T=i&&i[1]||""}return`
`+T+n}var re=!1;function le(n,i){if(!n||re)return"";re=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Q){var d=Q}Reflect.construct(n,[],i)}else{try{i.call()}catch(Q){d=Q}n.call(i.prototype)}else{try{throw Error()}catch(Q){d=Q}n()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),v=d.stack.split(`
`),N=m.length-1,A=v.length-1;1<=N&&0<=A&&m[N]!==v[A];)A--;for(;1<=N&&0<=A;N--,A--)if(m[N]!==v[A]){if(N!==1||A!==1)do if(N--,A--,0>A||m[N]!==v[A]){var M=`
`+m[N].replace(" at new "," at ");return n.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",n.displayName)),M}while(1<=N&&0<=A);break}}}finally{re=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?R(n):""}function D(n){switch(n.tag){case 5:return R(n.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return n=le(n.type,!1),n;case 11:return n=le(n.type.render,!1),n;case 1:return n=le(n.type,!0),n;default:return""}}function G(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case q:return"Fragment";case X:return"Portal";case we:return"Profiler";case te:return"StrictMode";case se:return"Suspense";case W:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ve:return(n.displayName||"Context")+".Consumer";case xe:return(n._context.displayName||"Context")+".Provider";case J:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case he:return i=n.displayName||null,i!==null?i:G(n.type)||"Memo";case K:i=n._payload,n=n._init;try{return G(n(i))}catch{}}return null}function ee(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(i);case 8:return i===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function de(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function je(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function De(n){var i=je(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),d=""+n[i];if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(N){d=""+N,v.call(this,N)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(N){d=""+N},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function dt(n){n._valueTracker||(n._valueTracker=De(n))}function mt(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return n&&(d=je(n)?n.checked?"true":"false":n.value),n=d,n!==l?(i.setValue(n),!0):!1}function Kt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Je(n,i){var l=i.checked;return H({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function Vr(n,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=de(i.value!=null?i.value:l),n._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Zr(n,i){i=i.checked,i!=null&&I(n,"checked",i,!1)}function on(n,i){Zr(n,i);var l=de(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?ds(n,i.type,l):i.hasOwnProperty("defaultValue")&&ds(n,i.type,de(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Aa(n,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,l||i===n.value||(n.value=i),n.defaultValue=i}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function ds(n,i,l){(i!=="number"||Kt(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var O=Array.isArray;function V(n,i,l,d){if(n=n.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<n.length;l++)m=i.hasOwnProperty("$"+n[l].value),n[l].selected!==m&&(n[l].selected=m),m&&d&&(n[l].defaultSelected=!0)}else{for(l=""+de(l),i=null,m=0;m<n.length;m++){if(n[m].value===l){n[m].selected=!0,d&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function Z(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(s(91));return H({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ne(n,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(s(92));if(O(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),l=i}n._wrapperState={initialValue:de(l)}}function ye(n,i){var l=de(i.value),d=de(i.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),i.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),d!=null&&(n.defaultValue=""+d)}function ae(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Ae(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Ae(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ze,Qt=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,m){MSApp.execUnsafeLocalFunction(function(){return n(i,l,d,m)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Ze=Ze||document.createElement("div"),Ze.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ze.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Yr(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var Ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_=["Webkit","ms","Moz","O"];Object.keys(Ft).forEach(function(n){_.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Ft[i]=Ft[n]})});function be(n,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Ft.hasOwnProperty(n)&&Ft[n]?(""+i).trim():i+"px"}function He(n,i){n=n.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=be(l,i[l],d);l==="float"&&(l="cssFloat"),d?n.setProperty(l,m):n[l]=m}}var tt=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gt(n,i){if(i){if(tt[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(s(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(s(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(s(61))}if(i.style!=null&&typeof i.style!="object")throw Error(s(62))}}function us(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var En=null;function Td(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ad=null,Ei=null,_i=null;function Fh(n){if(n=Ja(n)){if(typeof Ad!="function")throw Error(s(280));var i=n.stateNode;i&&(i=El(i),Ad(n.stateNode,n.type,i))}}function Lh(n){Ei?_i?_i.push(n):_i=[n]:Ei=n}function Bh(){if(Ei){var n=Ei,i=_i;if(_i=Ei=null,Fh(n),i)for(n=0;n<i.length;n++)Fh(i[n])}}function $h(n,i){return n(i)}function Vh(){}var Rd=!1;function zh(n,i,l){if(Rd)return n(i,l);Rd=!0;try{return $h(n,i,l)}finally{Rd=!1,(Ei!==null||_i!==null)&&(Vh(),Bh())}}function Ra(n,i){var l=n.stateNode;if(l===null)return null;var d=El(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var Id=!1;if(f)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){Id=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{Id=!1}function BN(n,i,l,d,m,v,N,A,M){var Q=Array.prototype.slice.call(arguments,3);try{i.apply(l,Q)}catch(ce){this.onError(ce)}}var Oa=!1,al=null,ol=!1,Od=null,$N={onError:function(n){Oa=!0,al=n}};function VN(n,i,l,d,m,v,N,A,M){Oa=!1,al=null,BN.apply($N,arguments)}function zN(n,i,l,d,m,v,N,A,M){if(VN.apply(this,arguments),Oa){if(Oa){var Q=al;Oa=!1,al=null}else throw Error(s(198));ol||(ol=!0,Od=Q)}}function Xs(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function Uh(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function qh(n){if(Xs(n)!==n)throw Error(s(188))}function UN(n){var i=n.alternate;if(!i){if(i=Xs(n),i===null)throw Error(s(188));return i!==n?null:n}for(var l=n,d=i;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return qh(m),n;if(v===d)return qh(m),i;v=v.sibling}throw Error(s(188))}if(l.return!==d.return)l=m,d=v;else{for(var N=!1,A=m.child;A;){if(A===l){N=!0,l=m,d=v;break}if(A===d){N=!0,d=m,l=v;break}A=A.sibling}if(!N){for(A=v.child;A;){if(A===l){N=!0,l=v,d=m;break}if(A===d){N=!0,d=v,l=m;break}A=A.sibling}if(!N)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:i}function Wh(n){return n=UN(n),n!==null?Kh(n):null}function Kh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Kh(n);if(i!==null)return i;n=n.sibling}return null}var Qh=t.unstable_scheduleCallback,Hh=t.unstable_cancelCallback,qN=t.unstable_shouldYield,WN=t.unstable_requestPaint,Lt=t.unstable_now,KN=t.unstable_getCurrentPriorityLevel,Md=t.unstable_ImmediatePriority,Gh=t.unstable_UserBlockingPriority,ll=t.unstable_NormalPriority,QN=t.unstable_LowPriority,Zh=t.unstable_IdlePriority,cl=null,_n=null;function HN(n){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(cl,n,void 0,(n.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:YN,GN=Math.log,ZN=Math.LN2;function YN(n){return n>>>=0,n===0?32:31-(GN(n)/ZN|0)|0}var dl=64,ul=4194304;function Ma(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function fl(n,i){var l=n.pendingLanes;if(l===0)return 0;var d=0,m=n.suspendedLanes,v=n.pingedLanes,N=l&268435455;if(N!==0){var A=N&~m;A!==0?d=Ma(A):(v&=N,v!==0&&(d=Ma(v)))}else N=l&~m,N!==0?d=Ma(N):v!==0&&(d=Ma(v));if(d===0)return 0;if(i!==0&&i!==d&&(i&m)===0&&(m=d&-d,v=i&-i,m>=v||m===16&&(v&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=d;0<i;)l=31-ln(i),m=1<<l,d|=n[l],i&=~m;return d}function XN(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JN(n,i){for(var l=n.suspendedLanes,d=n.pingedLanes,m=n.expirationTimes,v=n.pendingLanes;0<v;){var N=31-ln(v),A=1<<N,M=m[N];M===-1?((A&l)===0||(A&d)!==0)&&(m[N]=XN(A,i)):M<=i&&(n.expiredLanes|=A),v&=~A}}function Dd(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Yh(){var n=dl;return dl<<=1,(dl&4194240)===0&&(dl=64),n}function Fd(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function Da(n,i,l){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-ln(i),n[i]=l}function eS(n,i){var l=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<l;){var m=31-ln(l),v=1<<m;i[m]=0,d[m]=-1,n[m]=-1,l&=~v}}function Ld(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var d=31-ln(l),m=1<<d;m&i|n[d]&i&&(n[d]|=i),l&=~m}}var xt=0;function Xh(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Jh,Bd,ep,tp,rp,$d=!1,ml=[],fs=null,ms=null,hs=null,Fa=new Map,La=new Map,ps=[],tS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function np(n,i){switch(n){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Fa.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":La.delete(i.pointerId)}}function Ba(n,i,l,d,m,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},i!==null&&(i=Ja(i),i!==null&&Bd(i)),n):(n.eventSystemFlags|=d,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function rS(n,i,l,d,m){switch(i){case"focusin":return fs=Ba(fs,n,i,l,d,m),!0;case"dragenter":return ms=Ba(ms,n,i,l,d,m),!0;case"mouseover":return hs=Ba(hs,n,i,l,d,m),!0;case"pointerover":var v=m.pointerId;return Fa.set(v,Ba(Fa.get(v)||null,n,i,l,d,m)),!0;case"gotpointercapture":return v=m.pointerId,La.set(v,Ba(La.get(v)||null,n,i,l,d,m)),!0}return!1}function sp(n){var i=Js(n.target);if(i!==null){var l=Xs(i);if(l!==null){if(i=l.tag,i===13){if(i=Uh(l),i!==null){n.blockedOn=i,rp(n.priority,function(){ep(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function hl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=zd(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);En=d,l.target.dispatchEvent(d),En=null}else return i=Ja(l),i!==null&&Bd(i),n.blockedOn=l,!1;i.shift()}return!0}function ip(n,i,l){hl(n)&&l.delete(i)}function nS(){$d=!1,fs!==null&&hl(fs)&&(fs=null),ms!==null&&hl(ms)&&(ms=null),hs!==null&&hl(hs)&&(hs=null),Fa.forEach(ip),La.forEach(ip)}function $a(n,i){n.blockedOn===i&&(n.blockedOn=null,$d||($d=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nS)))}function Va(n){function i(m){return $a(m,n)}if(0<ml.length){$a(ml[0],n);for(var l=1;l<ml.length;l++){var d=ml[l];d.blockedOn===n&&(d.blockedOn=null)}}for(fs!==null&&$a(fs,n),ms!==null&&$a(ms,n),hs!==null&&$a(hs,n),Fa.forEach(i),La.forEach(i),l=0;l<ps.length;l++)d=ps[l],d.blockedOn===n&&(d.blockedOn=null);for(;0<ps.length&&(l=ps[0],l.blockedOn===null);)sp(l),l.blockedOn===null&&ps.shift()}var Ti=L.ReactCurrentBatchConfig,pl=!0;function sS(n,i,l,d){var m=xt,v=Ti.transition;Ti.transition=null;try{xt=1,Vd(n,i,l,d)}finally{xt=m,Ti.transition=v}}function iS(n,i,l,d){var m=xt,v=Ti.transition;Ti.transition=null;try{xt=4,Vd(n,i,l,d)}finally{xt=m,Ti.transition=v}}function Vd(n,i,l,d){if(pl){var m=zd(n,i,l,d);if(m===null)iu(n,i,d,gl,l),np(n,d);else if(rS(m,n,i,l,d))d.stopPropagation();else if(np(n,d),i&4&&-1<tS.indexOf(n)){for(;m!==null;){var v=Ja(m);if(v!==null&&Jh(v),v=zd(n,i,l,d),v===null&&iu(n,i,d,gl,l),v===m)break;m=v}m!==null&&d.stopPropagation()}else iu(n,i,d,null,l)}}var gl=null;function zd(n,i,l,d){if(gl=null,n=Td(d),n=Js(n),n!==null)if(i=Xs(n),i===null)n=null;else if(l=i.tag,l===13){if(n=Uh(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return gl=n,null}function ap(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KN()){case Md:return 1;case Gh:return 4;case ll:case QN:return 16;case Zh:return 536870912;default:return 16}default:return 16}}var gs=null,Ud=null,xl=null;function op(){if(xl)return xl;var n,i=Ud,l=i.length,d,m="value"in gs?gs.value:gs.textContent,v=m.length;for(n=0;n<l&&i[n]===m[n];n++);var N=l-n;for(d=1;d<=N&&i[l-d]===m[v-d];d++);return xl=m.slice(n,1<d?1-d:void 0)}function vl(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function yl(){return!0}function lp(){return!1}function zr(n){function i(l,d,m,v,N){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(l=n[A],this[A]=l?l(v):v[A]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?yl:lp,this.isPropagationStopped=lp,this}return H(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),i}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qd=zr(Ai),za=H({},Ai,{view:0,detail:0}),aS=zr(za),Wd,Kd,Ua,bl=H({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hd,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ua&&(Ua&&n.type==="mousemove"?(Wd=n.screenX-Ua.screenX,Kd=n.screenY-Ua.screenY):Kd=Wd=0,Ua=n),Wd)},movementY:function(n){return"movementY"in n?n.movementY:Kd}}),cp=zr(bl),oS=H({},bl,{dataTransfer:0}),lS=zr(oS),cS=H({},za,{relatedTarget:0}),Qd=zr(cS),dS=H({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),uS=zr(dS),fS=H({},Ai,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),mS=zr(fS),hS=H({},Ai,{data:0}),dp=zr(hS),pS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vS(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=xS[n])?!!i[n]:!1}function Hd(){return vS}var yS=H({},za,{key:function(n){if(n.key){var i=pS[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=vl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hd,charCode:function(n){return n.type==="keypress"?vl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),bS=zr(yS),wS=H({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),up=zr(wS),jS=H({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hd}),NS=zr(jS),SS=H({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),CS=zr(SS),kS=H({},bl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),PS=zr(kS),ES=[9,13,27,32],Gd=f&&"CompositionEvent"in window,qa=null;f&&"documentMode"in document&&(qa=document.documentMode);var _S=f&&"TextEvent"in window&&!qa,fp=f&&(!Gd||qa&&8<qa&&11>=qa),mp=" ",hp=!1;function pp(n,i){switch(n){case"keyup":return ES.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ri=!1;function TS(n,i){switch(n){case"compositionend":return gp(i);case"keypress":return i.which!==32?null:(hp=!0,mp);case"textInput":return n=i.data,n===mp&&hp?null:n;default:return null}}function AS(n,i){if(Ri)return n==="compositionend"||!Gd&&pp(n,i)?(n=op(),xl=Ud=gs=null,Ri=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return fp&&i.locale!=="ko"?null:i.data;default:return null}}var RS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!RS[n.type]:i==="textarea"}function vp(n,i,l,d){Lh(d),i=Cl(i,"onChange"),0<i.length&&(l=new qd("onChange","change",null,l,d),n.push({event:l,listeners:i}))}var Wa=null,Ka=null;function IS(n){Dp(n,0)}function wl(n){var i=Fi(n);if(mt(i))return n}function OS(n,i){if(n==="change")return i}var yp=!1;if(f){var Zd;if(f){var Yd="oninput"in document;if(!Yd){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),Yd=typeof bp.oninput=="function"}Zd=Yd}else Zd=!1;yp=Zd&&(!document.documentMode||9<document.documentMode)}function wp(){Wa&&(Wa.detachEvent("onpropertychange",jp),Ka=Wa=null)}function jp(n){if(n.propertyName==="value"&&wl(Ka)){var i=[];vp(i,Ka,n,Td(n)),zh(IS,i)}}function MS(n,i,l){n==="focusin"?(wp(),Wa=i,Ka=l,Wa.attachEvent("onpropertychange",jp)):n==="focusout"&&wp()}function DS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return wl(Ka)}function FS(n,i){if(n==="click")return wl(i)}function LS(n,i){if(n==="input"||n==="change")return wl(i)}function BS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var cn=typeof Object.is=="function"?Object.is:BS;function Qa(n,i){if(cn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!h.call(i,m)||!cn(n[m],i[m]))return!1}return!0}function Np(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sp(n,i){var l=Np(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=i&&d>=i)return{node:l,offset:i-n};n=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Np(l)}}function Cp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Cp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function kp(){for(var n=window,i=Kt();i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=Kt(n.document)}return i}function Xd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function $S(n){var i=kp(),l=n.focusedElem,d=n.selectionRange;if(i!==l&&l&&l.ownerDocument&&Cp(l.ownerDocument.documentElement,l)){if(d!==null&&Xd(l)){if(i=d.start,n=d.end,n===void 0&&(n=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(n,l.value.length);else if(n=(i=l.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var m=l.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!n.extend&&v>d&&(m=d,d=v,v=m),m=Sp(l,v);var N=Sp(l,d);m&&N&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==N.node||n.focusOffset!==N.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),n.removeAllRanges(),v>d?(n.addRange(i),n.extend(N.node,N.offset)):(i.setEnd(N.node,N.offset),n.addRange(i)))}}for(i=[],n=l;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)n=i[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var VS=f&&"documentMode"in document&&11>=document.documentMode,Ii=null,Jd=null,Ha=null,eu=!1;function Pp(n,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;eu||Ii==null||Ii!==Kt(d)||(d=Ii,"selectionStart"in d&&Xd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ha&&Qa(Ha,d)||(Ha=d,d=Cl(Jd,"onSelect"),0<d.length&&(i=new qd("onSelect","select",null,i,l),n.push({event:i,listeners:d}),i.target=Ii)))}function jl(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var Oi={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},tu={},Ep={};f&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function Nl(n){if(tu[n])return tu[n];if(!Oi[n])return n;var i=Oi[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in Ep)return tu[n]=i[l];return n}var _p=Nl("animationend"),Tp=Nl("animationiteration"),Ap=Nl("animationstart"),Rp=Nl("transitionend"),Ip=new Map,Op="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(n,i){Ip.set(n,i),c(i,[n])}for(var ru=0;ru<Op.length;ru++){var nu=Op[ru],zS=nu.toLowerCase(),US=nu[0].toUpperCase()+nu.slice(1);xs(zS,"on"+US)}xs(_p,"onAnimationEnd"),xs(Tp,"onAnimationIteration"),xs(Ap,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(Rp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function Mp(n,i,l){var d=n.type||"unknown-event";n.currentTarget=l,zN(d,i,void 0,n),n.currentTarget=null}function Dp(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],m=d.event;d=d.listeners;e:{var v=void 0;if(i)for(var N=d.length-1;0<=N;N--){var A=d[N],M=A.instance,Q=A.currentTarget;if(A=A.listener,M!==v&&m.isPropagationStopped())break e;Mp(m,A,Q),v=M}else for(N=0;N<d.length;N++){if(A=d[N],M=A.instance,Q=A.currentTarget,A=A.listener,M!==v&&m.isPropagationStopped())break e;Mp(m,A,Q),v=M}}}if(ol)throw n=Od,ol=!1,Od=null,n}function Nt(n,i){var l=i[uu];l===void 0&&(l=i[uu]=new Set);var d=n+"__bubble";l.has(d)||(Fp(i,n,2,!1),l.add(d))}function su(n,i,l){var d=0;i&&(d|=4),Fp(l,n,d,i)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function Za(n){if(!n[Sl]){n[Sl]=!0,a.forEach(function(l){l!=="selectionchange"&&(qS.has(l)||su(l,!1,n),su(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Sl]||(i[Sl]=!0,su("selectionchange",!1,i))}}function Fp(n,i,l,d){switch(ap(i)){case 1:var m=sS;break;case 4:m=iS;break;default:m=Vd}l=m.bind(null,i,l,n),m=void 0,!Id||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),d?m!==void 0?n.addEventListener(i,l,{capture:!0,passive:m}):n.addEventListener(i,l,!0):m!==void 0?n.addEventListener(i,l,{passive:m}):n.addEventListener(i,l,!1)}function iu(n,i,l,d,m){var v=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var A=d.stateNode.containerInfo;if(A===m||A.nodeType===8&&A.parentNode===m)break;if(N===4)for(N=d.return;N!==null;){var M=N.tag;if((M===3||M===4)&&(M=N.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;N=N.return}for(;A!==null;){if(N=Js(A),N===null)return;if(M=N.tag,M===5||M===6){d=v=N;continue e}A=A.parentNode}}d=d.return}zh(function(){var Q=v,ce=Td(l),ue=[];e:{var oe=Ip.get(n);if(oe!==void 0){var Ce=qd,_e=n;switch(n){case"keypress":if(vl(l)===0)break e;case"keydown":case"keyup":Ce=bS;break;case"focusin":_e="focus",Ce=Qd;break;case"focusout":_e="blur",Ce=Qd;break;case"beforeblur":case"afterblur":Ce=Qd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=cp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=lS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=NS;break;case _p:case Tp:case Ap:Ce=uS;break;case Rp:Ce=CS;break;case"scroll":Ce=aS;break;case"wheel":Ce=PS;break;case"copy":case"cut":case"paste":Ce=mS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=up}var Re=(i&4)!==0,Bt=!Re&&n==="scroll",z=Re?oe!==null?oe+"Capture":null:oe;Re=[];for(var F=Q,U;F!==null;){U=F;var ge=U.stateNode;if(U.tag===5&&ge!==null&&(U=ge,z!==null&&(ge=Ra(F,z),ge!=null&&Re.push(Ya(F,ge,U)))),Bt)break;F=F.return}0<Re.length&&(oe=new Ce(oe,_e,null,l,ce),ue.push({event:oe,listeners:Re}))}}if((i&7)===0){e:{if(oe=n==="mouseover"||n==="pointerover",Ce=n==="mouseout"||n==="pointerout",oe&&l!==En&&(_e=l.relatedTarget||l.fromElement)&&(Js(_e)||_e[qn]))break e;if((Ce||oe)&&(oe=ce.window===ce?ce:(oe=ce.ownerDocument)?oe.defaultView||oe.parentWindow:window,Ce?(_e=l.relatedTarget||l.toElement,Ce=Q,_e=_e?Js(_e):null,_e!==null&&(Bt=Xs(_e),_e!==Bt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(Ce=null,_e=Q),Ce!==_e)){if(Re=cp,ge="onMouseLeave",z="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(Re=up,ge="onPointerLeave",z="onPointerEnter",F="pointer"),Bt=Ce==null?oe:Fi(Ce),U=_e==null?oe:Fi(_e),oe=new Re(ge,F+"leave",Ce,l,ce),oe.target=Bt,oe.relatedTarget=U,ge=null,Js(ce)===Q&&(Re=new Re(z,F+"enter",_e,l,ce),Re.target=U,Re.relatedTarget=Bt,ge=Re),Bt=ge,Ce&&_e)t:{for(Re=Ce,z=_e,F=0,U=Re;U;U=Mi(U))F++;for(U=0,ge=z;ge;ge=Mi(ge))U++;for(;0<F-U;)Re=Mi(Re),F--;for(;0<U-F;)z=Mi(z),U--;for(;F--;){if(Re===z||z!==null&&Re===z.alternate)break t;Re=Mi(Re),z=Mi(z)}Re=null}else Re=null;Ce!==null&&Lp(ue,oe,Ce,Re,!1),_e!==null&&Bt!==null&&Lp(ue,Bt,_e,Re,!0)}}e:{if(oe=Q?Fi(Q):window,Ce=oe.nodeName&&oe.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&oe.type==="file")var Fe=OS;else if(xp(oe))if(yp)Fe=LS;else{Fe=DS;var $e=MS}else(Ce=oe.nodeName)&&Ce.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Fe=FS);if(Fe&&(Fe=Fe(n,Q))){vp(ue,Fe,l,ce);break e}$e&&$e(n,oe,Q),n==="focusout"&&($e=oe._wrapperState)&&$e.controlled&&oe.type==="number"&&ds(oe,"number",oe.value)}switch($e=Q?Fi(Q):window,n){case"focusin":(xp($e)||$e.contentEditable==="true")&&(Ii=$e,Jd=Q,Ha=null);break;case"focusout":Ha=Jd=Ii=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,Pp(ue,l,ce);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":Pp(ue,l,ce)}var Ve;if(Gd)e:{switch(n){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Ri?pp(n,l)&&(Qe="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Qe="onCompositionStart");Qe&&(fp&&l.locale!=="ko"&&(Ri||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Ri&&(Ve=op()):(gs=ce,Ud="value"in gs?gs.value:gs.textContent,Ri=!0)),$e=Cl(Q,Qe),0<$e.length&&(Qe=new dp(Qe,n,null,l,ce),ue.push({event:Qe,listeners:$e}),Ve?Qe.data=Ve:(Ve=gp(l),Ve!==null&&(Qe.data=Ve)))),(Ve=_S?TS(n,l):AS(n,l))&&(Q=Cl(Q,"onBeforeInput"),0<Q.length&&(ce=new dp("onBeforeInput","beforeinput",null,l,ce),ue.push({event:ce,listeners:Q}),ce.data=Ve))}Dp(ue,i)})}function Ya(n,i,l){return{instance:n,listener:i,currentTarget:l}}function Cl(n,i){for(var l=i+"Capture",d=[];n!==null;){var m=n,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Ra(n,l),v!=null&&d.unshift(Ya(n,v,m)),v=Ra(n,i),v!=null&&d.push(Ya(n,v,m))),n=n.return}return d}function Mi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Lp(n,i,l,d,m){for(var v=i._reactName,N=[];l!==null&&l!==d;){var A=l,M=A.alternate,Q=A.stateNode;if(M!==null&&M===d)break;A.tag===5&&Q!==null&&(A=Q,m?(M=Ra(l,v),M!=null&&N.unshift(Ya(l,M,A))):m||(M=Ra(l,v),M!=null&&N.push(Ya(l,M,A)))),l=l.return}N.length!==0&&n.push({event:i,listeners:N})}var WS=/\r\n?/g,KS=/\u0000|\uFFFD/g;function Bp(n){return(typeof n=="string"?n:""+n).replace(WS,`
`).replace(KS,"")}function kl(n,i,l){if(i=Bp(i),Bp(n)!==i&&l)throw Error(s(425))}function Pl(){}var au=null,ou=null;function lu(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cu=typeof setTimeout=="function"?setTimeout:void 0,QS=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(n){return $p.resolve(null).then(n).catch(GS)}:cu;function GS(n){setTimeout(function(){throw n})}function du(n,i){var l=i,d=0;do{var m=l.nextSibling;if(n.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){n.removeChild(m),Va(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Va(i)}function vs(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Vp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return n;i--}else l==="/$"&&i++}n=n.previousSibling}return null}var Di=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Di,Xa="__reactProps$"+Di,qn="__reactContainer$"+Di,uu="__reactEvents$"+Di,ZS="__reactListeners$"+Di,YS="__reactHandles$"+Di;function Js(n){var i=n[Tn];if(i)return i;for(var l=n.parentNode;l;){if(i=l[qn]||l[Tn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=Vp(n);n!==null;){if(l=n[Tn])return l;n=Vp(n)}return i}n=l,l=n.parentNode}return null}function Ja(n){return n=n[Tn]||n[qn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Fi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(s(33))}function El(n){return n[Xa]||null}var fu=[],Li=-1;function ys(n){return{current:n}}function St(n){0>Li||(n.current=fu[Li],fu[Li]=null,Li--)}function wt(n,i){Li++,fu[Li]=n.current,n.current=i}var bs={},xr=ys(bs),Tr=ys(!1),ei=bs;function Bi(n,i){var l=n.type.contextTypes;if(!l)return bs;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=i[v];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=m),m}function Ar(n){return n=n.childContextTypes,n!=null}function _l(){St(Tr),St(xr)}function zp(n,i,l){if(xr.current!==bs)throw Error(s(168));wt(xr,i),wt(Tr,l)}function Up(n,i,l){var d=n.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in i))throw Error(s(108,ee(n)||"Unknown",m));return H({},l,d)}function Tl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||bs,ei=xr.current,wt(xr,n),wt(Tr,Tr.current),!0}function qp(n,i,l){var d=n.stateNode;if(!d)throw Error(s(169));l?(n=Up(n,i,ei),d.__reactInternalMemoizedMergedChildContext=n,St(Tr),St(xr),wt(xr,n)):St(Tr),wt(Tr,l)}var Wn=null,Al=!1,mu=!1;function Wp(n){Wn===null?Wn=[n]:Wn.push(n)}function XS(n){Al=!0,Wp(n)}function ws(){if(!mu&&Wn!==null){mu=!0;var n=0,i=xt;try{var l=Wn;for(xt=1;n<l.length;n++){var d=l[n];do d=d(!0);while(d!==null)}Wn=null,Al=!1}catch(m){throw Wn!==null&&(Wn=Wn.slice(n+1)),Qh(Md,ws),m}finally{xt=i,mu=!1}}return null}var $i=[],Vi=0,Rl=null,Il=0,Xr=[],Jr=0,ti=null,Kn=1,Qn="";function ri(n,i){$i[Vi++]=Il,$i[Vi++]=Rl,Rl=n,Il=i}function Kp(n,i,l){Xr[Jr++]=Kn,Xr[Jr++]=Qn,Xr[Jr++]=ti,ti=n;var d=Kn;n=Qn;var m=32-ln(d)-1;d&=~(1<<m),l+=1;var v=32-ln(i)+m;if(30<v){var N=m-m%5;v=(d&(1<<N)-1).toString(32),d>>=N,m-=N,Kn=1<<32-ln(i)+m|l<<m|d,Qn=v+n}else Kn=1<<v|l<<m|d,Qn=n}function hu(n){n.return!==null&&(ri(n,1),Kp(n,1,0))}function pu(n){for(;n===Rl;)Rl=$i[--Vi],$i[Vi]=null,Il=$i[--Vi],$i[Vi]=null;for(;n===ti;)ti=Xr[--Jr],Xr[Jr]=null,Qn=Xr[--Jr],Xr[Jr]=null,Kn=Xr[--Jr],Xr[Jr]=null}var Ur=null,qr=null,Pt=!1,dn=null;function Qp(n,i){var l=nn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=n,i=n.deletions,i===null?(n.deletions=[l],n.flags|=16):i.push(l)}function Hp(n,i){switch(n.tag){case 5:var l=n.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Ur=n,qr=vs(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Ur=n,qr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=ti!==null?{id:Kn,overflow:Qn}:null,n.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=nn(18,null,null,0),l.stateNode=i,l.return=n,n.child=l,Ur=n,qr=null,!0):!1;default:return!1}}function gu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function xu(n){if(Pt){var i=qr;if(i){var l=i;if(!Hp(n,i)){if(gu(n))throw Error(s(418));i=vs(l.nextSibling);var d=Ur;i&&Hp(n,i)?Qp(d,l):(n.flags=n.flags&-4097|2,Pt=!1,Ur=n)}}else{if(gu(n))throw Error(s(418));n.flags=n.flags&-4097|2,Pt=!1,Ur=n}}}function Gp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ur=n}function Ol(n){if(n!==Ur)return!1;if(!Pt)return Gp(n),Pt=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!lu(n.type,n.memoizedProps)),i&&(i=qr)){if(gu(n))throw Zp(),Error(s(418));for(;i;)Qp(n,i),i=vs(i.nextSibling)}if(Gp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(i===0){qr=vs(n.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}n=n.nextSibling}qr=null}}else qr=Ur?vs(n.stateNode.nextSibling):null;return!0}function Zp(){for(var n=qr;n;)n=vs(n.nextSibling)}function zi(){qr=Ur=null,Pt=!1}function vu(n){dn===null?dn=[n]:dn.push(n)}var JS=L.ReactCurrentBatchConfig;function eo(n,i,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(s(309));var d=l.stateNode}if(!d)throw Error(s(147,n));var m=d,v=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(N){var A=m.refs;N===null?delete A[v]:A[v]=N},i._stringRef=v,i)}if(typeof n!="string")throw Error(s(284));if(!l._owner)throw Error(s(290,n))}return n}function Ml(n,i){throw n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Yp(n){var i=n._init;return i(n._payload)}function Xp(n){function i(z,F){if(n){var U=z.deletions;U===null?(z.deletions=[F],z.flags|=16):U.push(F)}}function l(z,F){if(!n)return null;for(;F!==null;)i(z,F),F=F.sibling;return null}function d(z,F){for(z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function m(z,F){return z=_s(z,F),z.index=0,z.sibling=null,z}function v(z,F,U){return z.index=U,n?(U=z.alternate,U!==null?(U=U.index,U<F?(z.flags|=2,F):U):(z.flags|=2,F)):(z.flags|=1048576,F)}function N(z){return n&&z.alternate===null&&(z.flags|=2),z}function A(z,F,U,ge){return F===null||F.tag!==6?(F=df(U,z.mode,ge),F.return=z,F):(F=m(F,U),F.return=z,F)}function M(z,F,U,ge){var Fe=U.type;return Fe===q?ce(z,F,U.props.children,ge,U.key):F!==null&&(F.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===K&&Yp(Fe)===F.type)?(ge=m(F,U.props),ge.ref=eo(z,F,U),ge.return=z,ge):(ge=ic(U.type,U.key,U.props,null,z.mode,ge),ge.ref=eo(z,F,U),ge.return=z,ge)}function Q(z,F,U,ge){return F===null||F.tag!==4||F.stateNode.containerInfo!==U.containerInfo||F.stateNode.implementation!==U.implementation?(F=uf(U,z.mode,ge),F.return=z,F):(F=m(F,U.children||[]),F.return=z,F)}function ce(z,F,U,ge,Fe){return F===null||F.tag!==7?(F=di(U,z.mode,ge,Fe),F.return=z,F):(F=m(F,U),F.return=z,F)}function ue(z,F,U){if(typeof F=="string"&&F!==""||typeof F=="number")return F=df(""+F,z.mode,U),F.return=z,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case B:return U=ic(F.type,F.key,F.props,null,z.mode,U),U.ref=eo(z,null,F),U.return=z,U;case X:return F=uf(F,z.mode,U),F.return=z,F;case K:var ge=F._init;return ue(z,ge(F._payload),U)}if(O(F)||$(F))return F=di(F,z.mode,U,null),F.return=z,F;Ml(z,F)}return null}function oe(z,F,U,ge){var Fe=F!==null?F.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return Fe!==null?null:A(z,F,""+U,ge);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case B:return U.key===Fe?M(z,F,U,ge):null;case X:return U.key===Fe?Q(z,F,U,ge):null;case K:return Fe=U._init,oe(z,F,Fe(U._payload),ge)}if(O(U)||$(U))return Fe!==null?null:ce(z,F,U,ge,null);Ml(z,U)}return null}function Ce(z,F,U,ge,Fe){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return z=z.get(U)||null,A(F,z,""+ge,Fe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case B:return z=z.get(ge.key===null?U:ge.key)||null,M(F,z,ge,Fe);case X:return z=z.get(ge.key===null?U:ge.key)||null,Q(F,z,ge,Fe);case K:var $e=ge._init;return Ce(z,F,U,$e(ge._payload),Fe)}if(O(ge)||$(ge))return z=z.get(U)||null,ce(F,z,ge,Fe,null);Ml(F,ge)}return null}function _e(z,F,U,ge){for(var Fe=null,$e=null,Ve=F,Qe=F=0,ir=null;Ve!==null&&Qe<U.length;Qe++){Ve.index>Qe?(ir=Ve,Ve=null):ir=Ve.sibling;var pt=oe(z,Ve,U[Qe],ge);if(pt===null){Ve===null&&(Ve=ir);break}n&&Ve&&pt.alternate===null&&i(z,Ve),F=v(pt,F,Qe),$e===null?Fe=pt:$e.sibling=pt,$e=pt,Ve=ir}if(Qe===U.length)return l(z,Ve),Pt&&ri(z,Qe),Fe;if(Ve===null){for(;Qe<U.length;Qe++)Ve=ue(z,U[Qe],ge),Ve!==null&&(F=v(Ve,F,Qe),$e===null?Fe=Ve:$e.sibling=Ve,$e=Ve);return Pt&&ri(z,Qe),Fe}for(Ve=d(z,Ve);Qe<U.length;Qe++)ir=Ce(Ve,z,Qe,U[Qe],ge),ir!==null&&(n&&ir.alternate!==null&&Ve.delete(ir.key===null?Qe:ir.key),F=v(ir,F,Qe),$e===null?Fe=ir:$e.sibling=ir,$e=ir);return n&&Ve.forEach(function(Ts){return i(z,Ts)}),Pt&&ri(z,Qe),Fe}function Re(z,F,U,ge){var Fe=$(U);if(typeof Fe!="function")throw Error(s(150));if(U=Fe.call(U),U==null)throw Error(s(151));for(var $e=Fe=null,Ve=F,Qe=F=0,ir=null,pt=U.next();Ve!==null&&!pt.done;Qe++,pt=U.next()){Ve.index>Qe?(ir=Ve,Ve=null):ir=Ve.sibling;var Ts=oe(z,Ve,pt.value,ge);if(Ts===null){Ve===null&&(Ve=ir);break}n&&Ve&&Ts.alternate===null&&i(z,Ve),F=v(Ts,F,Qe),$e===null?Fe=Ts:$e.sibling=Ts,$e=Ts,Ve=ir}if(pt.done)return l(z,Ve),Pt&&ri(z,Qe),Fe;if(Ve===null){for(;!pt.done;Qe++,pt=U.next())pt=ue(z,pt.value,ge),pt!==null&&(F=v(pt,F,Qe),$e===null?Fe=pt:$e.sibling=pt,$e=pt);return Pt&&ri(z,Qe),Fe}for(Ve=d(z,Ve);!pt.done;Qe++,pt=U.next())pt=Ce(Ve,z,Qe,pt.value,ge),pt!==null&&(n&&pt.alternate!==null&&Ve.delete(pt.key===null?Qe:pt.key),F=v(pt,F,Qe),$e===null?Fe=pt:$e.sibling=pt,$e=pt);return n&&Ve.forEach(function(R1){return i(z,R1)}),Pt&&ri(z,Qe),Fe}function Bt(z,F,U,ge){if(typeof U=="object"&&U!==null&&U.type===q&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case B:e:{for(var Fe=U.key,$e=F;$e!==null;){if($e.key===Fe){if(Fe=U.type,Fe===q){if($e.tag===7){l(z,$e.sibling),F=m($e,U.props.children),F.return=z,z=F;break e}}else if($e.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===K&&Yp(Fe)===$e.type){l(z,$e.sibling),F=m($e,U.props),F.ref=eo(z,$e,U),F.return=z,z=F;break e}l(z,$e);break}else i(z,$e);$e=$e.sibling}U.type===q?(F=di(U.props.children,z.mode,ge,U.key),F.return=z,z=F):(ge=ic(U.type,U.key,U.props,null,z.mode,ge),ge.ref=eo(z,F,U),ge.return=z,z=ge)}return N(z);case X:e:{for($e=U.key;F!==null;){if(F.key===$e)if(F.tag===4&&F.stateNode.containerInfo===U.containerInfo&&F.stateNode.implementation===U.implementation){l(z,F.sibling),F=m(F,U.children||[]),F.return=z,z=F;break e}else{l(z,F);break}else i(z,F);F=F.sibling}F=uf(U,z.mode,ge),F.return=z,z=F}return N(z);case K:return $e=U._init,Bt(z,F,$e(U._payload),ge)}if(O(U))return _e(z,F,U,ge);if($(U))return Re(z,F,U,ge);Ml(z,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,F!==null&&F.tag===6?(l(z,F.sibling),F=m(F,U),F.return=z,z=F):(l(z,F),F=df(U,z.mode,ge),F.return=z,z=F),N(z)):l(z,F)}return Bt}var Ui=Xp(!0),Jp=Xp(!1),Dl=ys(null),Fl=null,qi=null,yu=null;function bu(){yu=qi=Fl=null}function wu(n){var i=Dl.current;St(Dl),n._currentValue=i}function ju(n,i,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),n===l)break;n=n.return}}function Wi(n,i){Fl=n,yu=qi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Rr=!0),n.firstContext=null)}function en(n){var i=n._currentValue;if(yu!==n)if(n={context:n,memoizedValue:i,next:null},qi===null){if(Fl===null)throw Error(s(308));qi=n,Fl.dependencies={lanes:0,firstContext:n}}else qi=qi.next=n;return i}var ni=null;function Nu(n){ni===null?ni=[n]:ni.push(n)}function eg(n,i,l,d){var m=i.interleaved;return m===null?(l.next=l,Nu(i)):(l.next=m.next,m.next=l),i.interleaved=l,Hn(n,d)}function Hn(n,i){n.lanes|=i;var l=n.alternate;for(l!==null&&(l.lanes|=i),l=n,n=n.return;n!==null;)n.childLanes|=i,l=n.alternate,l!==null&&(l.childLanes|=i),l=n,n=n.return;return l.tag===3?l.stateNode:null}var js=!1;function Su(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tg(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Gn(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Ns(n,i,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(ht&2)!==0){var m=d.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),d.pending=i,Hn(n,l)}return m=d.interleaved,m===null?(i.next=i,Nu(d)):(i.next=m.next,m.next=i),d.interleaved=i,Hn(n,l)}function Ll(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=n.pendingLanes,l|=d,i.lanes=l,Ld(n,l)}}function rg(n,i){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var N={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=N:v=v.next=N,l=l.next}while(l!==null);v===null?m=v=i:v=v.next=i}else m=v=i;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}function Bl(n,i,l,d){var m=n.updateQueue;js=!1;var v=m.firstBaseUpdate,N=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var M=A,Q=M.next;M.next=null,N===null?v=Q:N.next=Q,N=M;var ce=n.alternate;ce!==null&&(ce=ce.updateQueue,A=ce.lastBaseUpdate,A!==N&&(A===null?ce.firstBaseUpdate=Q:A.next=Q,ce.lastBaseUpdate=M))}if(v!==null){var ue=m.baseState;N=0,ce=Q=M=null,A=v;do{var oe=A.lane,Ce=A.eventTime;if((d&oe)===oe){ce!==null&&(ce=ce.next={eventTime:Ce,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var _e=n,Re=A;switch(oe=i,Ce=l,Re.tag){case 1:if(_e=Re.payload,typeof _e=="function"){ue=_e.call(Ce,ue,oe);break e}ue=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Re.payload,oe=typeof _e=="function"?_e.call(Ce,ue,oe):_e,oe==null)break e;ue=H({},ue,oe);break e;case 2:js=!0}}A.callback!==null&&A.lane!==0&&(n.flags|=64,oe=m.effects,oe===null?m.effects=[A]:oe.push(A))}else Ce={eventTime:Ce,lane:oe,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ce===null?(Q=ce=Ce,M=ue):ce=ce.next=Ce,N|=oe;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;oe=A,A=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);if(ce===null&&(M=ue),m.baseState=M,m.firstBaseUpdate=Q,m.lastBaseUpdate=ce,i=m.shared.interleaved,i!==null){m=i;do N|=m.lane,m=m.next;while(m!==i)}else v===null&&(m.shared.lanes=0);ai|=N,n.lanes=N,n.memoizedState=ue}}function ng(n,i,l){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var d=n[i],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(s(191,m));m.call(d)}}}var to={},An=ys(to),ro=ys(to),no=ys(to);function si(n){if(n===to)throw Error(s(174));return n}function Cu(n,i){switch(wt(no,i),wt(ro,n),wt(An,to),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ot(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=ot(i,n)}St(An),wt(An,i)}function Ki(){St(An),St(ro),St(no)}function sg(n){si(no.current);var i=si(An.current),l=ot(i,n.type);i!==l&&(wt(ro,n),wt(An,l))}function ku(n){ro.current===n&&(St(An),St(ro))}var _t=ys(0);function $l(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Pu=[];function Eu(){for(var n=0;n<Pu.length;n++)Pu[n]._workInProgressVersionPrimary=null;Pu.length=0}var Vl=L.ReactCurrentDispatcher,_u=L.ReactCurrentBatchConfig,ii=0,Tt=null,Xt=null,nr=null,zl=!1,so=!1,io=0,e1=0;function vr(){throw Error(s(321))}function Tu(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!cn(n[l],i[l]))return!1;return!0}function Au(n,i,l,d,m,v){if(ii=v,Tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Vl.current=n===null||n.memoizedState===null?s1:i1,n=l(d,m),so){v=0;do{if(so=!1,io=0,25<=v)throw Error(s(301));v+=1,nr=Xt=null,i.updateQueue=null,Vl.current=a1,n=l(d,m)}while(so)}if(Vl.current=Wl,i=Xt!==null&&Xt.next!==null,ii=0,nr=Xt=Tt=null,zl=!1,i)throw Error(s(300));return n}function Ru(){var n=io!==0;return io=0,n}function Rn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?Tt.memoizedState=nr=n:nr=nr.next=n,nr}function tn(){if(Xt===null){var n=Tt.alternate;n=n!==null?n.memoizedState:null}else n=Xt.next;var i=nr===null?Tt.memoizedState:nr.next;if(i!==null)nr=i,Xt=n;else{if(n===null)throw Error(s(310));Xt=n,n={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},nr===null?Tt.memoizedState=nr=n:nr=nr.next=n}return nr}function ao(n,i){return typeof i=="function"?i(n):i}function Iu(n){var i=tn(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var d=Xt,m=d.baseQueue,v=l.pending;if(v!==null){if(m!==null){var N=m.next;m.next=v.next,v.next=N}d.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,d=d.baseState;var A=N=null,M=null,Q=v;do{var ce=Q.lane;if((ii&ce)===ce)M!==null&&(M=M.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:n(d,Q.action);else{var ue={lane:ce,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};M===null?(A=M=ue,N=d):M=M.next=ue,Tt.lanes|=ce,ai|=ce}Q=Q.next}while(Q!==null&&Q!==v);M===null?N=d:M.next=A,cn(d,i.memoizedState)||(Rr=!0),i.memoizedState=d,i.baseState=N,i.baseQueue=M,l.lastRenderedState=d}if(n=l.interleaved,n!==null){m=n;do v=m.lane,Tt.lanes|=v,ai|=v,m=m.next;while(m!==n)}else m===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Ou(n){var i=tn(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var d=l.dispatch,m=l.pending,v=i.memoizedState;if(m!==null){l.pending=null;var N=m=m.next;do v=n(v,N.action),N=N.next;while(N!==m);cn(v,i.memoizedState)||(Rr=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,d]}function ig(){}function ag(n,i){var l=Tt,d=tn(),m=i(),v=!cn(d.memoizedState,m);if(v&&(d.memoizedState=m,Rr=!0),d=d.queue,Mu(cg.bind(null,l,d,n),[n]),d.getSnapshot!==i||v||nr!==null&&nr.memoizedState.tag&1){if(l.flags|=2048,oo(9,lg.bind(null,l,d,m,i),void 0,null),sr===null)throw Error(s(349));(ii&30)!==0||og(l,i,m)}return m}function og(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=Tt.updateQueue,i===null?(i={lastEffect:null,stores:null},Tt.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function lg(n,i,l,d){i.value=l,i.getSnapshot=d,dg(i)&&ug(n)}function cg(n,i,l){return l(function(){dg(i)&&ug(n)})}function dg(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!cn(n,l)}catch{return!0}}function ug(n){var i=Hn(n,1);i!==null&&hn(i,n,1,-1)}function fg(n){var i=Rn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:n},i.queue=n,n=n.dispatch=n1.bind(null,Tt,n),[i.memoizedState,n]}function oo(n,i,l,d){return n={tag:n,create:i,destroy:l,deps:d,next:null},i=Tt.updateQueue,i===null?(i={lastEffect:null,stores:null},Tt.updateQueue=i,i.lastEffect=n.next=n):(l=i.lastEffect,l===null?i.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,i.lastEffect=n)),n}function mg(){return tn().memoizedState}function Ul(n,i,l,d){var m=Rn();Tt.flags|=n,m.memoizedState=oo(1|i,l,void 0,d===void 0?null:d)}function ql(n,i,l,d){var m=tn();d=d===void 0?null:d;var v=void 0;if(Xt!==null){var N=Xt.memoizedState;if(v=N.destroy,d!==null&&Tu(d,N.deps)){m.memoizedState=oo(i,l,v,d);return}}Tt.flags|=n,m.memoizedState=oo(1|i,l,v,d)}function hg(n,i){return Ul(8390656,8,n,i)}function Mu(n,i){return ql(2048,8,n,i)}function pg(n,i){return ql(4,2,n,i)}function gg(n,i){return ql(4,4,n,i)}function xg(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function vg(n,i,l){return l=l!=null?l.concat([n]):null,ql(4,4,xg.bind(null,i,n),l)}function Du(){}function yg(n,i){var l=tn();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Tu(i,d[1])?d[0]:(l.memoizedState=[n,i],n)}function bg(n,i){var l=tn();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Tu(i,d[1])?d[0]:(n=n(),l.memoizedState=[n,i],n)}function wg(n,i,l){return(ii&21)===0?(n.baseState&&(n.baseState=!1,Rr=!0),n.memoizedState=l):(cn(l,i)||(l=Yh(),Tt.lanes|=l,ai|=l,n.baseState=!0),i)}function t1(n,i){var l=xt;xt=l!==0&&4>l?l:4,n(!0);var d=_u.transition;_u.transition={};try{n(!1),i()}finally{xt=l,_u.transition=d}}function jg(){return tn().memoizedState}function r1(n,i,l){var d=Ps(n);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Ng(n))Sg(i,l);else if(l=eg(n,i,l,d),l!==null){var m=Cr();hn(l,n,d,m),Cg(l,i,d)}}function n1(n,i,l){var d=Ps(n),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ng(n))Sg(i,m);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var N=i.lastRenderedState,A=v(N,l);if(m.hasEagerState=!0,m.eagerState=A,cn(A,N)){var M=i.interleaved;M===null?(m.next=m,Nu(i)):(m.next=M.next,M.next=m),i.interleaved=m;return}}catch{}finally{}l=eg(n,i,m,d),l!==null&&(m=Cr(),hn(l,n,d,m),Cg(l,i,d))}}function Ng(n){var i=n.alternate;return n===Tt||i!==null&&i===Tt}function Sg(n,i){so=zl=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function Cg(n,i,l){if((l&4194240)!==0){var d=i.lanes;d&=n.pendingLanes,l|=d,i.lanes=l,Ld(n,l)}}var Wl={readContext:en,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},s1={readContext:en,useCallback:function(n,i){return Rn().memoizedState=[n,i===void 0?null:i],n},useContext:en,useEffect:hg,useImperativeHandle:function(n,i,l){return l=l!=null?l.concat([n]):null,Ul(4194308,4,xg.bind(null,i,n),l)},useLayoutEffect:function(n,i){return Ul(4194308,4,n,i)},useInsertionEffect:function(n,i){return Ul(4,2,n,i)},useMemo:function(n,i){var l=Rn();return i=i===void 0?null:i,n=n(),l.memoizedState=[n,i],n},useReducer:function(n,i,l){var d=Rn();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},d.queue=n,n=n.dispatch=r1.bind(null,Tt,n),[d.memoizedState,n]},useRef:function(n){var i=Rn();return n={current:n},i.memoizedState=n},useState:fg,useDebugValue:Du,useDeferredValue:function(n){return Rn().memoizedState=n},useTransition:function(){var n=fg(!1),i=n[0];return n=t1.bind(null,n[1]),Rn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,l){var d=Tt,m=Rn();if(Pt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),sr===null)throw Error(s(349));(ii&30)!==0||og(d,i,l)}m.memoizedState=l;var v={value:l,getSnapshot:i};return m.queue=v,hg(cg.bind(null,d,v,n),[n]),d.flags|=2048,oo(9,lg.bind(null,d,v,l,i),void 0,null),l},useId:function(){var n=Rn(),i=sr.identifierPrefix;if(Pt){var l=Qn,d=Kn;l=(d&~(1<<32-ln(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=io++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=e1++,i=":"+i+"r"+l.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},i1={readContext:en,useCallback:yg,useContext:en,useEffect:Mu,useImperativeHandle:vg,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:bg,useReducer:Iu,useRef:mg,useState:function(){return Iu(ao)},useDebugValue:Du,useDeferredValue:function(n){var i=tn();return wg(i,Xt.memoizedState,n)},useTransition:function(){var n=Iu(ao)[0],i=tn().memoizedState;return[n,i]},useMutableSource:ig,useSyncExternalStore:ag,useId:jg,unstable_isNewReconciler:!1},a1={readContext:en,useCallback:yg,useContext:en,useEffect:Mu,useImperativeHandle:vg,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:bg,useReducer:Ou,useRef:mg,useState:function(){return Ou(ao)},useDebugValue:Du,useDeferredValue:function(n){var i=tn();return Xt===null?i.memoizedState=n:wg(i,Xt.memoizedState,n)},useTransition:function(){var n=Ou(ao)[0],i=tn().memoizedState;return[n,i]},useMutableSource:ig,useSyncExternalStore:ag,useId:jg,unstable_isNewReconciler:!1};function un(n,i){if(n&&n.defaultProps){i=H({},i),n=n.defaultProps;for(var l in n)i[l]===void 0&&(i[l]=n[l]);return i}return i}function Fu(n,i,l,d){i=n.memoizedState,l=l(d,i),l=l==null?i:H({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Kl={isMounted:function(n){return(n=n._reactInternals)?Xs(n)===n:!1},enqueueSetState:function(n,i,l){n=n._reactInternals;var d=Cr(),m=Ps(n),v=Gn(d,m);v.payload=i,l!=null&&(v.callback=l),i=Ns(n,v,m),i!==null&&(hn(i,n,m,d),Ll(i,n,m))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var d=Cr(),m=Ps(n),v=Gn(d,m);v.tag=1,v.payload=i,l!=null&&(v.callback=l),i=Ns(n,v,m),i!==null&&(hn(i,n,m,d),Ll(i,n,m))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=Cr(),d=Ps(n),m=Gn(l,d);m.tag=2,i!=null&&(m.callback=i),i=Ns(n,m,d),i!==null&&(hn(i,n,d,l),Ll(i,n,d))}};function kg(n,i,l,d,m,v,N){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,v,N):i.prototype&&i.prototype.isPureReactComponent?!Qa(l,d)||!Qa(m,v):!0}function Pg(n,i,l){var d=!1,m=bs,v=i.contextType;return typeof v=="object"&&v!==null?v=en(v):(m=Ar(i)?ei:xr.current,d=i.contextTypes,v=(d=d!=null)?Bi(n,m):bs),i=new i(l,v),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Kl,n.stateNode=i,i._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=v),i}function Eg(n,i,l,d){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==n&&Kl.enqueueReplaceState(i,i.state,null)}function Lu(n,i,l,d){var m=n.stateNode;m.props=l,m.state=n.memoizedState,m.refs={},Su(n);var v=i.contextType;typeof v=="object"&&v!==null?m.context=en(v):(v=Ar(i)?ei:xr.current,m.context=Bi(n,v)),m.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Fu(n,i,v,l),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&Kl.enqueueReplaceState(m,m.state,null),Bl(n,l,m,d),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function Qi(n,i){try{var l="",d=i;do l+=D(d),d=d.return;while(d);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:i,stack:m,digest:null}}function Bu(n,i,l){return{value:n,source:null,stack:l??null,digest:i??null}}function $u(n,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var o1=typeof WeakMap=="function"?WeakMap:Map;function _g(n,i,l){l=Gn(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){Jl||(Jl=!0,tf=d),$u(n,i)},l}function Tg(n,i,l){l=Gn(-1,l),l.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var m=i.value;l.payload=function(){return d(m)},l.callback=function(){$u(n,i)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){$u(n,i),typeof d!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var N=i.stack;this.componentDidCatch(i.value,{componentStack:N!==null?N:""})}),l}function Ag(n,i,l){var d=n.pingCache;if(d===null){d=n.pingCache=new o1;var m=new Set;d.set(i,m)}else m=d.get(i),m===void 0&&(m=new Set,d.set(i,m));m.has(l)||(m.add(l),n=w1.bind(null,n,i,l),i.then(n,n))}function Rg(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Ig(n,i,l,d,m){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Gn(-1,1),i.tag=2,Ns(l,i,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var l1=L.ReactCurrentOwner,Rr=!1;function Sr(n,i,l,d){i.child=n===null?Jp(i,null,l,d):Ui(i,n.child,l,d)}function Og(n,i,l,d,m){l=l.render;var v=i.ref;return Wi(i,m),d=Au(n,i,l,d,v,m),l=Ru(),n!==null&&!Rr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,Zn(n,i,m)):(Pt&&l&&hu(i),i.flags|=1,Sr(n,i,d,m),i.child)}function Mg(n,i,l,d,m){if(n===null){var v=l.type;return typeof v=="function"&&!cf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=v,Dg(n,i,v,d,m)):(n=ic(l.type,null,d,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,(n.lanes&m)===0){var N=v.memoizedProps;if(l=l.compare,l=l!==null?l:Qa,l(N,d)&&n.ref===i.ref)return Zn(n,i,m)}return i.flags|=1,n=_s(v,d),n.ref=i.ref,n.return=i,i.child=n}function Dg(n,i,l,d,m){if(n!==null){var v=n.memoizedProps;if(Qa(v,d)&&n.ref===i.ref)if(Rr=!1,i.pendingProps=d=v,(n.lanes&m)!==0)(n.flags&131072)!==0&&(Rr=!0);else return i.lanes=n.lanes,Zn(n,i,m)}return Vu(n,i,l,d,m)}function Fg(n,i,l){var d=i.pendingProps,m=d.children,v=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Gi,Wr),Wr|=l;else{if((l&1073741824)===0)return n=v!==null?v.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,wt(Gi,Wr),Wr|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,wt(Gi,Wr),Wr|=d}else v!==null?(d=v.baseLanes|l,i.memoizedState=null):d=l,wt(Gi,Wr),Wr|=d;return Sr(n,i,m,l),i.child}function Lg(n,i){var l=i.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Vu(n,i,l,d,m){var v=Ar(l)?ei:xr.current;return v=Bi(i,v),Wi(i,m),l=Au(n,i,l,d,v,m),d=Ru(),n!==null&&!Rr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,Zn(n,i,m)):(Pt&&d&&hu(i),i.flags|=1,Sr(n,i,l,m),i.child)}function Bg(n,i,l,d,m){if(Ar(l)){var v=!0;Tl(i)}else v=!1;if(Wi(i,m),i.stateNode===null)Hl(n,i),Pg(i,l,d),Lu(i,l,d,m),d=!0;else if(n===null){var N=i.stateNode,A=i.memoizedProps;N.props=A;var M=N.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=en(Q):(Q=Ar(l)?ei:xr.current,Q=Bi(i,Q));var ce=l.getDerivedStateFromProps,ue=typeof ce=="function"||typeof N.getSnapshotBeforeUpdate=="function";ue||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(A!==d||M!==Q)&&Eg(i,N,d,Q),js=!1;var oe=i.memoizedState;N.state=oe,Bl(i,d,N,m),M=i.memoizedState,A!==d||oe!==M||Tr.current||js?(typeof ce=="function"&&(Fu(i,l,ce,d),M=i.memoizedState),(A=js||kg(i,l,A,d,oe,M,Q))?(ue||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(i.flags|=4194308)):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=M),N.props=d,N.state=M,N.context=Q,d=A):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{N=i.stateNode,tg(n,i),A=i.memoizedProps,Q=i.type===i.elementType?A:un(i.type,A),N.props=Q,ue=i.pendingProps,oe=N.context,M=l.contextType,typeof M=="object"&&M!==null?M=en(M):(M=Ar(l)?ei:xr.current,M=Bi(i,M));var Ce=l.getDerivedStateFromProps;(ce=typeof Ce=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(A!==ue||oe!==M)&&Eg(i,N,d,M),js=!1,oe=i.memoizedState,N.state=oe,Bl(i,d,N,m);var _e=i.memoizedState;A!==ue||oe!==_e||Tr.current||js?(typeof Ce=="function"&&(Fu(i,l,Ce,d),_e=i.memoizedState),(Q=js||kg(i,l,Q,d,oe,_e,M)||!1)?(ce||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(d,_e,M),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(d,_e,M)),typeof N.componentDidUpdate=="function"&&(i.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof N.componentDidUpdate!="function"||A===n.memoizedProps&&oe===n.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&oe===n.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=_e),N.props=d,N.state=_e,N.context=M,d=Q):(typeof N.componentDidUpdate!="function"||A===n.memoizedProps&&oe===n.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&oe===n.memoizedState||(i.flags|=1024),d=!1)}return zu(n,i,l,d,v,m)}function zu(n,i,l,d,m,v){Lg(n,i);var N=(i.flags&128)!==0;if(!d&&!N)return m&&qp(i,l,!1),Zn(n,i,v);d=i.stateNode,l1.current=i;var A=N&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,n!==null&&N?(i.child=Ui(i,n.child,null,v),i.child=Ui(i,null,A,v)):Sr(n,i,A,v),i.memoizedState=d.state,m&&qp(i,l,!0),i.child}function $g(n){var i=n.stateNode;i.pendingContext?zp(n,i.pendingContext,i.pendingContext!==i.context):i.context&&zp(n,i.context,!1),Cu(n,i.containerInfo)}function Vg(n,i,l,d,m){return zi(),vu(m),i.flags|=256,Sr(n,i,l,d),i.child}var Uu={dehydrated:null,treeContext:null,retryLane:0};function qu(n){return{baseLanes:n,cachePool:null,transitions:null}}function zg(n,i,l){var d=i.pendingProps,m=_t.current,v=!1,N=(i.flags&128)!==0,A;if((A=N)||(A=n!==null&&n.memoizedState===null?!1:(m&2)!==0),A?(v=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),wt(_t,m&1),n===null)return xu(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(N=d.children,n=d.fallback,v?(d=i.mode,v=i.child,N={mode:"hidden",children:N},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=N):v=ac(N,d,0,null),n=di(n,d,l,null),v.return=i,n.return=i,v.sibling=n,i.child=v,i.child.memoizedState=qu(l),i.memoizedState=Uu,n):Wu(i,N));if(m=n.memoizedState,m!==null&&(A=m.dehydrated,A!==null))return c1(n,i,N,d,A,m,l);if(v){v=d.fallback,N=i.mode,m=n.child,A=m.sibling;var M={mode:"hidden",children:d.children};return(N&1)===0&&i.child!==m?(d=i.child,d.childLanes=0,d.pendingProps=M,i.deletions=null):(d=_s(m,M),d.subtreeFlags=m.subtreeFlags&14680064),A!==null?v=_s(A,v):(v=di(v,N,l,null),v.flags|=2),v.return=i,d.return=i,d.sibling=v,i.child=d,d=v,v=i.child,N=n.child.memoizedState,N=N===null?qu(l):{baseLanes:N.baseLanes|l,cachePool:null,transitions:N.transitions},v.memoizedState=N,v.childLanes=n.childLanes&~l,i.memoizedState=Uu,d}return v=n.child,n=v.sibling,d=_s(v,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,n!==null&&(l=i.deletions,l===null?(i.deletions=[n],i.flags|=16):l.push(n)),i.child=d,i.memoizedState=null,d}function Wu(n,i){return i=ac({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Ql(n,i,l,d){return d!==null&&vu(d),Ui(i,n.child,null,l),n=Wu(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function c1(n,i,l,d,m,v,N){if(l)return i.flags&256?(i.flags&=-257,d=Bu(Error(s(422))),Ql(n,i,N,d)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(v=d.fallback,m=i.mode,d=ac({mode:"visible",children:d.children},m,0,null),v=di(v,m,N,null),v.flags|=2,d.return=i,v.return=i,d.sibling=v,i.child=d,(i.mode&1)!==0&&Ui(i,n.child,null,N),i.child.memoizedState=qu(N),i.memoizedState=Uu,v);if((i.mode&1)===0)return Ql(n,i,N,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var A=d.dgst;return d=A,v=Error(s(419)),d=Bu(v,d,void 0),Ql(n,i,N,d)}if(A=(N&n.childLanes)!==0,Rr||A){if(d=sr,d!==null){switch(N&-N){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|N))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Hn(n,m),hn(d,n,m,-1))}return lf(),d=Bu(Error(s(421))),Ql(n,i,N,d)}return m.data==="$?"?(i.flags|=128,i.child=n.child,i=j1.bind(null,n),m._reactRetry=i,null):(n=v.treeContext,qr=vs(m.nextSibling),Ur=i,Pt=!0,dn=null,n!==null&&(Xr[Jr++]=Kn,Xr[Jr++]=Qn,Xr[Jr++]=ti,Kn=n.id,Qn=n.overflow,ti=i),i=Wu(i,d.children),i.flags|=4096,i)}function Ug(n,i,l){n.lanes|=i;var d=n.alternate;d!==null&&(d.lanes|=i),ju(n.return,i,l)}function Ku(n,i,l,d,m){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=m)}function qg(n,i,l){var d=i.pendingProps,m=d.revealOrder,v=d.tail;if(Sr(n,i,d.children,l),d=_t.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ug(n,l,i);else if(n.tag===19)Ug(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(wt(_t,d),(i.mode&1)===0)i.memoizedState=null;else switch(m){case"forwards":for(l=i.child,m=null;l!==null;)n=l.alternate,n!==null&&$l(n)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),Ku(i,!1,m,l,v);break;case"backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&$l(n)===null){i.child=m;break}n=m.sibling,m.sibling=l,l=m,m=n}Ku(i,!0,l,null,v);break;case"together":Ku(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Hl(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Zn(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),ai|=i.lanes,(l&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,l=_s(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=_s(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function d1(n,i,l){switch(i.tag){case 3:$g(i),zi();break;case 5:sg(i);break;case 1:Ar(i.type)&&Tl(i);break;case 4:Cu(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,m=i.memoizedProps.value;wt(Dl,d._currentValue),d._currentValue=m;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(wt(_t,_t.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?zg(n,i,l):(wt(_t,_t.current&1),n=Zn(n,i,l),n!==null?n.sibling:null);wt(_t,_t.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(n.flags&128)!==0){if(d)return qg(n,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),wt(_t,_t.current),d)break;return null;case 22:case 23:return i.lanes=0,Fg(n,i,l)}return Zn(n,i,l)}var Wg,Qu,Kg,Qg;Wg=function(n,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Qu=function(){},Kg=function(n,i,l,d){var m=n.memoizedProps;if(m!==d){n=i.stateNode,si(An.current);var v=null;switch(l){case"input":m=Je(n,m),d=Je(n,d),v=[];break;case"select":m=H({},m,{value:void 0}),d=H({},d,{value:void 0}),v=[];break;case"textarea":m=Z(n,m),d=Z(n,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=Pl)}gt(l,d);var N;l=null;for(Q in m)if(!d.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var A=m[Q];for(N in A)A.hasOwnProperty(N)&&(l||(l={}),l[N]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?v||(v=[]):(v=v||[]).push(Q,null));for(Q in d){var M=d[Q];if(A=m?.[Q],d.hasOwnProperty(Q)&&M!==A&&(M!=null||A!=null))if(Q==="style")if(A){for(N in A)!A.hasOwnProperty(N)||M&&M.hasOwnProperty(N)||(l||(l={}),l[N]="");for(N in M)M.hasOwnProperty(N)&&A[N]!==M[N]&&(l||(l={}),l[N]=M[N])}else l||(v||(v=[]),v.push(Q,l)),l=M;else Q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,A=A?A.__html:void 0,M!=null&&A!==M&&(v=v||[]).push(Q,M)):Q==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(Q,""+M):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(M!=null&&Q==="onScroll"&&Nt("scroll",n),v||A===M||(v=[])):(v=v||[]).push(Q,M))}l&&(v=v||[]).push("style",l);var Q=v;(i.updateQueue=Q)&&(i.flags|=4)}},Qg=function(n,i,l,d){l!==d&&(i.flags|=4)};function lo(n,i){if(!Pt)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function yr(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(i)for(var m=n.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=d,n.childLanes=l,i}function u1(n,i,l){var d=i.pendingProps;switch(pu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(i),null;case 1:return Ar(i.type)&&_l(),yr(i),null;case 3:return d=i.stateNode,Ki(),St(Tr),St(xr),Eu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Ol(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,dn!==null&&(sf(dn),dn=null))),Qu(n,i),yr(i),null;case 5:ku(i);var m=si(no.current);if(l=i.type,n!==null&&i.stateNode!=null)Kg(n,i,l,d,m),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(s(166));return yr(i),null}if(n=si(An.current),Ol(i)){d=i.stateNode,l=i.type;var v=i.memoizedProps;switch(d[Tn]=i,d[Xa]=v,n=(i.mode&1)!==0,l){case"dialog":Nt("cancel",d),Nt("close",d);break;case"iframe":case"object":case"embed":Nt("load",d);break;case"video":case"audio":for(m=0;m<Ga.length;m++)Nt(Ga[m],d);break;case"source":Nt("error",d);break;case"img":case"image":case"link":Nt("error",d),Nt("load",d);break;case"details":Nt("toggle",d);break;case"input":Vr(d,v),Nt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Nt("invalid",d);break;case"textarea":Ne(d,v),Nt("invalid",d)}gt(l,v),m=null;for(var N in v)if(v.hasOwnProperty(N)){var A=v[N];N==="children"?typeof A=="string"?d.textContent!==A&&(v.suppressHydrationWarning!==!0&&kl(d.textContent,A,n),m=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(v.suppressHydrationWarning!==!0&&kl(d.textContent,A,n),m=["children",""+A]):o.hasOwnProperty(N)&&A!=null&&N==="onScroll"&&Nt("scroll",d)}switch(l){case"input":dt(d),Aa(d,v,!0);break;case"textarea":dt(d),ae(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Pl)}d=m,i.updateQueue=d,d!==null&&(i.flags|=4)}else{N=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ae(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=N.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=N.createElement(l,{is:d.is}):(n=N.createElement(l),l==="select"&&(N=n,d.multiple?N.multiple=!0:d.size&&(N.size=d.size))):n=N.createElementNS(n,l),n[Tn]=i,n[Xa]=d,Wg(n,i,!1,!1),i.stateNode=n;e:{switch(N=us(l,d),l){case"dialog":Nt("cancel",n),Nt("close",n),m=d;break;case"iframe":case"object":case"embed":Nt("load",n),m=d;break;case"video":case"audio":for(m=0;m<Ga.length;m++)Nt(Ga[m],n);m=d;break;case"source":Nt("error",n),m=d;break;case"img":case"image":case"link":Nt("error",n),Nt("load",n),m=d;break;case"details":Nt("toggle",n),m=d;break;case"input":Vr(n,d),m=Je(n,d),Nt("invalid",n);break;case"option":m=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},m=H({},d,{value:void 0}),Nt("invalid",n);break;case"textarea":Ne(n,d),m=Z(n,d),Nt("invalid",n);break;default:m=d}gt(l,m),A=m;for(v in A)if(A.hasOwnProperty(v)){var M=A[v];v==="style"?He(n,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Qt(n,M)):v==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&Yr(n,M):typeof M=="number"&&Yr(n,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?M!=null&&v==="onScroll"&&Nt("scroll",n):M!=null&&I(n,v,M,N))}switch(l){case"input":dt(n),Aa(n,d,!1);break;case"textarea":dt(n),ae(n);break;case"option":d.value!=null&&n.setAttribute("value",""+de(d.value));break;case"select":n.multiple=!!d.multiple,v=d.value,v!=null?V(n,!!d.multiple,v,!1):d.defaultValue!=null&&V(n,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=Pl)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return yr(i),null;case 6:if(n&&i.stateNode!=null)Qg(n,i,n.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(s(166));if(l=si(no.current),si(An.current),Ol(i)){if(d=i.stateNode,l=i.memoizedProps,d[Tn]=i,(v=d.nodeValue!==l)&&(n=Ur,n!==null))switch(n.tag){case 3:kl(d.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&kl(d.nodeValue,l,(n.mode&1)!==0)}v&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Tn]=i,i.stateNode=d}return yr(i),null;case 13:if(St(_t),d=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Pt&&qr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Zp(),zi(),i.flags|=98560,v=!1;else if(v=Ol(i),d!==null&&d.dehydrated!==null){if(n===null){if(!v)throw Error(s(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[Tn]=i}else zi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yr(i),v=!1}else dn!==null&&(sf(dn),dn=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(_t.current&1)!==0?Jt===0&&(Jt=3):lf())),i.updateQueue!==null&&(i.flags|=4),yr(i),null);case 4:return Ki(),Qu(n,i),n===null&&Za(i.stateNode.containerInfo),yr(i),null;case 10:return wu(i.type._context),yr(i),null;case 17:return Ar(i.type)&&_l(),yr(i),null;case 19:if(St(_t),v=i.memoizedState,v===null)return yr(i),null;if(d=(i.flags&128)!==0,N=v.rendering,N===null)if(d)lo(v,!1);else{if(Jt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(N=$l(n),N!==null){for(i.flags|=128,lo(v,!1),d=N.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)v=l,n=d,v.flags&=14680066,N=v.alternate,N===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=N.childLanes,v.lanes=N.lanes,v.child=N.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=N.memoizedProps,v.memoizedState=N.memoizedState,v.updateQueue=N.updateQueue,v.type=N.type,n=N.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return wt(_t,_t.current&1|2),i.child}n=n.sibling}v.tail!==null&&Lt()>Zi&&(i.flags|=128,d=!0,lo(v,!1),i.lanes=4194304)}else{if(!d)if(n=$l(N),n!==null){if(i.flags|=128,d=!0,l=n.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),lo(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!Pt)return yr(i),null}else 2*Lt()-v.renderingStartTime>Zi&&l!==1073741824&&(i.flags|=128,d=!0,lo(v,!1),i.lanes=4194304);v.isBackwards?(N.sibling=i.child,i.child=N):(l=v.last,l!==null?l.sibling=N:i.child=N,v.last=N)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=Lt(),i.sibling=null,l=_t.current,wt(_t,d?l&1|2:l&1),i):(yr(i),null);case 22:case 23:return of(),d=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Wr&1073741824)!==0&&(yr(i),i.subtreeFlags&6&&(i.flags|=8192)):yr(i),null;case 24:return null;case 25:return null}throw Error(s(156,i.tag))}function f1(n,i){switch(pu(i),i.tag){case 1:return Ar(i.type)&&_l(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ki(),St(Tr),St(xr),Eu(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return ku(i),null;case 13:if(St(_t),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return St(_t),null;case 4:return Ki(),null;case 10:return wu(i.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var Gl=!1,br=!1,m1=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Hi(n,i){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Ot(n,i,d)}else l.current=null}function Hu(n,i,l){try{l()}catch(d){Ot(n,i,d)}}var Hg=!1;function h1(n,i){if(au=pl,n=kp(),Xd(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var N=0,A=-1,M=-1,Q=0,ce=0,ue=n,oe=null;t:for(;;){for(var Ce;ue!==l||m!==0&&ue.nodeType!==3||(A=N+m),ue!==v||d!==0&&ue.nodeType!==3||(M=N+d),ue.nodeType===3&&(N+=ue.nodeValue.length),(Ce=ue.firstChild)!==null;)oe=ue,ue=Ce;for(;;){if(ue===n)break t;if(oe===l&&++Q===m&&(A=N),oe===v&&++ce===d&&(M=N),(Ce=ue.nextSibling)!==null)break;ue=oe,oe=ue.parentNode}ue=Ce}l=A===-1||M===-1?null:{start:A,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(ou={focusedElem:n,selectionRange:l},pl=!1,Pe=i;Pe!==null;)if(i=Pe,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Pe=n;else for(;Pe!==null;){i=Pe;try{var _e=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var Re=_e.memoizedProps,Bt=_e.memoizedState,z=i.stateNode,F=z.getSnapshotBeforeUpdate(i.elementType===i.type?Re:un(i.type,Re),Bt);z.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ge){Ot(i,i.return,ge)}if(n=i.sibling,n!==null){n.return=i.return,Pe=n;break}Pe=i.return}return _e=Hg,Hg=!1,_e}function co(n,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&n)===n){var v=m.destroy;m.destroy=void 0,v!==void 0&&Hu(i,l,v)}m=m.next}while(m!==d)}}function Zl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&n)===n){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function Gu(n){var i=n.ref;if(i!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof i=="function"?i(n):i.current=n}}function Gg(n){var i=n.alternate;i!==null&&(n.alternate=null,Gg(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Tn],delete i[Xa],delete i[uu],delete i[ZS],delete i[YS])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Zg(n){return n.tag===5||n.tag===3||n.tag===4}function Yg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Zg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zu(n,i,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(n,i):l.insertBefore(n,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(n,l)):(i=l,i.appendChild(n)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Pl));else if(d!==4&&(n=n.child,n!==null))for(Zu(n,i,l),n=n.sibling;n!==null;)Zu(n,i,l),n=n.sibling}function Yu(n,i,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(Yu(n,i,l),n=n.sibling;n!==null;)Yu(n,i,l),n=n.sibling}var fr=null,fn=!1;function Ss(n,i,l){for(l=l.child;l!==null;)Xg(n,i,l),l=l.sibling}function Xg(n,i,l){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(cl,l)}catch{}switch(l.tag){case 5:br||Hi(l,i);case 6:var d=fr,m=fn;fr=null,Ss(n,i,l),fr=d,fn=m,fr!==null&&(fn?(n=fr,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):fr.removeChild(l.stateNode));break;case 18:fr!==null&&(fn?(n=fr,l=l.stateNode,n.nodeType===8?du(n.parentNode,l):n.nodeType===1&&du(n,l),Va(n)):du(fr,l.stateNode));break;case 4:d=fr,m=fn,fr=l.stateNode.containerInfo,fn=!0,Ss(n,i,l),fr=d,fn=m;break;case 0:case 11:case 14:case 15:if(!br&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,N=v.destroy;v=v.tag,N!==void 0&&((v&2)!==0||(v&4)!==0)&&Hu(l,i,N),m=m.next}while(m!==d)}Ss(n,i,l);break;case 1:if(!br&&(Hi(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(A){Ot(l,i,A)}Ss(n,i,l);break;case 21:Ss(n,i,l);break;case 22:l.mode&1?(br=(d=br)||l.memoizedState!==null,Ss(n,i,l),br=d):Ss(n,i,l);break;default:Ss(n,i,l)}}function Jg(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new m1),i.forEach(function(d){var m=N1.bind(null,n,d);l.has(d)||(l.add(d),d.then(m,m))})}}function mn(n,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var v=n,N=i,A=N;e:for(;A!==null;){switch(A.tag){case 5:fr=A.stateNode,fn=!1;break e;case 3:fr=A.stateNode.containerInfo,fn=!0;break e;case 4:fr=A.stateNode.containerInfo,fn=!0;break e}A=A.return}if(fr===null)throw Error(s(160));Xg(v,N,m),fr=null,fn=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(Q){Ot(m,i,Q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ex(i,n),i=i.sibling}function ex(n,i){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(mn(i,n),In(n),d&4){try{co(3,n,n.return),Zl(3,n)}catch(Re){Ot(n,n.return,Re)}try{co(5,n,n.return)}catch(Re){Ot(n,n.return,Re)}}break;case 1:mn(i,n),In(n),d&512&&l!==null&&Hi(l,l.return);break;case 5:if(mn(i,n),In(n),d&512&&l!==null&&Hi(l,l.return),n.flags&32){var m=n.stateNode;try{Yr(m,"")}catch(Re){Ot(n,n.return,Re)}}if(d&4&&(m=n.stateNode,m!=null)){var v=n.memoizedProps,N=l!==null?l.memoizedProps:v,A=n.type,M=n.updateQueue;if(n.updateQueue=null,M!==null)try{A==="input"&&v.type==="radio"&&v.name!=null&&Zr(m,v),us(A,N);var Q=us(A,v);for(N=0;N<M.length;N+=2){var ce=M[N],ue=M[N+1];ce==="style"?He(m,ue):ce==="dangerouslySetInnerHTML"?Qt(m,ue):ce==="children"?Yr(m,ue):I(m,ce,ue,Q)}switch(A){case"input":on(m,v);break;case"textarea":ye(m,v);break;case"select":var oe=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var Ce=v.value;Ce!=null?V(m,!!v.multiple,Ce,!1):oe!==!!v.multiple&&(v.defaultValue!=null?V(m,!!v.multiple,v.defaultValue,!0):V(m,!!v.multiple,v.multiple?[]:"",!1))}m[Xa]=v}catch(Re){Ot(n,n.return,Re)}}break;case 6:if(mn(i,n),In(n),d&4){if(n.stateNode===null)throw Error(s(162));m=n.stateNode,v=n.memoizedProps;try{m.nodeValue=v}catch(Re){Ot(n,n.return,Re)}}break;case 3:if(mn(i,n),In(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Va(i.containerInfo)}catch(Re){Ot(n,n.return,Re)}break;case 4:mn(i,n),In(n);break;case 13:mn(i,n),In(n),m=n.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(ef=Lt())),d&4&&Jg(n);break;case 22:if(ce=l!==null&&l.memoizedState!==null,n.mode&1?(br=(Q=br)||ce,mn(i,n),br=Q):mn(i,n),In(n),d&8192){if(Q=n.memoizedState!==null,(n.stateNode.isHidden=Q)&&!ce&&(n.mode&1)!==0)for(Pe=n,ce=n.child;ce!==null;){for(ue=Pe=ce;Pe!==null;){switch(oe=Pe,Ce=oe.child,oe.tag){case 0:case 11:case 14:case 15:co(4,oe,oe.return);break;case 1:Hi(oe,oe.return);var _e=oe.stateNode;if(typeof _e.componentWillUnmount=="function"){d=oe,l=oe.return;try{i=d,_e.props=i.memoizedProps,_e.state=i.memoizedState,_e.componentWillUnmount()}catch(Re){Ot(d,l,Re)}}break;case 5:Hi(oe,oe.return);break;case 22:if(oe.memoizedState!==null){nx(ue);continue}}Ce!==null?(Ce.return=oe,Pe=Ce):nx(ue)}ce=ce.sibling}e:for(ce=null,ue=n;;){if(ue.tag===5){if(ce===null){ce=ue;try{m=ue.stateNode,Q?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(A=ue.stateNode,M=ue.memoizedProps.style,N=M!=null&&M.hasOwnProperty("display")?M.display:null,A.style.display=be("display",N))}catch(Re){Ot(n,n.return,Re)}}}else if(ue.tag===6){if(ce===null)try{ue.stateNode.nodeValue=Q?"":ue.memoizedProps}catch(Re){Ot(n,n.return,Re)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===n)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===n)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===n)break e;ce===ue&&(ce=null),ue=ue.return}ce===ue&&(ce=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:mn(i,n),In(n),d&4&&Jg(n);break;case 21:break;default:mn(i,n),In(n)}}function In(n){var i=n.flags;if(i&2){try{e:{for(var l=n.return;l!==null;){if(Zg(l)){var d=l;break e}l=l.return}throw Error(s(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Yr(m,""),d.flags&=-33);var v=Yg(n);Yu(n,v,m);break;case 3:case 4:var N=d.stateNode.containerInfo,A=Yg(n);Zu(n,A,N);break;default:throw Error(s(161))}}catch(M){Ot(n,n.return,M)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function p1(n,i,l){Pe=n,tx(n)}function tx(n,i,l){for(var d=(n.mode&1)!==0;Pe!==null;){var m=Pe,v=m.child;if(m.tag===22&&d){var N=m.memoizedState!==null||Gl;if(!N){var A=m.alternate,M=A!==null&&A.memoizedState!==null||br;A=Gl;var Q=br;if(Gl=N,(br=M)&&!Q)for(Pe=m;Pe!==null;)N=Pe,M=N.child,N.tag===22&&N.memoizedState!==null?sx(m):M!==null?(M.return=N,Pe=M):sx(m);for(;v!==null;)Pe=v,tx(v),v=v.sibling;Pe=m,Gl=A,br=Q}rx(n)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Pe=v):rx(n)}}function rx(n){for(;Pe!==null;){var i=Pe;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:br||Zl(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!br)if(l===null)d.componentDidMount();else{var m=i.elementType===i.type?l.memoizedProps:un(i.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&ng(i,v,d);break;case 3:var N=i.updateQueue;if(N!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}ng(i,N,l)}break;case 5:var A=i.stateNode;if(l===null&&i.flags&4){l=A;var M=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Q=i.alternate;if(Q!==null){var ce=Q.memoizedState;if(ce!==null){var ue=ce.dehydrated;ue!==null&&Va(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}br||i.flags&512&&Gu(i)}catch(oe){Ot(i,i.return,oe)}}if(i===n){Pe=null;break}if(l=i.sibling,l!==null){l.return=i.return,Pe=l;break}Pe=i.return}}function nx(n){for(;Pe!==null;){var i=Pe;if(i===n){Pe=null;break}var l=i.sibling;if(l!==null){l.return=i.return,Pe=l;break}Pe=i.return}}function sx(n){for(;Pe!==null;){var i=Pe;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Zl(4,i)}catch(M){Ot(i,l,M)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var m=i.return;try{d.componentDidMount()}catch(M){Ot(i,m,M)}}var v=i.return;try{Gu(i)}catch(M){Ot(i,v,M)}break;case 5:var N=i.return;try{Gu(i)}catch(M){Ot(i,N,M)}}}catch(M){Ot(i,i.return,M)}if(i===n){Pe=null;break}var A=i.sibling;if(A!==null){A.return=i.return,Pe=A;break}Pe=i.return}}var g1=Math.ceil,Yl=L.ReactCurrentDispatcher,Xu=L.ReactCurrentOwner,rn=L.ReactCurrentBatchConfig,ht=0,sr=null,Ht=null,mr=0,Wr=0,Gi=ys(0),Jt=0,uo=null,ai=0,Xl=0,Ju=0,fo=null,Ir=null,ef=0,Zi=1/0,Yn=null,Jl=!1,tf=null,Cs=null,ec=!1,ks=null,tc=0,mo=0,rf=null,rc=-1,nc=0;function Cr(){return(ht&6)!==0?Lt():rc!==-1?rc:rc=Lt()}function Ps(n){return(n.mode&1)===0?1:(ht&2)!==0&&mr!==0?mr&-mr:JS.transition!==null?(nc===0&&(nc=Yh()),nc):(n=xt,n!==0||(n=window.event,n=n===void 0?16:ap(n.type)),n)}function hn(n,i,l,d){if(50<mo)throw mo=0,rf=null,Error(s(185));Da(n,l,d),((ht&2)===0||n!==sr)&&(n===sr&&((ht&2)===0&&(Xl|=l),Jt===4&&Es(n,mr)),Or(n,d),l===1&&ht===0&&(i.mode&1)===0&&(Zi=Lt()+500,Al&&ws()))}function Or(n,i){var l=n.callbackNode;JN(n,i);var d=fl(n,n===sr?mr:0);if(d===0)l!==null&&Hh(l),n.callbackNode=null,n.callbackPriority=0;else if(i=d&-d,n.callbackPriority!==i){if(l!=null&&Hh(l),i===1)n.tag===0?XS(ax.bind(null,n)):Wp(ax.bind(null,n)),HS(function(){(ht&6)===0&&ws()}),l=null;else{switch(Xh(d)){case 1:l=Md;break;case 4:l=Gh;break;case 16:l=ll;break;case 536870912:l=Zh;break;default:l=ll}l=hx(l,ix.bind(null,n))}n.callbackPriority=i,n.callbackNode=l}}function ix(n,i){if(rc=-1,nc=0,(ht&6)!==0)throw Error(s(327));var l=n.callbackNode;if(Yi()&&n.callbackNode!==l)return null;var d=fl(n,n===sr?mr:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||i)i=sc(n,d);else{i=d;var m=ht;ht|=2;var v=lx();(sr!==n||mr!==i)&&(Yn=null,Zi=Lt()+500,li(n,i));do try{y1();break}catch(A){ox(n,A)}while(!0);bu(),Yl.current=v,ht=m,Ht!==null?i=0:(sr=null,mr=0,i=Jt)}if(i!==0){if(i===2&&(m=Dd(n),m!==0&&(d=m,i=nf(n,m))),i===1)throw l=uo,li(n,0),Es(n,d),Or(n,Lt()),l;if(i===6)Es(n,d);else{if(m=n.current.alternate,(d&30)===0&&!x1(m)&&(i=sc(n,d),i===2&&(v=Dd(n),v!==0&&(d=v,i=nf(n,v))),i===1))throw l=uo,li(n,0),Es(n,d),Or(n,Lt()),l;switch(n.finishedWork=m,n.finishedLanes=d,i){case 0:case 1:throw Error(s(345));case 2:ci(n,Ir,Yn);break;case 3:if(Es(n,d),(d&130023424)===d&&(i=ef+500-Lt(),10<i)){if(fl(n,0)!==0)break;if(m=n.suspendedLanes,(m&d)!==d){Cr(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=cu(ci.bind(null,n,Ir,Yn),i);break}ci(n,Ir,Yn);break;case 4:if(Es(n,d),(d&4194240)===d)break;for(i=n.eventTimes,m=-1;0<d;){var N=31-ln(d);v=1<<N,N=i[N],N>m&&(m=N),d&=~v}if(d=m,d=Lt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*g1(d/1960))-d,10<d){n.timeoutHandle=cu(ci.bind(null,n,Ir,Yn),d);break}ci(n,Ir,Yn);break;case 5:ci(n,Ir,Yn);break;default:throw Error(s(329))}}}return Or(n,Lt()),n.callbackNode===l?ix.bind(null,n):null}function nf(n,i){var l=fo;return n.current.memoizedState.isDehydrated&&(li(n,i).flags|=256),n=sc(n,i),n!==2&&(i=Ir,Ir=l,i!==null&&sf(i)),n}function sf(n){Ir===null?Ir=n:Ir.push.apply(Ir,n)}function x1(n){for(var i=n;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],v=m.getSnapshot;m=m.value;try{if(!cn(v(),m))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Es(n,i){for(i&=~Ju,i&=~Xl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var l=31-ln(i),d=1<<l;n[l]=-1,i&=~d}}function ax(n){if((ht&6)!==0)throw Error(s(327));Yi();var i=fl(n,0);if((i&1)===0)return Or(n,Lt()),null;var l=sc(n,i);if(n.tag!==0&&l===2){var d=Dd(n);d!==0&&(i=d,l=nf(n,d))}if(l===1)throw l=uo,li(n,0),Es(n,i),Or(n,Lt()),l;if(l===6)throw Error(s(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,ci(n,Ir,Yn),Or(n,Lt()),null}function af(n,i){var l=ht;ht|=1;try{return n(i)}finally{ht=l,ht===0&&(Zi=Lt()+500,Al&&ws())}}function oi(n){ks!==null&&ks.tag===0&&(ht&6)===0&&Yi();var i=ht;ht|=1;var l=rn.transition,d=xt;try{if(rn.transition=null,xt=1,n)return n()}finally{xt=d,rn.transition=l,ht=i,(ht&6)===0&&ws()}}function of(){Wr=Gi.current,St(Gi)}function li(n,i){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,QS(l)),Ht!==null)for(l=Ht.return;l!==null;){var d=l;switch(pu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&_l();break;case 3:Ki(),St(Tr),St(xr),Eu();break;case 5:ku(d);break;case 4:Ki();break;case 13:St(_t);break;case 19:St(_t);break;case 10:wu(d.type._context);break;case 22:case 23:of()}l=l.return}if(sr=n,Ht=n=_s(n.current,null),mr=Wr=i,Jt=0,uo=null,Ju=Xl=ai=0,Ir=fo=null,ni!==null){for(i=0;i<ni.length;i++)if(l=ni[i],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,v=l.pending;if(v!==null){var N=v.next;v.next=m,d.next=N}l.pending=d}ni=null}return n}function ox(n,i){do{var l=Ht;try{if(bu(),Vl.current=Wl,zl){for(var d=Tt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}zl=!1}if(ii=0,nr=Xt=Tt=null,so=!1,io=0,Xu.current=null,l===null||l.return===null){Jt=1,uo=i,Ht=null;break}e:{var v=n,N=l.return,A=l,M=i;if(i=mr,A.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var Q=M,ce=A,ue=ce.tag;if((ce.mode&1)===0&&(ue===0||ue===11||ue===15)){var oe=ce.alternate;oe?(ce.updateQueue=oe.updateQueue,ce.memoizedState=oe.memoizedState,ce.lanes=oe.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var Ce=Rg(N);if(Ce!==null){Ce.flags&=-257,Ig(Ce,N,A,v,i),Ce.mode&1&&Ag(v,Q,i),i=Ce,M=Q;var _e=i.updateQueue;if(_e===null){var Re=new Set;Re.add(M),i.updateQueue=Re}else _e.add(M);break e}else{if((i&1)===0){Ag(v,Q,i),lf();break e}M=Error(s(426))}}else if(Pt&&A.mode&1){var Bt=Rg(N);if(Bt!==null){(Bt.flags&65536)===0&&(Bt.flags|=256),Ig(Bt,N,A,v,i),vu(Qi(M,A));break e}}v=M=Qi(M,A),Jt!==4&&(Jt=2),fo===null?fo=[v]:fo.push(v),v=N;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var z=_g(v,M,i);rg(v,z);break e;case 1:A=M;var F=v.type,U=v.stateNode;if((v.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Cs===null||!Cs.has(U)))){v.flags|=65536,i&=-i,v.lanes|=i;var ge=Tg(v,A,i);rg(v,ge);break e}}v=v.return}while(v!==null)}dx(l)}catch(Fe){i=Fe,Ht===l&&l!==null&&(Ht=l=l.return);continue}break}while(!0)}function lx(){var n=Yl.current;return Yl.current=Wl,n===null?Wl:n}function lf(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),sr===null||(ai&268435455)===0&&(Xl&268435455)===0||Es(sr,mr)}function sc(n,i){var l=ht;ht|=2;var d=lx();(sr!==n||mr!==i)&&(Yn=null,li(n,i));do try{v1();break}catch(m){ox(n,m)}while(!0);if(bu(),ht=l,Yl.current=d,Ht!==null)throw Error(s(261));return sr=null,mr=0,Jt}function v1(){for(;Ht!==null;)cx(Ht)}function y1(){for(;Ht!==null&&!qN();)cx(Ht)}function cx(n){var i=mx(n.alternate,n,Wr);n.memoizedProps=n.pendingProps,i===null?dx(n):Ht=i,Xu.current=null}function dx(n){var i=n;do{var l=i.alternate;if(n=i.return,(i.flags&32768)===0){if(l=u1(l,i,Wr),l!==null){Ht=l;return}}else{if(l=f1(l,i),l!==null){l.flags&=32767,Ht=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Jt=6,Ht=null;return}}if(i=i.sibling,i!==null){Ht=i;return}Ht=i=n}while(i!==null);Jt===0&&(Jt=5)}function ci(n,i,l){var d=xt,m=rn.transition;try{rn.transition=null,xt=1,b1(n,i,l,d)}finally{rn.transition=m,xt=d}return null}function b1(n,i,l,d){do Yi();while(ks!==null);if((ht&6)!==0)throw Error(s(327));l=n.finishedWork;var m=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0;var v=l.lanes|l.childLanes;if(eS(n,v),n===sr&&(Ht=sr=null,mr=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ec||(ec=!0,hx(ll,function(){return Yi(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=rn.transition,rn.transition=null;var N=xt;xt=1;var A=ht;ht|=4,Xu.current=null,h1(n,l),ex(l,n),$S(ou),pl=!!au,ou=au=null,n.current=l,p1(l),WN(),ht=A,xt=N,rn.transition=v}else n.current=l;if(ec&&(ec=!1,ks=n,tc=m),v=n.pendingLanes,v===0&&(Cs=null),HN(l.stateNode),Or(n,Lt()),i!==null)for(d=n.onRecoverableError,l=0;l<i.length;l++)m=i[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(Jl)throw Jl=!1,n=tf,tf=null,n;return(tc&1)!==0&&n.tag!==0&&Yi(),v=n.pendingLanes,(v&1)!==0?n===rf?mo++:(mo=0,rf=n):mo=0,ws(),null}function Yi(){if(ks!==null){var n=Xh(tc),i=rn.transition,l=xt;try{if(rn.transition=null,xt=16>n?16:n,ks===null)var d=!1;else{if(n=ks,ks=null,tc=0,(ht&6)!==0)throw Error(s(331));var m=ht;for(ht|=4,Pe=n.current;Pe!==null;){var v=Pe,N=v.child;if((Pe.flags&16)!==0){var A=v.deletions;if(A!==null){for(var M=0;M<A.length;M++){var Q=A[M];for(Pe=Q;Pe!==null;){var ce=Pe;switch(ce.tag){case 0:case 11:case 15:co(8,ce,v)}var ue=ce.child;if(ue!==null)ue.return=ce,Pe=ue;else for(;Pe!==null;){ce=Pe;var oe=ce.sibling,Ce=ce.return;if(Gg(ce),ce===Q){Pe=null;break}if(oe!==null){oe.return=Ce,Pe=oe;break}Pe=Ce}}}var _e=v.alternate;if(_e!==null){var Re=_e.child;if(Re!==null){_e.child=null;do{var Bt=Re.sibling;Re.sibling=null,Re=Bt}while(Re!==null)}}Pe=v}}if((v.subtreeFlags&2064)!==0&&N!==null)N.return=v,Pe=N;else e:for(;Pe!==null;){if(v=Pe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:co(9,v,v.return)}var z=v.sibling;if(z!==null){z.return=v.return,Pe=z;break e}Pe=v.return}}var F=n.current;for(Pe=F;Pe!==null;){N=Pe;var U=N.child;if((N.subtreeFlags&2064)!==0&&U!==null)U.return=N,Pe=U;else e:for(N=F;Pe!==null;){if(A=Pe,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Zl(9,A)}}catch(Fe){Ot(A,A.return,Fe)}if(A===N){Pe=null;break e}var ge=A.sibling;if(ge!==null){ge.return=A.return,Pe=ge;break e}Pe=A.return}}if(ht=m,ws(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(cl,n)}catch{}d=!0}return d}finally{xt=l,rn.transition=i}}return!1}function ux(n,i,l){i=Qi(l,i),i=_g(n,i,1),n=Ns(n,i,1),i=Cr(),n!==null&&(Da(n,1,i),Or(n,i))}function Ot(n,i,l){if(n.tag===3)ux(n,n,l);else for(;i!==null;){if(i.tag===3){ux(i,n,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Cs===null||!Cs.has(d))){n=Qi(l,n),n=Tg(i,n,1),i=Ns(i,n,1),n=Cr(),i!==null&&(Da(i,1,n),Or(i,n));break}}i=i.return}}function w1(n,i,l){var d=n.pingCache;d!==null&&d.delete(i),i=Cr(),n.pingedLanes|=n.suspendedLanes&l,sr===n&&(mr&l)===l&&(Jt===4||Jt===3&&(mr&130023424)===mr&&500>Lt()-ef?li(n,0):Ju|=l),Or(n,i)}function fx(n,i){i===0&&((n.mode&1)===0?i=1:(i=ul,ul<<=1,(ul&130023424)===0&&(ul=4194304)));var l=Cr();n=Hn(n,i),n!==null&&(Da(n,i,l),Or(n,l))}function j1(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),fx(n,l)}function N1(n,i){var l=0;switch(n.tag){case 13:var d=n.stateNode,m=n.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(s(314))}d!==null&&d.delete(i),fx(n,l)}var mx;mx=function(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps||Tr.current)Rr=!0;else{if((n.lanes&l)===0&&(i.flags&128)===0)return Rr=!1,d1(n,i,l);Rr=(n.flags&131072)!==0}else Rr=!1,Pt&&(i.flags&1048576)!==0&&Kp(i,Il,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Hl(n,i),n=i.pendingProps;var m=Bi(i,xr.current);Wi(i,l),m=Au(null,i,d,n,m,l);var v=Ru();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ar(d)?(v=!0,Tl(i)):v=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Su(i),m.updater=Kl,i.stateNode=m,m._reactInternals=i,Lu(i,d,n,l),i=zu(null,i,d,!0,v,l)):(i.tag=0,Pt&&v&&hu(i),Sr(null,i,m,l),i=i.child),i;case 16:d=i.elementType;e:{switch(Hl(n,i),n=i.pendingProps,m=d._init,d=m(d._payload),i.type=d,m=i.tag=C1(d),n=un(d,n),m){case 0:i=Vu(null,i,d,n,l);break e;case 1:i=Bg(null,i,d,n,l);break e;case 11:i=Og(null,i,d,n,l);break e;case 14:i=Mg(null,i,d,un(d.type,n),l);break e}throw Error(s(306,d,""))}return i;case 0:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:un(d,m),Vu(n,i,d,m,l);case 1:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:un(d,m),Bg(n,i,d,m,l);case 3:e:{if($g(i),n===null)throw Error(s(387));d=i.pendingProps,v=i.memoizedState,m=v.element,tg(n,i),Bl(i,d,null,l);var N=i.memoizedState;if(d=N.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){m=Qi(Error(s(423)),i),i=Vg(n,i,d,l,m);break e}else if(d!==m){m=Qi(Error(s(424)),i),i=Vg(n,i,d,l,m);break e}else for(qr=vs(i.stateNode.containerInfo.firstChild),Ur=i,Pt=!0,dn=null,l=Jp(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(zi(),d===m){i=Zn(n,i,l);break e}Sr(n,i,d,l)}i=i.child}return i;case 5:return sg(i),n===null&&xu(i),d=i.type,m=i.pendingProps,v=n!==null?n.memoizedProps:null,N=m.children,lu(d,m)?N=null:v!==null&&lu(d,v)&&(i.flags|=32),Lg(n,i),Sr(n,i,N,l),i.child;case 6:return n===null&&xu(i),null;case 13:return zg(n,i,l);case 4:return Cu(i,i.stateNode.containerInfo),d=i.pendingProps,n===null?i.child=Ui(i,null,d,l):Sr(n,i,d,l),i.child;case 11:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:un(d,m),Og(n,i,d,m,l);case 7:return Sr(n,i,i.pendingProps,l),i.child;case 8:return Sr(n,i,i.pendingProps.children,l),i.child;case 12:return Sr(n,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,m=i.pendingProps,v=i.memoizedProps,N=m.value,wt(Dl,d._currentValue),d._currentValue=N,v!==null)if(cn(v.value,N)){if(v.children===m.children&&!Tr.current){i=Zn(n,i,l);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var A=v.dependencies;if(A!==null){N=v.child;for(var M=A.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=Gn(-1,l&-l),M.tag=2;var Q=v.updateQueue;if(Q!==null){Q=Q.shared;var ce=Q.pending;ce===null?M.next=M:(M.next=ce.next,ce.next=M),Q.pending=M}}v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),ju(v.return,l,i),A.lanes|=l;break}M=M.next}}else if(v.tag===10)N=v.type===i.type?null:v.child;else if(v.tag===18){if(N=v.return,N===null)throw Error(s(341));N.lanes|=l,A=N.alternate,A!==null&&(A.lanes|=l),ju(N,l,i),N=v.sibling}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===i){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}Sr(n,i,m.children,l),i=i.child}return i;case 9:return m=i.type,d=i.pendingProps.children,Wi(i,l),m=en(m),d=d(m),i.flags|=1,Sr(n,i,d,l),i.child;case 14:return d=i.type,m=un(d,i.pendingProps),m=un(d.type,m),Mg(n,i,d,m,l);case 15:return Dg(n,i,i.type,i.pendingProps,l);case 17:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:un(d,m),Hl(n,i),i.tag=1,Ar(d)?(n=!0,Tl(i)):n=!1,Wi(i,l),Pg(i,d,m),Lu(i,d,m,l),zu(null,i,d,!0,n,l);case 19:return qg(n,i,l);case 22:return Fg(n,i,l)}throw Error(s(156,i.tag))};function hx(n,i){return Qh(n,i)}function S1(n,i,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(n,i,l,d){return new S1(n,i,l,d)}function cf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function C1(n){if(typeof n=="function")return cf(n)?1:0;if(n!=null){if(n=n.$$typeof,n===J)return 11;if(n===he)return 14}return 2}function _s(n,i){var l=n.alternate;return l===null?(l=nn(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function ic(n,i,l,d,m,v){var N=2;if(d=n,typeof n=="function")cf(n)&&(N=1);else if(typeof n=="string")N=5;else e:switch(n){case q:return di(l.children,m,v,i);case te:N=8,m|=8;break;case we:return n=nn(12,l,i,m|2),n.elementType=we,n.lanes=v,n;case se:return n=nn(13,l,i,m),n.elementType=se,n.lanes=v,n;case W:return n=nn(19,l,i,m),n.elementType=W,n.lanes=v,n;case ne:return ac(l,m,v,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case xe:N=10;break e;case ve:N=9;break e;case J:N=11;break e;case he:N=14;break e;case K:N=16,d=null;break e}throw Error(s(130,n==null?n:typeof n,""))}return i=nn(N,l,i,m),i.elementType=n,i.type=d,i.lanes=v,i}function di(n,i,l,d){return n=nn(7,n,d,i),n.lanes=l,n}function ac(n,i,l,d){return n=nn(22,n,d,i),n.elementType=ne,n.lanes=l,n.stateNode={isHidden:!1},n}function df(n,i,l){return n=nn(6,n,null,i),n.lanes=l,n}function uf(n,i,l){return i=nn(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function k1(n,i,l,d,m){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fd(0),this.expirationTimes=Fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fd(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function ff(n,i,l,d,m,v,N,A,M){return n=new k1(n,i,l,A,M),i===1?(i=1,v===!0&&(i|=8)):i=0,v=nn(3,null,null,i),n.current=v,v.stateNode=n,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Su(v),n}function P1(n,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:d==null?null:""+d,children:n,containerInfo:i,implementation:l}}function px(n){if(!n)return bs;n=n._reactInternals;e:{if(Xs(n)!==n||n.tag!==1)throw Error(s(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Ar(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(s(171))}if(n.tag===1){var l=n.type;if(Ar(l))return Up(n,l,i)}return i}function gx(n,i,l,d,m,v,N,A,M){return n=ff(l,d,!0,n,m,v,N,A,M),n.context=px(null),l=n.current,d=Cr(),m=Ps(l),v=Gn(d,m),v.callback=i??null,Ns(l,v,m),n.current.lanes=m,Da(n,m,d),Or(n,d),n}function oc(n,i,l,d){var m=i.current,v=Cr(),N=Ps(m);return l=px(l),i.context===null?i.context=l:i.pendingContext=l,i=Gn(v,N),i.payload={element:n},d=d===void 0?null:d,d!==null&&(i.callback=d),n=Ns(m,i,N),n!==null&&(hn(n,m,N,v),Ll(n,m,N)),N}function lc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function xx(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function mf(n,i){xx(n,i),(n=n.alternate)&&xx(n,i)}function E1(){return null}var vx=typeof reportError=="function"?reportError:function(n){console.error(n)};function hf(n){this._internalRoot=n}cc.prototype.render=hf.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));oc(n,i,null,null)},cc.prototype.unmount=hf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;oi(function(){oc(null,n,null,null)}),i[qn]=null}};function cc(n){this._internalRoot=n}cc.prototype.unstable_scheduleHydration=function(n){if(n){var i=tp();n={blockedOn:null,target:n,priority:i};for(var l=0;l<ps.length&&i!==0&&i<ps[l].priority;l++);ps.splice(l,0,n),l===0&&sp(n)}};function pf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function dc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function yx(){}function _1(n,i,l,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var Q=lc(N);v.call(Q)}}var N=gx(i,d,n,0,null,!1,!1,"",yx);return n._reactRootContainer=N,n[qn]=N.current,Za(n.nodeType===8?n.parentNode:n),oi(),N}for(;m=n.lastChild;)n.removeChild(m);if(typeof d=="function"){var A=d;d=function(){var Q=lc(M);A.call(Q)}}var M=ff(n,0,!1,null,null,!1,!1,"",yx);return n._reactRootContainer=M,n[qn]=M.current,Za(n.nodeType===8?n.parentNode:n),oi(function(){oc(i,M,l,d)}),M}function uc(n,i,l,d,m){var v=l._reactRootContainer;if(v){var N=v;if(typeof m=="function"){var A=m;m=function(){var M=lc(N);A.call(M)}}oc(i,N,n,m)}else N=_1(l,i,n,m,d);return lc(N)}Jh=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var l=Ma(i.pendingLanes);l!==0&&(Ld(i,l|1),Or(i,Lt()),(ht&6)===0&&(Zi=Lt()+500,ws()))}break;case 13:oi(function(){var d=Hn(n,1);if(d!==null){var m=Cr();hn(d,n,1,m)}}),mf(n,1)}},Bd=function(n){if(n.tag===13){var i=Hn(n,134217728);if(i!==null){var l=Cr();hn(i,n,134217728,l)}mf(n,134217728)}},ep=function(n){if(n.tag===13){var i=Ps(n),l=Hn(n,i);if(l!==null){var d=Cr();hn(l,n,i,d)}mf(n,i)}},tp=function(){return xt},rp=function(n,i){var l=xt;try{return xt=n,i()}finally{xt=l}},Ad=function(n,i,l){switch(i){case"input":if(on(n,l),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==n&&d.form===n.form){var m=El(d);if(!m)throw Error(s(90));mt(d),on(d,m)}}}break;case"textarea":ye(n,l);break;case"select":i=l.value,i!=null&&V(n,!!l.multiple,i,!1)}},$h=af,Vh=oi;var T1={usingClientEntryPoint:!1,Events:[Ja,Fi,El,Lh,Bh,af]},ho={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A1={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Wh(n),n===null?null:n.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||E1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{cl=fc.inject(A1),_n=fc}catch{}}return Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T1,Mr.createPortal=function(n,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pf(i))throw Error(s(200));return P1(n,i,null,l)},Mr.createRoot=function(n,i){if(!pf(n))throw Error(s(299));var l=!1,d="",m=vx;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=ff(n,1,!1,null,null,l,!1,d,m),n[qn]=i.current,Za(n.nodeType===8?n.parentNode:n),new hf(i)},Mr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=Wh(i),n=n===null?null:n.stateNode,n},Mr.flushSync=function(n){return oi(n)},Mr.hydrate=function(n,i,l){if(!dc(i))throw Error(s(200));return uc(null,n,i,!0,l)},Mr.hydrateRoot=function(n,i,l){if(!pf(n))throw Error(s(405));var d=l!=null&&l.hydratedSources||null,m=!1,v="",N=vx;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),i=gx(i,null,n,1,l??null,m,!1,v,N),n[qn]=i.current,Za(n),d)for(n=0;n<d.length;n++)l=d[n],m=l._getVersion,m=m(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,m]:i.mutableSourceEagerHydrationData.push(l,m);return new cc(i)},Mr.render=function(n,i,l){if(!dc(i))throw Error(s(200));return uc(null,n,i,!1,l)},Mr.unmountComponentAtNode=function(n){if(!dc(n))throw Error(s(40));return n._reactRootContainer?(oi(function(){uc(null,null,n,!1,function(){n._reactRootContainer=null,n[qn]=null})}),!0):!1},Mr.unstable_batchedUpdates=af,Mr.unstable_renderSubtreeIntoContainer=function(n,i,l,d){if(!dc(l))throw Error(s(200));if(n==null||n._reactInternals===void 0)throw Error(s(38));return uc(n,i,l,!1,d)},Mr.version="18.3.1-next-f1338f8080-20240426",Mr}var Px;function cy(){if(Px)return vf.exports;Px=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vf.exports=B1(),vf.exports}var Ex;function $1(){if(Ex)return mc;Ex=1;var e=cy();return mc.createRoot=e.createRoot,mc.hydrateRoot=e.hydrateRoot,mc}var V1=$1();function z1(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,a,o,c,u=[],f="",h=e.split("/");for(h[0]||h.shift();o=h.shift();)s=o[0],s==="*"?(u.push(s),f+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(a=o.indexOf("?",1),c=o.indexOf(".",1),u.push(o.substring(1,~a?a:~c?c:o.length)),f+=~a&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(f+=(~a?"?":"")+"\\"+o.substring(c))):f+="/"+o;return{keys:u,pattern:new RegExp("^"+f+(t?"(?=$|/)":"/?$"),"i")}}var p=Yc();const $t=ly(p),Tm=I1({__proto__:null,default:$t},[p]);var wf={exports:{}},jf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function U1(){if(_x)return jf;_x=1;var e=Yc();function t(y,w){return y===w&&(y!==0||1/y===1/w)||y!==y&&w!==w}var s=typeof Object.is=="function"?Object.is:t,a=e.useState,o=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function f(y,w){var C=w(),P=a({inst:{value:C,getSnapshot:w}}),b=P[0].inst,j=P[1];return c(function(){b.value=C,b.getSnapshot=w,h(b)&&j({inst:b})},[y,C,w]),o(function(){return h(b)&&j({inst:b}),y(function(){h(b)&&j({inst:b})})},[y]),u(C),C}function h(y){var w=y.getSnapshot;y=y.value;try{var C=w();return!s(y,C)}catch{return!0}}function g(y,w){return w()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:f;return jf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,jf}var Tx;function q1(){return Tx||(Tx=1,wf.exports=U1()),wf.exports}var W1=q1();const K1=Tm.useInsertionEffect,Q1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H1=Q1?p.useLayoutEffect:p.useEffect,G1=K1||H1,dy=e=>{const t=p.useRef([e,(...s)=>t[0](...s)]).current;return G1(()=>{t[0]=e}),t[1]},Z1="popstate",Am="pushState",Rm="replaceState",Y1="hashchange",Ax=[Z1,Am,Rm,Y1],X1=e=>{for(const t of Ax)addEventListener(t,e);return()=>{for(const t of Ax)removeEventListener(t,e)}},uy=(e,t)=>W1.useSyncExternalStore(X1,e,t),J1=()=>location.search,eC=({ssrSearch:e=""}={})=>uy(J1,()=>e),Rx=()=>location.pathname,tC=({ssrPath:e}={})=>uy(Rx,e?()=>e:Rx),rC=(e,{replace:t=!1,state:s=null}={})=>history[t?Rm:Am](s,"",e),nC=(e={})=>[tC(e),rC],Ix=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Ix]>"u"){for(const e of[Am,Rm]){const t=history[e];history[e]=function(){const s=t.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),s}}Object.defineProperty(window,Ix,{value:!0})}const sC=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",fy=(e="")=>e==="/"?"":e,iC=(e,t)=>e[0]==="~"?e.slice(1):fy(t)+e,aC=(e="",t)=>sC(Ox(fy(e)),Ox(t)),Ox=e=>{try{return decodeURI(e)}catch{return e}},my={hook:nC,searchHook:eC,parser:z1,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},hy=p.createContext(my),Ho=()=>p.useContext(hy),py={},gy=p.createContext(py),oC=()=>p.useContext(gy),Xc=e=>{const[t,s]=e.hook(e);return[aC(e.base,t),dy((a,o)=>s(iC(a,e.base),o))]},Im=()=>Xc(Ho()),xy=(e,t,s,a)=>{const{pattern:o,keys:c}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",a),u=o.exec(s)||[],[f,...h]=u;return f!==void 0?[!0,(()=>{const g=c!==!1?Object.fromEntries(c.map((y,w)=>[y,h[w]])):u.groups;let x={...h};return g&&Object.assign(x,g),x})(),...a?[f]:[]]:[!1,null]},lC=({children:e,...t})=>{const s=Ho(),a=t.hook?my:s;let o=a;const[c,u]=t.ssrPath?.split("?")??[];u&&(t.ssrSearch=u,t.ssrPath=c),t.hrefs=t.hrefs??t.hook?.hrefs;let f=p.useRef({}),h=f.current,g=h;for(let x in a){const y=x==="base"?a[x]+(t[x]||""):t[x]||a[x];h===g&&y!==g[x]&&(f.current=g={...g}),g[x]=y,(y!==a[x]||y!==o[x])&&(o=g)}return p.createElement(hy.Provider,{value:o,children:e})},Mx=({children:e,component:t},s)=>t?p.createElement(t,{params:s}):typeof e=="function"?e(s):e,cC=e=>{let t=p.useRef(py);const s=t.current;return t.current=Object.keys(e).length!==Object.keys(s).length||Object.entries(e).some(([a,o])=>o!==s[a])?e:s},Xn=({path:e,nest:t,match:s,...a})=>{const o=Ho(),[c]=Xc(o),[u,f,h]=s??xy(o.parser,e,c,t),g=cC({...oC(),...f});if(!u)return null;const x=h?p.createElement(lC,{base:h},Mx(a,g)):Mx(a,g);return p.createElement(gy.Provider,{value:g,children:x})},vy=p.forwardRef((e,t)=>{const s=Ho(),[a,o]=Xc(s),{to:c="",href:u=c,onClick:f,asChild:h,children:g,className:x,replace:y,state:w,...C}=e,P=dy(j=>{j.ctrlKey||j.metaKey||j.altKey||j.shiftKey||j.button!==0||(f?.(j),j.defaultPrevented||(j.preventDefault(),o(u,e)))}),b=s.hrefs(u[0]==="~"?u.slice(1):s.base+u,s);return h&&p.isValidElement(g)?p.cloneElement(g,{onClick:P,href:b}):p.createElement("a",{...C,onClick:P,href:b,className:x?.call?x(a===u):x,children:g,ref:t})}),yy=e=>Array.isArray(e)?e.flatMap(t=>yy(t&&t.type===p.Fragment?t.props.children:t)):[e],dC=({children:e,location:t})=>{const s=Ho(),[a]=Xc(s);for(const o of yy(e)){let c=0;if(p.isValidElement(o)&&(c=xy(s.parser,o.props.path,t||a,o.props.nest))[0])return p.cloneElement(o,{match:c})}return null};var ja=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uC={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},fC=class{#e=uC;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},ui=new fC;function mC(e){setTimeout(e,0)}var pi=typeof window>"u"||"Deno"in globalThis;function kr(){}function hC(e,t){return typeof e=="function"?e(t):e}function Qf(e){return typeof e=="number"&&e>=0&&e!==1/0}function by(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Fs(e,t){return typeof e=="function"?e(t):e}function sn(e,t){return typeof e=="function"?e(t):e}function Dx(e,t){const{type:s="all",exact:a,fetchStatus:o,predicate:c,queryKey:u,stale:f}=e;if(u){if(a){if(t.queryHash!==Om(u,t.options))return!1}else if(!So(t.queryKey,u))return!1}if(s!=="all"){const h=t.isActive();if(s==="active"&&!h||s==="inactive"&&h)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||o&&o!==t.state.fetchStatus||c&&!c(t))}function Fx(e,t){const{exact:s,status:a,predicate:o,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(s){if(gi(t.options.mutationKey)!==gi(c))return!1}else if(!So(t.options.mutationKey,c))return!1}return!(a&&t.state.status!==a||o&&!o(t))}function Om(e,t){return(t?.queryKeyHashFn||gi)(e)}function gi(e){return JSON.stringify(e,(t,s)=>Hf(s)?Object.keys(s).sort().reduce((a,o)=>(a[o]=s[o],a),{}):s)}function So(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>So(e[s],t[s])):!1}var pC=Object.prototype.hasOwnProperty;function wy(e,t){if(e===t)return e;const s=Lx(e)&&Lx(t);if(!s&&!(Hf(e)&&Hf(t)))return t;const o=(s?e:Object.keys(e)).length,c=s?t:Object.keys(t),u=c.length,f=s?new Array(u):{};let h=0;for(let g=0;g<u;g++){const x=s?g:c[g],y=e[x],w=t[x];if(y===w){f[x]=y,(s?g<o:pC.call(e,x))&&h++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){f[x]=w;continue}const C=wy(y,w);f[x]=C,C===y&&h++}return o===u&&h===o?e:f}function Tc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function Lx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Hf(e){if(!Bx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Bx(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Bx(e){return Object.prototype.toString.call(e)==="[object Object]"}function gC(e){return new Promise(t=>{ui.setTimeout(t,e)})}function Gf(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?wy(e,t):t}function xC(e,t,s=0){const a=[...e,t];return s&&a.length>s?a.slice(1):a}function vC(e,t,s=0){const a=[t,...e];return s&&a.length>s?a.slice(0,-1):a}var Mm=Symbol();function jy(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Mm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ny(e,t){return typeof e=="function"?e(...t):!!e}var yC=class extends ja{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!pi&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Dm=new yC;function Zf(){let e,t;const s=new Promise((o,c)=>{e=o,t=c});s.status="pending",s.catch(()=>{});function a(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{a({status:"fulfilled",value:o}),e(o)},s.reject=o=>{a({status:"rejected",reason:o}),t(o)},s}var bC=mC;function wC(){let e=[],t=0,s=f=>{f()},a=f=>{f()},o=bC;const c=f=>{t?e.push(f):o(()=>{s(f)})},u=()=>{const f=e;e=[],f.length&&o(()=>{a(()=>{f.forEach(h=>{s(h)})})})};return{batch:f=>{let h;t++;try{h=f()}finally{t--,t||u()}return h},batchCalls:f=>(...h)=>{c(()=>{f(...h)})},schedule:c,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{a=f},setScheduler:f=>{o=f}}}var er=wC(),jC=class extends ja{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!pi&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Ac=new jC;function NC(e){return Math.min(1e3*2**e,3e4)}function Sy(e){return(e??"online")==="online"?Ac.isOnline():!0}var Yf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Cy(e){let t=!1,s=0,a;const o=Zf(),c=()=>o.status!=="pending",u=b=>{if(!c()){const j=new Yf(b);w(j),e.onCancel?.(j)}},f=()=>{t=!0},h=()=>{t=!1},g=()=>Dm.isFocused()&&(e.networkMode==="always"||Ac.isOnline())&&e.canRun(),x=()=>Sy(e.networkMode)&&e.canRun(),y=b=>{c()||(a?.(),o.resolve(b))},w=b=>{c()||(a?.(),o.reject(b))},C=()=>new Promise(b=>{a=j=>{(c()||g())&&b(j)},e.onPause?.()}).then(()=>{a=void 0,c()||e.onContinue?.()}),P=()=>{if(c())return;let b;const j=s===0?e.initialPromise:void 0;try{b=j??e.fn()}catch(E){b=Promise.reject(E)}Promise.resolve(b).then(y).catch(E=>{if(c())return;const k=e.retry??(pi?0:3),I=e.retryDelay??NC,L=typeof I=="function"?I(s,E):I,B=k===!0||typeof k=="number"&&s<k||typeof k=="function"&&k(s,E);if(t||!B){w(E);return}s++,e.onFail?.(s,E),gC(L).then(()=>g()?void 0:C()).then(()=>{t?w(E):P()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(a?.(),o),cancelRetry:f,continueRetry:h,canStart:x,start:()=>(x()?P():C().then(P),o)}}var ky=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qf(this.gcTime)&&(this.#e=ui.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pi?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ui.clearTimeout(this.#e),this.#e=void 0)}},SC=class extends ky{#e;#t;#r;#s;#n;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#r=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=$x(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=$x(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const s=Gf(this.state.data,e,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(kr).catch(kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>sn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Fs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!by(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},o=()=>{const f=jy(this.options,t),g=(()=>{const x={client:this.#s,queryKey:this.queryKey,meta:this.meta};return a(x),x})();return this.#o=!1,this.options.persister?this.options.persister(f,g,this):f(g)},u=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return a(f),f})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#n=Cy({initialPromise:t?.initialPromise,fn:u.fetchFn,onCancel:f=>{f instanceof Yf&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(f,h)=>{this.#i({type:"failed",failureCount:f,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const f=await this.#n.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#r.config.onSuccess?.(f,this),this.#r.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof Yf){if(f.silent)return this.#n.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#r.config.onError?.(f,this),this.#r.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Py(s.data,this.options),fetchMeta:e.meta??null};case"success":const a={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),er.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Py(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Sy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $x(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var CC=class extends ja{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=Zf(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#s=void 0;#n;#a;#o;#i;#p;#f;#m;#c;#d;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Vx(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof sn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),t._defaulted&&!Tc(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&zx(this.#t,s,this.options,t)&&this.#u(),this.updateResult(),a&&(this.#t!==s||sn(this.options.enabled,this.#t)!==sn(t.enabled,this.#t)||Fs(this.options.staleTime,this.#t)!==Fs(t.staleTime,this.#t))&&this.#g();const o=this.#x();a&&(this.#t!==s||sn(this.options.enabled,this.#t)!==sn(t.enabled,this.#t)||o!==this.#l)&&this.#v(o)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return PC(this,s)&&(this.#s=s,this.#a=this.options,this.#n=this.#t.state),s}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(s,a)=>(this.trackProp(a),t?.(a),a==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,a))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#u(e){this.#j();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(kr)),t}#g(){this.#b();const e=Fs(this.options.staleTime,this.#t);if(pi||this.#s.isStale||!Qf(e))return;const s=by(this.#s.dataUpdatedAt,e)+1;this.#c=ui.setTimeout(()=>{this.#s.isStale||this.updateResult()},s)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(pi||sn(this.options.enabled,this.#t)===!1||!Qf(this.#l)||this.#l===0)&&(this.#d=ui.setInterval(()=>{(this.options.refetchIntervalInBackground||Dm.isFocused())&&this.#u()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#b(){this.#c&&(ui.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(ui.clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const s=this.#t,a=this.options,o=this.#s,c=this.#n,u=this.#a,h=e!==s?e.state:this.#r,{state:g}=e;let x={...g},y=!1,w;if(t._optimisticResults){const te=this.hasListeners(),we=!te&&Vx(e,t),xe=te&&zx(e,s,t,a);(we||xe)&&(x={...x,...Py(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:C,errorUpdatedAt:P,status:b}=x;w=x.data;let j=!1;if(t.placeholderData!==void 0&&w===void 0&&b==="pending"){let te;o?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(te=o.data,j=!0):te=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,te!==void 0&&(b="success",w=Gf(o?.data,te,t),y=!0)}if(t.select&&w!==void 0&&!j)if(o&&w===c?.data&&t.select===this.#p)w=this.#f;else try{this.#p=t.select,w=t.select(w),w=Gf(o?.data,w,t),this.#f=w,this.#i=null}catch(te){this.#i=te}this.#i&&(C=this.#i,w=this.#f,P=Date.now(),b="error");const E=x.fetchStatus==="fetching",k=b==="pending",I=b==="error",L=k&&E,B=w!==void 0,q={status:b,fetchStatus:x.fetchStatus,isPending:k,isSuccess:b==="success",isError:I,isInitialLoading:L,isLoading:L,data:w,dataUpdatedAt:x.dataUpdatedAt,error:C,errorUpdatedAt:P,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>h.dataUpdateCount||x.errorUpdateCount>h.errorUpdateCount,isFetching:E,isRefetching:E&&!k,isLoadingError:I&&!B,isPaused:x.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:I&&B,isStale:Fm(e,t),refetch:this.refetch,promise:this.#o,isEnabled:sn(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const te=ve=>{q.status==="error"?ve.reject(q.error):q.data!==void 0&&ve.resolve(q.data)},we=()=>{const ve=this.#o=q.promise=Zf();te(ve)},xe=this.#o;switch(xe.status){case"pending":e.queryHash===s.queryHash&&te(xe);break;case"fulfilled":(q.status==="error"||q.data!==xe.value)&&we();break;case"rejected":(q.status!=="error"||q.error!==xe.reason)&&we();break}}return q}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#a=this.options,this.#n.data!==void 0&&(this.#m=this.#t),Tc(t,e))return;this.#s=t;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!this.#h.size)return!0;const c=new Set(o??this.#h);return this.options.throwOnError&&c.add("error"),Object.keys(this.#s).some(u=>{const f=u;return this.#s[f]!==e[f]&&c.has(f)})};this.#N({listeners:s()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){er.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function kC(e,t){return sn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Vx(e,t){return kC(e,t)||e.state.data!==void 0&&Xf(e,t,t.refetchOnMount)}function Xf(e,t,s){if(sn(t.enabled,e)!==!1&&Fs(t.staleTime,e)!=="static"){const a=typeof s=="function"?s(e):s;return a==="always"||a!==!1&&Fm(e,t)}return!1}function zx(e,t,s,a){return(e!==t||sn(a.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Fm(e,s)}function Fm(e,t){return sn(t.enabled,e)!==!1&&e.isStaleByTime(Fs(t.staleTime,e))}function PC(e,t){return!Tc(e.getCurrentResult(),t)}function Ux(e){return{onFetch:(t,s)=>{const a=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},h=0;const g=async()=>{let x=!1;const y=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},w=jy(t.options,t.fetchOptions),C=async(P,b,j)=>{if(x)return Promise.reject();if(b==null&&P.pages.length)return Promise.resolve(P);const k=(()=>{const X={client:t.client,queryKey:t.queryKey,pageParam:b,direction:j?"backward":"forward",meta:t.options.meta};return y(X),X})(),I=await w(k),{maxPages:L}=t.options,B=j?vC:xC;return{pages:B(P.pages,I,L),pageParams:B(P.pageParams,b,L)}};if(o&&c.length){const P=o==="backward",b=P?EC:qx,j={pages:c,pageParams:u},E=b(a,j);f=await C(j,E,P)}else{const P=e??c.length;do{const b=h===0?u[0]??a.initialPageParam:qx(a,f);if(h>0&&b==null)break;f=await C(f,b),h++}while(h<P)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=g}}}function qx(e,{pages:t,pageParams:s}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,s[a],s):void 0}function EC(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var _C=class extends ky{#e;#t;#r;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||Ey(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Cy({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#n({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const a=this.state.status==="pending",o=!this.#s.canStart();try{if(a)t();else{this.#n({type:"pending",variables:e,isPaused:o}),await this.#r.config.onMutate?.(e,this,s);const u=await this.options.onMutate?.(e,s);u!==this.state.context&&this.#n({type:"pending",context:u,variables:e,isPaused:o})}const c=await this.#s.start();return await this.#r.config.onSuccess?.(c,e,this.state.context,this,s),await this.options.onSuccess?.(c,e,this.state.context,s),await this.#r.config.onSettled?.(c,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(c,null,e,this.state.context,s),this.#n({type:"success",data:c}),c}catch(c){try{throw await this.#r.config.onError?.(c,e,this.state.context,this,s),await this.options.onError?.(c,e,this.state.context,s),await this.#r.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,c,e,this.state.context,s),c}finally{this.#n({type:"error",error:c})}}finally{this.#r.runNext(this)}}#n(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),er.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function Ey(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var TC=class extends ja{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,s){const a=new _C({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:s});return this.add(a),a}add(e){this.#e.add(e);const t=hc(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=hc(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const a=s.indexOf(e);a!==-1&&s.splice(a,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=hc(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=hc(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){er.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Fx(t,s))}findAll(e={}){return this.getAll().filter(t=>Fx(e,t))}notify(e){er.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return er.batch(()=>Promise.all(e.map(t=>t.continue().catch(kr))))}};function hc(e){return e.options.scope?.id}var AC=class extends ja{#e;#t=void 0;#r;#s;constructor(t,s){super(),this.#e=t,this.setOptions(s),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const s=this.options;this.options=this.#e.defaultMutationOptions(t),Tc(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),s?.mutationKey&&this.options.mutationKey&&gi(s.mutationKey)!==gi(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#a()}mutate(t,s){return this.#s=s,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??Ey();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){er.batch(()=>{if(this.#s&&this.hasListeners()){const s=this.#t.variables,a=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#s.onSuccess?.(t.data,s,a,o),this.#s.onSettled?.(t.data,null,s,a,o)):t?.type==="error"&&(this.#s.onError?.(t.error,s,a,o),this.#s.onSettled?.(void 0,t.error,s,a,o))}this.listeners.forEach(s=>{s(this.#t)})})}},RC=class extends ja{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const a=t.queryKey,o=t.queryHash??Om(a,t);let c=this.get(o);return c||(c=new SC({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){er.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Dx(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>Dx(e,s)):t}notify(e){er.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){er.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},IC=class{#e;#t;#r;#s;#n;#a;#o;#i;constructor(e={}){this.#e=e.queryCache||new RC,this.#t=e.mutationCache||new TC,this.#r=e.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Dm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Ac.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),a=s.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Fs(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),c=this.#e.get(a.queryHash)?.state.data,u=hC(t,c);if(u!==void 0)return this.#e.build(this,a).setData(u,{...s,manual:!0})}setQueriesData(e,t,s){return er.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;er.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return er.batch(()=>(s.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},a=er.batch(()=>this.#e.findAll(e).map(o=>o.cancel(s)));return Promise.all(a).then(kr).catch(kr)}invalidateQueries(e,t={}){return er.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},a=er.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,s);return s.throwOnError||(c=c.catch(kr)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(a).then(kr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(Fs(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(kr).catch(kr)}fetchInfiniteQuery(e){return e.behavior=Ux(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(kr).catch(kr)}ensureInfiniteQueryData(e){return e.behavior=Ux(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ac.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#s.set(gi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],s={};return t.forEach(a=>{So(e,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(e,t){this.#n.set(gi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],s={};return t.forEach(a=>{So(e,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Om(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Mm&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},_y=p.createContext(void 0),_r=e=>{const t=p.useContext(_y);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},OC=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(_y.Provider,{value:e,children:t})),Ty=p.createContext(!1),MC=()=>p.useContext(Ty);Ty.Provider;function DC(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var FC=p.createContext(DC()),LC=()=>p.useContext(FC),BC=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},$C=e=>{p.useEffect(()=>{e.clearReset()},[e])},VC=({result:e,errorResetBoundary:t,throwOnError:s,query:a,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(o&&e.data===void 0||Ny(s,[e.error,a])),zC=e=>{if(e.suspense){const s=o=>o==="static"?o:Math.max(o??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...o)=>s(a(...o)):s(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},UC=(e,t)=>e.isLoading&&e.isFetching&&!t,qC=(e,t)=>e?.suspense&&t.isPending,Wx=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function WC(e,t,s){const a=MC(),o=LC(),c=_r(),u=c.defaultQueryOptions(e);c.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=a?"isRestoring":"optimistic",zC(u),BC(u,o),$C(o);const f=!c.getQueryCache().get(u.queryHash),[h]=p.useState(()=>new t(c,u)),g=h.getOptimisticResult(u),x=!a&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(y=>{const w=x?h.subscribe(er.batchCalls(y)):kr;return h.updateResult(),w},[h,x]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),p.useEffect(()=>{h.setOptions(u)},[u,h]),qC(u,g))throw Wx(u,h,o);if(VC({result:g,errorResetBoundary:o,throwOnError:u.throwOnError,query:c.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw g.error;return c.getDefaultOptions().queries?._experimental_afterQuery?.(u,g),u.experimental_prefetchInRender&&!pi&&UC(g,a)&&(f?Wx(u,h,o):c.getQueryCache().get(u.queryHash)?.promise)?.catch(kr).finally(()=>{h.updateResult()}),u.notifyOnChangeProps?g:h.trackResult(g)}function vt(e,t){return WC(e,CC)}function Ge(e,t){const s=_r(),[a]=p.useState(()=>new AC(s,e));p.useEffect(()=>{a.setOptions(e)},[a,e]);const o=p.useSyncExternalStore(p.useCallback(u=>a.subscribe(er.batchCalls(u)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),c=p.useCallback((u,f)=>{a.mutate(u,f).catch(kr)},[a]);if(o.error&&Ny(a.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:c,mutateAsync:o.mutate}}async function Ay(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function kt(e,t,s){const a={};s&&(a["Content-Type"]="application/json");const o=localStorage.getItem("auth_token");o&&(a.Authorization=`Bearer ${o}`);const c=await fetch(t,{method:e,headers:a,body:s?JSON.stringify(s):void 0,credentials:"include"});return await Ay(c),c}const KC=({on401:e})=>async({queryKey:t})=>{const s={},a=localStorage.getItem("auth_token");a&&(s.Authorization=`Bearer ${a}`);const o=await fetch(t.join("/"),{headers:s,credentials:"include"});return await Ay(o),await o.json()},wr=new IC({defaultOptions:{queries:{queryFn:KC({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),QC=1,HC=1e6;let Nf=0;function GC(){return Nf=(Nf+1)%Number.MAX_SAFE_INTEGER,Nf.toString()}const Sf=new Map,Kx=e=>{if(Sf.has(e))return;const t=setTimeout(()=>{Sf.delete(e),wo({type:"REMOVE_TOAST",toastId:e})},HC);Sf.set(e,t)},ZC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,QC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?Kx(s):e.toasts.forEach(a=>{Kx(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},Nc=[];let Sc={toasts:[]};function wo(e){Sc=ZC(Sc,e),Nc.forEach(t=>{t(Sc)})}function YC({...e}){const t=GC(),s=o=>wo({type:"UPDATE_TOAST",toast:{...o,id:t}}),a=()=>wo({type:"DISMISS_TOAST",toastId:t});return wo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||a()}}}),{id:t,dismiss:a,update:s}}function rr(){const[e,t]=p.useState(Sc);return p.useEffect(()=>(Nc.push(t),()=>{const s=Nc.indexOf(t);s>-1&&Nc.splice(s,1)}),[e]),{...e,toast:YC,dismiss:s=>wo({type:"DISMISS_TOAST",toastId:s})}}var Na=cy();const XC=ly(Na);function Me(e,t,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e?.(o),s===!1||!o.defaultPrevented)return t?.(o)}}function Qx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xi(...e){return t=>{let s=!1;const a=e.map(o=>{const c=Qx(o,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<a.length;o++){const c=a[o];typeof c=="function"?c():Qx(e[o],null)}}}}function lt(...e){return p.useCallback(xi(...e),e)}function JC(e,t){const s=p.createContext(t),a=c=>{const{children:u,...f}=c,h=p.useMemo(()=>f,Object.values(f));return r.jsx(s.Provider,{value:h,children:u})};a.displayName=e+"Provider";function o(c){const u=p.useContext(s);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[a,o]}function Br(e,t=[]){let s=[];function a(c,u){const f=p.createContext(u),h=s.length;s=[...s,u];const g=y=>{const{scope:w,children:C,...P}=y,b=w?.[e]?.[h]||f,j=p.useMemo(()=>P,Object.values(P));return r.jsx(b.Provider,{value:j,children:C})};g.displayName=c+"Provider";function x(y,w){const C=w?.[e]?.[h]||f,P=p.useContext(C);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[g,x]}const o=()=>{const c=s.map(u=>p.createContext(u));return function(f){const h=f?.[e]||c;return p.useMemo(()=>({[`__scope${e}`]:{...f,[e]:h}}),[f,h])}};return o.scopeName=e,[a,ek(o,...t)]}function ek(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const a=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=a.reduce((f,{useScope:h,scopeName:g})=>{const y=h(c)[`__scope${g}`];return{...f,...y}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return s.scopeName=t.scopeName,s}function vi(e){const t=rk(e),s=p.forwardRef((a,o)=>{const{children:c,...u}=a,f=p.Children.toArray(c),h=f.find(nk);if(h){const g=h.props.children,x=f.map(y=>y===h?p.Children.count(g)>1?p.Children.only(null):p.isValidElement(g)?g.props.children:null:y);return r.jsx(t,{...u,ref:o,children:p.isValidElement(g)?p.cloneElement(g,void 0,x):null})}return r.jsx(t,{...u,ref:o,children:c})});return s.displayName=`${e}.Slot`,s}var tk=vi("Slot");function rk(e){const t=p.forwardRef((s,a)=>{const{children:o,...c}=s;if(p.isValidElement(o)){const u=ik(o),f=sk(c,o.props);return o.type!==p.Fragment&&(f.ref=a?xi(a,u):u),p.cloneElement(o,f)}return p.Children.count(o)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ry=Symbol("radix.slottable");function Iy(e){const t=({children:s})=>r.jsx(r.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=Ry,t}function nk(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ry}function sk(e,t){const s={...t};for(const a in t){const o=e[a],c=t[a];/^on[A-Z]/.test(a)?o&&c?s[a]=(...f)=>{const h=c(...f);return o(...f),h}:o&&(s[a]=o):a==="style"?s[a]={...o,...c}:a==="className"&&(s[a]=[o,c].filter(Boolean).join(" "))}return{...e,...s}}function ik(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Lm(e){const t=e+"CollectionProvider",[s,a]=Br(t),[o,c]=s(t,{collectionRef:{current:null},itemMap:new Map}),u=b=>{const{scope:j,children:E}=b,k=$t.useRef(null),I=$t.useRef(new Map).current;return r.jsx(o,{scope:j,itemMap:I,collectionRef:k,children:E})};u.displayName=t;const f=e+"CollectionSlot",h=vi(f),g=$t.forwardRef((b,j)=>{const{scope:E,children:k}=b,I=c(f,E),L=lt(j,I.collectionRef);return r.jsx(h,{ref:L,children:k})});g.displayName=f;const x=e+"CollectionItemSlot",y="data-radix-collection-item",w=vi(x),C=$t.forwardRef((b,j)=>{const{scope:E,children:k,...I}=b,L=$t.useRef(null),B=lt(j,L),X=c(x,E);return $t.useEffect(()=>(X.itemMap.set(L,{ref:L,...I}),()=>void X.itemMap.delete(L))),r.jsx(w,{[y]:"",ref:B,children:k})});C.displayName=x;function P(b){const j=c(e+"CollectionConsumer",b);return $t.useCallback(()=>{const k=j.collectionRef.current;if(!k)return[];const I=Array.from(k.querySelectorAll(`[${y}]`));return Array.from(j.itemMap.values()).sort((X,q)=>I.indexOf(X.ref.current)-I.indexOf(q.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:u,Slot:g,ItemSlot:C},P,a]}var ak=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=ak.reduce((e,t)=>{const s=vi(`Primitive.${t}`),a=p.forwardRef((o,c)=>{const{asChild:u,...f}=o,h=u?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(h,{...f,ref:c})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function Oy(e,t){e&&Na.flushSync(()=>e.dispatchEvent(t))}function an(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...s)=>t.current?.(...s),[])}function ok(e,t=globalThis?.document){const s=an(e);p.useEffect(()=>{const a=o=>{o.key==="Escape"&&s(o)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[s,t])}var lk="DismissableLayer",Jf="dismissableLayer.update",ck="dismissableLayer.pointerDownOutside",dk="dismissableLayer.focusOutside",Hx,My=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sa=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...h}=e,g=p.useContext(My),[x,y]=p.useState(null),w=x?.ownerDocument??globalThis?.document,[,C]=p.useState({}),P=lt(t,q=>y(q)),b=Array.from(g.layers),[j]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),E=b.indexOf(j),k=x?b.indexOf(x):-1,I=g.layersWithOutsidePointerEventsDisabled.size>0,L=k>=E,B=fk(q=>{const te=q.target,we=[...g.branches].some(xe=>xe.contains(te));!L||we||(o?.(q),u?.(q),q.defaultPrevented||f?.())},w),X=mk(q=>{const te=q.target;[...g.branches].some(xe=>xe.contains(te))||(c?.(q),u?.(q),q.defaultPrevented||f?.())},w);return ok(q=>{k===g.layers.size-1&&(a?.(q),!q.defaultPrevented&&f&&(q.preventDefault(),f()))},w),p.useEffect(()=>{if(x)return s&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Hx=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(x)),g.layers.add(x),Gx(),()=>{s&&g.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Hx)}},[x,w,s,g]),p.useEffect(()=>()=>{x&&(g.layers.delete(x),g.layersWithOutsidePointerEventsDisabled.delete(x),Gx())},[x,g]),p.useEffect(()=>{const q=()=>C({});return document.addEventListener(Jf,q),()=>document.removeEventListener(Jf,q)},[]),r.jsx(Be.div,{...h,ref:P,style:{pointerEvents:I?L?"auto":"none":void 0,...e.style},onFocusCapture:Me(e.onFocusCapture,X.onFocusCapture),onBlurCapture:Me(e.onBlurCapture,X.onBlurCapture),onPointerDownCapture:Me(e.onPointerDownCapture,B.onPointerDownCapture)})});Sa.displayName=lk;var uk="DismissableLayerBranch",Dy=p.forwardRef((e,t)=>{const s=p.useContext(My),a=p.useRef(null),o=lt(t,a);return p.useEffect(()=>{const c=a.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),r.jsx(Be.div,{...e,ref:o})});Dy.displayName=uk;function fk(e,t=globalThis?.document){const s=an(e),a=p.useRef(!1),o=p.useRef(()=>{});return p.useEffect(()=>{const c=f=>{if(f.target&&!a.current){let h=function(){Fy(ck,s,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=h,t.addEventListener("click",o.current,{once:!0})):h()}else t.removeEventListener("click",o.current);a.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",o.current)}},[t,s]),{onPointerDownCapture:()=>a.current=!0}}function mk(e,t=globalThis?.document){const s=an(e),a=p.useRef(!1);return p.useEffect(()=>{const o=c=>{c.target&&!a.current&&Fy(dk,s,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Gx(){const e=new CustomEvent(Jf);document.dispatchEvent(e)}function Fy(e,t,s,{discrete:a}){const o=s.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&o.addEventListener(e,t,{once:!0}),a?Oy(o,c):o.dispatchEvent(c)}var hk=Sa,pk=Dy,gr=globalThis?.document?p.useLayoutEffect:()=>{},gk="Portal",Go=p.forwardRef((e,t)=>{const{container:s,...a}=e,[o,c]=p.useState(!1);gr(()=>c(!0),[]);const u=s||o&&globalThis?.document?.body;return u?XC.createPortal(r.jsx(Be.div,{...a,ref:t}),u):null});Go.displayName=gk;function xk(e,t){return p.useReducer((s,a)=>t[s][a]??s,e)}var Sn=e=>{const{present:t,children:s}=e,a=vk(t),o=typeof s=="function"?s({present:a.isPresent}):p.Children.only(s),c=lt(a.ref,yk(o));return typeof s=="function"||a.isPresent?p.cloneElement(o,{ref:c}):null};Sn.displayName="Presence";function vk(e){const[t,s]=p.useState(),a=p.useRef(null),o=p.useRef(e),c=p.useRef("none"),u=e?"mounted":"unmounted",[f,h]=xk(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const g=pc(a.current);c.current=f==="mounted"?g:"none"},[f]),gr(()=>{const g=a.current,x=o.current;if(x!==e){const w=c.current,C=pc(g);e?h("MOUNT"):C==="none"||g?.display==="none"?h("UNMOUNT"):h(x&&w!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,h]),gr(()=>{if(t){let g;const x=t.ownerDocument.defaultView??window,y=C=>{const b=pc(a.current).includes(CSS.escape(C.animationName));if(C.target===t&&b&&(h("ANIMATION_END"),!o.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",g=x.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},w=C=>{C.target===t&&(c.current=pc(a.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{x.clearTimeout(g),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:p.useCallback(g=>{a.current=g?getComputedStyle(g):null,s(g)},[])}}function pc(e){return e?.animationName||"none"}function yk(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var bk=Tm[" useInsertionEffect ".trim().toString()]||gr;function ss({prop:e,defaultProp:t,onChange:s=()=>{},caller:a}){const[o,c,u]=wk({defaultProp:t,onChange:s}),f=e!==void 0,h=f?e:o;{const x=p.useRef(e!==void 0);p.useEffect(()=>{const y=x.current;y!==f&&console.warn(`${a} is changing from ${y?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=f},[f,a])}const g=p.useCallback(x=>{if(f){const y=jk(x)?x(e):x;y!==e&&u.current?.(y)}else c(x)},[f,e,c,u]);return[h,g]}function wk({defaultProp:e,onChange:t}){const[s,a]=p.useState(e),o=p.useRef(s),c=p.useRef(t);return bk(()=>{c.current=t},[t]),p.useEffect(()=>{o.current!==s&&(c.current?.(s),o.current=s)},[s,o]),[s,a,c]}function jk(e){return typeof e=="function"}var Ly=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Nk="VisuallyHidden",Jc=p.forwardRef((e,t)=>r.jsx(Be.span,{...e,ref:t,style:{...Ly,...e.style}}));Jc.displayName=Nk;var Sk=Jc,Bm="ToastProvider",[$m,Ck,kk]=Lm("Toast"),[By]=Br("Toast",[kk]),[Pk,ed]=By(Bm),$y=e=>{const{__scopeToast:t,label:s="Notification",duration:a=5e3,swipeDirection:o="right",swipeThreshold:c=50,children:u}=e,[f,h]=p.useState(null),[g,x]=p.useState(0),y=p.useRef(!1),w=p.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Bm}\`. Expected non-empty \`string\`.`),r.jsx($m.Provider,{scope:t,children:r.jsx(Pk,{scope:t,label:s,duration:a,swipeDirection:o,swipeThreshold:c,toastCount:g,viewport:f,onViewportChange:h,onToastAdd:p.useCallback(()=>x(C=>C+1),[]),onToastRemove:p.useCallback(()=>x(C=>C-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:w,children:u})})};$y.displayName=Bm;var Vy="ToastViewport",Ek=["F8"],em="toast.viewportPause",tm="toast.viewportResume",zy=p.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:a=Ek,label:o="Notifications ({hotkey})",...c}=e,u=ed(Vy,s),f=Ck(s),h=p.useRef(null),g=p.useRef(null),x=p.useRef(null),y=p.useRef(null),w=lt(t,y,u.onViewportChange),C=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=u.toastCount>0;p.useEffect(()=>{const j=E=>{a.length!==0&&a.every(I=>E[I]||E.code===I)&&y.current?.focus()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[a]),p.useEffect(()=>{const j=h.current,E=y.current;if(P&&j&&E){const k=()=>{if(!u.isClosePausedRef.current){const X=new CustomEvent(em);E.dispatchEvent(X),u.isClosePausedRef.current=!0}},I=()=>{if(u.isClosePausedRef.current){const X=new CustomEvent(tm);E.dispatchEvent(X),u.isClosePausedRef.current=!1}},L=X=>{!j.contains(X.relatedTarget)&&I()},B=()=>{j.contains(document.activeElement)||I()};return j.addEventListener("focusin",k),j.addEventListener("focusout",L),j.addEventListener("pointermove",k),j.addEventListener("pointerleave",B),window.addEventListener("blur",k),window.addEventListener("focus",I),()=>{j.removeEventListener("focusin",k),j.removeEventListener("focusout",L),j.removeEventListener("pointermove",k),j.removeEventListener("pointerleave",B),window.removeEventListener("blur",k),window.removeEventListener("focus",I)}}},[P,u.isClosePausedRef]);const b=p.useCallback(({tabbingDirection:j})=>{const k=f().map(I=>{const L=I.ref.current,B=[L,...Vk(L)];return j==="forwards"?B:B.reverse()});return(j==="forwards"?k.reverse():k).flat()},[f]);return p.useEffect(()=>{const j=y.current;if(j){const E=k=>{const I=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!I){const B=document.activeElement,X=k.shiftKey;if(k.target===j&&X){g.current?.focus();return}const we=b({tabbingDirection:X?"backwards":"forwards"}),xe=we.findIndex(ve=>ve===B);Cf(we.slice(xe+1))?k.preventDefault():X?g.current?.focus():x.current?.focus()}};return j.addEventListener("keydown",E),()=>j.removeEventListener("keydown",E)}},[f,b]),r.jsxs(pk,{ref:h,role:"region","aria-label":o.replace("{hotkey}",C),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&r.jsx(rm,{ref:g,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"forwards"});Cf(j)}}),r.jsx($m.Slot,{scope:s,children:r.jsx(Be.ol,{tabIndex:-1,...c,ref:w})}),P&&r.jsx(rm,{ref:x,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"backwards"});Cf(j)}})]})});zy.displayName=Vy;var Uy="ToastFocusProxy",rm=p.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...o}=e,c=ed(Uy,s);return r.jsx(Jc,{tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:u=>{const f=u.relatedTarget;!c.viewport?.contains(f)&&a()}})});rm.displayName=Uy;var Zo="Toast",_k="toast.swipeStart",Tk="toast.swipeMove",Ak="toast.swipeCancel",Rk="toast.swipeEnd",qy=p.forwardRef((e,t)=>{const{forceMount:s,open:a,defaultOpen:o,onOpenChange:c,...u}=e,[f,h]=ss({prop:a,defaultProp:o??!0,onChange:c,caller:Zo});return r.jsx(Sn,{present:s||f,children:r.jsx(Mk,{open:f,...u,ref:t,onClose:()=>h(!1),onPause:an(e.onPause),onResume:an(e.onResume),onSwipeStart:Me(e.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(e.onSwipeMove,g=>{const{x,y}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:Me(e.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(e.onSwipeEnd,g=>{const{x,y}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),h(!1)})})})});qy.displayName=Zo;var[Ik,Ok]=By(Zo,{onClose(){}}),Mk=p.forwardRef((e,t)=>{const{__scopeToast:s,type:a="foreground",duration:o,open:c,onClose:u,onEscapeKeyDown:f,onPause:h,onResume:g,onSwipeStart:x,onSwipeMove:y,onSwipeCancel:w,onSwipeEnd:C,...P}=e,b=ed(Zo,s),[j,E]=p.useState(null),k=lt(t,W=>E(W)),I=p.useRef(null),L=p.useRef(null),B=o||b.duration,X=p.useRef(0),q=p.useRef(B),te=p.useRef(0),{onToastAdd:we,onToastRemove:xe}=b,ve=an(()=>{j?.contains(document.activeElement)&&b.viewport?.focus(),u()}),J=p.useCallback(W=>{!W||W===1/0||(window.clearTimeout(te.current),X.current=new Date().getTime(),te.current=window.setTimeout(ve,W))},[ve]);p.useEffect(()=>{const W=b.viewport;if(W){const he=()=>{J(q.current),g?.()},K=()=>{const ne=new Date().getTime()-X.current;q.current=q.current-ne,window.clearTimeout(te.current),h?.()};return W.addEventListener(em,K),W.addEventListener(tm,he),()=>{W.removeEventListener(em,K),W.removeEventListener(tm,he)}}},[b.viewport,B,h,g,J]),p.useEffect(()=>{c&&!b.isClosePausedRef.current&&J(B)},[c,B,b.isClosePausedRef,J]),p.useEffect(()=>(we(),()=>xe()),[we,xe]);const se=p.useMemo(()=>j?Yy(j):null,[j]);return b.viewport?r.jsxs(r.Fragment,{children:[se&&r.jsx(Dk,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:se}),r.jsx(Ik,{scope:s,onClose:ve,children:Na.createPortal(r.jsx($m.ItemSlot,{scope:s,children:r.jsx(hk,{asChild:!0,onEscapeKeyDown:Me(f,()=>{b.isFocusedToastEscapeKeyDownRef.current||ve(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Be.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":b.swipeDirection,...P,ref:k,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Me(e.onKeyDown,W=>{W.key==="Escape"&&(f?.(W.nativeEvent),W.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,ve()))}),onPointerDown:Me(e.onPointerDown,W=>{W.button===0&&(I.current={x:W.clientX,y:W.clientY})}),onPointerMove:Me(e.onPointerMove,W=>{if(!I.current)return;const he=W.clientX-I.current.x,K=W.clientY-I.current.y,ne=!!L.current,S=["left","right"].includes(b.swipeDirection),$=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,H=S?$(0,he):0,T=S?0:$(0,K),R=W.pointerType==="touch"?10:2,re={x:H,y:T},le={originalEvent:W,delta:re};ne?(L.current=re,gc(Tk,y,le,{discrete:!1})):Zx(re,b.swipeDirection,R)?(L.current=re,gc(_k,x,le,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(he)>R||Math.abs(K)>R)&&(I.current=null)}),onPointerUp:Me(e.onPointerUp,W=>{const he=L.current,K=W.target;if(K.hasPointerCapture(W.pointerId)&&K.releasePointerCapture(W.pointerId),L.current=null,I.current=null,he){const ne=W.currentTarget,S={originalEvent:W,delta:he};Zx(he,b.swipeDirection,b.swipeThreshold)?gc(Rk,C,S,{discrete:!0}):gc(Ak,w,S,{discrete:!0}),ne.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),Dk=e=>{const{__scopeToast:t,children:s,...a}=e,o=ed(Zo,t),[c,u]=p.useState(!1),[f,h]=p.useState(!1);return Bk(()=>u(!0)),p.useEffect(()=>{const g=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(g)},[]),f?null:r.jsx(Go,{asChild:!0,children:r.jsx(Jc,{...a,children:c&&r.jsxs(r.Fragment,{children:[o.label," ",s]})})})},Fk="ToastTitle",Wy=p.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e;return r.jsx(Be.div,{...a,ref:t})});Wy.displayName=Fk;var Lk="ToastDescription",Ky=p.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e;return r.jsx(Be.div,{...a,ref:t})});Ky.displayName=Lk;var Qy="ToastAction",Hy=p.forwardRef((e,t)=>{const{altText:s,...a}=e;return s.trim()?r.jsx(Zy,{altText:s,asChild:!0,children:r.jsx(Vm,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Qy}\`. Expected non-empty \`string\`.`),null)});Hy.displayName=Qy;var Gy="ToastClose",Vm=p.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e,o=Ok(Gy,s);return r.jsx(Zy,{asChild:!0,children:r.jsx(Be.button,{type:"button",...a,ref:t,onClick:Me(e.onClick,o.onClose)})})});Vm.displayName=Gy;var Zy=p.forwardRef((e,t)=>{const{__scopeToast:s,altText:a,...o}=e;return r.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...o,ref:t})});function Yy(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),$k(a)){const o=a.ariaHidden||a.hidden||a.style.display==="none",c=a.dataset.radixToastAnnounceExclude==="";if(!o)if(c){const u=a.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...Yy(a))}}),t}function gc(e,t,s,{discrete:a}){const o=s.originalEvent.currentTarget,c=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&o.addEventListener(e,t,{once:!0}),a?Oy(o,c):o.dispatchEvent(c)}var Zx=(e,t,s=0)=>{const a=Math.abs(e.x),o=Math.abs(e.y),c=a>o;return t==="left"||t==="right"?c&&a>s:!c&&o>s};function Bk(e=()=>{}){const t=an(e);gr(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[t])}function $k(e){return e.nodeType===e.ELEMENT_NODE}function Vk(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Cf(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var zk=$y,Xy=zy,Jy=qy,e0=Wy,t0=Ky,r0=Hy,n0=Vm;function s0(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(s=s0(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function i0(){for(var e,t,s=0,a="",o=arguments.length;s<o;s++)(e=arguments[s])&&(t=s0(e))&&(a&&(a+=" "),a+=t);return a}const Yx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Xx=i0,Yo=(e,t)=>s=>{var a;if(t?.variants==null)return Xx(e,s?.class,s?.className);const{variants:o,defaultVariants:c}=t,u=Object.keys(o).map(g=>{const x=s?.[g],y=c?.[g];if(x===null)return null;const w=Yx(x)||Yx(y);return o[g][w]}),f=s&&Object.entries(s).reduce((g,x)=>{let[y,w]=x;return w===void 0||(g[y]=w),g},{}),h=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((g,x)=>{let{class:y,className:w,...C}=x;return Object.entries(C).every(P=>{let[b,j]=P;return Array.isArray(j)?j.includes({...c,...f}[b]):{...c,...f}[b]===j})?[...g,y,w]:g},[]);return Xx(e,u,h,s?.class,s?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a0=(...e)=>e.filter((t,s,a)=>!!t&&a.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:u,...f},h)=>p.createElement("svg",{ref:h,...qk,width:t,height:t,stroke:e,strokeWidth:a?Number(s)*24/Number(t):s,className:a0("lucide",o),...f},[...u.map(([g,x])=>p.createElement(g,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(e,t)=>{const s=p.forwardRef(({className:a,...o},c)=>p.createElement(Wk,{ref:c,iconNode:t,className:a0(`lucide-${Uk(e)}`,a),...o}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=nt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=nt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=nt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=nt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=nt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=nt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=nt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=nt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=nt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=nt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=nt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=nt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=nt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=nt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=nt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=nt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=nt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=nt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=nt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=nt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=nt("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=nt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=nt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=nt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=nt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=nt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=nt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=nt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=nt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Wm="-",i2=e=>{const t=o2(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:u=>{const f=u.split(Wm);return f[0]===""&&f.length!==1&&f.shift(),d0(f,t)||a2(u)},getConflictingClassGroupIds:(u,f)=>{const h=s[u]||[];return f&&a[u]?[...h,...a[u]]:h}}},d0=(e,t)=>{if(e.length===0)return t.classGroupId;const s=e[0],a=t.nextPart.get(s),o=a?d0(e.slice(1),a):void 0;if(o)return o;if(t.validators.length===0)return;const c=e.join(Wm);return t.validators.find(({validator:u})=>u(c))?.classGroupId},av=/^\[(.+)\]$/,a2=e=>{if(av.test(e)){const t=av.exec(e)[1],s=t?.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},o2=e=>{const{theme:t,prefix:s}=e,a={nextPart:new Map,validators:[]};return c2(Object.entries(e.classGroups),s).forEach(([c,u])=>{im(u,a,c,t)}),a},im=(e,t,s,a)=>{e.forEach(o=>{if(typeof o=="string"){const c=o===""?t:ov(t,o);c.classGroupId=s;return}if(typeof o=="function"){if(l2(o)){im(o(a),t,s,a);return}t.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([c,u])=>{im(u,ov(t,c),s,a)})})},ov=(e,t)=>{let s=e;return t.split(Wm).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},l2=e=>e.isThemeGetter,c2=(e,t)=>t?e.map(([s,a])=>{const o=a.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,f])=>[t+u,f])):c);return[s,o]}):e,d2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,a=new Map;const o=(c,u)=>{s.set(c,u),t++,t>e&&(t=0,a=s,s=new Map)};return{get(c){let u=s.get(c);if(u!==void 0)return u;if((u=a.get(c))!==void 0)return o(c,u),u},set(c,u){s.has(c)?s.set(c,u):o(c,u)}}},u0="!",u2=e=>{const{separator:t,experimentalParseClassName:s}=e,a=t.length===1,o=t[0],c=t.length,u=f=>{const h=[];let g=0,x=0,y;for(let j=0;j<f.length;j++){let E=f[j];if(g===0){if(E===o&&(a||f.slice(j,j+c)===t)){h.push(f.slice(x,j)),x=j+c;continue}if(E==="/"){y=j;continue}}E==="["?g++:E==="]"&&g--}const w=h.length===0?f:f.substring(x),C=w.startsWith(u0),P=C?w.substring(1):w,b=y&&y>x?y-x:void 0;return{modifiers:h,hasImportantModifier:C,baseClassName:P,maybePostfixModifierPosition:b}};return s?f=>s({className:f,parseClassName:u}):u},f2=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(a=>{a[0]==="["?(t.push(...s.sort(),a),s=[]):s.push(a)}),t.push(...s.sort()),t},m2=e=>({cache:d2(e.cacheSize),parseClassName:u2(e),...i2(e)}),h2=/\s+/,p2=(e,t)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:o}=t,c=[],u=e.trim().split(h2);let f="";for(let h=u.length-1;h>=0;h-=1){const g=u[h],{modifiers:x,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:C}=s(g);let P=!!C,b=a(P?w.substring(0,C):w);if(!b){if(!P){f=g+(f.length>0?" "+f:f);continue}if(b=a(w),!b){f=g+(f.length>0?" "+f:f);continue}P=!1}const j=f2(x).join(":"),E=y?j+u0:j,k=E+b;if(c.includes(k))continue;c.push(k);const I=o(b,P);for(let L=0;L<I.length;++L){const B=I[L];c.push(E+B)}f=g+(f.length>0?" "+f:f)}return f};function g2(){let e=0,t,s,a="";for(;e<arguments.length;)(t=arguments[e++])&&(s=f0(t))&&(a&&(a+=" "),a+=s);return a}const f0=e=>{if(typeof e=="string")return e;let t,s="";for(let a=0;a<e.length;a++)e[a]&&(t=f0(e[a]))&&(s&&(s+=" "),s+=t);return s};function x2(e,...t){let s,a,o,c=u;function u(h){const g=t.reduce((x,y)=>y(x),e());return s=m2(g),a=s.cache.get,o=s.cache.set,c=f,f(h)}function f(h){const g=a(h);if(g)return g;const x=p2(h,s);return o(h,x),x}return function(){return c(g2.apply(null,arguments))}}const Ct=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},m0=/^\[(?:([a-z-]+):)?(.+)\]$/i,v2=/^\d+\/\d+$/,y2=new Set(["px","full","screen"]),b2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,N2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,S2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jn=e=>la(e)||y2.has(e)||v2.test(e),As=e=>Ca(e,"length",R2),la=e=>!!e&&!Number.isNaN(Number(e)),Pf=e=>Ca(e,"number",la),go=e=>!!e&&Number.isInteger(Number(e)),C2=e=>e.endsWith("%")&&la(e.slice(0,-1)),rt=e=>m0.test(e),Rs=e=>b2.test(e),k2=new Set(["length","size","percentage"]),P2=e=>Ca(e,k2,h0),E2=e=>Ca(e,"position",h0),_2=new Set(["image","url"]),T2=e=>Ca(e,_2,O2),A2=e=>Ca(e,"",I2),xo=()=>!0,Ca=(e,t,s)=>{const a=m0.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):s(a[2]):!1},R2=e=>w2.test(e)&&!j2.test(e),h0=()=>!1,I2=e=>N2.test(e),O2=e=>S2.test(e),M2=()=>{const e=Ct("colors"),t=Ct("spacing"),s=Ct("blur"),a=Ct("brightness"),o=Ct("borderColor"),c=Ct("borderRadius"),u=Ct("borderSpacing"),f=Ct("borderWidth"),h=Ct("contrast"),g=Ct("grayscale"),x=Ct("hueRotate"),y=Ct("invert"),w=Ct("gap"),C=Ct("gradientColorStops"),P=Ct("gradientColorStopPositions"),b=Ct("inset"),j=Ct("margin"),E=Ct("opacity"),k=Ct("padding"),I=Ct("saturate"),L=Ct("scale"),B=Ct("sepia"),X=Ct("skew"),q=Ct("space"),te=Ct("translate"),we=()=>["auto","contain","none"],xe=()=>["auto","hidden","clip","visible","scroll"],ve=()=>["auto",rt,t],J=()=>[rt,t],se=()=>["",Jn,As],W=()=>["auto",la,rt],he=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",rt],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>[la,rt];return{cacheSize:500,separator:":",theme:{colors:[xo],spacing:[Jn,As],blur:["none","",Rs,rt],brightness:T(),borderColor:[e],borderRadius:["none","","full",Rs,rt],borderSpacing:J(),borderWidth:se(),contrast:T(),grayscale:$(),hueRotate:T(),invert:$(),gap:J(),gradientColorStops:[e],gradientColorStopPositions:[C2,As],inset:ve(),margin:ve(),opacity:T(),padding:J(),saturate:T(),scale:T(),sepia:$(),skew:T(),space:J(),translate:J()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[Rs]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...he(),rt]}],overflow:[{overflow:xe()}],"overflow-x":[{"overflow-x":xe()}],"overflow-y":[{"overflow-y":xe()}],overscroll:[{overscroll:we()}],"overscroll-x":[{"overscroll-x":we()}],"overscroll-y":[{"overscroll-y":we()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",go,rt]}],basis:[{basis:ve()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",go,rt]}],"grid-cols":[{"grid-cols":[xo]}],"col-start-end":[{col:["auto",{span:["full",go,rt]},rt]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[xo]}],"row-start-end":[{row:["auto",{span:[go,rt]},rt]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,t]}],"min-w":[{"min-w":[rt,t,"min","max","fit"]}],"max-w":[{"max-w":[rt,t,"none","full","min","max","fit","prose",{screen:[Rs]},Rs]}],h:[{h:[rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rs,As]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pf]}],"font-family":[{font:[xo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",la,Pf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jn,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jn,As]}],"underline-offset":[{"underline-offset":["auto",Jn,rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:J()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...he(),E2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",P2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},T2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:K()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Jn,rt]}],"outline-w":[{outline:[Jn,As]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Jn,As]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rs,A2]}],"shadow-color":[{shadow:[xo]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Rs,rt]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[y]}],saturate:[{saturate:[I]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[go,rt]}],"translate-x":[{"translate-x":[te]}],"translate-y":[{"translate-y":[te]}],"skew-x":[{"skew-x":[X]}],"skew-y":[{"skew-y":[X]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Jn,As,Pf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},D2=x2(M2);function Ee(...e){return D2(i0(e))}const F2=zk,p0=p.forwardRef(({className:e,...t},s)=>r.jsx(Xy,{ref:s,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));p0.displayName=Xy.displayName;const L2=Yo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),g0=p.forwardRef(({className:e,variant:t,...s},a)=>r.jsx(Jy,{ref:a,className:Ee(L2({variant:t}),e),...s}));g0.displayName=Jy.displayName;const B2=p.forwardRef(({className:e,...t},s)=>r.jsx(r0,{ref:s,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));B2.displayName=r0.displayName;const x0=p.forwardRef(({className:e,...t},s)=>r.jsx(n0,{ref:s,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(rd,{className:"h-4 w-4"})}));x0.displayName=n0.displayName;const v0=p.forwardRef(({className:e,...t},s)=>r.jsx(e0,{ref:s,className:Ee("text-sm font-semibold",e),...t}));v0.displayName=e0.displayName;const y0=p.forwardRef(({className:e,...t},s)=>r.jsx(t0,{ref:s,className:Ee("text-sm opacity-90",e),...t}));y0.displayName=t0.displayName;function $2(){const{toasts:e}=rr();return r.jsxs(F2,{children:[e.map(function({id:t,title:s,description:a,action:o,...c}){return r.jsxs(g0,{...c,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(v0,{children:s}),a&&r.jsx(y0,{children:a})]}),o,r.jsx(x0,{})]},t)}),r.jsx(p0,{})]})}var V2=Tm[" useId ".trim().toString()]||(()=>{}),z2=0;function Pr(e){const[t,s]=p.useState(V2());return gr(()=>{s(a=>a??String(z2++))},[e]),t?`radix-${t}`:""}const U2=["top","right","bottom","left"],Vs=Math.min,Kr=Math.max,Rc=Math.round,xc=Math.floor,Ln=e=>({x:e,y:e}),q2={left:"right",right:"left",bottom:"top",top:"bottom"},W2={start:"end",end:"start"};function am(e,t,s){return Kr(e,Vs(t,s))}function is(e,t){return typeof e=="function"?e(t):e}function as(e){return e.split("-")[0]}function ka(e){return e.split("-")[1]}function Km(e){return e==="x"?"y":"x"}function Qm(e){return e==="y"?"height":"width"}const K2=new Set(["top","bottom"]);function Fn(e){return K2.has(as(e))?"y":"x"}function Hm(e){return Km(Fn(e))}function Q2(e,t,s){s===void 0&&(s=!1);const a=ka(e),o=Hm(e),c=Qm(o);let u=o==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(u=Ic(u)),[u,Ic(u)]}function H2(e){const t=Ic(e);return[om(e),t,om(t)]}function om(e){return e.replace(/start|end/g,t=>W2[t])}const lv=["left","right"],cv=["right","left"],G2=["top","bottom"],Z2=["bottom","top"];function Y2(e,t,s){switch(e){case"top":case"bottom":return s?t?cv:lv:t?lv:cv;case"left":case"right":return t?G2:Z2;default:return[]}}function X2(e,t,s,a){const o=ka(e);let c=Y2(as(e),s==="start",a);return o&&(c=c.map(u=>u+"-"+o),t&&(c=c.concat(c.map(om)))),c}function Ic(e){return e.replace(/left|right|bottom|top/g,t=>q2[t])}function J2(e){return{top:0,right:0,bottom:0,left:0,...e}}function b0(e){return typeof e!="number"?J2(e):{top:e,right:e,bottom:e,left:e}}function Oc(e){const{x:t,y:s,width:a,height:o}=e;return{width:a,height:o,top:s,left:t,right:t+a,bottom:s+o,x:t,y:s}}function dv(e,t,s){let{reference:a,floating:o}=e;const c=Fn(t),u=Hm(t),f=Qm(u),h=as(t),g=c==="y",x=a.x+a.width/2-o.width/2,y=a.y+a.height/2-o.height/2,w=a[f]/2-o[f]/2;let C;switch(h){case"top":C={x,y:a.y-o.height};break;case"bottom":C={x,y:a.y+a.height};break;case"right":C={x:a.x+a.width,y};break;case"left":C={x:a.x-o.width,y};break;default:C={x:a.x,y:a.y}}switch(ka(t)){case"start":C[u]-=w*(s&&g?-1:1);break;case"end":C[u]+=w*(s&&g?-1:1);break}return C}const eP=async(e,t,s)=>{const{placement:a="bottom",strategy:o="absolute",middleware:c=[],platform:u}=s,f=c.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(t));let g=await u.getElementRects({reference:e,floating:t,strategy:o}),{x,y}=dv(g,a,h),w=a,C={},P=0;for(let b=0;b<f.length;b++){const{name:j,fn:E}=f[b],{x:k,y:I,data:L,reset:B}=await E({x,y,initialPlacement:a,placement:w,strategy:o,middlewareData:C,rects:g,platform:u,elements:{reference:e,floating:t}});x=k??x,y=I??y,C={...C,[j]:{...C[j],...L}},B&&P<=50&&(P++,typeof B=="object"&&(B.placement&&(w=B.placement),B.rects&&(g=B.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:o}):B.rects),{x,y}=dv(g,w,h)),b=-1)}return{x,y,placement:w,strategy:o,middlewareData:C}};async function Po(e,t){var s;t===void 0&&(t={});const{x:a,y:o,platform:c,rects:u,elements:f,strategy:h}=e,{boundary:g="clippingAncestors",rootBoundary:x="viewport",elementContext:y="floating",altBoundary:w=!1,padding:C=0}=is(t,e),P=b0(C),j=f[w?y==="floating"?"reference":"floating":y],E=Oc(await c.getClippingRect({element:(s=await(c.isElement==null?void 0:c.isElement(j)))==null||s?j:j.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:g,rootBoundary:x,strategy:h})),k=y==="floating"?{x:a,y:o,width:u.floating.width,height:u.floating.height}:u.reference,I=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),L=await(c.isElement==null?void 0:c.isElement(I))?await(c.getScale==null?void 0:c.getScale(I))||{x:1,y:1}:{x:1,y:1},B=Oc(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:k,offsetParent:I,strategy:h}):k);return{top:(E.top-B.top+P.top)/L.y,bottom:(B.bottom-E.bottom+P.bottom)/L.y,left:(E.left-B.left+P.left)/L.x,right:(B.right-E.right+P.right)/L.x}}const tP=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:a,placement:o,rects:c,platform:u,elements:f,middlewareData:h}=t,{element:g,padding:x=0}=is(e,t)||{};if(g==null)return{};const y=b0(x),w={x:s,y:a},C=Hm(o),P=Qm(C),b=await u.getDimensions(g),j=C==="y",E=j?"top":"left",k=j?"bottom":"right",I=j?"clientHeight":"clientWidth",L=c.reference[P]+c.reference[C]-w[C]-c.floating[P],B=w[C]-c.reference[C],X=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let q=X?X[I]:0;(!q||!await(u.isElement==null?void 0:u.isElement(X)))&&(q=f.floating[I]||c.floating[P]);const te=L/2-B/2,we=q/2-b[P]/2-1,xe=Vs(y[E],we),ve=Vs(y[k],we),J=xe,se=q-b[P]-ve,W=q/2-b[P]/2+te,he=am(J,W,se),K=!h.arrow&&ka(o)!=null&&W!==he&&c.reference[P]/2-(W<J?xe:ve)-b[P]/2<0,ne=K?W<J?W-J:W-se:0;return{[C]:w[C]+ne,data:{[C]:he,centerOffset:W-he-ne,...K&&{alignmentOffset:ne}},reset:K}}}),rP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,a;const{placement:o,middlewareData:c,rects:u,initialPlacement:f,platform:h,elements:g}=t,{mainAxis:x=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:b=!0,...j}=is(e,t);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const E=as(o),k=Fn(f),I=as(f)===f,L=await(h.isRTL==null?void 0:h.isRTL(g.floating)),B=w||(I||!b?[Ic(f)]:H2(f)),X=P!=="none";!w&&X&&B.push(...X2(f,b,P,L));const q=[f,...B],te=await Po(t,j),we=[];let xe=((a=c.flip)==null?void 0:a.overflows)||[];if(x&&we.push(te[E]),y){const W=Q2(o,u,L);we.push(te[W[0]],te[W[1]])}if(xe=[...xe,{placement:o,overflows:we}],!we.every(W=>W<=0)){var ve,J;const W=(((ve=c.flip)==null?void 0:ve.index)||0)+1,he=q[W];if(he&&(!(y==="alignment"?k!==Fn(he):!1)||xe.every(S=>Fn(S.placement)===k?S.overflows[0]>0:!0)))return{data:{index:W,overflows:xe},reset:{placement:he}};let K=(J=xe.filter(ne=>ne.overflows[0]<=0).sort((ne,S)=>ne.overflows[1]-S.overflows[1])[0])==null?void 0:J.placement;if(!K)switch(C){case"bestFit":{var se;const ne=(se=xe.filter(S=>{if(X){const $=Fn(S.placement);return $===k||$==="y"}return!0}).map(S=>[S.placement,S.overflows.filter($=>$>0).reduce(($,H)=>$+H,0)]).sort((S,$)=>S[1]-$[1])[0])==null?void 0:se[0];ne&&(K=ne);break}case"initialPlacement":K=f;break}if(o!==K)return{reset:{placement:K}}}return{}}}};function uv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fv(e){return U2.some(t=>e[t]>=0)}const nP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:a="referenceHidden",...o}=is(e,t);switch(a){case"referenceHidden":{const c=await Po(t,{...o,elementContext:"reference"}),u=uv(c,s.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:fv(u)}}}case"escaped":{const c=await Po(t,{...o,altBoundary:!0}),u=uv(c,s.floating);return{data:{escapedOffsets:u,escaped:fv(u)}}}default:return{}}}}},w0=new Set(["left","top"]);async function sP(e,t){const{placement:s,platform:a,elements:o}=e,c=await(a.isRTL==null?void 0:a.isRTL(o.floating)),u=as(s),f=ka(s),h=Fn(s)==="y",g=w0.has(u)?-1:1,x=c&&h?-1:1,y=is(t,e);let{mainAxis:w,crossAxis:C,alignmentAxis:P}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return f&&typeof P=="number"&&(C=f==="end"?P*-1:P),h?{x:C*x,y:w*g}:{x:w*g,y:C*x}}const iP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,a;const{x:o,y:c,placement:u,middlewareData:f}=t,h=await sP(t,e);return u===((s=f.offset)==null?void 0:s.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:o+h.x,y:c+h.y,data:{...h,placement:u}}}}},aP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:a,placement:o}=t,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:j=>{let{x:E,y:k}=j;return{x:E,y:k}}},...h}=is(e,t),g={x:s,y:a},x=await Po(t,h),y=Fn(as(o)),w=Km(y);let C=g[w],P=g[y];if(c){const j=w==="y"?"top":"left",E=w==="y"?"bottom":"right",k=C+x[j],I=C-x[E];C=am(k,C,I)}if(u){const j=y==="y"?"top":"left",E=y==="y"?"bottom":"right",k=P+x[j],I=P-x[E];P=am(k,P,I)}const b=f.fn({...t,[w]:C,[y]:P});return{...b,data:{x:b.x-s,y:b.y-a,enabled:{[w]:c,[y]:u}}}}}},oP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:a,placement:o,rects:c,middlewareData:u}=t,{offset:f=0,mainAxis:h=!0,crossAxis:g=!0}=is(e,t),x={x:s,y:a},y=Fn(o),w=Km(y);let C=x[w],P=x[y];const b=is(f,t),j=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(h){const I=w==="y"?"height":"width",L=c.reference[w]-c.floating[I]+j.mainAxis,B=c.reference[w]+c.reference[I]-j.mainAxis;C<L?C=L:C>B&&(C=B)}if(g){var E,k;const I=w==="y"?"width":"height",L=w0.has(as(o)),B=c.reference[y]-c.floating[I]+(L&&((E=u.offset)==null?void 0:E[y])||0)+(L?0:j.crossAxis),X=c.reference[y]+c.reference[I]+(L?0:((k=u.offset)==null?void 0:k[y])||0)-(L?j.crossAxis:0);P<B?P=B:P>X&&(P=X)}return{[w]:C,[y]:P}}}},lP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,a;const{placement:o,rects:c,platform:u,elements:f}=t,{apply:h=()=>{},...g}=is(e,t),x=await Po(t,g),y=as(o),w=ka(o),C=Fn(o)==="y",{width:P,height:b}=c.floating;let j,E;y==="top"||y==="bottom"?(j=y,E=w===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(E=y,j=w==="end"?"top":"bottom");const k=b-x.top-x.bottom,I=P-x.left-x.right,L=Vs(b-x[j],k),B=Vs(P-x[E],I),X=!t.middlewareData.shift;let q=L,te=B;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(te=I),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(q=k),X&&!w){const xe=Kr(x.left,0),ve=Kr(x.right,0),J=Kr(x.top,0),se=Kr(x.bottom,0);C?te=P-2*(xe!==0||ve!==0?xe+ve:Kr(x.left,x.right)):q=b-2*(J!==0||se!==0?J+se:Kr(x.top,x.bottom))}await h({...t,availableWidth:te,availableHeight:q});const we=await u.getDimensions(f.floating);return P!==we.width||b!==we.height?{reset:{rects:!0}}:{}}}};function nd(){return typeof window<"u"}function Pa(e){return j0(e)?(e.nodeName||"").toLowerCase():"#document"}function Hr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Un(e){var t;return(t=(j0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function j0(e){return nd()?e instanceof Node||e instanceof Hr(e).Node:!1}function wn(e){return nd()?e instanceof Element||e instanceof Hr(e).Element:!1}function $n(e){return nd()?e instanceof HTMLElement||e instanceof Hr(e).HTMLElement:!1}function mv(e){return!nd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Hr(e).ShadowRoot}const cP=new Set(["inline","contents"]);function Xo(e){const{overflow:t,overflowX:s,overflowY:a,display:o}=jn(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+s)&&!cP.has(o)}const dP=new Set(["table","td","th"]);function uP(e){return dP.has(Pa(e))}const fP=[":popover-open",":modal"];function sd(e){return fP.some(t=>{try{return e.matches(t)}catch{return!1}})}const mP=["transform","translate","scale","rotate","perspective"],hP=["transform","translate","scale","rotate","perspective","filter"],pP=["paint","layout","strict","content"];function Gm(e){const t=Zm(),s=wn(e)?jn(e):e;return mP.some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||hP.some(a=>(s.willChange||"").includes(a))||pP.some(a=>(s.contain||"").includes(a))}function gP(e){let t=zs(e);for(;$n(t)&&!pa(t);){if(Gm(t))return t;if(sd(t))return null;t=zs(t)}return null}function Zm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xP=new Set(["html","body","#document"]);function pa(e){return xP.has(Pa(e))}function jn(e){return Hr(e).getComputedStyle(e)}function id(e){return wn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zs(e){if(Pa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||mv(e)&&e.host||Un(e);return mv(t)?t.host:t}function N0(e){const t=zs(e);return pa(t)?e.ownerDocument?e.ownerDocument.body:e.body:$n(t)&&Xo(t)?t:N0(t)}function Eo(e,t,s){var a;t===void 0&&(t=[]),s===void 0&&(s=!0);const o=N0(e),c=o===((a=e.ownerDocument)==null?void 0:a.body),u=Hr(o);if(c){const f=lm(u);return t.concat(u,u.visualViewport||[],Xo(o)?o:[],f&&s?Eo(f):[])}return t.concat(o,Eo(o,[],s))}function lm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function S0(e){const t=jn(e);let s=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const o=$n(e),c=o?e.offsetWidth:s,u=o?e.offsetHeight:a,f=Rc(s)!==c||Rc(a)!==u;return f&&(s=c,a=u),{width:s,height:a,$:f}}function Ym(e){return wn(e)?e:e.contextElement}function ca(e){const t=Ym(e);if(!$n(t))return Ln(1);const s=t.getBoundingClientRect(),{width:a,height:o,$:c}=S0(t);let u=(c?Rc(s.width):s.width)/a,f=(c?Rc(s.height):s.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const vP=Ln(0);function C0(e){const t=Hr(e);return!Zm()||!t.visualViewport?vP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yP(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Hr(e)?!1:t}function yi(e,t,s,a){t===void 0&&(t=!1),s===void 0&&(s=!1);const o=e.getBoundingClientRect(),c=Ym(e);let u=Ln(1);t&&(a?wn(a)&&(u=ca(a)):u=ca(e));const f=yP(c,s,a)?C0(c):Ln(0);let h=(o.left+f.x)/u.x,g=(o.top+f.y)/u.y,x=o.width/u.x,y=o.height/u.y;if(c){const w=Hr(c),C=a&&wn(a)?Hr(a):a;let P=w,b=lm(P);for(;b&&a&&C!==P;){const j=ca(b),E=b.getBoundingClientRect(),k=jn(b),I=E.left+(b.clientLeft+parseFloat(k.paddingLeft))*j.x,L=E.top+(b.clientTop+parseFloat(k.paddingTop))*j.y;h*=j.x,g*=j.y,x*=j.x,y*=j.y,h+=I,g+=L,P=Hr(b),b=lm(P)}}return Oc({width:x,height:y,x:h,y:g})}function ad(e,t){const s=id(e).scrollLeft;return t?t.left+s:yi(Un(e)).left+s}function k0(e,t){const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-ad(e,s),o=s.top+t.scrollTop;return{x:a,y:o}}function bP(e){let{elements:t,rect:s,offsetParent:a,strategy:o}=e;const c=o==="fixed",u=Un(a),f=t?sd(t.floating):!1;if(a===u||f&&c)return s;let h={scrollLeft:0,scrollTop:0},g=Ln(1);const x=Ln(0),y=$n(a);if((y||!y&&!c)&&((Pa(a)!=="body"||Xo(u))&&(h=id(a)),$n(a))){const C=yi(a);g=ca(a),x.x=C.x+a.clientLeft,x.y=C.y+a.clientTop}const w=u&&!y&&!c?k0(u,h):Ln(0);return{width:s.width*g.x,height:s.height*g.y,x:s.x*g.x-h.scrollLeft*g.x+x.x+w.x,y:s.y*g.y-h.scrollTop*g.y+x.y+w.y}}function wP(e){return Array.from(e.getClientRects())}function jP(e){const t=Un(e),s=id(e),a=e.ownerDocument.body,o=Kr(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),c=Kr(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let u=-s.scrollLeft+ad(e);const f=-s.scrollTop;return jn(a).direction==="rtl"&&(u+=Kr(t.clientWidth,a.clientWidth)-o),{width:o,height:c,x:u,y:f}}const hv=25;function NP(e,t){const s=Hr(e),a=Un(e),o=s.visualViewport;let c=a.clientWidth,u=a.clientHeight,f=0,h=0;if(o){c=o.width,u=o.height;const x=Zm();(!x||x&&t==="fixed")&&(f=o.offsetLeft,h=o.offsetTop)}const g=ad(a);if(g<=0){const x=a.ownerDocument,y=x.body,w=getComputedStyle(y),C=x.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,P=Math.abs(a.clientWidth-y.clientWidth-C);P<=hv&&(c-=P)}else g<=hv&&(c+=g);return{width:c,height:u,x:f,y:h}}const SP=new Set(["absolute","fixed"]);function CP(e,t){const s=yi(e,!0,t==="fixed"),a=s.top+e.clientTop,o=s.left+e.clientLeft,c=$n(e)?ca(e):Ln(1),u=e.clientWidth*c.x,f=e.clientHeight*c.y,h=o*c.x,g=a*c.y;return{width:u,height:f,x:h,y:g}}function pv(e,t,s){let a;if(t==="viewport")a=NP(e,s);else if(t==="document")a=jP(Un(e));else if(wn(t))a=CP(t,s);else{const o=C0(e);a={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Oc(a)}function P0(e,t){const s=zs(e);return s===t||!wn(s)||pa(s)?!1:jn(s).position==="fixed"||P0(s,t)}function kP(e,t){const s=t.get(e);if(s)return s;let a=Eo(e,[],!1).filter(f=>wn(f)&&Pa(f)!=="body"),o=null;const c=jn(e).position==="fixed";let u=c?zs(e):e;for(;wn(u)&&!pa(u);){const f=jn(u),h=Gm(u);!h&&f.position==="fixed"&&(o=null),(c?!h&&!o:!h&&f.position==="static"&&!!o&&SP.has(o.position)||Xo(u)&&!h&&P0(e,u))?a=a.filter(x=>x!==u):o=f,u=zs(u)}return t.set(e,a),a}function PP(e){let{element:t,boundary:s,rootBoundary:a,strategy:o}=e;const u=[...s==="clippingAncestors"?sd(t)?[]:kP(t,this._c):[].concat(s),a],f=u[0],h=u.reduce((g,x)=>{const y=pv(t,x,o);return g.top=Kr(y.top,g.top),g.right=Vs(y.right,g.right),g.bottom=Vs(y.bottom,g.bottom),g.left=Kr(y.left,g.left),g},pv(t,f,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function EP(e){const{width:t,height:s}=S0(e);return{width:t,height:s}}function _P(e,t,s){const a=$n(t),o=Un(t),c=s==="fixed",u=yi(e,!0,c,t);let f={scrollLeft:0,scrollTop:0};const h=Ln(0);function g(){h.x=ad(o)}if(a||!a&&!c)if((Pa(t)!=="body"||Xo(o))&&(f=id(t)),a){const C=yi(t,!0,c,t);h.x=C.x+t.clientLeft,h.y=C.y+t.clientTop}else o&&g();c&&!a&&o&&g();const x=o&&!a&&!c?k0(o,f):Ln(0),y=u.left+f.scrollLeft-h.x-x.x,w=u.top+f.scrollTop-h.y-x.y;return{x:y,y:w,width:u.width,height:u.height}}function Ef(e){return jn(e).position==="static"}function gv(e,t){if(!$n(e)||jn(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Un(e)===s&&(s=s.ownerDocument.body),s}function E0(e,t){const s=Hr(e);if(sd(e))return s;if(!$n(e)){let o=zs(e);for(;o&&!pa(o);){if(wn(o)&&!Ef(o))return o;o=zs(o)}return s}let a=gv(e,t);for(;a&&uP(a)&&Ef(a);)a=gv(a,t);return a&&pa(a)&&Ef(a)&&!Gm(a)?s:a||gP(e)||s}const TP=async function(e){const t=this.getOffsetParent||E0,s=this.getDimensions,a=await s(e.floating);return{reference:_P(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function AP(e){return jn(e).direction==="rtl"}const RP={convertOffsetParentRelativeRectToViewportRelativeRect:bP,getDocumentElement:Un,getClippingRect:PP,getOffsetParent:E0,getElementRects:TP,getClientRects:wP,getDimensions:EP,getScale:ca,isElement:wn,isRTL:AP};function _0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function IP(e,t){let s=null,a;const o=Un(e);function c(){var f;clearTimeout(a),(f=s)==null||f.disconnect(),s=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),c();const g=e.getBoundingClientRect(),{left:x,top:y,width:w,height:C}=g;if(f||t(),!w||!C)return;const P=xc(y),b=xc(o.clientWidth-(x+w)),j=xc(o.clientHeight-(y+C)),E=xc(x),I={rootMargin:-P+"px "+-b+"px "+-j+"px "+-E+"px",threshold:Kr(0,Vs(1,h))||1};let L=!0;function B(X){const q=X[0].intersectionRatio;if(q!==h){if(!L)return u();q?u(!1,q):a=setTimeout(()=>{u(!1,1e-7)},1e3)}q===1&&!_0(g,e.getBoundingClientRect())&&u(),L=!1}try{s=new IntersectionObserver(B,{...I,root:o.ownerDocument})}catch{s=new IntersectionObserver(B,I)}s.observe(e)}return u(!0),c}function OP(e,t,s,a){a===void 0&&(a={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=a,g=Ym(e),x=o||c?[...g?Eo(g):[],...Eo(t)]:[];x.forEach(E=>{o&&E.addEventListener("scroll",s,{passive:!0}),c&&E.addEventListener("resize",s)});const y=g&&f?IP(g,s):null;let w=-1,C=null;u&&(C=new ResizeObserver(E=>{let[k]=E;k&&k.target===g&&C&&(C.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var I;(I=C)==null||I.observe(t)})),s()}),g&&!h&&C.observe(g),C.observe(t));let P,b=h?yi(e):null;h&&j();function j(){const E=yi(e);b&&!_0(b,E)&&s(),b=E,P=requestAnimationFrame(j)}return s(),()=>{var E;x.forEach(k=>{o&&k.removeEventListener("scroll",s),c&&k.removeEventListener("resize",s)}),y?.(),(E=C)==null||E.disconnect(),C=null,h&&cancelAnimationFrame(P)}}const MP=iP,DP=aP,FP=rP,LP=lP,BP=nP,xv=tP,$P=oP,VP=(e,t,s)=>{const a=new Map,o={platform:RP,...s},c={...o.platform,_c:a};return eP(e,t,{...o,platform:c})};var zP=typeof document<"u",UP=function(){},Pc=zP?p.useLayoutEffect:UP;function Mc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,a,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(a=s;a--!==0;)if(!Mc(e[a],t[a]))return!1;return!0}if(o=Object.keys(e),s=o.length,s!==Object.keys(t).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(t,o[a]))return!1;for(a=s;a--!==0;){const c=o[a];if(!(c==="_owner"&&e.$$typeof)&&!Mc(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function T0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vv(e,t){const s=T0(e);return Math.round(t*s)/s}function _f(e){const t=p.useRef(e);return Pc(()=>{t.current=e}),t}function qP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:a=[],platform:o,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:h,open:g}=e,[x,y]=p.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[w,C]=p.useState(a);Mc(w,a)||C(a);const[P,b]=p.useState(null),[j,E]=p.useState(null),k=p.useCallback(S=>{S!==X.current&&(X.current=S,b(S))},[]),I=p.useCallback(S=>{S!==q.current&&(q.current=S,E(S))},[]),L=c||P,B=u||j,X=p.useRef(null),q=p.useRef(null),te=p.useRef(x),we=h!=null,xe=_f(h),ve=_f(o),J=_f(g),se=p.useCallback(()=>{if(!X.current||!q.current)return;const S={placement:t,strategy:s,middleware:w};ve.current&&(S.platform=ve.current),VP(X.current,q.current,S).then($=>{const H={...$,isPositioned:J.current!==!1};W.current&&!Mc(te.current,H)&&(te.current=H,Na.flushSync(()=>{y(H)}))})},[w,t,s,ve,J]);Pc(()=>{g===!1&&te.current.isPositioned&&(te.current.isPositioned=!1,y(S=>({...S,isPositioned:!1})))},[g]);const W=p.useRef(!1);Pc(()=>(W.current=!0,()=>{W.current=!1}),[]),Pc(()=>{if(L&&(X.current=L),B&&(q.current=B),L&&B){if(xe.current)return xe.current(L,B,se);se()}},[L,B,se,xe,we]);const he=p.useMemo(()=>({reference:X,floating:q,setReference:k,setFloating:I}),[k,I]),K=p.useMemo(()=>({reference:L,floating:B}),[L,B]),ne=p.useMemo(()=>{const S={position:s,left:0,top:0};if(!K.floating)return S;const $=vv(K.floating,x.x),H=vv(K.floating,x.y);return f?{...S,transform:"translate("+$+"px, "+H+"px)",...T0(K.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:$,top:H}},[s,f,K.floating,x.x,x.y]);return p.useMemo(()=>({...x,update:se,refs:he,elements:K,floatingStyles:ne}),[x,se,he,K,ne])}const WP=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:a,padding:o}=typeof e=="function"?e(s):e;return a&&t(a)?a.current!=null?xv({element:a.current,padding:o}).fn(s):{}:a?xv({element:a,padding:o}).fn(s):{}}}},KP=(e,t)=>({...MP(e),options:[e,t]}),QP=(e,t)=>({...DP(e),options:[e,t]}),HP=(e,t)=>({...$P(e),options:[e,t]}),GP=(e,t)=>({...FP(e),options:[e,t]}),ZP=(e,t)=>({...LP(e),options:[e,t]}),YP=(e,t)=>({...BP(e),options:[e,t]}),XP=(e,t)=>({...WP(e),options:[e,t]});var JP="Arrow",A0=p.forwardRef((e,t)=>{const{children:s,width:a=10,height:o=5,...c}=e;return r.jsx(Be.svg,{...c,ref:t,width:a,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});A0.displayName=JP;var eE=A0;function Xm(e){const[t,s]=p.useState(void 0);return gr(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,f;if("borderBoxSize"in c){const h=c.borderBoxSize,g=Array.isArray(h)?h[0]:h;u=g.inlineSize,f=g.blockSize}else u=e.offsetWidth,f=e.offsetHeight;s({width:u,height:f})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else s(void 0)},[e]),t}var Jm="Popper",[R0,Ea]=Br(Jm),[tE,I0]=R0(Jm),O0=e=>{const{__scopePopper:t,children:s}=e,[a,o]=p.useState(null);return r.jsx(tE,{scope:t,anchor:a,onAnchorChange:o,children:s})};O0.displayName=Jm;var M0="PopperAnchor",D0=p.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:a,...o}=e,c=I0(M0,s),u=p.useRef(null),f=lt(t,u),h=p.useRef(null);return p.useEffect(()=>{const g=h.current;h.current=a?.current||u.current,g!==h.current&&c.onAnchorChange(h.current)}),a?null:r.jsx(Be.div,{...o,ref:f})});D0.displayName=M0;var eh="PopperContent",[rE,nE]=R0(eh),F0=p.forwardRef((e,t)=>{const{__scopePopper:s,side:a="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:g=[],collisionPadding:x=0,sticky:y="partial",hideWhenDetached:w=!1,updatePositionStrategy:C="optimized",onPlaced:P,...b}=e,j=I0(eh,s),[E,k]=p.useState(null),I=lt(t,ee=>k(ee)),[L,B]=p.useState(null),X=Xm(L),q=X?.width??0,te=X?.height??0,we=a+(c!=="center"?"-"+c:""),xe=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},ve=Array.isArray(g)?g:[g],J=ve.length>0,se={padding:xe,boundary:ve.filter(iE),altBoundary:J},{refs:W,floatingStyles:he,placement:K,isPositioned:ne,middlewareData:S}=qP({strategy:"fixed",placement:we,whileElementsMounted:(...ee)=>OP(...ee,{animationFrame:C==="always"}),elements:{reference:j.anchor},middleware:[KP({mainAxis:o+te,alignmentAxis:u}),h&&QP({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?HP():void 0,...se}),h&&GP({...se}),ZP({...se,apply:({elements:ee,rects:de,availableWidth:je,availableHeight:De})=>{const{width:dt,height:mt}=de.reference,Kt=ee.floating.style;Kt.setProperty("--radix-popper-available-width",`${je}px`),Kt.setProperty("--radix-popper-available-height",`${De}px`),Kt.setProperty("--radix-popper-anchor-width",`${dt}px`),Kt.setProperty("--radix-popper-anchor-height",`${mt}px`)}}),L&&XP({element:L,padding:f}),aE({arrowWidth:q,arrowHeight:te}),w&&YP({strategy:"referenceHidden",...se})]}),[$,H]=$0(K),T=an(P);gr(()=>{ne&&T?.()},[ne,T]);const R=S.arrow?.x,re=S.arrow?.y,le=S.arrow?.centerOffset!==0,[D,G]=p.useState();return gr(()=>{E&&G(window.getComputedStyle(E).zIndex)},[E]),r.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:ne?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:D,"--radix-popper-transform-origin":[S.transformOrigin?.x,S.transformOrigin?.y].join(" "),...S.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(rE,{scope:s,placedSide:$,onArrowChange:B,arrowX:R,arrowY:re,shouldHideArrow:le,children:r.jsx(Be.div,{"data-side":$,"data-align":H,...b,ref:I,style:{...b.style,animation:ne?void 0:"none"}})})})});F0.displayName=eh;var L0="PopperArrow",sE={top:"bottom",right:"left",bottom:"top",left:"right"},B0=p.forwardRef(function(t,s){const{__scopePopper:a,...o}=t,c=nE(L0,a),u=sE[c.placedSide];return r.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:r.jsx(eE,{...o,ref:s,style:{...o.style,display:"block"}})})});B0.displayName=L0;function iE(e){return e!==null}var aE=e=>({name:"transformOrigin",options:e,fn(t){const{placement:s,rects:a,middlewareData:o}=t,u=o.arrow?.centerOffset!==0,f=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[g,x]=$0(s),y={start:"0%",center:"50%",end:"100%"}[x],w=(o.arrow?.x??0)+f/2,C=(o.arrow?.y??0)+h/2;let P="",b="";return g==="bottom"?(P=u?y:`${w}px`,b=`${-h}px`):g==="top"?(P=u?y:`${w}px`,b=`${a.floating.height+h}px`):g==="right"?(P=`${-h}px`,b=u?y:`${C}px`):g==="left"&&(P=`${a.floating.width+h}px`,b=u?y:`${C}px`),{data:{x:P,y:b}}}});function $0(e){const[t,s="center"]=e.split("-");return[t,s]}var V0=O0,od=D0,th=F0,rh=B0,[ld]=Br("Tooltip",[Ea]),nh=Ea(),z0="TooltipProvider",oE=700,yv="tooltip.open",[lE,U0]=ld(z0),q0=e=>{const{__scopeTooltip:t,delayDuration:s=oE,skipDelayDuration:a=300,disableHoverableContent:o=!1,children:c}=e,u=p.useRef(!0),f=p.useRef(!1),h=p.useRef(0);return p.useEffect(()=>{const g=h.current;return()=>window.clearTimeout(g)},[]),r.jsx(lE,{scope:t,isOpenDelayedRef:u,delayDuration:s,onOpen:p.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,a)},[a]),isPointerInTransitRef:f,onPointerInTransitChange:p.useCallback(g=>{f.current=g},[]),disableHoverableContent:o,children:c})};q0.displayName=z0;var W0="Tooltip",[VM,cd]=ld(W0),cm="TooltipTrigger",cE=p.forwardRef((e,t)=>{const{__scopeTooltip:s,...a}=e,o=cd(cm,s),c=U0(cm,s),u=nh(s),f=p.useRef(null),h=lt(t,f,o.onTriggerChange),g=p.useRef(!1),x=p.useRef(!1),y=p.useCallback(()=>g.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),r.jsx(od,{asChild:!0,...u,children:r.jsx(Be.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...a,ref:h,onPointerMove:Me(e.onPointerMove,w=>{w.pointerType!=="touch"&&!x.current&&!c.isPointerInTransitRef.current&&(o.onTriggerEnter(),x.current=!0)}),onPointerLeave:Me(e.onPointerLeave,()=>{o.onTriggerLeave(),x.current=!1}),onPointerDown:Me(e.onPointerDown,()=>{o.open&&o.onClose(),g.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:Me(e.onFocus,()=>{g.current||o.onOpen()}),onBlur:Me(e.onBlur,o.onClose),onClick:Me(e.onClick,o.onClose)})})});cE.displayName=cm;var dE="TooltipPortal",[zM,uE]=ld(dE,{forceMount:void 0}),ga="TooltipContent",K0=p.forwardRef((e,t)=>{const s=uE(ga,e.__scopeTooltip),{forceMount:a=s.forceMount,side:o="top",...c}=e,u=cd(ga,e.__scopeTooltip);return r.jsx(Sn,{present:a||u.open,children:u.disableHoverableContent?r.jsx(Q0,{side:o,...c,ref:t}):r.jsx(fE,{side:o,...c,ref:t})})}),fE=p.forwardRef((e,t)=>{const s=cd(ga,e.__scopeTooltip),a=U0(ga,e.__scopeTooltip),o=p.useRef(null),c=lt(t,o),[u,f]=p.useState(null),{trigger:h,onClose:g}=s,x=o.current,{onPointerInTransitChange:y}=a,w=p.useCallback(()=>{f(null),y(!1)},[y]),C=p.useCallback((P,b)=>{const j=P.currentTarget,E={x:P.clientX,y:P.clientY},k=xE(E,j.getBoundingClientRect()),I=vE(E,k),L=yE(b.getBoundingClientRect()),B=wE([...I,...L]);f(B),y(!0)},[y]);return p.useEffect(()=>()=>w(),[w]),p.useEffect(()=>{if(h&&x){const P=j=>C(j,x),b=j=>C(j,h);return h.addEventListener("pointerleave",P),x.addEventListener("pointerleave",b),()=>{h.removeEventListener("pointerleave",P),x.removeEventListener("pointerleave",b)}}},[h,x,C,w]),p.useEffect(()=>{if(u){const P=b=>{const j=b.target,E={x:b.clientX,y:b.clientY},k=h?.contains(j)||x?.contains(j),I=!bE(E,u);k?w():I&&(w(),g())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[h,x,u,g,w]),r.jsx(Q0,{...e,ref:c})}),[mE,hE]=ld(W0,{isInside:!1}),pE=Iy("TooltipContent"),Q0=p.forwardRef((e,t)=>{const{__scopeTooltip:s,children:a,"aria-label":o,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=e,h=cd(ga,s),g=nh(s),{onClose:x}=h;return p.useEffect(()=>(document.addEventListener(yv,x),()=>document.removeEventListener(yv,x)),[x]),p.useEffect(()=>{if(h.trigger){const y=w=>{w.target?.contains(h.trigger)&&x()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[h.trigger,x]),r.jsx(Sa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:y=>y.preventDefault(),onDismiss:x,children:r.jsxs(th,{"data-state":h.stateAttribute,...g,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(pE,{children:a}),r.jsx(mE,{scope:s,isInside:!0,children:r.jsx(Sk,{id:h.contentId,role:"tooltip",children:o||a})})]})})});K0.displayName=ga;var H0="TooltipArrow",gE=p.forwardRef((e,t)=>{const{__scopeTooltip:s,...a}=e,o=nh(s);return hE(H0,s).isInside?null:r.jsx(rh,{...o,...a,ref:t})});gE.displayName=H0;function xE(e,t){const s=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),c=Math.abs(t.left-e.x);switch(Math.min(s,a,o,c)){case c:return"left";case o:return"right";case s:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function vE(e,t,s=5){const a=[];switch(t){case"top":a.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":a.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":a.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":a.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return a}function yE(e){const{top:t,right:s,bottom:a,left:o}=e;return[{x:o,y:t},{x:s,y:t},{x:s,y:a},{x:o,y:a}]}function bE(e,t){const{x:s,y:a}=e;let o=!1;for(let c=0,u=t.length-1;c<t.length;u=c++){const f=t[c],h=t[u],g=f.x,x=f.y,y=h.x,w=h.y;x>a!=w>a&&s<(y-g)*(a-x)/(w-x)+g&&(o=!o)}return o}function wE(e){const t=e.slice();return t.sort((s,a)=>s.x<a.x?-1:s.x>a.x?1:s.y<a.y?-1:s.y>a.y?1:0),jE(t)}function jE(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const o=e[a];for(;t.length>=2;){const c=t[t.length-1],u=t[t.length-2];if((c.x-u.x)*(o.y-u.y)>=(c.y-u.y)*(o.x-u.x))t.pop();else break}t.push(o)}t.pop();const s=[];for(let a=e.length-1;a>=0;a--){const o=e[a];for(;s.length>=2;){const c=s[s.length-1],u=s[s.length-2];if((c.x-u.x)*(o.y-u.y)>=(c.y-u.y)*(o.x-u.x))s.pop();else break}s.push(o)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var NE=q0,G0=K0;const SE=NE,CE=p.forwardRef(({className:e,sideOffset:t=4,...s},a)=>r.jsx(G0,{ref:a,sideOffset:t,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...s}));CE.displayName=G0.displayName;const me=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));me.displayName="Card";const ze=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Ee("flex flex-col space-y-1.5 p-6",e),...t}));ze.displayName="CardHeader";const qe=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));qe.displayName="CardTitle";const it=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Ee("text-sm text-muted-foreground",e),...t}));it.displayName="CardDescription";const pe=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Ee("p-6 pt-0",e),...t}));pe.displayName="CardContent";const kE=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Ee("flex items-center p-6 pt-0",e),...t}));kE.displayName="CardFooter";const sh=Yo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=p.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...o},c)=>{const u=a?tk:"button";return r.jsx(u,{className:Ee(sh({variant:t,size:s,className:e})),ref:c,...o})});Y.displayName="Button";var Tf="focusScope.autoFocusOnMount",Af="focusScope.autoFocusOnUnmount",bv={bubbles:!1,cancelable:!0},PE="FocusScope",dd=p.forwardRef((e,t)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=e,[f,h]=p.useState(null),g=an(o),x=an(c),y=p.useRef(null),w=lt(t,b=>h(b)),C=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(a){let b=function(I){if(C.paused||!f)return;const L=I.target;f.contains(L)?y.current=L:Is(y.current,{select:!0})},j=function(I){if(C.paused||!f)return;const L=I.relatedTarget;L!==null&&(f.contains(L)||Is(y.current,{select:!0}))},E=function(I){if(document.activeElement===document.body)for(const B of I)B.removedNodes.length>0&&Is(f)};document.addEventListener("focusin",b),document.addEventListener("focusout",j);const k=new MutationObserver(E);return f&&k.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",j),k.disconnect()}}},[a,f,C.paused]),p.useEffect(()=>{if(f){jv.add(C);const b=document.activeElement;if(!f.contains(b)){const E=new CustomEvent(Tf,bv);f.addEventListener(Tf,g),f.dispatchEvent(E),E.defaultPrevented||(EE(IE(Z0(f)),{select:!0}),document.activeElement===b&&Is(f))}return()=>{f.removeEventListener(Tf,g),setTimeout(()=>{const E=new CustomEvent(Af,bv);f.addEventListener(Af,x),f.dispatchEvent(E),E.defaultPrevented||Is(b??document.body,{select:!0}),f.removeEventListener(Af,x),jv.remove(C)},0)}}},[f,g,x,C]);const P=p.useCallback(b=>{if(!s&&!a||C.paused)return;const j=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,E=document.activeElement;if(j&&E){const k=b.currentTarget,[I,L]=_E(k);I&&L?!b.shiftKey&&E===L?(b.preventDefault(),s&&Is(I,{select:!0})):b.shiftKey&&E===I&&(b.preventDefault(),s&&Is(L,{select:!0})):E===k&&b.preventDefault()}},[s,a,C.paused]);return r.jsx(Be.div,{tabIndex:-1,...u,ref:w,onKeyDown:P})});dd.displayName=PE;function EE(e,{select:t=!1}={}){const s=document.activeElement;for(const a of e)if(Is(a,{select:t}),document.activeElement!==s)return}function _E(e){const t=Z0(e),s=wv(t,e),a=wv(t.reverse(),e);return[s,a]}function Z0(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function wv(e,t){for(const s of e)if(!TE(s,{upTo:t}))return s}function TE(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function AE(e){return e instanceof HTMLInputElement&&"select"in e}function Is(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&AE(e)&&t&&e.select()}}var jv=RE();function RE(){let e=[];return{add(t){const s=e[0];t!==s&&s?.pause(),e=Nv(e,t),e.unshift(t)},remove(t){e=Nv(e,t),e[0]?.resume()}}}function Nv(e,t){const s=[...e],a=s.indexOf(t);return a!==-1&&s.splice(a,1),s}function IE(e){return e.filter(t=>t.tagName!=="A")}var Rf=0;function ih(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Sv()),document.body.insertAdjacentElement("beforeend",e[1]??Sv()),Rf++,()=>{Rf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Rf--}},[])}function Sv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Mn=function(){return Mn=Object.assign||function(t){for(var s,a=1,o=arguments.length;a<o;a++){s=arguments[a];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(t[c]=s[c])}return t},Mn.apply(this,arguments)};function Y0(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(s[a[o]]=e[a[o]]);return s}function OE(e,t,s){if(s||arguments.length===2)for(var a=0,o=t.length,c;a<o;a++)(c||!(a in t))&&(c||(c=Array.prototype.slice.call(t,0,a)),c[a]=t[a]);return e.concat(c||Array.prototype.slice.call(t))}var Ec="right-scroll-bar-position",_c="width-before-scroll-bar",ME="with-scroll-bars-hidden",DE="--removed-body-scroll-bar-size";function If(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function FE(e,t){var s=p.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(a){var o=s.value;o!==a&&(s.value=a,s.callback(a,o))}}}})[0];return s.callback=t,s.facade}var LE=typeof window<"u"?p.useLayoutEffect:p.useEffect,Cv=new WeakMap;function BE(e,t){var s=FE(null,function(a){return e.forEach(function(o){return If(o,a)})});return LE(function(){var a=Cv.get(s);if(a){var o=new Set(a),c=new Set(e),u=s.current;o.forEach(function(f){c.has(f)||If(f,null)}),c.forEach(function(f){o.has(f)||If(f,u)})}Cv.set(s,e)},[e]),s}function $E(e){return e}function VE(e,t){t===void 0&&(t=$E);var s=[],a=!1,o={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(c){var u=t(c,a);return s.push(u),function(){s=s.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(a=!0;s.length;){var u=s;s=[],u.forEach(c)}s={push:function(f){return c(f)},filter:function(){return s}}},assignMedium:function(c){a=!0;var u=[];if(s.length){var f=s;s=[],f.forEach(c),u=s}var h=function(){var x=u;u=[],x.forEach(c)},g=function(){return Promise.resolve().then(h)};g(),s={push:function(x){u.push(x),g()},filter:function(x){return u=u.filter(x),s}}}};return o}function zE(e){e===void 0&&(e={});var t=VE(null);return t.options=Mn({async:!0,ssr:!1},e),t}var X0=function(e){var t=e.sideCar,s=Y0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return p.createElement(a,Mn({},s))};X0.isSideCarExport=!0;function UE(e,t){return e.useMedium(t),X0}var J0=zE(),Of=function(){},ud=p.forwardRef(function(e,t){var s=p.useRef(null),a=p.useState({onScrollCapture:Of,onWheelCapture:Of,onTouchMoveCapture:Of}),o=a[0],c=a[1],u=e.forwardProps,f=e.children,h=e.className,g=e.removeScrollBar,x=e.enabled,y=e.shards,w=e.sideCar,C=e.noRelative,P=e.noIsolation,b=e.inert,j=e.allowPinchZoom,E=e.as,k=E===void 0?"div":E,I=e.gapMode,L=Y0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=w,X=BE([s,t]),q=Mn(Mn({},L),o);return p.createElement(p.Fragment,null,x&&p.createElement(B,{sideCar:J0,removeScrollBar:g,shards:y,noRelative:C,noIsolation:P,inert:b,setCallbacks:c,allowPinchZoom:!!j,lockRef:s,gapMode:I}),u?p.cloneElement(p.Children.only(f),Mn(Mn({},q),{ref:X})):p.createElement(k,Mn({},q,{className:h,ref:X}),f))});ud.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ud.classNames={fullWidth:_c,zeroRight:Ec};var qE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WE(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qE();return t&&e.setAttribute("nonce",t),e}function KE(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function QE(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var HE=function(){var e=0,t=null;return{add:function(s){e==0&&(t=WE())&&(KE(t,s),QE(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},GE=function(){var e=HE();return function(t,s){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},eb=function(){var e=GE(),t=function(s){var a=s.styles,o=s.dynamic;return e(a,o),null};return t},ZE={left:0,top:0,right:0,gap:0},Mf=function(e){return parseInt(e||"",10)||0},YE=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Mf(s),Mf(a),Mf(o)]},XE=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ZE;var t=YE(e),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-s+t[2]-t[0])}},JE=eb(),da="data-scroll-locked",e_=function(e,t,s,a){var o=e.left,c=e.top,u=e.right,f=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(ME,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(da,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ec,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(_c,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Ec," .").concat(Ec,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(_c," .").concat(_c,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(da,`] {
    `).concat(DE,": ").concat(f,`px;
  }
`)},kv=function(){var e=parseInt(document.body.getAttribute(da)||"0",10);return isFinite(e)?e:0},t_=function(){p.useEffect(function(){return document.body.setAttribute(da,(kv()+1).toString()),function(){var e=kv()-1;e<=0?document.body.removeAttribute(da):document.body.setAttribute(da,e.toString())}},[])},r_=function(e){var t=e.noRelative,s=e.noImportant,a=e.gapMode,o=a===void 0?"margin":a;t_();var c=p.useMemo(function(){return XE(o)},[o]);return p.createElement(JE,{styles:e_(c,!t,o,s?"":"!important")})},dm=!1;if(typeof window<"u")try{var vc=Object.defineProperty({},"passive",{get:function(){return dm=!0,!0}});window.addEventListener("test",vc,vc),window.removeEventListener("test",vc,vc)}catch{dm=!1}var Xi=dm?{passive:!1}:!1,n_=function(e){return e.tagName==="TEXTAREA"},tb=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!n_(e)&&s[t]==="visible")},s_=function(e){return tb(e,"overflowY")},i_=function(e){return tb(e,"overflowX")},Pv=function(e,t){var s=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var o=rb(e,a);if(o){var c=nb(e,a),u=c[1],f=c[2];if(u>f)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},a_=function(e){var t=e.scrollTop,s=e.scrollHeight,a=e.clientHeight;return[t,s,a]},o_=function(e){var t=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth;return[t,s,a]},rb=function(e,t){return e==="v"?s_(t):i_(t)},nb=function(e,t){return e==="v"?a_(t):o_(t)},l_=function(e,t){return e==="h"&&t==="rtl"?-1:1},c_=function(e,t,s,a,o){var c=l_(e,window.getComputedStyle(t).direction),u=c*a,f=s.target,h=t.contains(f),g=!1,x=u>0,y=0,w=0;do{if(!f)break;var C=nb(e,f),P=C[0],b=C[1],j=C[2],E=b-j-c*P;(P||E)&&rb(e,f)&&(y+=E,w+=P);var k=f.parentNode;f=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!h&&f!==document.body||h&&(t.contains(f)||t===f));return(x&&Math.abs(y)<1||!x&&Math.abs(w)<1)&&(g=!0),g},yc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ev=function(e){return[e.deltaX,e.deltaY]},_v=function(e){return e&&"current"in e?e.current:e},d_=function(e,t){return e[0]===t[0]&&e[1]===t[1]},u_=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},f_=0,Ji=[];function m_(e){var t=p.useRef([]),s=p.useRef([0,0]),a=p.useRef(),o=p.useState(f_++)[0],c=p.useState(eb)[0],u=p.useRef(e);p.useEffect(function(){u.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var b=OE([e.lockRef.current],(e.shards||[]).map(_v),!0).filter(Boolean);return b.forEach(function(j){return j.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),b.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var f=p.useCallback(function(b,j){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!u.current.allowPinchZoom;var E=yc(b),k=s.current,I="deltaX"in b?b.deltaX:k[0]-E[0],L="deltaY"in b?b.deltaY:k[1]-E[1],B,X=b.target,q=Math.abs(I)>Math.abs(L)?"h":"v";if("touches"in b&&q==="h"&&X.type==="range")return!1;var te=Pv(q,X);if(!te)return!0;if(te?B=q:(B=q==="v"?"h":"v",te=Pv(q,X)),!te)return!1;if(!a.current&&"changedTouches"in b&&(I||L)&&(a.current=B),!B)return!0;var we=a.current||B;return c_(we,j,b,we==="h"?I:L)},[]),h=p.useCallback(function(b){var j=b;if(!(!Ji.length||Ji[Ji.length-1]!==c)){var E="deltaY"in j?Ev(j):yc(j),k=t.current.filter(function(B){return B.name===j.type&&(B.target===j.target||j.target===B.shadowParent)&&d_(B.delta,E)})[0];if(k&&k.should){j.cancelable&&j.preventDefault();return}if(!k){var I=(u.current.shards||[]).map(_v).filter(Boolean).filter(function(B){return B.contains(j.target)}),L=I.length>0?f(j,I[0]):!u.current.noIsolation;L&&j.cancelable&&j.preventDefault()}}},[]),g=p.useCallback(function(b,j,E,k){var I={name:b,delta:j,target:E,should:k,shadowParent:h_(E)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(L){return L!==I})},1)},[]),x=p.useCallback(function(b){s.current=yc(b),a.current=void 0},[]),y=p.useCallback(function(b){g(b.type,Ev(b),b.target,f(b,e.lockRef.current))},[]),w=p.useCallback(function(b){g(b.type,yc(b),b.target,f(b,e.lockRef.current))},[]);p.useEffect(function(){return Ji.push(c),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",h,Xi),document.addEventListener("touchmove",h,Xi),document.addEventListener("touchstart",x,Xi),function(){Ji=Ji.filter(function(b){return b!==c}),document.removeEventListener("wheel",h,Xi),document.removeEventListener("touchmove",h,Xi),document.removeEventListener("touchstart",x,Xi)}},[]);var C=e.removeScrollBar,P=e.inert;return p.createElement(p.Fragment,null,P?p.createElement(c,{styles:u_(o)}):null,C?p.createElement(r_,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function h_(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const p_=UE(J0,m_);var fd=p.forwardRef(function(e,t){return p.createElement(ud,Mn({},e,{ref:t,sideCar:p_}))});fd.classNames=ud.classNames;var g_=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ea=new WeakMap,bc=new WeakMap,wc={},Df=0,sb=function(e){return e&&(e.host||sb(e.parentNode))},x_=function(e,t){return t.map(function(s){if(e.contains(s))return s;var a=sb(s);return a&&e.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},v_=function(e,t,s,a){var o=x_(t,Array.isArray(e)?e:[e]);wc[s]||(wc[s]=new WeakMap);var c=wc[s],u=[],f=new Set,h=new Set(o),g=function(y){!y||f.has(y)||(f.add(y),g(y.parentNode))};o.forEach(g);var x=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(w){if(f.has(w))x(w);else try{var C=w.getAttribute(a),P=C!==null&&C!=="false",b=(ea.get(w)||0)+1,j=(c.get(w)||0)+1;ea.set(w,b),c.set(w,j),u.push(w),b===1&&P&&bc.set(w,!0),j===1&&w.setAttribute(s,"true"),P||w.setAttribute(a,"true")}catch(E){console.error("aria-hidden: cannot operate on ",w,E)}})};return x(t),f.clear(),Df++,function(){u.forEach(function(y){var w=ea.get(y)-1,C=c.get(y)-1;ea.set(y,w),c.set(y,C),w||(bc.has(y)||y.removeAttribute(a),bc.delete(y)),C||y.removeAttribute(s)}),Df--,Df||(ea=new WeakMap,ea=new WeakMap,bc=new WeakMap,wc={})}},ah=function(e,t,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),o=g_(e);return o?(a.push.apply(a,Array.from(o.querySelectorAll("[aria-live], script"))),v_(a,o,s,"aria-hidden")):function(){return null}},md="Dialog",[ib,ab]=Br(md),[y_,Cn]=ib(md),ob=e=>{const{__scopeDialog:t,children:s,open:a,defaultOpen:o,onOpenChange:c,modal:u=!0}=e,f=p.useRef(null),h=p.useRef(null),[g,x]=ss({prop:a,defaultProp:o??!1,onChange:c,caller:md});return r.jsx(y_,{scope:t,triggerRef:f,contentRef:h,contentId:Pr(),titleId:Pr(),descriptionId:Pr(),open:g,onOpenChange:x,onOpenToggle:p.useCallback(()=>x(y=>!y),[x]),modal:u,children:s})};ob.displayName=md;var lb="DialogTrigger",cb=p.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,o=Cn(lb,s),c=lt(t,o.triggerRef);return r.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ch(o.open),...a,ref:c,onClick:Me(e.onClick,o.onOpenToggle)})});cb.displayName=lb;var oh="DialogPortal",[b_,db]=ib(oh,{forceMount:void 0}),ub=e=>{const{__scopeDialog:t,forceMount:s,children:a,container:o}=e,c=Cn(oh,t);return r.jsx(b_,{scope:t,forceMount:s,children:p.Children.map(a,u=>r.jsx(Sn,{present:s||c.open,children:r.jsx(Go,{asChild:!0,container:o,children:u})}))})};ub.displayName=oh;var Dc="DialogOverlay",fb=p.forwardRef((e,t)=>{const s=db(Dc,e.__scopeDialog),{forceMount:a=s.forceMount,...o}=e,c=Cn(Dc,e.__scopeDialog);return c.modal?r.jsx(Sn,{present:a||c.open,children:r.jsx(j_,{...o,ref:t})}):null});fb.displayName=Dc;var w_=vi("DialogOverlay.RemoveScroll"),j_=p.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,o=Cn(Dc,s);return r.jsx(fd,{as:w_,allowPinchZoom:!0,shards:[o.contentRef],children:r.jsx(Be.div,{"data-state":ch(o.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),bi="DialogContent",mb=p.forwardRef((e,t)=>{const s=db(bi,e.__scopeDialog),{forceMount:a=s.forceMount,...o}=e,c=Cn(bi,e.__scopeDialog);return r.jsx(Sn,{present:a||c.open,children:c.modal?r.jsx(N_,{...o,ref:t}):r.jsx(S_,{...o,ref:t})})});mb.displayName=bi;var N_=p.forwardRef((e,t)=>{const s=Cn(bi,e.__scopeDialog),a=p.useRef(null),o=lt(t,s.contentRef,a);return p.useEffect(()=>{const c=a.current;if(c)return ah(c)},[]),r.jsx(hb,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(e.onCloseAutoFocus,c=>{c.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:Me(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&c.preventDefault()}),onFocusOutside:Me(e.onFocusOutside,c=>c.preventDefault())})}),S_=p.forwardRef((e,t)=>{const s=Cn(bi,e.__scopeDialog),a=p.useRef(!1),o=p.useRef(!1);return r.jsx(hb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(a.current||s.triggerRef.current?.focus(),c.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(a.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;s.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),hb=p.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:c,...u}=e,f=Cn(bi,s),h=p.useRef(null),g=lt(t,h);return ih(),r.jsxs(r.Fragment,{children:[r.jsx(dd,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:c,children:r.jsx(Sa,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":ch(f.open),...u,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(k_,{titleId:f.titleId}),r.jsx(E_,{contentRef:h,descriptionId:f.descriptionId})]})]})}),lh="DialogTitle",pb=p.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,o=Cn(lh,s);return r.jsx(Be.h2,{id:o.titleId,...a,ref:t})});pb.displayName=lh;var gb="DialogDescription",xb=p.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,o=Cn(gb,s);return r.jsx(Be.p,{id:o.descriptionId,...a,ref:t})});xb.displayName=gb;var vb="DialogClose",yb=p.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,o=Cn(vb,s);return r.jsx(Be.button,{type:"button",...a,ref:t,onClick:Me(e.onClick,()=>o.onOpenChange(!1))})});yb.displayName=vb;function ch(e){return e?"open":"closed"}var bb="DialogTitleWarning",[C_,wb]=JC(bb,{contentName:bi,titleName:lh,docsSlug:"dialog"}),k_=({titleId:e})=>{const t=wb(bb),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},P_="DialogDescriptionWarning",E_=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wb(P_).contentName}}.`;return p.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},dh=ob,jb=cb,uh=ub,hd=fb,pd=mb,fh=pb,mh=xb,hh=yb;const Zt=dh,__=jb,T_=uh,Nb=p.forwardRef(({className:e,...t},s)=>r.jsx(hd,{ref:s,className:Ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Nb.displayName=hd.displayName;const Ut=p.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(T_,{children:[r.jsx(Nb,{}),r.jsxs(pd,{ref:a,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,r.jsxs(hh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(rd,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ut.displayName=pd.displayName;const qt=({className:e,...t})=>r.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});qt.displayName="DialogHeader";const Wt=p.forwardRef(({className:e,...t},s)=>r.jsx(fh,{ref:s,className:Ee("text-lg font-semibold leading-none tracking-tight",e),...t}));Wt.displayName=fh.displayName;const _o=p.forwardRef(({className:e,...t},s)=>r.jsx(mh,{ref:s,className:Ee("text-sm text-muted-foreground",e),...t}));_o.displayName=mh.displayName;function ph(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var gd="Checkbox",[A_]=Br(gd),[R_,gh]=A_(gd);function I_(e){const{__scopeCheckbox:t,checked:s,children:a,defaultChecked:o,disabled:c,form:u,name:f,onCheckedChange:h,required:g,value:x="on",internal_do_not_use_render:y}=e,[w,C]=ss({prop:s,defaultProp:o??!1,onChange:h,caller:gd}),[P,b]=p.useState(null),[j,E]=p.useState(null),k=p.useRef(!1),I=P?!!u||!!P.closest("form"):!0,L={checked:w,disabled:c,setChecked:C,control:P,setControl:b,name:f,form:u,value:x,hasConsumerStoppedPropagationRef:k,required:g,defaultChecked:Bs(o)?!1:o,isFormControl:I,bubbleInput:j,setBubbleInput:E};return r.jsx(R_,{scope:t,...L,children:O_(y)?y(L):a})}var Sb="CheckboxTrigger",Cb=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...a},o)=>{const{control:c,value:u,disabled:f,checked:h,required:g,setControl:x,setChecked:y,hasConsumerStoppedPropagationRef:w,isFormControl:C,bubbleInput:P}=gh(Sb,e),b=lt(o,x),j=p.useRef(h);return p.useEffect(()=>{const E=c?.form;if(E){const k=()=>y(j.current);return E.addEventListener("reset",k),()=>E.removeEventListener("reset",k)}},[c,y]),r.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":Bs(h)?"mixed":h,"aria-required":g,"data-state":Tb(h),"data-disabled":f?"":void 0,disabled:f,value:u,...a,ref:b,onKeyDown:Me(t,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Me(s,E=>{y(k=>Bs(k)?!0:!k),P&&C&&(w.current=E.isPropagationStopped(),w.current||E.stopPropagation())})})});Cb.displayName=Sb;var xh=p.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:a,checked:o,defaultChecked:c,required:u,disabled:f,value:h,onCheckedChange:g,form:x,...y}=e;return r.jsx(I_,{__scopeCheckbox:s,checked:o,defaultChecked:c,disabled:f,required:u,onCheckedChange:g,name:a,form:x,value:h,internal_do_not_use_render:({isFormControl:w})=>r.jsxs(r.Fragment,{children:[r.jsx(Cb,{...y,ref:t,__scopeCheckbox:s}),w&&r.jsx(_b,{__scopeCheckbox:s})]})})});xh.displayName=gd;var kb="CheckboxIndicator",Pb=p.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:a,...o}=e,c=gh(kb,s);return r.jsx(Sn,{present:a||Bs(c.checked)||c.checked===!0,children:r.jsx(Be.span,{"data-state":Tb(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Pb.displayName=kb;var Eb="CheckboxBubbleInput",_b=p.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:a,hasConsumerStoppedPropagationRef:o,checked:c,defaultChecked:u,required:f,disabled:h,name:g,value:x,form:y,bubbleInput:w,setBubbleInput:C}=gh(Eb,e),P=lt(s,C),b=ph(c),j=Xm(a);p.useEffect(()=>{const k=w;if(!k)return;const I=window.HTMLInputElement.prototype,B=Object.getOwnPropertyDescriptor(I,"checked").set,X=!o.current;if(b!==c&&B){const q=new Event("click",{bubbles:X});k.indeterminate=Bs(c),B.call(k,Bs(c)?!1:c),k.dispatchEvent(q)}},[w,b,c,o]);const E=p.useRef(Bs(c)?!1:c);return r.jsx(Be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??E.current,required:f,disabled:h,name:g,value:x,form:y,...t,tabIndex:-1,ref:P,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_b.displayName=Eb;function O_(e){return typeof e=="function"}function Bs(e){return e==="indeterminate"}function Tb(e){return Bs(e)?"indeterminate":e?"checked":"unchecked"}const os=p.forwardRef(({className:e,...t},s)=>r.jsx(xh,{ref:s,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(Pb,{className:Ee("flex items-center justify-center text-current"),children:r.jsx(o0,{className:"h-4 w-4"})})}));os.displayName=xh.displayName;var M_="Label",Ab=p.forwardRef((e,t)=>r.jsx(Be.label,{...e,ref:t,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Ab.displayName=M_;var Rb=Ab;const D_=Yo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Oe=p.forwardRef(({className:e,...t},s)=>r.jsx(Rb,{ref:s,className:Ee(D_(),e),...t}));Oe.displayName=Rb.displayName;function Ib(){const e=_r(),{toast:t}=rr(),s=p.useRef(null),a=p.useRef(null);return p.useEffect(()=>{const o=()=>{const f=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,h=new WebSocket(f);s.current=h,h.onopen=()=>{console.log("WebSocket connected")},h.onmessage=g=>{try{const x=JSON.parse(g.data);c(x)}catch(x){console.error("Failed to parse WebSocket message:",x)}},h.onclose=()=>{console.log("WebSocket disconnected"),a.current=setTimeout(o,3e3)},h.onerror=g=>{console.error("WebSocket error:",g)}},c=u=>{switch(u.type){case"BOT_CREATED":case"BOT_UPDATED":case"BOT_DELETED":case"BOT_STATUS_CHANGED":e.invalidateQueries({queryKey:["/api/bot-instances"]}),e.invalidateQueries({queryKey:["/api/dashboard/stats"]});break;case"COMMAND_CREATED":case"COMMAND_UPDATED":case"COMMAND_DELETED":e.invalidateQueries({queryKey:["/api/commands"]});break;case"ACTIVITY_CREATED":e.invalidateQueries({queryKey:["/api/activities"]});break;case"BOT_ERROR":t({title:"Bot Error",description:u.message||"A bot encountered an error",variant:"destructive"});break;case"BOT_CONNECTED":t({title:"Bot Connected",description:`${u.botName} is now online`});break;default:console.log("Unknown WebSocket message type:",u.type)}};return o(),()=>{a.current&&clearTimeout(a.current),s.current&&s.current.close()}},[e,t]),s.current}const Ob=p.createContext(void 0);function F_({children:e}){const[t,s]=p.useState(null),[a,o]=p.useState(null);p.useEffect(()=>{const h=localStorage.getItem("auth_token"),g=localStorage.getItem("user");if(h&&g)try{const x=JSON.parse(g);o(h),s(x)}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("user")}},[]);const f={user:t,token:a,login:(h,g)=>{o(h),s(g),localStorage.setItem("auth_token",h),localStorage.setItem("user",JSON.stringify(g))},logout:()=>{o(null),s(null),localStorage.removeItem("auth_token"),localStorage.removeItem("user")},isAuthenticated:!!a,isAdmin:!!t?.isAdmin};return r.jsx(Ob.Provider,{value:f,children:e})}function Jo(){const e=p.useContext(Ob);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function L_(){const[e,t]=p.useState(null),[s,a]=p.useState(!1),{data:o,isError:c,error:u}=vt({queryKey:["/api/offer/status"],refetchInterval:1e4,retry:3,staleTime:5e3});p.useEffect(()=>{o&&console.log("Offer Status Data:",{isActive:o.isActive,timeRemaining:o.timeRemaining,config:o.config}),c&&console.error("Offer Status Error:",u)},[o,c,u]),p.useEffect(()=>{if(o?.isActive&&o?.timeRemaining&&o.timeRemaining>0){t(o.timeRemaining);const h=setInterval(()=>{t(g=>!g||g<=1e3?null:g-1e3)},1e3);return()=>clearInterval(h)}else(o?.isActive===!1||o?.timeRemaining!==void 0&&o.timeRemaining<=0)&&t(null)},[o]);const f=h=>{const g=Math.floor(h/1e3),x=Math.floor(g/86400),y=Math.floor(g%86400/3600),w=Math.floor(g%3600/60),C=g%60;return x>0?`${x}d ${y}h ${w}m ${C}s`:y>0?`${y}h ${w}m ${C}s`:w>0?`${w}m ${C}s`:`${C}s`};return!o?.isActive||!e||s?null:r.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 via-orange-50 to-yellow-50 dark:from-yellow-900/20 dark:via-orange-900/20 dark:to-yellow-900/20 border-l-4 border-orange-500 p-4 mb-6 rounded-lg shadow-lg relative","data-testid":"banner-offer-countdown",children:[r.jsx("button",{onClick:()=>a(!0),className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200","aria-label":"Dismiss",children:r.jsx(rd,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(qm,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400 animate-bounce","data-testid":"icon-gift"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-gray-100","data-testid":"text-offer-title",children:" Limited Time Offer - Auto-Approval Active!"}),r.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300","data-testid":"text-offer-description",children:"Register your bot now for instant approval and activation!"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-center bg-white dark:bg-gray-800 rounded-lg px-3 py-1.5 border border-orange-200 dark:border-orange-800 shadow-md",children:[r.jsx(l0,{className:"h-4 w-4 text-orange-500 animate-pulse mx-auto mb-0.5","data-testid":"icon-clock"}),r.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 mb-0.5",children:"Time Remaining"}),r.jsx("p",{className:"text-sm font-bold text-orange-600 dark:text-orange-400","data-testid":"text-countdown",children:f(e)})]}),r.jsxs("div",{className:"hidden md:block text-xs text-gray-700 dark:text-gray-300",children:[r.jsx("p",{className:"font-semibold mb-0.5 text-[11px]",children:" Benefits:"}),r.jsxs("ul",{className:"space-y-0.5 text-[10px]",children:[r.jsx("li",{children:" Instant approval"}),r.jsx("li",{children:" Auto-activation"}),r.jsx("li",{children:" Premium features"})]})]})]})]})]})}const tr=p.forwardRef(({className:e,type:t,...s},a)=>r.jsx("input",{type:t,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));tr.displayName="Input";function Tv(e,[t,s]){return Math.min(s,Math.max(t,e))}var B_=p.createContext(void 0);function xd(e){const t=p.useContext(B_);return e||t||"ltr"}var $_=[" ","Enter","ArrowUp","ArrowDown"],V_=[" ","Enter"],wi="Select",[vd,yd,z_]=Lm(wi),[_a]=Br(wi,[z_,Ea]),bd=Ea(),[U_,Hs]=_a(wi),[q_,W_]=_a(wi),Mb=e=>{const{__scopeSelect:t,children:s,open:a,defaultOpen:o,onOpenChange:c,value:u,defaultValue:f,onValueChange:h,dir:g,name:x,autoComplete:y,disabled:w,required:C,form:P}=e,b=bd(t),[j,E]=p.useState(null),[k,I]=p.useState(null),[L,B]=p.useState(!1),X=xd(g),[q,te]=ss({prop:a,defaultProp:o??!1,onChange:c,caller:wi}),[we,xe]=ss({prop:u,defaultProp:f,onChange:h,caller:wi}),ve=p.useRef(null),J=j?P||!!j.closest("form"):!0,[se,W]=p.useState(new Set),he=Array.from(se).map(K=>K.props.value).join(";");return r.jsx(V0,{...b,children:r.jsxs(U_,{required:C,scope:t,trigger:j,onTriggerChange:E,valueNode:k,onValueNodeChange:I,valueNodeHasChildren:L,onValueNodeHasChildrenChange:B,contentId:Pr(),value:we,onValueChange:xe,open:q,onOpenChange:te,dir:X,triggerPointerDownPosRef:ve,disabled:w,children:[r.jsx(vd.Provider,{scope:t,children:r.jsx(q_,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(K=>{W(ne=>new Set(ne).add(K))},[]),onNativeOptionRemove:p.useCallback(K=>{W(ne=>{const S=new Set(ne);return S.delete(K),S})},[]),children:s})}),J?r.jsxs(iw,{"aria-hidden":!0,required:C,tabIndex:-1,name:x,autoComplete:y,value:we,onChange:K=>xe(K.target.value),disabled:w,form:P,children:[we===void 0?r.jsx("option",{value:""}):null,Array.from(se)]},he):null]})})};Mb.displayName=wi;var Db="SelectTrigger",Fb=p.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:a=!1,...o}=e,c=bd(s),u=Hs(Db,s),f=u.disabled||a,h=lt(t,u.onTriggerChange),g=yd(s),x=p.useRef("touch"),[y,w,C]=ow(b=>{const j=g().filter(I=>!I.disabled),E=j.find(I=>I.value===u.value),k=lw(j,b,E);k!==void 0&&u.onValueChange(k.value)}),P=b=>{f||(u.onOpenChange(!0),C()),b&&(u.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return r.jsx(od,{asChild:!0,...c,children:r.jsx(Be.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":aw(u.value)?"":void 0,...o,ref:h,onClick:Me(o.onClick,b=>{b.currentTarget.focus(),x.current!=="mouse"&&P(b)}),onPointerDown:Me(o.onPointerDown,b=>{x.current=b.pointerType;const j=b.target;j.hasPointerCapture(b.pointerId)&&j.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(P(b),b.preventDefault())}),onKeyDown:Me(o.onKeyDown,b=>{const j=y.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&w(b.key),!(j&&b.key===" ")&&$_.includes(b.key)&&(P(),b.preventDefault())})})})});Fb.displayName=Db;var Lb="SelectValue",Bb=p.forwardRef((e,t)=>{const{__scopeSelect:s,className:a,style:o,children:c,placeholder:u="",...f}=e,h=Hs(Lb,s),{onValueNodeHasChildrenChange:g}=h,x=c!==void 0,y=lt(t,h.onValueNodeChange);return gr(()=>{g(x)},[g,x]),r.jsx(Be.span,{...f,ref:y,style:{pointerEvents:"none"},children:aw(h.value)?r.jsx(r.Fragment,{children:u}):c})});Bb.displayName=Lb;var K_="SelectIcon",$b=p.forwardRef((e,t)=>{const{__scopeSelect:s,children:a,...o}=e;return r.jsx(Be.span,{"aria-hidden":!0,...o,ref:t,children:a||""})});$b.displayName=K_;var Q_="SelectPortal",Vb=e=>r.jsx(Go,{asChild:!0,...e});Vb.displayName=Q_;var ji="SelectContent",zb=p.forwardRef((e,t)=>{const s=Hs(ji,e.__scopeSelect),[a,o]=p.useState();if(gr(()=>{o(new DocumentFragment)},[]),!s.open){const c=a;return c?Na.createPortal(r.jsx(Ub,{scope:e.__scopeSelect,children:r.jsx(vd.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),c):null}return r.jsx(qb,{...e,ref:t})});zb.displayName=ji;var pn=10,[Ub,Gs]=_a(ji),H_="SelectContentImpl",G_=vi("SelectContent.RemoveScroll"),qb=p.forwardRef((e,t)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:u,side:f,sideOffset:h,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:w,collisionPadding:C,sticky:P,hideWhenDetached:b,avoidCollisions:j,...E}=e,k=Hs(ji,s),[I,L]=p.useState(null),[B,X]=p.useState(null),q=lt(t,ee=>L(ee)),[te,we]=p.useState(null),[xe,ve]=p.useState(null),J=yd(s),[se,W]=p.useState(!1),he=p.useRef(!1);p.useEffect(()=>{if(I)return ah(I)},[I]),ih();const K=p.useCallback(ee=>{const[de,...je]=J().map(mt=>mt.ref.current),[De]=je.slice(-1),dt=document.activeElement;for(const mt of ee)if(mt===dt||(mt?.scrollIntoView({block:"nearest"}),mt===de&&B&&(B.scrollTop=0),mt===De&&B&&(B.scrollTop=B.scrollHeight),mt?.focus(),document.activeElement!==dt))return},[J,B]),ne=p.useCallback(()=>K([te,I]),[K,te,I]);p.useEffect(()=>{se&&ne()},[se,ne]);const{onOpenChange:S,triggerPointerDownPosRef:$}=k;p.useEffect(()=>{if(I){let ee={x:0,y:0};const de=De=>{ee={x:Math.abs(Math.round(De.pageX)-($.current?.x??0)),y:Math.abs(Math.round(De.pageY)-($.current?.y??0))}},je=De=>{ee.x<=10&&ee.y<=10?De.preventDefault():I.contains(De.target)||S(!1),document.removeEventListener("pointermove",de),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",je,{capture:!0})}}},[I,S,$]),p.useEffect(()=>{const ee=()=>S(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[S]);const[H,T]=ow(ee=>{const de=J().filter(dt=>!dt.disabled),je=de.find(dt=>dt.ref.current===document.activeElement),De=lw(de,ee,je);De&&setTimeout(()=>De.ref.current.focus())}),R=p.useCallback((ee,de,je)=>{const De=!he.current&&!je;(k.value!==void 0&&k.value===de||De)&&(we(ee),De&&(he.current=!0))},[k.value]),re=p.useCallback(()=>I?.focus(),[I]),le=p.useCallback((ee,de,je)=>{const De=!he.current&&!je;(k.value!==void 0&&k.value===de||De)&&ve(ee)},[k.value]),D=a==="popper"?um:Wb,G=D===um?{side:f,sideOffset:h,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:w,collisionPadding:C,sticky:P,hideWhenDetached:b,avoidCollisions:j}:{};return r.jsx(Ub,{scope:s,content:I,viewport:B,onViewportChange:X,itemRefCallback:R,selectedItem:te,onItemLeave:re,itemTextRefCallback:le,focusSelectedItem:ne,selectedItemText:xe,position:a,isPositioned:se,searchRef:H,children:r.jsx(fd,{as:G_,allowPinchZoom:!0,children:r.jsx(dd,{asChild:!0,trapped:k.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:Me(o,ee=>{k.trigger?.focus({preventScroll:!0}),ee.preventDefault()}),children:r.jsx(Sa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:r.jsx(D,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:ee=>ee.preventDefault(),...E,...G,onPlaced:()=>W(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Me(E.onKeyDown,ee=>{const de=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!de&&ee.key.length===1&&T(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let De=J().filter(dt=>!dt.disabled).map(dt=>dt.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const dt=ee.target,mt=De.indexOf(dt);De=De.slice(mt+1)}setTimeout(()=>K(De)),ee.preventDefault()}})})})})})})});qb.displayName=H_;var Z_="SelectItemAlignedPosition",Wb=p.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:a,...o}=e,c=Hs(ji,s),u=Gs(ji,s),[f,h]=p.useState(null),[g,x]=p.useState(null),y=lt(t,q=>x(q)),w=yd(s),C=p.useRef(!1),P=p.useRef(!0),{viewport:b,selectedItem:j,selectedItemText:E,focusSelectedItem:k}=u,I=p.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&g&&b&&j&&E){const q=c.trigger.getBoundingClientRect(),te=g.getBoundingClientRect(),we=c.valueNode.getBoundingClientRect(),xe=E.getBoundingClientRect();if(c.dir!=="rtl"){const dt=xe.left-te.left,mt=we.left-dt,Kt=q.left-mt,Je=q.width+Kt,Vr=Math.max(Je,te.width),Zr=window.innerWidth-pn,on=Tv(mt,[pn,Math.max(pn,Zr-Vr)]);f.style.minWidth=Je+"px",f.style.left=on+"px"}else{const dt=te.right-xe.right,mt=window.innerWidth-we.right-dt,Kt=window.innerWidth-q.right-mt,Je=q.width+Kt,Vr=Math.max(Je,te.width),Zr=window.innerWidth-pn,on=Tv(mt,[pn,Math.max(pn,Zr-Vr)]);f.style.minWidth=Je+"px",f.style.right=on+"px"}const ve=w(),J=window.innerHeight-pn*2,se=b.scrollHeight,W=window.getComputedStyle(g),he=parseInt(W.borderTopWidth,10),K=parseInt(W.paddingTop,10),ne=parseInt(W.borderBottomWidth,10),S=parseInt(W.paddingBottom,10),$=he+K+se+S+ne,H=Math.min(j.offsetHeight*5,$),T=window.getComputedStyle(b),R=parseInt(T.paddingTop,10),re=parseInt(T.paddingBottom,10),le=q.top+q.height/2-pn,D=J-le,G=j.offsetHeight/2,ee=j.offsetTop+G,de=he+K+ee,je=$-de;if(de<=le){const dt=ve.length>0&&j===ve[ve.length-1].ref.current;f.style.bottom="0px";const mt=g.clientHeight-b.offsetTop-b.offsetHeight,Kt=Math.max(D,G+(dt?re:0)+mt+ne),Je=de+Kt;f.style.height=Je+"px"}else{const dt=ve.length>0&&j===ve[0].ref.current;f.style.top="0px";const Kt=Math.max(le,he+b.offsetTop+(dt?R:0)+G)+je;f.style.height=Kt+"px",b.scrollTop=de-le+b.offsetTop}f.style.margin=`${pn}px 0`,f.style.minHeight=H+"px",f.style.maxHeight=J+"px",a?.(),requestAnimationFrame(()=>C.current=!0)}},[w,c.trigger,c.valueNode,f,g,b,j,E,c.dir,a]);gr(()=>I(),[I]);const[L,B]=p.useState();gr(()=>{g&&B(window.getComputedStyle(g).zIndex)},[g]);const X=p.useCallback(q=>{q&&P.current===!0&&(I(),k?.(),P.current=!1)},[I,k]);return r.jsx(X_,{scope:s,contentWrapper:f,shouldExpandOnScrollRef:C,onScrollButtonChange:X,children:r.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:r.jsx(Be.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Wb.displayName=Z_;var Y_="SelectPopperPosition",um=p.forwardRef((e,t)=>{const{__scopeSelect:s,align:a="start",collisionPadding:o=pn,...c}=e,u=bd(s);return r.jsx(th,{...u,...c,ref:t,align:a,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});um.displayName=Y_;var[X_,vh]=_a(ji,{}),fm="SelectViewport",Kb=p.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:a,...o}=e,c=Gs(fm,s),u=vh(fm,s),f=lt(t,c.onViewportChange),h=p.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(vd.Slot,{scope:s,children:r.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Me(o.onScroll,g=>{const x=g.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:w}=u;if(w?.current&&y){const C=Math.abs(h.current-x.scrollTop);if(C>0){const P=window.innerHeight-pn*2,b=parseFloat(y.style.minHeight),j=parseFloat(y.style.height),E=Math.max(b,j);if(E<P){const k=E+C,I=Math.min(P,k),L=k-I;y.style.height=I+"px",y.style.bottom==="0px"&&(x.scrollTop=L>0?L:0,y.style.justifyContent="flex-end")}}}h.current=x.scrollTop})})})]})});Kb.displayName=fm;var Qb="SelectGroup",[J_,eT]=_a(Qb),tT=p.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,o=Pr();return r.jsx(J_,{scope:s,id:o,children:r.jsx(Be.div,{role:"group","aria-labelledby":o,...a,ref:t})})});tT.displayName=Qb;var Hb="SelectLabel",Gb=p.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,o=eT(Hb,s);return r.jsx(Be.div,{id:o.id,...a,ref:t})});Gb.displayName=Hb;var Fc="SelectItem",[rT,Zb]=_a(Fc),Yb=p.forwardRef((e,t)=>{const{__scopeSelect:s,value:a,disabled:o=!1,textValue:c,...u}=e,f=Hs(Fc,s),h=Gs(Fc,s),g=f.value===a,[x,y]=p.useState(c??""),[w,C]=p.useState(!1),P=lt(t,k=>h.itemRefCallback?.(k,a,o)),b=Pr(),j=p.useRef("touch"),E=()=>{o||(f.onValueChange(a),f.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(rT,{scope:s,value:a,disabled:o,textId:b,isSelected:g,onItemTextChange:p.useCallback(k=>{y(I=>I||(k?.textContent??"").trim())},[]),children:r.jsx(vd.ItemSlot,{scope:s,value:a,disabled:o,textValue:x,children:r.jsx(Be.div,{role:"option","aria-labelledby":b,"data-highlighted":w?"":void 0,"aria-selected":g&&w,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:P,onFocus:Me(u.onFocus,()=>C(!0)),onBlur:Me(u.onBlur,()=>C(!1)),onClick:Me(u.onClick,()=>{j.current!=="mouse"&&E()}),onPointerUp:Me(u.onPointerUp,()=>{j.current==="mouse"&&E()}),onPointerDown:Me(u.onPointerDown,k=>{j.current=k.pointerType}),onPointerMove:Me(u.onPointerMove,k=>{j.current=k.pointerType,o?h.onItemLeave?.():j.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(u.onPointerLeave,k=>{k.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Me(u.onKeyDown,k=>{h.searchRef?.current!==""&&k.key===" "||(V_.includes(k.key)&&E(),k.key===" "&&k.preventDefault())})})})})});Yb.displayName=Fc;var bo="SelectItemText",Xb=p.forwardRef((e,t)=>{const{__scopeSelect:s,className:a,style:o,...c}=e,u=Hs(bo,s),f=Gs(bo,s),h=Zb(bo,s),g=W_(bo,s),[x,y]=p.useState(null),w=lt(t,E=>y(E),h.onItemTextChange,E=>f.itemTextRefCallback?.(E,h.value,h.disabled)),C=x?.textContent,P=p.useMemo(()=>r.jsx("option",{value:h.value,disabled:h.disabled,children:C},h.value),[h.disabled,h.value,C]),{onNativeOptionAdd:b,onNativeOptionRemove:j}=g;return gr(()=>(b(P),()=>j(P)),[b,j,P]),r.jsxs(r.Fragment,{children:[r.jsx(Be.span,{id:h.textId,...c,ref:w}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Na.createPortal(c.children,u.valueNode):null]})});Xb.displayName=bo;var Jb="SelectItemIndicator",ew=p.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e;return Zb(Jb,s).isSelected?r.jsx(Be.span,{"aria-hidden":!0,...a,ref:t}):null});ew.displayName=Jb;var mm="SelectScrollUpButton",tw=p.forwardRef((e,t)=>{const s=Gs(mm,e.__scopeSelect),a=vh(mm,e.__scopeSelect),[o,c]=p.useState(!1),u=lt(t,a.onScrollButtonChange);return gr(()=>{if(s.viewport&&s.isPositioned){let f=function(){const g=h.scrollTop>0;c(g)};const h=s.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),o?r.jsx(nw,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=s;f&&h&&(f.scrollTop=f.scrollTop-h.offsetHeight)}}):null});tw.displayName=mm;var hm="SelectScrollDownButton",rw=p.forwardRef((e,t)=>{const s=Gs(hm,e.__scopeSelect),a=vh(hm,e.__scopeSelect),[o,c]=p.useState(!1),u=lt(t,a.onScrollButtonChange);return gr(()=>{if(s.viewport&&s.isPositioned){let f=function(){const g=h.scrollHeight-h.clientHeight,x=Math.ceil(h.scrollTop)<g;c(x)};const h=s.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),o?r.jsx(nw,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=s;f&&h&&(f.scrollTop=f.scrollTop+h.offsetHeight)}}):null});rw.displayName=hm;var nw=p.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:a,...o}=e,c=Gs("SelectScrollButton",s),u=p.useRef(null),f=yd(s),h=p.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return p.useEffect(()=>()=>h(),[h]),gr(()=>{f().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),r.jsx(Be.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Me(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(a,50))}),onPointerMove:Me(o.onPointerMove,()=>{c.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(a,50))}),onPointerLeave:Me(o.onPointerLeave,()=>{h()})})}),nT="SelectSeparator",sw=p.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e;return r.jsx(Be.div,{"aria-hidden":!0,...a,ref:t})});sw.displayName=nT;var pm="SelectArrow",sT=p.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,o=bd(s),c=Hs(pm,s),u=Gs(pm,s);return c.open&&u.position==="popper"?r.jsx(rh,{...o,...a,ref:t}):null});sT.displayName=pm;var iT="SelectBubbleInput",iw=p.forwardRef(({__scopeSelect:e,value:t,...s},a)=>{const o=p.useRef(null),c=lt(a,o),u=ph(t);return p.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==t&&x){const y=new Event("change",{bubbles:!0});x.call(f,t),f.dispatchEvent(y)}},[u,t]),r.jsx(Be.select,{...s,style:{...Ly,...s.style},ref:c,defaultValue:t})});iw.displayName=iT;function aw(e){return e===""||e===void 0}function ow(e){const t=an(e),s=p.useRef(""),a=p.useRef(0),o=p.useCallback(u=>{const f=s.current+u;t(f),(function h(g){s.current=g,window.clearTimeout(a.current),g!==""&&(a.current=window.setTimeout(()=>h(""),1e3))})(f)},[t]),c=p.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,o,c]}function lw(e,t,s){const o=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,c=s?e.indexOf(s):-1;let u=aT(e,Math.max(c,0));o.length===1&&(u=u.filter(g=>g!==s));const h=u.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==s?h:void 0}function aT(e,t){return e.map((s,a)=>e[(t+a)%e.length])}var oT=Mb,cw=Fb,lT=Bb,cT=$b,dT=Vb,dw=zb,uT=Kb,uw=Gb,fw=Yb,fT=Xb,mT=ew,mw=tw,hw=rw,pw=sw;const hr=oT,pr=lT,cr=p.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(cw,{ref:a,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,r.jsx(cT,{asChild:!0,children:r.jsx(Um,{className:"h-4 w-4 opacity-50"})})]}));cr.displayName=cw.displayName;const gw=p.forwardRef(({className:e,...t},s)=>r.jsx(mw,{ref:s,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Qk,{className:"h-4 w-4"})}));gw.displayName=mw.displayName;const xw=p.forwardRef(({className:e,...t},s)=>r.jsx(hw,{ref:s,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Um,{className:"h-4 w-4"})}));xw.displayName=hw.displayName;const dr=p.forwardRef(({className:e,children:t,position:s="popper",...a},o)=>r.jsx(dT,{children:r.jsxs(dw,{ref:o,className:Ee("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:[r.jsx(gw,{}),r.jsx(uT,{className:Ee("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(xw,{})]})}));dr.displayName=dw.displayName;const hT=p.forwardRef(({className:e,...t},s)=>r.jsx(uw,{ref:s,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));hT.displayName=uw.displayName;const Ie=p.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(fw,{ref:a,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(mT,{children:r.jsx(o0,{className:"h-4 w-4"})})}),r.jsx(fT,{children:t})]}));Ie.displayName=fw.displayName;const pT=p.forwardRef(({className:e,...t},s)=>r.jsx(pw,{ref:s,className:Ee("-mx-1 my-1 h-px bg-muted",e),...t}));pT.displayName=pw.displayName;var el=e=>e.type==="checkbox",fi=e=>e instanceof Date,Fr=e=>e==null;const vw=e=>typeof e=="object";var Yt=e=>!Fr(e)&&!Array.isArray(e)&&vw(e)&&!fi(e),gT=e=>Yt(e)&&e.target?el(e.target)?e.target.checked:e.target.value:e,xT=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,vT=(e,t)=>e.has(xT(t)),yT=e=>{const t=e.constructor&&e.constructor.prototype;return Yt(t)&&t.hasOwnProperty("isPrototypeOf")},yh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ar(e){let t;const s=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(yh&&(e instanceof Blob||a))&&(s||Yt(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!yT(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=ar(e[o]));else return e;return t}var wd=e=>/^\w*$/.test(e),zt=e=>e===void 0,bh=e=>Array.isArray(e)?e.filter(Boolean):[],wh=e=>bh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(e,t,s)=>{if(!t||!Yt(e))return s;const a=(wd(t)?[t]:wh(t)).reduce((o,c)=>Fr(o)?o:o[c],e);return zt(a)||a===e?zt(e[t])?s:e[t]:a},On=e=>typeof e=="boolean",yt=(e,t,s)=>{let a=-1;const o=wd(t)?[t]:wh(t),c=o.length,u=c-1;for(;++a<c;){const f=o[a];let h=s;if(a!==u){const g=e[f];h=Yt(g)||Array.isArray(g)?g:isNaN(+o[a+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=h,e=e[f]}};const Av={BLUR:"blur",FOCUS_OUT:"focusout"},xn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},es={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},bT=$t.createContext(null);bT.displayName="HookFormContext";var wT=(e,t,s,a=!0)=>{const o={defaultValues:t._defaultValues};for(const c in e)Object.defineProperty(o,c,{get:()=>{const u=c;return t._proxyFormState[u]!==xn.all&&(t._proxyFormState[u]=!a||xn.all),e[u]}});return o};const jT=typeof window<"u"?$t.useLayoutEffect:$t.useEffect;var Qr=e=>typeof e=="string",NT=(e,t,s,a,o)=>Qr(e)?(a&&t.watch.add(e),Te(s,e,o)):Array.isArray(e)?e.map(c=>(a&&t.watch.add(c),Te(s,c))):(a&&(t.watchAll=!0),s),gm=e=>Fr(e)||!vw(e);function Ms(e,t,s=new WeakSet){if(gm(e)||gm(t))return e===t;if(fi(e)&&fi(t))return e.getTime()===t.getTime();const a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const c of a){const u=e[c];if(!o.includes(c))return!1;if(c!=="ref"){const f=t[c];if(fi(u)&&fi(f)||Yt(u)&&Yt(f)||Array.isArray(u)&&Array.isArray(f)?!Ms(u,f,s):u!==f)return!1}}return!0}var yw=(e,t,s,a,o)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[a]:o||!0}}:{},jo=e=>Array.isArray(e)?e:[e],Rv=()=>{let e=[];return{get observers(){return e},next:o=>{for(const c of e)c.next&&c.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(c=>c!==o)}}),unsubscribe:()=>{e=[]}}};function bw(e,t){const s={};for(const a in e)if(e.hasOwnProperty(a)){const o=e[a],c=t[a];if(o&&Yt(o)&&c){const u=bw(o,c);Yt(u)&&(s[a]=u)}else e[a]&&(s[a]=c)}return s}var Dr=e=>Yt(e)&&!Object.keys(e).length,jh=e=>e.type==="file",vn=e=>typeof e=="function",Lc=e=>{if(!yh)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ww=e=>e.type==="select-multiple",Nh=e=>e.type==="radio",ST=e=>Nh(e)||el(e),Ff=e=>Lc(e)&&e.isConnected;function CT(e,t){const s=t.slice(0,-1).length;let a=0;for(;a<s;)e=zt(e)?a++:e[t[a++]];return e}function kT(e){for(const t in e)if(e.hasOwnProperty(t)&&!zt(e[t]))return!1;return!0}function Gt(e,t){const s=Array.isArray(t)?t:wd(t)?[t]:wh(t),a=s.length===1?e:CT(e,s),o=s.length-1,c=s[o];return a&&delete a[c],o!==0&&(Yt(a)&&Dr(a)||Array.isArray(a)&&kT(a))&&Gt(e,s.slice(0,-1)),e}var PT=e=>{for(const t in e)if(vn(e[t]))return!0;return!1};function jw(e){return Array.isArray(e)||Yt(e)&&!PT(e)}function xm(e,t={}){for(const s in e)jw(e[s])?(t[s]=Array.isArray(e[s])?[]:{},xm(e[s],t[s])):zt(e[s])||(t[s]=!0);return t}function ra(e,t,s){s||(s=xm(t));for(const a in e)jw(e[a])?zt(t)||gm(s[a])?s[a]=xm(e[a],Array.isArray(e[a])?[]:{}):ra(e[a],Fr(t)?{}:t[a],s[a]):s[a]=!Ms(e[a],t[a]);return s}const Iv={value:!1,isValid:!1},Ov={value:!0,isValid:!0};var Nw=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!zt(e[0].attributes.value)?zt(e[0].value)||e[0].value===""?Ov:{value:e[0].value,isValid:!0}:Ov:Iv}return Iv},Sw=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:a})=>zt(e)?e:t?e===""?NaN:e&&+e:s&&Qr(e)?new Date(e):a?a(e):e;const Mv={isValid:!1,value:null};var Cw=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,Mv):Mv;function Dv(e){const t=e.ref;return jh(t)?t.files:Nh(t)?Cw(e.refs).value:ww(t)?[...t.selectedOptions].map(({value:s})=>s):el(t)?Nw(e.refs).value:Sw(zt(t.value)?e.ref.value:t.value,e)}var ET=(e,t,s,a)=>{const o={};for(const c of e){const u=Te(t,c);u&&yt(o,c,u._f)}return{criteriaMode:s,names:[...e],fields:o,shouldUseNativeValidation:a}},Bc=e=>e instanceof RegExp,vo=e=>zt(e)?e:Bc(e)?e.source:Yt(e)?Bc(e.value)?e.value.source:e.value:e,Fv=e=>({isOnSubmit:!e||e===xn.onSubmit,isOnBlur:e===xn.onBlur,isOnChange:e===xn.onChange,isOnAll:e===xn.all,isOnTouch:e===xn.onTouched});const Lv="AsyncFunction";var _T=e=>!!e&&!!e.validate&&!!(vn(e.validate)&&e.validate.constructor.name===Lv||Yt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Lv)),TT=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Bv=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const No=(e,t,s,a)=>{for(const o of s||Object.keys(e)){const c=Te(e,o);if(c){const{_f:u,...f}=c;if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],o)&&!a)return!0;if(u.ref&&t(u.ref,u.name)&&!a)return!0;if(No(f,t))break}else if(Yt(f)&&No(f,t))break}}};function $v(e,t,s){const a=Te(e,s);if(a||wd(s))return{error:a,name:s};const o=s.split(".");for(;o.length;){const c=o.join("."),u=Te(t,c),f=Te(e,c);if(u&&!Array.isArray(u)&&s!==c)return{name:s};if(f&&f.type)return{name:c,error:f};if(f&&f.root&&f.root.type)return{name:`${c}.root`,error:f.root};o.pop()}return{name:s}}var AT=(e,t,s,a)=>{s(e);const{name:o,...c}=e;return Dr(c)||Object.keys(c).length>=Object.keys(t).length||Object.keys(c).find(u=>t[u]===(!a||xn.all))},RT=(e,t,s)=>!e||!t||e===t||jo(e).some(a=>a&&(s?a===t:a.startsWith(t)||t.startsWith(a))),IT=(e,t,s,a,o)=>o.isOnAll?!1:!s&&o.isOnTouch?!(t||e):(s?a.isOnBlur:o.isOnBlur)?!e:(s?a.isOnChange:o.isOnChange)?e:!0,OT=(e,t)=>!bh(Te(e,t)).length&&Gt(e,t),MT=(e,t,s)=>{const a=jo(Te(e,s));return yt(a,"root",t[s]),yt(e,s,a),e};function Vv(e,t,s="validate"){if(Qr(e)||Array.isArray(e)&&e.every(Qr)||On(e)&&!e)return{type:s,message:Qr(e)?e:"",ref:t}}var ta=e=>Yt(e)&&!Bc(e)?e:{value:e,message:""},zv=async(e,t,s,a,o,c)=>{const{ref:u,refs:f,required:h,maxLength:g,minLength:x,min:y,max:w,pattern:C,validate:P,name:b,valueAsNumber:j,mount:E}=e._f,k=Te(s,b);if(!E||t.has(b))return{};const I=f?f[0]:u,L=J=>{o&&I.reportValidity&&(I.setCustomValidity(On(J)?"":J||""),I.reportValidity())},B={},X=Nh(u),q=el(u),te=X||q,we=(j||jh(u))&&zt(u.value)&&zt(k)||Lc(u)&&u.value===""||k===""||Array.isArray(k)&&!k.length,xe=yw.bind(null,b,a,B),ve=(J,se,W,he=es.maxLength,K=es.minLength)=>{const ne=J?se:W;B[b]={type:J?he:K,message:ne,ref:u,...xe(J?he:K,ne)}};if(c?!Array.isArray(k)||!k.length:h&&(!te&&(we||Fr(k))||On(k)&&!k||q&&!Nw(f).isValid||X&&!Cw(f).isValid)){const{value:J,message:se}=Qr(h)?{value:!!h,message:h}:ta(h);if(J&&(B[b]={type:es.required,message:se,ref:I,...xe(es.required,se)},!a))return L(se),B}if(!we&&(!Fr(y)||!Fr(w))){let J,se;const W=ta(w),he=ta(y);if(!Fr(k)&&!isNaN(k)){const K=u.valueAsNumber||k&&+k;Fr(W.value)||(J=K>W.value),Fr(he.value)||(se=K<he.value)}else{const K=u.valueAsDate||new Date(k),ne=H=>new Date(new Date().toDateString()+" "+H),S=u.type=="time",$=u.type=="week";Qr(W.value)&&k&&(J=S?ne(k)>ne(W.value):$?k>W.value:K>new Date(W.value)),Qr(he.value)&&k&&(se=S?ne(k)<ne(he.value):$?k<he.value:K<new Date(he.value))}if((J||se)&&(ve(!!J,W.message,he.message,es.max,es.min),!a))return L(B[b].message),B}if((g||x)&&!we&&(Qr(k)||c&&Array.isArray(k))){const J=ta(g),se=ta(x),W=!Fr(J.value)&&k.length>+J.value,he=!Fr(se.value)&&k.length<+se.value;if((W||he)&&(ve(W,J.message,se.message),!a))return L(B[b].message),B}if(C&&!we&&Qr(k)){const{value:J,message:se}=ta(C);if(Bc(J)&&!k.match(J)&&(B[b]={type:es.pattern,message:se,ref:u,...xe(es.pattern,se)},!a))return L(se),B}if(P){if(vn(P)){const J=await P(k,s),se=Vv(J,I);if(se&&(B[b]={...se,...xe(es.validate,se.message)},!a))return L(se.message),B}else if(Yt(P)){let J={};for(const se in P){if(!Dr(J)&&!a)break;const W=Vv(await P[se](k,s),I,se);W&&(J={...W,...xe(se,W.message)},L(W.message),a&&(B[b]=J))}if(!Dr(J)&&(B[b]={ref:I,...J},!a))return B}}return L(!0),B};const DT={mode:xn.onSubmit,reValidateMode:xn.onChange,shouldFocusError:!0};function FT(e={}){let t={...DT,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:vn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},o=Yt(t.defaultValues)||Yt(t.values)?ar(t.defaultValues||t.values)||{}:{},c=t.shouldUnregister?{}:ar(o),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,g=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...x};const w={array:Rv(),state:Rv()},C=t.criteriaMode===xn.all,P=O=>V=>{clearTimeout(g),g=setTimeout(O,V)},b=async O=>{if(!t.disabled&&(x.isValid||y.isValid||O)){const V=t.resolver?Dr((await q()).errors):await we(a,!0);V!==s.isValid&&w.state.next({isValid:V})}},j=(O,V)=>{!t.disabled&&(x.isValidating||x.validatingFields||y.isValidating||y.validatingFields)&&((O||Array.from(f.mount)).forEach(Z=>{Z&&(V?yt(s.validatingFields,Z,V):Gt(s.validatingFields,Z))}),w.state.next({validatingFields:s.validatingFields,isValidating:!Dr(s.validatingFields)}))},E=(O,V=[],Z,Ne,ye=!0,ae=!0)=>{if(Ne&&Z&&!t.disabled){if(u.action=!0,ae&&Array.isArray(Te(a,O))){const Ae=Z(Te(a,O),Ne.argA,Ne.argB);ye&&yt(a,O,Ae)}if(ae&&Array.isArray(Te(s.errors,O))){const Ae=Z(Te(s.errors,O),Ne.argA,Ne.argB);ye&&yt(s.errors,O,Ae),OT(s.errors,O)}if((x.touchedFields||y.touchedFields)&&ae&&Array.isArray(Te(s.touchedFields,O))){const Ae=Z(Te(s.touchedFields,O),Ne.argA,Ne.argB);ye&&yt(s.touchedFields,O,Ae)}(x.dirtyFields||y.dirtyFields)&&(s.dirtyFields=ra(o,c)),w.state.next({name:O,isDirty:ve(O,V),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else yt(c,O,V)},k=(O,V)=>{yt(s.errors,O,V),w.state.next({errors:s.errors})},I=O=>{s.errors=O,w.state.next({errors:s.errors,isValid:!1})},L=(O,V,Z,Ne)=>{const ye=Te(a,O);if(ye){const ae=Te(c,O,zt(Z)?Te(o,O):Z);zt(ae)||Ne&&Ne.defaultChecked||V?yt(c,O,V?ae:Dv(ye._f)):W(O,ae),u.mount&&b()}},B=(O,V,Z,Ne,ye)=>{let ae=!1,Ae=!1;const ot={name:O};if(!t.disabled){if(!Z||Ne){(x.isDirty||y.isDirty)&&(Ae=s.isDirty,s.isDirty=ot.isDirty=ve(),ae=Ae!==ot.isDirty);const Ze=Ms(Te(o,O),V);Ae=!!Te(s.dirtyFields,O),Ze?Gt(s.dirtyFields,O):yt(s.dirtyFields,O,!0),ot.dirtyFields=s.dirtyFields,ae=ae||(x.dirtyFields||y.dirtyFields)&&Ae!==!Ze}if(Z){const Ze=Te(s.touchedFields,O);Ze||(yt(s.touchedFields,O,Z),ot.touchedFields=s.touchedFields,ae=ae||(x.touchedFields||y.touchedFields)&&Ze!==Z)}ae&&ye&&w.state.next(ot)}return ae?ot:{}},X=(O,V,Z,Ne)=>{const ye=Te(s.errors,O),ae=(x.isValid||y.isValid)&&On(V)&&s.isValid!==V;if(t.delayError&&Z?(h=P(()=>k(O,Z)),h(t.delayError)):(clearTimeout(g),h=null,Z?yt(s.errors,O,Z):Gt(s.errors,O)),(Z?!Ms(ye,Z):ye)||!Dr(Ne)||ae){const Ae={...Ne,...ae&&On(V)?{isValid:V}:{},errors:s.errors,name:O};s={...s,...Ae},w.state.next(Ae)}},q=async O=>{j(O,!0);const V=await t.resolver(c,t.context,ET(O||f.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return j(O),V},te=async O=>{const{errors:V}=await q(O);if(O)for(const Z of O){const Ne=Te(V,Z);Ne?yt(s.errors,Z,Ne):Gt(s.errors,Z)}else s.errors=V;return V},we=async(O,V,Z={valid:!0})=>{for(const Ne in O){const ye=O[Ne];if(ye){const{_f:ae,...Ae}=ye;if(ae){const ot=f.array.has(ae.name),Ze=ye._f&&_T(ye._f);Ze&&x.validatingFields&&j([ae.name],!0);const Qt=await zv(ye,f.disabled,c,C,t.shouldUseNativeValidation&&!V,ot);if(Ze&&x.validatingFields&&j([ae.name]),Qt[ae.name]&&(Z.valid=!1,V))break;!V&&(Te(Qt,ae.name)?ot?MT(s.errors,Qt,ae.name):yt(s.errors,ae.name,Qt[ae.name]):Gt(s.errors,ae.name))}!Dr(Ae)&&await we(Ae,V,Z)}}return Z.valid},xe=()=>{for(const O of f.unMount){const V=Te(a,O);V&&(V._f.refs?V._f.refs.every(Z=>!Ff(Z)):!Ff(V._f.ref))&&ee(O)}f.unMount=new Set},ve=(O,V)=>!t.disabled&&(O&&V&&yt(c,O,V),!Ms(H(),o)),J=(O,V,Z)=>NT(O,f,{...u.mount?c:zt(V)?o:Qr(O)?{[O]:V}:V},Z,V),se=O=>bh(Te(u.mount?c:o,O,t.shouldUnregister?Te(o,O,[]):[])),W=(O,V,Z={})=>{const Ne=Te(a,O);let ye=V;if(Ne){const ae=Ne._f;ae&&(!ae.disabled&&yt(c,O,Sw(V,ae)),ye=Lc(ae.ref)&&Fr(V)?"":V,ww(ae.ref)?[...ae.ref.options].forEach(Ae=>Ae.selected=ye.includes(Ae.value)):ae.refs?el(ae.ref)?ae.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(ye)?Ae.checked=!!ye.find(ot=>ot===Ae.value):Ae.checked=ye===Ae.value||!!ye)}):ae.refs.forEach(Ae=>Ae.checked=Ae.value===ye):jh(ae.ref)?ae.ref.value="":(ae.ref.value=ye,ae.ref.type||w.state.next({name:O,values:ar(c)})))}(Z.shouldDirty||Z.shouldTouch)&&B(O,ye,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&$(O)},he=(O,V,Z)=>{for(const Ne in V){if(!V.hasOwnProperty(Ne))return;const ye=V[Ne],ae=O+"."+Ne,Ae=Te(a,ae);(f.array.has(O)||Yt(ye)||Ae&&!Ae._f)&&!fi(ye)?he(ae,ye,Z):W(ae,ye,Z)}},K=(O,V,Z={})=>{const Ne=Te(a,O),ye=f.array.has(O),ae=ar(V);yt(c,O,ae),ye?(w.array.next({name:O,values:ar(c)}),(x.isDirty||x.dirtyFields||y.isDirty||y.dirtyFields)&&Z.shouldDirty&&w.state.next({name:O,dirtyFields:ra(o,c),isDirty:ve(O,ae)})):Ne&&!Ne._f&&!Fr(ae)?he(O,ae,Z):W(O,ae,Z),Bv(O,f)&&w.state.next({...s,name:O}),w.state.next({name:u.mount?O:void 0,values:ar(c)})},ne=async O=>{u.mount=!0;const V=O.target;let Z=V.name,Ne=!0;const ye=Te(a,Z),ae=Ze=>{Ne=Number.isNaN(Ze)||fi(Ze)&&isNaN(Ze.getTime())||Ms(Ze,Te(c,Z,Ze))},Ae=Fv(t.mode),ot=Fv(t.reValidateMode);if(ye){let Ze,Qt;const Yr=V.type?Dv(ye._f):gT(O),Ft=O.type===Av.BLUR||O.type===Av.FOCUS_OUT,_=!TT(ye._f)&&!t.resolver&&!Te(s.errors,Z)&&!ye._f.deps||IT(Ft,Te(s.touchedFields,Z),s.isSubmitted,ot,Ae),be=Bv(Z,f,Ft);yt(c,Z,Yr),Ft?(!V||!V.readOnly)&&(ye._f.onBlur&&ye._f.onBlur(O),h&&h(0)):ye._f.onChange&&ye._f.onChange(O);const He=B(Z,Yr,Ft),tt=!Dr(He)||be;if(!Ft&&w.state.next({name:Z,type:O.type,values:ar(c)}),_)return(x.isValid||y.isValid)&&(t.mode==="onBlur"?Ft&&b():Ft||b()),tt&&w.state.next({name:Z,...be?{}:He});if(!Ft&&be&&w.state.next({...s}),t.resolver){const{errors:gt}=await q([Z]);if(ae(Yr),Ne){const us=$v(s.errors,a,Z),En=$v(gt,a,us.name||Z);Ze=En.error,Z=En.name,Qt=Dr(gt)}}else j([Z],!0),Ze=(await zv(ye,f.disabled,c,C,t.shouldUseNativeValidation))[Z],j([Z]),ae(Yr),Ne&&(Ze?Qt=!1:(x.isValid||y.isValid)&&(Qt=await we(a,!0)));Ne&&(ye._f.deps&&(!Array.isArray(ye._f.deps)||ye._f.deps.length>0)&&$(ye._f.deps),X(Z,Qt,Ze,He))}},S=(O,V)=>{if(Te(s.errors,V)&&O.focus)return O.focus(),1},$=async(O,V={})=>{let Z,Ne;const ye=jo(O);if(t.resolver){const ae=await te(zt(O)?O:ye);Z=Dr(ae),Ne=O?!ye.some(Ae=>Te(ae,Ae)):Z}else O?(Ne=(await Promise.all(ye.map(async ae=>{const Ae=Te(a,ae);return await we(Ae&&Ae._f?{[ae]:Ae}:Ae)}))).every(Boolean),!(!Ne&&!s.isValid)&&b()):Ne=Z=await we(a);return w.state.next({...!Qr(O)||(x.isValid||y.isValid)&&Z!==s.isValid?{}:{name:O},...t.resolver||!O?{isValid:Z}:{},errors:s.errors}),V.shouldFocus&&!Ne&&No(a,S,O?ye:f.mount),Ne},H=(O,V)=>{let Z={...u.mount?c:o};return V&&(Z=bw(V.dirtyFields?s.dirtyFields:s.touchedFields,Z)),zt(O)?Z:Qr(O)?Te(Z,O):O.map(Ne=>Te(Z,Ne))},T=(O,V)=>({invalid:!!Te((V||s).errors,O),isDirty:!!Te((V||s).dirtyFields,O),error:Te((V||s).errors,O),isValidating:!!Te(s.validatingFields,O),isTouched:!!Te((V||s).touchedFields,O)}),R=O=>{O&&jo(O).forEach(V=>Gt(s.errors,V)),w.state.next({errors:O?s.errors:{}})},re=(O,V,Z)=>{const Ne=(Te(a,O,{_f:{}})._f||{}).ref,ye=Te(s.errors,O)||{},{ref:ae,message:Ae,type:ot,...Ze}=ye;yt(s.errors,O,{...Ze,...V,ref:Ne}),w.state.next({name:O,errors:s.errors,isValid:!1}),Z&&Z.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},le=(O,V)=>vn(O)?w.state.subscribe({next:Z=>"values"in Z&&O(J(void 0,V),Z)}):J(O,V,!0),D=O=>w.state.subscribe({next:V=>{RT(O.name,V.name,O.exact)&&AT(V,O.formState||x,on,O.reRenderRoot)&&O.callback({values:{...c},...s,...V,defaultValues:o})}}).unsubscribe,G=O=>(u.mount=!0,y={...y,...O.formState},D({...O,formState:y})),ee=(O,V={})=>{for(const Z of O?jo(O):f.mount)f.mount.delete(Z),f.array.delete(Z),V.keepValue||(Gt(a,Z),Gt(c,Z)),!V.keepError&&Gt(s.errors,Z),!V.keepDirty&&Gt(s.dirtyFields,Z),!V.keepTouched&&Gt(s.touchedFields,Z),!V.keepIsValidating&&Gt(s.validatingFields,Z),!t.shouldUnregister&&!V.keepDefaultValue&&Gt(o,Z);w.state.next({values:ar(c)}),w.state.next({...s,...V.keepDirty?{isDirty:ve()}:{}}),!V.keepIsValid&&b()},de=({disabled:O,name:V})=>{(On(O)&&u.mount||O||f.disabled.has(V))&&(O?f.disabled.add(V):f.disabled.delete(V))},je=(O,V={})=>{let Z=Te(a,O);const Ne=On(V.disabled)||On(t.disabled);return yt(a,O,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:O}},name:O,mount:!0,...V}}),f.mount.add(O),Z?de({disabled:On(V.disabled)?V.disabled:t.disabled,name:O}):L(O,!0,V.value),{...Ne?{disabled:V.disabled||t.disabled}:{},...t.progressive?{required:!!V.required,min:vo(V.min),max:vo(V.max),minLength:vo(V.minLength),maxLength:vo(V.maxLength),pattern:vo(V.pattern)}:{},name:O,onChange:ne,onBlur:ne,ref:ye=>{if(ye){je(O,V),Z=Te(a,O);const ae=zt(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,Ae=ST(ae),ot=Z._f.refs||[];if(Ae?ot.find(Ze=>Ze===ae):ae===Z._f.ref)return;yt(a,O,{_f:{...Z._f,...Ae?{refs:[...ot.filter(Ff),ae,...Array.isArray(Te(o,O))?[{}]:[]],ref:{type:ae.type,name:O}}:{ref:ae}}}),L(O,!1,void 0,ae)}else Z=Te(a,O,{}),Z._f&&(Z._f.mount=!1),(t.shouldUnregister||V.shouldUnregister)&&!(vT(f.array,O)&&u.action)&&f.unMount.add(O)}}},De=()=>t.shouldFocusError&&No(a,S,f.mount),dt=O=>{On(O)&&(w.state.next({disabled:O}),No(a,(V,Z)=>{const Ne=Te(a,Z);Ne&&(V.disabled=Ne._f.disabled||O,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(ye=>{ye.disabled=Ne._f.disabled||O}))},0,!1))},mt=(O,V)=>async Z=>{let Ne;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let ye=ar(c);if(w.state.next({isSubmitting:!0}),t.resolver){const{errors:ae,values:Ae}=await q();s.errors=ae,ye=ar(Ae)}else await we(a);if(f.disabled.size)for(const ae of f.disabled)Gt(ye,ae);if(Gt(s.errors,"root"),Dr(s.errors)){w.state.next({errors:{}});try{await O(ye,Z)}catch(ae){Ne=ae}}else V&&await V({...s.errors},Z),De(),setTimeout(De);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Dr(s.errors)&&!Ne,submitCount:s.submitCount+1,errors:s.errors}),Ne)throw Ne},Kt=(O,V={})=>{Te(a,O)&&(zt(V.defaultValue)?K(O,ar(Te(o,O))):(K(O,V.defaultValue),yt(o,O,ar(V.defaultValue))),V.keepTouched||Gt(s.touchedFields,O),V.keepDirty||(Gt(s.dirtyFields,O),s.isDirty=V.defaultValue?ve(O,ar(Te(o,O))):ve()),V.keepError||(Gt(s.errors,O),x.isValid&&b()),w.state.next({...s}))},Je=(O,V={})=>{const Z=O?ar(O):o,Ne=ar(Z),ye=Dr(O),ae=ye?o:Ne;if(V.keepDefaultValues||(o=Z),!V.keepValues){if(V.keepDirtyValues){const Ae=new Set([...f.mount,...Object.keys(ra(o,c))]);for(const ot of Array.from(Ae))Te(s.dirtyFields,ot)?yt(ae,ot,Te(c,ot)):K(ot,Te(ae,ot))}else{if(yh&&zt(O))for(const Ae of f.mount){const ot=Te(a,Ae);if(ot&&ot._f){const Ze=Array.isArray(ot._f.refs)?ot._f.refs[0]:ot._f.ref;if(Lc(Ze)){const Qt=Ze.closest("form");if(Qt){Qt.reset();break}}}}if(V.keepFieldsRef)for(const Ae of f.mount)K(Ae,Te(ae,Ae));else a={}}c=t.shouldUnregister?V.keepDefaultValues?ar(o):{}:ar(ae),w.array.next({values:{...ae}}),w.state.next({values:{...ae}})}f={mount:V.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!x.isValid||!!V.keepIsValid||!!V.keepDirtyValues,u.watch=!!t.shouldUnregister,w.state.next({submitCount:V.keepSubmitCount?s.submitCount:0,isDirty:ye?!1:V.keepDirty?s.isDirty:!!(V.keepDefaultValues&&!Ms(O,o)),isSubmitted:V.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:ye?{}:V.keepDirtyValues?V.keepDefaultValues&&c?ra(o,c):s.dirtyFields:V.keepDefaultValues&&O?ra(o,O):V.keepDirty?s.dirtyFields:{},touchedFields:V.keepTouched?s.touchedFields:{},errors:V.keepErrors?s.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Vr=(O,V)=>Je(vn(O)?O(c):O,V),Zr=(O,V={})=>{const Z=Te(a,O),Ne=Z&&Z._f;if(Ne){const ye=Ne.refs?Ne.refs[0]:Ne.ref;ye.focus&&(ye.focus(),V.shouldSelect&&vn(ye.select)&&ye.select())}},on=O=>{s={...s,...O}},ds={control:{register:je,unregister:ee,getFieldState:T,handleSubmit:mt,setError:re,_subscribe:D,_runSchema:q,_focusError:De,_getWatch:J,_getDirty:ve,_setValid:b,_setFieldArray:E,_setDisabledField:de,_setErrors:I,_getFieldArray:se,_reset:Je,_resetDefaultValues:()=>vn(t.defaultValues)&&t.defaultValues().then(O=>{Vr(O,t.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:xe,_disableForm:dt,_subjects:w,_proxyFormState:x,get _fields(){return a},get _formValues(){return c},get _state(){return u},set _state(O){u=O},get _defaultValues(){return o},get _names(){return f},set _names(O){f=O},get _formState(){return s},get _options(){return t},set _options(O){t={...t,...O}}},subscribe:G,trigger:$,register:je,handleSubmit:mt,watch:le,setValue:K,getValues:H,reset:Vr,resetField:Kt,clearErrors:R,unregister:ee,setError:re,setFocus:Zr,getFieldState:T};return{...ds,formControl:ds}}function kw(e={}){const t=$t.useRef(void 0),s=$t.useRef(void 0),[a,o]=$t.useState({isDirty:!1,isValidating:!1,isLoading:vn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:vn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!vn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...f}=FT(e);t.current={...f,formState:a}}const c=t.current.control;return c._options=e,jT(()=>{const u=c._subscribe({formState:c._proxyFormState,callback:()=>o({...c._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),c._formState.isReady=!0,u},[c]),$t.useEffect(()=>c._disableForm(e.disabled),[c,e.disabled]),$t.useEffect(()=>{e.mode&&(c._options.mode=e.mode),e.reValidateMode&&(c._options.reValidateMode=e.reValidateMode)},[c,e.mode,e.reValidateMode]),$t.useEffect(()=>{e.errors&&(c._setErrors(e.errors),c._focusError())},[c,e.errors]),$t.useEffect(()=>{e.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,e.shouldUnregister]),$t.useEffect(()=>{if(c._proxyFormState.isDirty){const u=c._getDirty();u!==a.isDirty&&c._subjects.state.next({isDirty:u})}},[c,a.isDirty]),$t.useEffect(()=>{e.values&&!Ms(e.values,s.current)?(c._reset(e.values,{keepFieldsRef:!0,...c._options.resetOptions}),s.current=e.values,o(u=>({...u}))):c._resetDefaultValues()},[c,e.values]),$t.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),t.current.formState=wT(a,c),t.current}const Uv=(e,t,s)=>{if(e&&"reportValidity"in e){const a=Te(s,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},Pw=(e,t)=>{for(const s in t.fields){const a=t.fields[s];a&&a.ref&&"reportValidity"in a.ref?Uv(a.ref,s,e):a.refs&&a.refs.forEach(o=>Uv(o,s,e))}},LT=(e,t)=>{t.shouldUseNativeValidation&&Pw(e,t);const s={};for(const a in e){const o=Te(t.fields,a),c=Object.assign(e[a]||{},{ref:o&&o.ref});if(BT(t.names||Object.keys(e),a)){const u=Object.assign({},Te(s,a));yt(u,"root",c),yt(s,a,u)}else yt(s,a,c)}return s},BT=(e,t)=>e.some(s=>s.startsWith(t+"."));var $T=function(e,t){for(var s={};e.length;){var a=e[0],o=a.code,c=a.message,u=a.path.join(".");if(!s[u])if("unionErrors"in a){var f=a.unionErrors[0].errors[0];s[u]={message:f.message,type:f.code}}else s[u]={message:c,type:o};if("unionErrors"in a&&a.unionErrors.forEach(function(x){return x.errors.forEach(function(y){return e.push(y)})}),t){var h=s[u].types,g=h&&h[a.code];s[u]=yw(u,t,s,o,g?[].concat(g,a.message):a.message)}e.shift()}return s},Ew=function(e,t,s){return s===void 0&&(s={}),function(a,o,c){try{return Promise.resolve((function(u,f){try{var h=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(g){return c.shouldUseNativeValidation&&Pw({},c),{errors:{},values:s.raw?a:g}})}catch(g){return f(g)}return h&&h.then?h.then(void 0,f):h})(0,function(u){if((function(f){return Array.isArray(f?.errors)})(u))return{values:{},errors:LT($T(u.errors,!c.shouldUseNativeValidation&&c.criteriaMode==="all"),c)};throw u}))}catch(u){return Promise.reject(u)}}};const ie=Symbol.for("drizzle:entityKind");function or(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,ie))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let s=Object.getPrototypeOf(e).constructor;if(s)for(;s;){if(ie in s&&s[ie]===t[ie])return!0;s=Object.getPrototypeOf(s)}return!1}class To{constructor(t,s){this.table=t,this.config=s,this.name=s.name,this.keyAsName=s.keyAsName,this.notNull=s.notNull,this.default=s.default,this.defaultFn=s.defaultFn,this.onUpdateFn=s.onUpdateFn,this.hasDefault=s.hasDefault,this.primary=s.primaryKey,this.isUnique=s.isUnique,this.uniqueName=s.uniqueName,this.uniqueType=s.uniqueType,this.dataType=s.dataType,this.columnType=s.columnType,this.generated=s.generated,this.generatedIdentity=s.generatedIdentity}static[ie]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class VT{static[ie]="ColumnBuilder";config;constructor(t,s,a){this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:s,columnType:a,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}const ua=Symbol.for("drizzle:Name");class zT{static[ie]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(t,s){this.reference=()=>{const{name:a,columns:o,foreignColumns:c}=t();return{name:a,columns:o,foreignTable:c[0].table,foreignColumns:c}},s&&(this._onUpdate=s.onUpdate,this._onDelete=s.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new UT(t,this)}}class UT{constructor(t,s){this.table=t,this.reference=s.reference,this.onUpdate=s._onUpdate,this.onDelete=s._onDelete}static[ie]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:t,columns:s,foreignColumns:a}=this.reference(),o=s.map(f=>f.name),c=a.map(f=>f.name),u=[this.table[ua],...o,a[0].table[ua],...c];return t??`${u.join("_")}_fk`}}function qT(e,...t){return e(...t)}function WT(e,t){return`${e[ua]}_${t.join("_")}_unique`}function qv(e,t,s){for(let a=t;a<e.length;a++){const o=e[a];if(o==="\\"){a++;continue}if(o==='"')return[e.slice(t,a).replace(/\\/g,""),a+1];if(!s&&(o===","||o==="}"))return[e.slice(t,a).replace(/\\/g,""),a]}return[e.slice(t).replace(/\\/g,""),e.length]}function _w(e,t=0){const s=[];let a=t,o=!1;for(;a<e.length;){const c=e[a];if(c===","){(o||a===t)&&s.push(""),o=!0,a++;continue}if(o=!1,c==="\\"){a+=2;continue}if(c==='"'){const[h,g]=qv(e,a+1,!0);s.push(h),a=g;continue}if(c==="}")return[s,a+1];if(c==="{"){const[h,g]=_w(e,a+1);s.push(h),a=g;continue}const[u,f]=qv(e,a,!1);s.push(u),a=f}return[s,a]}function KT(e){const[t]=_w(e,1);return t}function Tw(e){return`{${e.map(t=>Array.isArray(t)?Tw(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}class ct extends VT{foreignKeyConfigs=[];static[ie]="PgColumnBuilder";array(t){return new HT(this.config.name,this,t)}references(t,s={}){return this.foreignKeyConfigs.push({ref:t,actions:s}),this}unique(t,s){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=s?.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,s){return this.foreignKeyConfigs.map(({ref:a,actions:o})=>qT((c,u)=>{const f=new zT(()=>{const h=c();return{columns:[t],foreignColumns:[h]}});return u.onUpdate&&f.onUpdate(u.onUpdate),u.onDelete&&f.onDelete(u.onDelete),f.build(s)},a,o))}buildExtraConfigColumn(t){return new QT(t,this.config)}}class Xe extends To{constructor(t,s){s.uniqueName||(s.uniqueName=WT(t,[s.name])),super(t,s),this.table=t}static[ie]="PgColumn"}class QT extends Xe{static[ie]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}}class HT extends ct{static[ie]="PgArrayBuilder";constructor(t,s,a){super(t,"array","PgArray"),this.config.baseBuilder=s,this.config.size=a}build(t){const s=this.config.baseBuilder.build(t);return new Sh(t,this.config,s)}}class Sh extends Xe{constructor(t,s,a,o){super(t,s),this.baseColumn=a,this.range=o,this.size=s.size}size;static[ie]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=KT(t)),t.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(t,s=!1){const a=t.map(o=>o===null?null:or(this.baseColumn,Sh)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return s?a:Tw(a)}}const Wv=Symbol.for("drizzle:isPgEnum");function GT(e){return!!e&&typeof e=="function"&&Wv in e&&e[Wv]===!0}class Aw{static[ie]="Subquery";constructor(t,s,a,o=!1,c=[]){this._={brand:"Subquery",sql:t,selectedFields:s,alias:a,isWith:o,usedTables:c}}}const ZT={startActiveSpan(e,t){return t()}},fa=Symbol.for("drizzle:ViewBaseConfig"),Lf=Symbol.for("drizzle:Schema"),Kv=Symbol.for("drizzle:Columns"),Qv=Symbol.for("drizzle:ExtraConfigColumns"),Bf=Symbol.for("drizzle:OriginalName"),$f=Symbol.for("drizzle:BaseName"),$c=Symbol.for("drizzle:IsAlias"),Hv=Symbol.for("drizzle:ExtraConfigBuilder"),Rw=Symbol.for("drizzle:IsDrizzleTable");let lr=class{static[ie]="Table";static Symbol={Name:ua,Schema:Lf,OriginalName:Bf,Columns:Kv,ExtraConfigColumns:Qv,BaseName:$f,IsAlias:$c,ExtraConfigBuilder:Hv};[ua];[Bf];[Lf];[Kv];[Qv];[$f];[$c]=!1;[Rw]=!0;[Hv]=void 0;constructor(t,s,a){this[ua]=this[Bf]=t,this[Lf]=s,this[$f]=a}};function Iw(e){return typeof e=="object"&&e!==null&&Rw in e}function YT(e){return e!=null&&typeof e.getSQL=="function"}function XT(e){const t={sql:"",params:[]};for(const s of e)t.sql+=s.sql,t.params.push(...s.params),s.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...s.typings));return t}class gn{static[ie]="StringChunk";value;constructor(t){this.value=Array.isArray(t)?t:[t]}getSQL(){return new Dt([this])}}class Dt{constructor(t){this.queryChunks=t;for(const s of t)if(or(s,lr)){const a=s[lr.Symbol.Schema];this.usedTables.push(a===void 0?s[lr.Symbol.Name]:a+"."+s[lr.Symbol.Name])}}static[ie]="SQL";decoder=Ow;shouldInlineParams=!1;usedTables=[];append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return ZT.startActiveSpan("drizzle.buildSQL",s=>{const a=this.buildQueryFromSourceParams(this.queryChunks,t);return s?.setAttributes({"drizzle.query.text":a.sql,"drizzle.query.params":JSON.stringify(a.params)}),a})}buildQueryFromSourceParams(t,s){const a=Object.assign({},s,{inlineParams:s.inlineParams||this.shouldInlineParams,paramStartIndex:s.paramStartIndex||{value:0}}),{casing:o,escapeName:c,escapeParam:u,prepareTyping:f,inlineParams:h,paramStartIndex:g}=a;return XT(t.map(x=>{if(or(x,gn))return{sql:x.value.join(""),params:[]};if(or(x,vm))return{sql:c(x.value),params:[]};if(x===void 0)return{sql:"",params:[]};if(Array.isArray(x)){const y=[new gn("(")];for(const[w,C]of x.entries())y.push(C),w<x.length-1&&y.push(new gn(", "));return y.push(new gn(")")),this.buildQueryFromSourceParams(y,a)}if(or(x,Dt))return this.buildQueryFromSourceParams(x.queryChunks,{...a,inlineParams:h||x.shouldInlineParams});if(or(x,lr)){const y=x[lr.Symbol.Schema],w=x[lr.Symbol.Name];return{sql:y===void 0||x[$c]?c(w):c(y)+"."+c(w),params:[]}}if(or(x,To)){const y=o.getColumnCasing(x);if(s.invokeSource==="indexes")return{sql:c(y),params:[]};const w=x.table[lr.Symbol.Schema];return{sql:x.table[$c]||w===void 0?c(x.table[lr.Symbol.Name])+"."+c(y):c(w)+"."+c(x.table[lr.Symbol.Name])+"."+c(y),params:[]}}if(or(x,JT)){const y=x[fa].schema,w=x[fa].name;return{sql:y===void 0||x[fa].isAlias?c(w):c(y)+"."+c(w),params:[]}}if(or(x,Dw)){if(or(x.value,ym))return{sql:u(g.value++,x),params:[x],typings:["none"]};const y=x.value===null?null:x.encoder.mapToDriverValue(x.value);if(or(y,Dt))return this.buildQueryFromSourceParams([y],a);if(h)return{sql:this.mapInlineParam(y,a),params:[]};let w=["none"];return f&&(w=[f(x.encoder)]),{sql:u(g.value++,y),params:[y],typings:w}}return or(x,ym)?{sql:u(g.value++,x),params:[x],typings:["none"]}:or(x,Dt.Aliased)&&x.fieldAlias!==void 0?{sql:c(x.fieldAlias),params:[]}:or(x,Aw)?x._.isWith?{sql:c(x._.alias),params:[]}:this.buildQueryFromSourceParams([new gn("("),x._.sql,new gn(") "),new vm(x._.alias)],a):GT(x)?x.schema?{sql:c(x.schema)+"."+c(x.enumName),params:[]}:{sql:c(x.enumName),params:[]}:YT(x)?x.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([x.getSQL()],a):this.buildQueryFromSourceParams([new gn("("),x.getSQL(),new gn(")")],a):h?{sql:this.mapInlineParam(x,a),params:[]}:{sql:u(g.value++,x),params:[x],typings:["none"]}}))}mapInlineParam(t,{escapeString:s}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return s(t);if(typeof t=="object"){const a=t.toString();return s(a==="[object Object]"?JSON.stringify(t):a)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Dt.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}}class vm{constructor(t){this.value=t}static[ie]="Name";brand;getSQL(){return new Dt([this])}}const Ow={mapFromDriverValue:e=>e},Mw={mapToDriverValue:e=>e};({...Ow,...Mw});class Dw{constructor(t,s=Mw){this.value=t,this.encoder=s}static[ie]="Param";brand;getSQL(){return new Dt([this])}}function ft(e,...t){const s=[];(t.length>0||e.length>0&&e[0]!=="")&&s.push(new gn(e[0]));for(const[a,o]of t.entries())s.push(o,new gn(e[a+1]));return new Dt(s)}(e=>{function t(){return new Dt([])}e.empty=t;function s(h){return new Dt(h)}e.fromList=s;function a(h){return new Dt([new gn(h)])}e.raw=a;function o(h,g){const x=[];for(const[y,w]of h.entries())y>0&&g!==void 0&&x.push(g),x.push(w);return new Dt(x)}e.join=o;function c(h){return new vm(h)}e.identifier=c;function u(h){return new ym(h)}e.placeholder=u;function f(h,g){return new Dw(h,g)}e.param=f})(ft||(ft={}));(e=>{class t{constructor(a,o){this.sql=a,this.fieldAlias=o}static[ie]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(Dt||(Dt={}));class ym{constructor(t){this.name=t}static[ie]="Placeholder";getSQL(){return new Dt([this])}}const Fw=Symbol.for("drizzle:IsDrizzleView");class JT{static[ie]="View";[fa];[Fw]=!0;constructor({name:t,schema:s,selectedFields:a,query:o}){this[fa]={name:t,originalName:t,schema:s,selectedFields:a,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new Dt([this])}}function eA(e){return typeof e=="object"&&e!==null&&Fw in e}To.prototype.getSQL=function(){return new Dt([this])};lr.prototype.getSQL=function(){return new Dt([this])};Aw.prototype.getSQL=function(){return new Dt([this])};function tA(e){return e[lr.Symbol.Columns]}function rA(e){return e[fa].selectedFields}function ur(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}typeof TextDecoder>"u"||new TextDecoder;class jd extends ct{static[ie]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(t){if(t){const{name:s,...a}=t;this.config.generatedIdentity={type:"always",sequenceName:s,sequenceOptions:a}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:s,...a}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:s,sequenceOptions:a}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class nA extends jd{static[ie]="PgBigInt53Builder";constructor(t){super(t,"number","PgBigInt53")}build(t){return new sA(t,this.config)}}class sA extends Xe{static[ie]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class iA extends jd{static[ie]="PgBigInt64Builder";constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new aA(t,this.config)}}class aA extends Xe{static[ie]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}function oA(e,t){const{name:s,config:a}=ur(e,t);return a.mode==="number"?new nA(s):new iA(s)}class lA extends ct{static[ie]="PgBigSerial53Builder";constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new cA(t,this.config)}}class cA extends Xe{static[ie]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class dA extends ct{static[ie]="PgBigSerial64Builder";constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new uA(t,this.config)}}class uA extends Xe{static[ie]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}function fA(e,t){const{name:s,config:a}=ur(e,t);return a.mode==="number"?new lA(s):new dA(s)}class mA extends ct{static[ie]="PgBooleanBuilder";constructor(t){super(t,"boolean","PgBoolean")}build(t){return new hA(t,this.config)}}class hA extends Xe{static[ie]="PgBoolean";getSQLType(){return"boolean"}}function Lr(e){return new mA(e??"")}class pA extends ct{static[ie]="PgCharBuilder";constructor(t,s){super(t,"string","PgChar"),this.config.length=s.length,this.config.enumValues=s.enum}build(t){return new gA(t,this.config)}}class gA extends Xe{static[ie]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function xA(e,t={}){const{name:s,config:a}=ur(e,t);return new pA(s,a)}class vA extends ct{static[ie]="PgCidrBuilder";constructor(t){super(t,"string","PgCidr")}build(t){return new yA(t,this.config)}}class yA extends Xe{static[ie]="PgCidr";getSQLType(){return"cidr"}}function bA(e){return new vA(e??"")}class wA extends ct{static[ie]="PgCustomColumnBuilder";constructor(t,s,a){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=s,this.config.customTypeParams=a}build(t){return new jA(t,this.config)}}class jA extends Xe{static[ie]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(t,s){super(t,s),this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}}function NA(e){return(t,s)=>{const{name:a,config:o}=ur(t,s);return new wA(a,o,e)}}class tl extends ct{static[ie]="PgDateColumnBaseBuilder";defaultNow(){return this.default(ft`now()`)}}class SA extends tl{static[ie]="PgDateBuilder";constructor(t){super(t,"date","PgDate")}build(t){return new CA(t,this.config)}}class CA extends Xe{static[ie]="PgDate";getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}class kA extends tl{static[ie]="PgDateStringBuilder";constructor(t){super(t,"string","PgDateString")}build(t){return new PA(t,this.config)}}class PA extends Xe{static[ie]="PgDateString";getSQLType(){return"date"}}function EA(e,t){const{name:s,config:a}=ur(e,t);return a?.mode==="date"?new SA(s):new kA(s)}class _A extends ct{static[ie]="PgDoublePrecisionBuilder";constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new TA(t,this.config)}}class TA extends Xe{static[ie]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}function AA(e){return new _A(e??"")}class RA extends ct{static[ie]="PgInetBuilder";constructor(t){super(t,"string","PgInet")}build(t){return new IA(t,this.config)}}class IA extends Xe{static[ie]="PgInet";getSQLType(){return"inet"}}function OA(e){return new RA(e??"")}class MA extends jd{static[ie]="PgIntegerBuilder";constructor(t){super(t,"number","PgInteger")}build(t){return new DA(t,this.config)}}class DA extends Xe{static[ie]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}function $s(e){return new MA(e??"")}class FA extends ct{static[ie]="PgIntervalBuilder";constructor(t,s){super(t,"string","PgInterval"),this.config.intervalConfig=s}build(t){return new LA(t,this.config)}}class LA extends Xe{static[ie]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const t=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${t}${s}`}}function BA(e,t={}){const{name:s,config:a}=ur(e,t);return new FA(s,a)}class $A extends ct{static[ie]="PgJsonBuilder";constructor(t){super(t,"json","PgJson")}build(t){return new VA(t,this.config)}}class VA extends Xe{static[ie]="PgJson";constructor(t,s){super(t,s)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function zA(e){return new $A(e??"")}class UA extends ct{static[ie]="PgJsonbBuilder";constructor(t){super(t,"json","PgJsonb")}build(t){return new qA(t,this.config)}}class qA extends Xe{static[ie]="PgJsonb";constructor(t,s){super(t,s)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function xa(e){return new UA(e??"")}class WA extends ct{static[ie]="PgLineBuilder";constructor(t){super(t,"array","PgLine")}build(t){return new KA(t,this.config)}}class KA extends Xe{static[ie]="PgLine";getSQLType(){return"line"}mapFromDriverValue(t){const[s,a,o]=t.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(a),Number.parseFloat(o)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}class QA extends ct{static[ie]="PgLineABCBuilder";constructor(t){super(t,"json","PgLineABC")}build(t){return new HA(t,this.config)}}class HA extends Xe{static[ie]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(t){const[s,a,o]=t.slice(1,-1).split(",");return{a:Number.parseFloat(s),b:Number.parseFloat(a),c:Number.parseFloat(o)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}function GA(e,t){const{name:s,config:a}=ur(e,t);return!a?.mode||a.mode==="tuple"?new WA(s):new QA(s)}class ZA extends ct{static[ie]="PgMacaddrBuilder";constructor(t){super(t,"string","PgMacaddr")}build(t){return new YA(t,this.config)}}class YA extends Xe{static[ie]="PgMacaddr";getSQLType(){return"macaddr"}}function XA(e){return new ZA(e??"")}class JA extends ct{static[ie]="PgMacaddr8Builder";constructor(t){super(t,"string","PgMacaddr8")}build(t){return new eR(t,this.config)}}class eR extends Xe{static[ie]="PgMacaddr8";getSQLType(){return"macaddr8"}}function tR(e){return new JA(e??"")}class rR extends ct{static[ie]="PgNumericBuilder";constructor(t,s,a){super(t,"string","PgNumeric"),this.config.precision=s,this.config.scale=a}build(t){return new nR(t,this.config)}}class nR extends Xe{static[ie]="PgNumeric";precision;scale;constructor(t,s){super(t,s),this.precision=s.precision,this.scale=s.scale}mapFromDriverValue(t){return typeof t=="string"?t:String(t)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class sR extends ct{static[ie]="PgNumericNumberBuilder";constructor(t,s,a){super(t,"number","PgNumericNumber"),this.config.precision=s,this.config.scale=a}build(t){return new iR(t,this.config)}}class iR extends Xe{static[ie]="PgNumericNumber";precision;scale;constructor(t,s){super(t,s),this.precision=s.precision,this.scale=s.scale}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class aR extends ct{static[ie]="PgNumericBigIntBuilder";constructor(t,s,a){super(t,"bigint","PgNumericBigInt"),this.config.precision=s,this.config.scale=a}build(t){return new oR(t,this.config)}}class oR extends Xe{static[ie]="PgNumericBigInt";precision;scale;constructor(t,s){super(t,s),this.precision=s.precision,this.scale=s.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function lR(e,t){const{name:s,config:a}=ur(e,t),o=a?.mode;return o==="number"?new sR(s,a?.precision,a?.scale):o==="bigint"?new aR(s,a?.precision,a?.scale):new rR(s,a?.precision,a?.scale)}class cR extends ct{static[ie]="PgPointTupleBuilder";constructor(t){super(t,"array","PgPointTuple")}build(t){return new dR(t,this.config)}}class dR extends Xe{static[ie]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[s,a]=t.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(a)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}class uR extends ct{static[ie]="PgPointObjectBuilder";constructor(t){super(t,"json","PgPointObject")}build(t){return new fR(t,this.config)}}class fR extends Xe{static[ie]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[s,a]=t.slice(1,-1).split(",");return{x:Number.parseFloat(s),y:Number.parseFloat(a)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}function mR(e,t){const{name:s,config:a}=ur(e,t);return!a?.mode||a.mode==="tuple"?new cR(s):new uR(s)}function hR(e){const t=[];for(let s=0;s<e.length;s+=2)t.push(Number.parseInt(e.slice(s,s+2),16));return new Uint8Array(t)}function Gv(e,t){const s=new ArrayBuffer(8),a=new DataView(s);for(let o=0;o<8;o++)a.setUint8(o,e[t+o]);return a.getFloat64(0,!0)}function Lw(e){const t=hR(e);let s=0;const a=t[s];s+=1;const o=new DataView(t.buffer),c=o.getUint32(s,a===1);if(s+=4,c&536870912&&(o.getUint32(s,a===1),s+=4),(c&65535)===1){const u=Gv(t,s);s+=8;const f=Gv(t,s);return s+=8,[u,f]}throw new Error("Unsupported geometry type")}class pR extends ct{static[ie]="PgGeometryBuilder";constructor(t){super(t,"array","PgGeometry")}build(t){return new gR(t,this.config)}}class gR extends Xe{static[ie]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return Lw(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}class xR extends ct{static[ie]="PgGeometryObjectBuilder";constructor(t){super(t,"json","PgGeometryObject")}build(t){return new vR(t,this.config)}}class vR extends Xe{static[ie]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const s=Lw(t);return{x:s[0],y:s[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}function yR(e,t){const{name:s,config:a}=ur(e,t);return!a?.mode||a.mode==="tuple"?new pR(s):new xR(s)}class bR extends ct{static[ie]="PgRealBuilder";constructor(t,s){super(t,"number","PgReal"),this.config.length=s}build(t){return new wR(t,this.config)}}class wR extends Xe{static[ie]="PgReal";constructor(t,s){super(t,s)}getSQLType(){return"real"}mapFromDriverValue=t=>typeof t=="string"?Number.parseFloat(t):t}function jR(e){return new bR(e??"")}class NR extends ct{static[ie]="PgSerialBuilder";constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new SR(t,this.config)}}class SR extends Xe{static[ie]="PgSerial";getSQLType(){return"serial"}}function CR(e){return new NR(e??"")}class kR extends jd{static[ie]="PgSmallIntBuilder";constructor(t){super(t,"number","PgSmallInt")}build(t){return new PR(t,this.config)}}class PR extends Xe{static[ie]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=t=>typeof t=="string"?Number(t):t}function ER(e){return new kR(e??"")}class _R extends ct{static[ie]="PgSmallSerialBuilder";constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new TR(t,this.config)}}class TR extends Xe{static[ie]="PgSmallSerial";getSQLType(){return"smallserial"}}function AR(e){return new _R(e??"")}class RR extends ct{static[ie]="PgTextBuilder";constructor(t,s){super(t,"string","PgText"),this.config.enumValues=s.enum}build(t){return new IR(t,this.config)}}class IR extends Xe{static[ie]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function Ue(e,t={}){const{name:s,config:a}=ur(e,t);return new RR(s,a)}class OR extends tl{constructor(t,s,a){super(t,"string","PgTime"),this.withTimezone=s,this.precision=a,this.config.withTimezone=s,this.config.precision=a}static[ie]="PgTimeBuilder";build(t){return new MR(t,this.config)}}class MR extends Xe{static[ie]="PgTime";withTimezone;precision;constructor(t,s){super(t,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function DR(e,t={}){const{name:s,config:a}=ur(e,t);return new OR(s,a.withTimezone??!1,a.precision)}class FR extends tl{static[ie]="PgTimestampBuilder";constructor(t,s,a){super(t,"date","PgTimestamp"),this.config.withTimezone=s,this.config.precision=a}build(t){return new LR(t,this.config)}}class LR extends Xe{static[ie]="PgTimestamp";withTimezone;precision;constructor(t,s){super(t,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=t=>new Date(this.withTimezone?t:t+"+0000");mapToDriverValue=t=>t.toISOString()}class BR extends tl{static[ie]="PgTimestampStringBuilder";constructor(t,s,a){super(t,"string","PgTimestampString"),this.config.withTimezone=s,this.config.precision=a}build(t){return new $R(t,this.config)}}class $R extends Xe{static[ie]="PgTimestampString";withTimezone;precision;constructor(t,s){super(t,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function bt(e,t={}){const{name:s,config:a}=ur(e,t);return a?.mode==="string"?new BR(s,a.withTimezone??!1,a.precision):new FR(s,a?.withTimezone??!1,a?.precision)}class VR extends ct{static[ie]="PgUUIDBuilder";constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(ft`gen_random_uuid()`)}build(t){return new zR(t,this.config)}}class zR extends Xe{static[ie]="PgUUID";getSQLType(){return"uuid"}}function UR(e){return new VR(e??"")}class qR extends ct{static[ie]="PgVarcharBuilder";constructor(t,s){super(t,"string","PgVarchar"),this.config.length=s.length,this.config.enumValues=s.enum}build(t){return new WR(t,this.config)}}class WR extends Xe{static[ie]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function jr(e,t={}){const{name:s,config:a}=ur(e,t);return new qR(s,a)}class KR extends ct{static[ie]="PgBinaryVectorBuilder";constructor(t,s){super(t,"string","PgBinaryVector"),this.config.dimensions=s.dimensions}build(t){return new QR(t,this.config)}}class QR extends Xe{static[ie]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function HR(e,t){const{name:s,config:a}=ur(e,t);return new KR(s,a)}class GR extends ct{static[ie]="PgHalfVectorBuilder";constructor(t,s){super(t,"array","PgHalfVector"),this.config.dimensions=s.dimensions}build(t){return new ZR(t,this.config)}}class ZR extends Xe{static[ie]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}function YR(e,t){const{name:s,config:a}=ur(e,t);return new GR(s,a)}class XR extends ct{static[ie]="PgSparseVectorBuilder";constructor(t,s){super(t,"string","PgSparseVector"),this.config.dimensions=s.dimensions}build(t){return new JR(t,this.config)}}class JR extends Xe{static[ie]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function eI(e,t){const{name:s,config:a}=ur(e,t);return new XR(s,a)}class tI extends ct{static[ie]="PgVectorBuilder";constructor(t,s){super(t,"array","PgVector"),this.config.dimensions=s.dimensions}build(t){return new rI(t,this.config)}}class rI extends Xe{static[ie]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}function nI(e,t){const{name:s,config:a}=ur(e,t);return new tI(s,a)}function sI(){return{bigint:oA,bigserial:fA,boolean:Lr,char:xA,cidr:bA,customType:NA,date:EA,doublePrecision:AA,inet:OA,integer:$s,interval:BA,json:zA,jsonb:xa,line:GA,macaddr:XA,macaddr8:tR,numeric:lR,point:mR,geometry:yR,real:jR,serial:CR,smallint:ER,smallserial:AR,text:Ue,time:DR,timestamp:bt,uuid:UR,varchar:jr,bit:HR,halfvec:YR,sparsevec:eI,vector:nI}}const bm=Symbol.for("drizzle:PgInlineForeignKeys"),Zv=Symbol.for("drizzle:EnableRLS");class Yv extends lr{static[ie]="PgTable";static Symbol=Object.assign({},lr.Symbol,{InlineForeignKeys:bm,EnableRLS:Zv});[bm]=[];[Zv]=!1;[lr.Symbol.ExtraConfigBuilder]=void 0;[lr.Symbol.ExtraConfigColumns]={}}function iI(e,t,s,a,o=e){const c=new Yv(e,a,o),u=typeof t=="function"?t(sI()):t,f=Object.fromEntries(Object.entries(u).map(([x,y])=>{const w=y;w.setName(x);const C=w.build(c);return c[bm].push(...w.buildForeignKeys(C,c)),[x,C]})),h=Object.fromEntries(Object.entries(u).map(([x,y])=>{const w=y;w.setName(x);const C=w.buildExtraConfigColumn(c);return[x,C]})),g=Object.assign(c,f);return g[lr.Symbol.Columns]=f,g[lr.Symbol.ExtraConfigColumns]=h,Object.assign(g,{enableRLS:()=>(g[Yv.Symbol.EnableRLS]=!0,g)})}const kn=(e,t,s)=>iI(e,t,s,void 0);var ut;(function(e){e.assertEqual=o=>{};function t(o){}e.assertIs=t;function s(o){throw new Error}e.assertNever=s,e.arrayToEnum=o=>{const c={};for(const u of o)c[u]=u;return c},e.getValidEnumValues=o=>{const c=e.objectKeys(o).filter(f=>typeof o[o[f]]!="number"),u={};for(const f of c)u[f]=o[f];return e.objectValues(u)},e.objectValues=o=>e.objectKeys(o).map(function(c){return o[c]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const c=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&c.push(u);return c},e.find=(o,c)=>{for(const u of o)if(c(u))return u},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function a(o,c=" | "){return o.map(u=>typeof u=="string"?`'${u}'`:u).join(c)}e.joinValues=a,e.jsonStringifyReplacer=(o,c)=>typeof c=="bigint"?c.toString():c})(ut||(ut={}));var wm;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})(wm||(wm={}));const ke=ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rs=e=>{switch(typeof e){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return Number.isNaN(e)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(e)?ke.array:e===null?ke.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ke.promise:typeof Map<"u"&&e instanceof Map?ke.map:typeof Set<"u"&&e instanceof Set?ke.set:typeof Date<"u"&&e instanceof Date?ke.date:ke.object;default:return ke.unknown}},fe=ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),aI=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Gr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(c){return c.message},a={_errors:[]},o=c=>{for(const u of c.issues)if(u.code==="invalid_union")u.unionErrors.map(o);else if(u.code==="invalid_return_type")o(u.returnTypeError);else if(u.code==="invalid_arguments")o(u.argumentsError);else if(u.path.length===0)a._errors.push(s(u));else{let f=a,h=0;for(;h<u.path.length;){const g=u.path[h];h===u.path.length-1?(f[g]=f[g]||{_errors:[]},f[g]._errors.push(s(u))):f[g]=f[g]||{_errors:[]},f=f[g],h++}}};return o(this),a}static assert(t){if(!(t instanceof Gr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},a=[];for(const o of this.issues)if(o.path.length>0){const c=o.path[0];s[c]=s[c]||[],s[c].push(t(o))}else a.push(t(o));return{formErrors:a,fieldErrors:s}}get formErrors(){return this.flatten()}}Gr.create=e=>new Gr(e);const va=(e,t)=>{let s;switch(e.code){case fe.invalid_type:e.received===ke.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case fe.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,ut.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:s=`Unrecognized key(s) in object: ${ut.joinValues(e.keys,", ")}`;break;case fe.invalid_union:s="Invalid input";break;case fe.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${ut.joinValues(e.options)}`;break;case fe.invalid_enum_value:s=`Invalid enum value. Expected ${ut.joinValues(e.options)}, received '${e.received}'`;break;case fe.invalid_arguments:s="Invalid function arguments";break;case fe.invalid_return_type:s="Invalid function return type";break;case fe.invalid_date:s="Invalid date";break;case fe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:ut.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case fe.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case fe.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case fe.custom:s="Invalid input";break;case fe.invalid_intersection_types:s="Intersection results could not be merged";break;case fe.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case fe.not_finite:s="Number must be finite";break;default:s=t.defaultError,ut.assertNever(e)}return{message:s}};let Bw=va;function oI(e){Bw=e}function Vc(){return Bw}const zc=e=>{const{data:t,path:s,errorMaps:a,issueData:o}=e,c=[...s,...o.path||[]],u={...o,path:c};if(o.message!==void 0)return{...o,path:c,message:o.message};let f="";const h=a.filter(g=>!!g).slice().reverse();for(const g of h)f=g(u,{data:t,defaultError:f}).message;return{...o,path:c,message:f}},lI=[];function Se(e,t){const s=Vc(),a=zc({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===va?void 0:va].filter(o=>!!o)});e.common.issues.push(a)}class Nr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const a=[];for(const o of s){if(o.status==="aborted")return We;o.status==="dirty"&&t.dirty(),a.push(o.value)}return{status:t.value,value:a}}static async mergeObjectAsync(t,s){const a=[];for(const o of s){const c=await o.key,u=await o.value;a.push({key:c,value:u})}return Nr.mergeObjectSync(t,a)}static mergeObjectSync(t,s){const a={};for(const o of s){const{key:c,value:u}=o;if(c.status==="aborted"||u.status==="aborted")return We;c.status==="dirty"&&t.dirty(),u.status==="dirty"&&t.dirty(),c.value!=="__proto__"&&(typeof u.value<"u"||o.alwaysSet)&&(a[c.value]=u.value)}return{status:t.value,value:a}}}const We=Object.freeze({status:"aborted"}),aa=e=>({status:"dirty",value:e}),Er=e=>({status:"valid",value:e}),jm=e=>e.status==="aborted",Nm=e=>e.status==="dirty",Ni=e=>e.status==="valid",Ao=e=>typeof Promise<"u"&&e instanceof Promise;var Le;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Le||(Le={}));class Vn{constructor(t,s,a,o){this._cachedPath=[],this.parent=t,this.data=s,this._path=a,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Xv=(e,t)=>{if(Ni(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Gr(e.common.issues);return this._error=s,this._error}}};function et(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:a,description:o}=e;if(t&&(s||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(u,f)=>{const{message:h}=e;return u.code==="invalid_enum_value"?{message:h??f.defaultError}:typeof f.data>"u"?{message:h??a??f.defaultError}:u.code!=="invalid_type"?{message:f.defaultError}:{message:h??s??f.defaultError}},description:o}}class st{get description(){return this._def.description}_getType(t){return rs(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:rs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Nr,ctx:{common:t.parent.common,data:t.data,parsedType:rs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(Ao(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const a=this.safeParse(t,s);if(a.success)return a.data;throw a.error}safeParse(t,s){const a={common:{issues:[],async:s?.async??!1,contextualErrorMap:s?.errorMap},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rs(t)},o=this._parseSync({data:t,path:a.path,parent:a});return Xv(a,o)}"~validate"(t){const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rs(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return Ni(a)?{value:a.value}:{issues:s.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>Ni(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,s){const a=await this.safeParseAsync(t,s);if(a.success)return a.data;throw a.error}async safeParseAsync(t,s){const a={common:{issues:[],contextualErrorMap:s?.errorMap,async:!0},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rs(t)},o=this._parse({data:t,path:a.path,parent:a}),c=await(Ao(o)?o:Promise.resolve(o));return Xv(a,c)}refine(t,s){const a=o=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(o):s;return this._refinement((o,c)=>{const u=t(o),f=()=>c.addIssue({code:fe.custom,...a(o)});return typeof Promise<"u"&&u instanceof Promise?u.then(h=>h?!0:(f(),!1)):u?!0:(f(),!1)})}refinement(t,s){return this._refinement((a,o)=>t(a)?!0:(o.addIssue(typeof s=="function"?s(a,o):s),!1))}_refinement(t){return new Nn({schema:this,typeName:Ke.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Bn.create(this,this._def)}nullable(){return Ks.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bn.create(this)}promise(){return ba.create(this,this._def)}or(t){return Mo.create([this,t],this._def)}and(t){return Do.create(this,t,this._def)}transform(t){return new Nn({...et(this._def),schema:this,typeName:Ke.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new Vo({...et(this._def),innerType:this,defaultValue:s,typeName:Ke.ZodDefault})}brand(){return new Ch({typeName:Ke.ZodBranded,type:this,...et(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new zo({...et(this._def),innerType:this,catchValue:s,typeName:Ke.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return rl.create(this,t)}readonly(){return Uo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cI=/^c[^\s-]{8,}$/i,dI=/^[0-9a-z]+$/,uI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,fI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mI=/^[a-z0-9_-]{21}$/i,hI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,pI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,gI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vf;const vI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,bI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,jI=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,NI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,$w="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",SI=new RegExp(`^${$w}$`);function Vw(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function CI(e){return new RegExp(`^${Vw(e)}$`)}function zw(e){let t=`${$w}T${Vw(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function kI(e,t){return!!((t==="v4"||!t)&&vI.test(e)||(t==="v6"||!t)&&bI.test(e))}function PI(e,t){if(!hI.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const a=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),o=JSON.parse(atob(a));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||t&&o.alg!==t)}catch{return!1}}function EI(e,t){return!!((t==="v4"||!t)&&yI.test(e)||(t==="v6"||!t)&&wI.test(e))}class yn extends st{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ke.string){const c=this._getOrReturnCtx(t);return Se(c,{code:fe.invalid_type,expected:ke.string,received:c.parsedType}),We}const a=new Nr;let o;for(const c of this._def.checks)if(c.kind==="min")t.data.length<c.value&&(o=this._getOrReturnCtx(t,o),Se(o,{code:fe.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),a.dirty());else if(c.kind==="max")t.data.length>c.value&&(o=this._getOrReturnCtx(t,o),Se(o,{code:fe.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),a.dirty());else if(c.kind==="length"){const u=t.data.length>c.value,f=t.data.length<c.value;(u||f)&&(o=this._getOrReturnCtx(t,o),u?Se(o,{code:fe.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):f&&Se(o,{code:fe.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),a.dirty())}else if(c.kind==="email")gI.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"email",code:fe.invalid_string,message:c.message}),a.dirty());else if(c.kind==="emoji")Vf||(Vf=new RegExp(xI,"u")),Vf.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"emoji",code:fe.invalid_string,message:c.message}),a.dirty());else if(c.kind==="uuid")fI.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"uuid",code:fe.invalid_string,message:c.message}),a.dirty());else if(c.kind==="nanoid")mI.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"nanoid",code:fe.invalid_string,message:c.message}),a.dirty());else if(c.kind==="cuid")cI.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"cuid",code:fe.invalid_string,message:c.message}),a.dirty());else if(c.kind==="cuid2")dI.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"cuid2",code:fe.invalid_string,message:c.message}),a.dirty());else if(c.kind==="ulid")uI.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"ulid",code:fe.invalid_string,message:c.message}),a.dirty());else if(c.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),Se(o,{validation:"url",code:fe.invalid_string,message:c.message}),a.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"regex",code:fe.invalid_string,message:c.message}),a.dirty())):c.kind==="trim"?t.data=t.data.trim():c.kind==="includes"?t.data.includes(c.value,c.position)||(o=this._getOrReturnCtx(t,o),Se(o,{code:fe.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),a.dirty()):c.kind==="toLowerCase"?t.data=t.data.toLowerCase():c.kind==="toUpperCase"?t.data=t.data.toUpperCase():c.kind==="startsWith"?t.data.startsWith(c.value)||(o=this._getOrReturnCtx(t,o),Se(o,{code:fe.invalid_string,validation:{startsWith:c.value},message:c.message}),a.dirty()):c.kind==="endsWith"?t.data.endsWith(c.value)||(o=this._getOrReturnCtx(t,o),Se(o,{code:fe.invalid_string,validation:{endsWith:c.value},message:c.message}),a.dirty()):c.kind==="datetime"?zw(c).test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{code:fe.invalid_string,validation:"datetime",message:c.message}),a.dirty()):c.kind==="date"?SI.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{code:fe.invalid_string,validation:"date",message:c.message}),a.dirty()):c.kind==="time"?CI(c).test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{code:fe.invalid_string,validation:"time",message:c.message}),a.dirty()):c.kind==="duration"?pI.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"duration",code:fe.invalid_string,message:c.message}),a.dirty()):c.kind==="ip"?kI(t.data,c.version)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"ip",code:fe.invalid_string,message:c.message}),a.dirty()):c.kind==="jwt"?PI(t.data,c.alg)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"jwt",code:fe.invalid_string,message:c.message}),a.dirty()):c.kind==="cidr"?EI(t.data,c.version)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"cidr",code:fe.invalid_string,message:c.message}),a.dirty()):c.kind==="base64"?jI.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"base64",code:fe.invalid_string,message:c.message}),a.dirty()):c.kind==="base64url"?NI.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"base64url",code:fe.invalid_string,message:c.message}),a.dirty()):ut.assertNever(c);return{status:a.value,value:t.data}}_regex(t,s,a){return this.refinement(o=>t.test(o),{validation:s,code:fe.invalid_string,...Le.errToObj(a)})}_addCheck(t){return new yn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Le.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Le.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Le.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Le.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Le.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Le.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Le.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Le.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Le.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Le.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Le.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Le.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Le.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Le.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Le.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Le.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...Le.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s?.position,...Le.errToObj(s?.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...Le.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...Le.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...Le.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...Le.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...Le.errToObj(s)})}nonempty(t){return this.min(1,Le.errToObj(t))}trim(){return new yn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}yn.create=e=>new yn({checks:[],typeName:Ke.ZodString,coerce:e?.coerce??!1,...et(e)});function _I(e,t){const s=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,o=s>a?s:a,c=Number.parseInt(e.toFixed(o).replace(".","")),u=Number.parseInt(t.toFixed(o).replace(".",""));return c%u/10**o}class Us extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ke.number){const c=this._getOrReturnCtx(t);return Se(c,{code:fe.invalid_type,expected:ke.number,received:c.parsedType}),We}let a;const o=new Nr;for(const c of this._def.checks)c.kind==="int"?ut.isInteger(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:fe.invalid_type,expected:"integer",received:"float",message:c.message}),o.dirty()):c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(a=this._getOrReturnCtx(t,a),Se(a,{code:fe.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),o.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(a=this._getOrReturnCtx(t,a),Se(a,{code:fe.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),o.dirty()):c.kind==="multipleOf"?_I(t.data,c.value)!==0&&(a=this._getOrReturnCtx(t,a),Se(a,{code:fe.not_multiple_of,multipleOf:c.value,message:c.message}),o.dirty()):c.kind==="finite"?Number.isFinite(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:fe.not_finite,message:c.message}),o.dirty()):ut.assertNever(c);return{status:o.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,Le.toString(s))}gt(t,s){return this.setLimit("min",t,!1,Le.toString(s))}lte(t,s){return this.setLimit("max",t,!0,Le.toString(s))}lt(t,s){return this.setLimit("max",t,!1,Le.toString(s))}setLimit(t,s,a,o){return new Us({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:a,message:Le.toString(o)}]})}_addCheck(t){return new Us({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Le.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:Le.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:Le.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ut.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(s===null||a.value>s)&&(s=a.value):a.kind==="max"&&(t===null||a.value<t)&&(t=a.value)}return Number.isFinite(s)&&Number.isFinite(t)}}Us.create=e=>new Us({checks:[],typeName:Ke.ZodNumber,coerce:e?.coerce||!1,...et(e)});class qs extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ke.bigint)return this._getInvalidInput(t);let a;const o=new Nr;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(a=this._getOrReturnCtx(t,a),Se(a,{code:fe.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(a=this._getOrReturnCtx(t,a),Se(a,{code:fe.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="multipleOf"?t.data%c.value!==BigInt(0)&&(a=this._getOrReturnCtx(t,a),Se(a,{code:fe.not_multiple_of,multipleOf:c.value,message:c.message}),o.dirty()):ut.assertNever(c);return{status:o.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return Se(s,{code:fe.invalid_type,expected:ke.bigint,received:s.parsedType}),We}gte(t,s){return this.setLimit("min",t,!0,Le.toString(s))}gt(t,s){return this.setLimit("min",t,!1,Le.toString(s))}lte(t,s){return this.setLimit("max",t,!0,Le.toString(s))}lt(t,s){return this.setLimit("max",t,!1,Le.toString(s))}setLimit(t,s,a,o){return new qs({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:a,message:Le.toString(o)}]})}_addCheck(t){return new qs({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:Le.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}qs.create=e=>new qs({checks:[],typeName:Ke.ZodBigInt,coerce:e?.coerce??!1,...et(e)});class Ro extends st{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ke.boolean){const a=this._getOrReturnCtx(t);return Se(a,{code:fe.invalid_type,expected:ke.boolean,received:a.parsedType}),We}return Er(t.data)}}Ro.create=e=>new Ro({typeName:Ke.ZodBoolean,coerce:e?.coerce||!1,...et(e)});class Si extends st{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ke.date){const c=this._getOrReturnCtx(t);return Se(c,{code:fe.invalid_type,expected:ke.date,received:c.parsedType}),We}if(Number.isNaN(t.data.getTime())){const c=this._getOrReturnCtx(t);return Se(c,{code:fe.invalid_date}),We}const a=new Nr;let o;for(const c of this._def.checks)c.kind==="min"?t.data.getTime()<c.value&&(o=this._getOrReturnCtx(t,o),Se(o,{code:fe.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),a.dirty()):c.kind==="max"?t.data.getTime()>c.value&&(o=this._getOrReturnCtx(t,o),Se(o,{code:fe.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),a.dirty()):ut.assertNever(c);return{status:a.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Si({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:Le.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:Le.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}Si.create=e=>new Si({checks:[],coerce:e?.coerce||!1,typeName:Ke.ZodDate,...et(e)});class Uc extends st{_parse(t){if(this._getType(t)!==ke.symbol){const a=this._getOrReturnCtx(t);return Se(a,{code:fe.invalid_type,expected:ke.symbol,received:a.parsedType}),We}return Er(t.data)}}Uc.create=e=>new Uc({typeName:Ke.ZodSymbol,...et(e)});class Io extends st{_parse(t){if(this._getType(t)!==ke.undefined){const a=this._getOrReturnCtx(t);return Se(a,{code:fe.invalid_type,expected:ke.undefined,received:a.parsedType}),We}return Er(t.data)}}Io.create=e=>new Io({typeName:Ke.ZodUndefined,...et(e)});class Oo extends st{_parse(t){if(this._getType(t)!==ke.null){const a=this._getOrReturnCtx(t);return Se(a,{code:fe.invalid_type,expected:ke.null,received:a.parsedType}),We}return Er(t.data)}}Oo.create=e=>new Oo({typeName:Ke.ZodNull,...et(e)});class ya extends st{constructor(){super(...arguments),this._any=!0}_parse(t){return Er(t.data)}}ya.create=e=>new ya({typeName:Ke.ZodAny,...et(e)});class hi extends st{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Er(t.data)}}hi.create=e=>new hi({typeName:Ke.ZodUnknown,...et(e)});class ls extends st{_parse(t){const s=this._getOrReturnCtx(t);return Se(s,{code:fe.invalid_type,expected:ke.never,received:s.parsedType}),We}}ls.create=e=>new ls({typeName:Ke.ZodNever,...et(e)});class qc extends st{_parse(t){if(this._getType(t)!==ke.undefined){const a=this._getOrReturnCtx(t);return Se(a,{code:fe.invalid_type,expected:ke.void,received:a.parsedType}),We}return Er(t.data)}}qc.create=e=>new qc({typeName:Ke.ZodVoid,...et(e)});class bn extends st{_parse(t){const{ctx:s,status:a}=this._processInputParams(t),o=this._def;if(s.parsedType!==ke.array)return Se(s,{code:fe.invalid_type,expected:ke.array,received:s.parsedType}),We;if(o.exactLength!==null){const u=s.data.length>o.exactLength.value,f=s.data.length<o.exactLength.value;(u||f)&&(Se(s,{code:u?fe.too_big:fe.too_small,minimum:f?o.exactLength.value:void 0,maximum:u?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),a.dirty())}if(o.minLength!==null&&s.data.length<o.minLength.value&&(Se(s,{code:fe.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),a.dirty()),o.maxLength!==null&&s.data.length>o.maxLength.value&&(Se(s,{code:fe.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),a.dirty()),s.common.async)return Promise.all([...s.data].map((u,f)=>o.type._parseAsync(new Vn(s,u,s.path,f)))).then(u=>Nr.mergeArray(a,u));const c=[...s.data].map((u,f)=>o.type._parseSync(new Vn(s,u,s.path,f)));return Nr.mergeArray(a,c)}get element(){return this._def.type}min(t,s){return new bn({...this._def,minLength:{value:t,message:Le.toString(s)}})}max(t,s){return new bn({...this._def,maxLength:{value:t,message:Le.toString(s)}})}length(t,s){return new bn({...this._def,exactLength:{value:t,message:Le.toString(s)}})}nonempty(t){return this.min(1,t)}}bn.create=(e,t)=>new bn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ke.ZodArray,...et(t)});function na(e){if(e instanceof It){const t={};for(const s in e.shape){const a=e.shape[s];t[s]=Bn.create(na(a))}return new It({...e._def,shape:()=>t})}else return e instanceof bn?new bn({...e._def,type:na(e.element)}):e instanceof Bn?Bn.create(na(e.unwrap())):e instanceof Ks?Ks.create(na(e.unwrap())):e instanceof zn?zn.create(e.items.map(t=>na(t))):e}class It extends st{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=ut.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==ke.object){const g=this._getOrReturnCtx(t);return Se(g,{code:fe.invalid_type,expected:ke.object,received:g.parsedType}),We}const{status:a,ctx:o}=this._processInputParams(t),{shape:c,keys:u}=this._getCached(),f=[];if(!(this._def.catchall instanceof ls&&this._def.unknownKeys==="strip"))for(const g in o.data)u.includes(g)||f.push(g);const h=[];for(const g of u){const x=c[g],y=o.data[g];h.push({key:{status:"valid",value:g},value:x._parse(new Vn(o,y,o.path,g)),alwaysSet:g in o.data})}if(this._def.catchall instanceof ls){const g=this._def.unknownKeys;if(g==="passthrough")for(const x of f)h.push({key:{status:"valid",value:x},value:{status:"valid",value:o.data[x]}});else if(g==="strict")f.length>0&&(Se(o,{code:fe.unrecognized_keys,keys:f}),a.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const x of f){const y=o.data[x];h.push({key:{status:"valid",value:x},value:g._parse(new Vn(o,y,o.path,x)),alwaysSet:x in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const g=[];for(const x of h){const y=await x.key,w=await x.value;g.push({key:y,value:w,alwaysSet:x.alwaysSet})}return g}).then(g=>Nr.mergeObjectSync(a,g)):Nr.mergeObjectSync(a,h)}get shape(){return this._def.shape()}strict(t){return Le.errToObj,new It({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,a)=>{const o=this._def.errorMap?.(s,a).message??a.defaultError;return s.code==="unrecognized_keys"?{message:Le.errToObj(t).message??o}:{message:o}}}:{}})}strip(){return new It({...this._def,unknownKeys:"strip"})}passthrough(){return new It({...this._def,unknownKeys:"passthrough"})}extend(t){return new It({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new It({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ke.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new It({...this._def,catchall:t})}pick(t){const s={};for(const a of ut.objectKeys(t))t[a]&&this.shape[a]&&(s[a]=this.shape[a]);return new It({...this._def,shape:()=>s})}omit(t){const s={};for(const a of ut.objectKeys(this.shape))t[a]||(s[a]=this.shape[a]);return new It({...this._def,shape:()=>s})}deepPartial(){return na(this)}partial(t){const s={};for(const a of ut.objectKeys(this.shape)){const o=this.shape[a];t&&!t[a]?s[a]=o:s[a]=o.optional()}return new It({...this._def,shape:()=>s})}required(t){const s={};for(const a of ut.objectKeys(this.shape))if(t&&!t[a])s[a]=this.shape[a];else{let c=this.shape[a];for(;c instanceof Bn;)c=c._def.innerType;s[a]=c}return new It({...this._def,shape:()=>s})}keyof(){return Uw(ut.objectKeys(this.shape))}}It.create=(e,t)=>new It({shape:()=>e,unknownKeys:"strip",catchall:ls.create(),typeName:Ke.ZodObject,...et(t)});It.strictCreate=(e,t)=>new It({shape:()=>e,unknownKeys:"strict",catchall:ls.create(),typeName:Ke.ZodObject,...et(t)});It.lazycreate=(e,t)=>new It({shape:e,unknownKeys:"strip",catchall:ls.create(),typeName:Ke.ZodObject,...et(t)});class Mo extends st{_parse(t){const{ctx:s}=this._processInputParams(t),a=this._def.options;function o(c){for(const f of c)if(f.result.status==="valid")return f.result;for(const f of c)if(f.result.status==="dirty")return s.common.issues.push(...f.ctx.common.issues),f.result;const u=c.map(f=>new Gr(f.ctx.common.issues));return Se(s,{code:fe.invalid_union,unionErrors:u}),We}if(s.common.async)return Promise.all(a.map(async c=>{const u={...s,common:{...s.common,issues:[]},parent:null};return{result:await c._parseAsync({data:s.data,path:s.path,parent:u}),ctx:u}})).then(o);{let c;const u=[];for(const h of a){const g={...s,common:{...s.common,issues:[]},parent:null},x=h._parseSync({data:s.data,path:s.path,parent:g});if(x.status==="valid")return x;x.status==="dirty"&&!c&&(c={result:x,ctx:g}),g.common.issues.length&&u.push(g.common.issues)}if(c)return s.common.issues.push(...c.ctx.common.issues),c.result;const f=u.map(h=>new Gr(h));return Se(s,{code:fe.invalid_union,unionErrors:f}),We}}get options(){return this._def.options}}Mo.create=(e,t)=>new Mo({options:e,typeName:Ke.ZodUnion,...et(t)});const ts=e=>e instanceof Lo?ts(e.schema):e instanceof Nn?ts(e.innerType()):e instanceof Bo?[e.value]:e instanceof Ws?e.options:e instanceof $o?ut.objectValues(e.enum):e instanceof Vo?ts(e._def.innerType):e instanceof Io?[void 0]:e instanceof Oo?[null]:e instanceof Bn?[void 0,...ts(e.unwrap())]:e instanceof Ks?[null,...ts(e.unwrap())]:e instanceof Ch||e instanceof Uo?ts(e.unwrap()):e instanceof zo?ts(e._def.innerType):[];class Nd extends st{_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==ke.object)return Se(s,{code:fe.invalid_type,expected:ke.object,received:s.parsedType}),We;const a=this.discriminator,o=s.data[a],c=this.optionsMap.get(o);return c?s.common.async?c._parseAsync({data:s.data,path:s.path,parent:s}):c._parseSync({data:s.data,path:s.path,parent:s}):(Se(s,{code:fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),We)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,s,a){const o=new Map;for(const c of s){const u=ts(c.shape[t]);if(!u.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const f of u){if(o.has(f))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(f)}`);o.set(f,c)}}return new Nd({typeName:Ke.ZodDiscriminatedUnion,discriminator:t,options:s,optionsMap:o,...et(a)})}}function Sm(e,t){const s=rs(e),a=rs(t);if(e===t)return{valid:!0,data:e};if(s===ke.object&&a===ke.object){const o=ut.objectKeys(t),c=ut.objectKeys(e).filter(f=>o.indexOf(f)!==-1),u={...e,...t};for(const f of c){const h=Sm(e[f],t[f]);if(!h.valid)return{valid:!1};u[f]=h.data}return{valid:!0,data:u}}else if(s===ke.array&&a===ke.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let c=0;c<e.length;c++){const u=e[c],f=t[c],h=Sm(u,f);if(!h.valid)return{valid:!1};o.push(h.data)}return{valid:!0,data:o}}else return s===ke.date&&a===ke.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Do extends st{_parse(t){const{status:s,ctx:a}=this._processInputParams(t),o=(c,u)=>{if(jm(c)||jm(u))return We;const f=Sm(c.value,u.value);return f.valid?((Nm(c)||Nm(u))&&s.dirty(),{status:s.value,value:f.data}):(Se(a,{code:fe.invalid_intersection_types}),We)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([c,u])=>o(c,u)):o(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}Do.create=(e,t,s)=>new Do({left:e,right:t,typeName:Ke.ZodIntersection,...et(s)});class zn extends st{_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==ke.array)return Se(a,{code:fe.invalid_type,expected:ke.array,received:a.parsedType}),We;if(a.data.length<this._def.items.length)return Se(a,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),We;!this._def.rest&&a.data.length>this._def.items.length&&(Se(a,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const c=[...a.data].map((u,f)=>{const h=this._def.items[f]||this._def.rest;return h?h._parse(new Vn(a,u,a.path,f)):null}).filter(u=>!!u);return a.common.async?Promise.all(c).then(u=>Nr.mergeArray(s,u)):Nr.mergeArray(s,c)}get items(){return this._def.items}rest(t){return new zn({...this._def,rest:t})}}zn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zn({items:e,typeName:Ke.ZodTuple,rest:null,...et(t)})};class Fo extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==ke.object)return Se(a,{code:fe.invalid_type,expected:ke.object,received:a.parsedType}),We;const o=[],c=this._def.keyType,u=this._def.valueType;for(const f in a.data)o.push({key:c._parse(new Vn(a,f,a.path,f)),value:u._parse(new Vn(a,a.data[f],a.path,f)),alwaysSet:f in a.data});return a.common.async?Nr.mergeObjectAsync(s,o):Nr.mergeObjectSync(s,o)}get element(){return this._def.valueType}static create(t,s,a){return s instanceof st?new Fo({keyType:t,valueType:s,typeName:Ke.ZodRecord,...et(a)}):new Fo({keyType:yn.create(),valueType:t,typeName:Ke.ZodRecord,...et(s)})}}class Wc extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==ke.map)return Se(a,{code:fe.invalid_type,expected:ke.map,received:a.parsedType}),We;const o=this._def.keyType,c=this._def.valueType,u=[...a.data.entries()].map(([f,h],g)=>({key:o._parse(new Vn(a,f,a.path,[g,"key"])),value:c._parse(new Vn(a,h,a.path,[g,"value"]))}));if(a.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const h of u){const g=await h.key,x=await h.value;if(g.status==="aborted"||x.status==="aborted")return We;(g.status==="dirty"||x.status==="dirty")&&s.dirty(),f.set(g.value,x.value)}return{status:s.value,value:f}})}else{const f=new Map;for(const h of u){const g=h.key,x=h.value;if(g.status==="aborted"||x.status==="aborted")return We;(g.status==="dirty"||x.status==="dirty")&&s.dirty(),f.set(g.value,x.value)}return{status:s.value,value:f}}}}Wc.create=(e,t,s)=>new Wc({valueType:t,keyType:e,typeName:Ke.ZodMap,...et(s)});class Ci extends st{_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==ke.set)return Se(a,{code:fe.invalid_type,expected:ke.set,received:a.parsedType}),We;const o=this._def;o.minSize!==null&&a.data.size<o.minSize.value&&(Se(a,{code:fe.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),s.dirty()),o.maxSize!==null&&a.data.size>o.maxSize.value&&(Se(a,{code:fe.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),s.dirty());const c=this._def.valueType;function u(h){const g=new Set;for(const x of h){if(x.status==="aborted")return We;x.status==="dirty"&&s.dirty(),g.add(x.value)}return{status:s.value,value:g}}const f=[...a.data.values()].map((h,g)=>c._parse(new Vn(a,h,a.path,g)));return a.common.async?Promise.all(f).then(h=>u(h)):u(f)}min(t,s){return new Ci({...this._def,minSize:{value:t,message:Le.toString(s)}})}max(t,s){return new Ci({...this._def,maxSize:{value:t,message:Le.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}Ci.create=(e,t)=>new Ci({valueType:e,minSize:null,maxSize:null,typeName:Ke.ZodSet,...et(t)});class ma extends st{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==ke.function)return Se(s,{code:fe.invalid_type,expected:ke.function,received:s.parsedType}),We;function a(f,h){return zc({data:f,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Vc(),va].filter(g=>!!g),issueData:{code:fe.invalid_arguments,argumentsError:h}})}function o(f,h){return zc({data:f,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Vc(),va].filter(g=>!!g),issueData:{code:fe.invalid_return_type,returnTypeError:h}})}const c={errorMap:s.common.contextualErrorMap},u=s.data;if(this._def.returns instanceof ba){const f=this;return Er(async function(...h){const g=new Gr([]),x=await f._def.args.parseAsync(h,c).catch(C=>{throw g.addIssue(a(h,C)),g}),y=await Reflect.apply(u,this,x);return await f._def.returns._def.type.parseAsync(y,c).catch(C=>{throw g.addIssue(o(y,C)),g})})}else{const f=this;return Er(function(...h){const g=f._def.args.safeParse(h,c);if(!g.success)throw new Gr([a(h,g.error)]);const x=Reflect.apply(u,this,g.data),y=f._def.returns.safeParse(x,c);if(!y.success)throw new Gr([o(x,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ma({...this._def,args:zn.create(t).rest(hi.create())})}returns(t){return new ma({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,s,a){return new ma({args:t||zn.create([]).rest(hi.create()),returns:s||hi.create(),typeName:Ke.ZodFunction,...et(a)})}}class Lo extends st{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Lo.create=(e,t)=>new Lo({getter:e,typeName:Ke.ZodLazy,...et(t)});class Bo extends st{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return Se(s,{received:s.data,code:fe.invalid_literal,expected:this._def.value}),We}return{status:"valid",value:t.data}}get value(){return this._def.value}}Bo.create=(e,t)=>new Bo({value:e,typeName:Ke.ZodLiteral,...et(t)});function Uw(e,t){return new Ws({values:e,typeName:Ke.ZodEnum,...et(t)})}class Ws extends st{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),a=this._def.values;return Se(s,{expected:ut.joinValues(a),received:s.parsedType,code:fe.invalid_type}),We}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),a=this._def.values;return Se(s,{received:s.data,code:fe.invalid_enum_value,options:a}),We}return Er(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return Ws.create(t,{...this._def,...s})}exclude(t,s=this._def){return Ws.create(this.options.filter(a=>!t.includes(a)),{...this._def,...s})}}Ws.create=Uw;class $o extends st{_parse(t){const s=ut.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(t);if(a.parsedType!==ke.string&&a.parsedType!==ke.number){const o=ut.objectValues(s);return Se(a,{expected:ut.joinValues(o),received:a.parsedType,code:fe.invalid_type}),We}if(this._cache||(this._cache=new Set(ut.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const o=ut.objectValues(s);return Se(a,{received:a.data,code:fe.invalid_enum_value,options:o}),We}return Er(t.data)}get enum(){return this._def.values}}$o.create=(e,t)=>new $o({values:e,typeName:Ke.ZodNativeEnum,...et(t)});class ba extends st{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==ke.promise&&s.common.async===!1)return Se(s,{code:fe.invalid_type,expected:ke.promise,received:s.parsedType}),We;const a=s.parsedType===ke.promise?s.data:Promise.resolve(s.data);return Er(a.then(o=>this._def.type.parseAsync(o,{path:s.path,errorMap:s.common.contextualErrorMap})))}}ba.create=(e,t)=>new ba({type:e,typeName:Ke.ZodPromise,...et(t)});class Nn extends st{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:a}=this._processInputParams(t),o=this._def.effect||null,c={addIssue:u=>{Se(a,u),u.fatal?s.abort():s.dirty()},get path(){return a.path}};if(c.addIssue=c.addIssue.bind(c),o.type==="preprocess"){const u=o.transform(a.data,c);if(a.common.async)return Promise.resolve(u).then(async f=>{if(s.value==="aborted")return We;const h=await this._def.schema._parseAsync({data:f,path:a.path,parent:a});return h.status==="aborted"?We:h.status==="dirty"||s.value==="dirty"?aa(h.value):h});{if(s.value==="aborted")return We;const f=this._def.schema._parseSync({data:u,path:a.path,parent:a});return f.status==="aborted"?We:f.status==="dirty"||s.value==="dirty"?aa(f.value):f}}if(o.type==="refinement"){const u=f=>{const h=o.refinement(f,c);if(a.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(a.common.async===!1){const f=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return f.status==="aborted"?We:(f.status==="dirty"&&s.dirty(),u(f.value),{status:s.value,value:f.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(f=>f.status==="aborted"?We:(f.status==="dirty"&&s.dirty(),u(f.value).then(()=>({status:s.value,value:f.value}))))}if(o.type==="transform")if(a.common.async===!1){const u=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Ni(u))return We;const f=o.transform(u.value,c);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:f}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(u=>Ni(u)?Promise.resolve(o.transform(u.value,c)).then(f=>({status:s.value,value:f})):We);ut.assertNever(o)}}Nn.create=(e,t,s)=>new Nn({schema:e,typeName:Ke.ZodEffects,effect:t,...et(s)});Nn.createWithPreprocess=(e,t,s)=>new Nn({schema:t,effect:{type:"preprocess",transform:e},typeName:Ke.ZodEffects,...et(s)});class Bn extends st{_parse(t){return this._getType(t)===ke.undefined?Er(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Bn.create=(e,t)=>new Bn({innerType:e,typeName:Ke.ZodOptional,...et(t)});class Ks extends st{_parse(t){return this._getType(t)===ke.null?Er(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ks.create=(e,t)=>new Ks({innerType:e,typeName:Ke.ZodNullable,...et(t)});class Vo extends st{_parse(t){const{ctx:s}=this._processInputParams(t);let a=s.data;return s.parsedType===ke.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Vo.create=(e,t)=>new Vo({innerType:e,typeName:Ke.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...et(t)});class zo extends st{_parse(t){const{ctx:s}=this._processInputParams(t),a={...s,common:{...s.common,issues:[]}},o=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Ao(o)?o.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new Gr(a.common.issues)},input:a.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Gr(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}zo.create=(e,t)=>new zo({innerType:e,typeName:Ke.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...et(t)});class Kc extends st{_parse(t){if(this._getType(t)!==ke.nan){const a=this._getOrReturnCtx(t);return Se(a,{code:fe.invalid_type,expected:ke.nan,received:a.parsedType}),We}return{status:"valid",value:t.data}}}Kc.create=e=>new Kc({typeName:Ke.ZodNaN,...et(e)});const TI=Symbol("zod_brand");class Ch extends st{_parse(t){const{ctx:s}=this._processInputParams(t),a=s.data;return this._def.type._parse({data:a,path:s.path,parent:s})}unwrap(){return this._def.type}}class rl extends st{_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return c.status==="aborted"?We:c.status==="dirty"?(s.dirty(),aa(c.value)):this._def.out._parseAsync({data:c.value,path:a.path,parent:a})})();{const o=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?We:o.status==="dirty"?(s.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:a.path,parent:a})}}static create(t,s){return new rl({in:t,out:s,typeName:Ke.ZodPipeline})}}class Uo extends st{_parse(t){const s=this._def.innerType._parse(t),a=o=>(Ni(o)&&(o.value=Object.freeze(o.value)),o);return Ao(s)?s.then(o=>a(o)):a(s)}unwrap(){return this._def.innerType}}Uo.create=(e,t)=>new Uo({innerType:e,typeName:Ke.ZodReadonly,...et(t)});function Jv(e,t){const s=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof s=="string"?{message:s}:s}function kh(e,t={},s){return e?ya.create().superRefine((a,o)=>{const c=e(a);if(c instanceof Promise)return c.then(u=>{if(!u){const f=Jv(t,a),h=f.fatal??s??!0;o.addIssue({code:"custom",...f,fatal:h})}});if(!c){const u=Jv(t,a),f=u.fatal??s??!0;o.addIssue({code:"custom",...u,fatal:f})}}):ya.create()}const AI={object:It.lazycreate};var Ke;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ke||(Ke={}));const RI=(e,t={message:`Input not instance of ${e.name}`})=>kh(s=>s instanceof e,t),Sd=yn.create,Ph=Us.create,II=Kc.create,OI=qs.create,Eh=Ro.create,MI=Si.create,DI=Uc.create,FI=Io.create,qw=Oo.create,qo=ya.create,LI=hi.create,BI=ls.create,$I=qc.create,Ww=bn.create,Kw=It.create,VI=It.strictCreate,_h=Mo.create,zI=Nd.create,UI=Do.create,qI=zn.create,Qw=Fo.create,WI=Wc.create,KI=Ci.create,QI=ma.create,HI=Lo.create,GI=Bo.create,ZI=Ws.create,YI=$o.create,XI=ba.create,ey=Nn.create,JI=Bn.create,e4=Ks.create,t4=Nn.createWithPreprocess,r4=rl.create,n4=()=>Sd().optional(),s4=()=>Ph().optional(),i4=()=>Eh().optional(),a4={string:(e=>yn.create({...e,coerce:!0})),number:(e=>Us.create({...e,coerce:!0})),boolean:(e=>Ro.create({...e,coerce:!0})),bigint:(e=>qs.create({...e,coerce:!0})),date:(e=>Si.create({...e,coerce:!0}))},o4=We,l4=Object.freeze(Object.defineProperty({__proto__:null,BRAND:TI,DIRTY:aa,EMPTY_PATH:lI,INVALID:We,NEVER:o4,OK:Er,ParseStatus:Nr,Schema:st,ZodAny:ya,ZodArray:bn,ZodBigInt:qs,ZodBoolean:Ro,ZodBranded:Ch,ZodCatch:zo,ZodDate:Si,ZodDefault:Vo,ZodDiscriminatedUnion:Nd,ZodEffects:Nn,ZodEnum:Ws,ZodError:Gr,get ZodFirstPartyTypeKind(){return Ke},ZodFunction:ma,ZodIntersection:Do,ZodIssueCode:fe,ZodLazy:Lo,ZodLiteral:Bo,ZodMap:Wc,ZodNaN:Kc,ZodNativeEnum:$o,ZodNever:ls,ZodNull:Oo,ZodNullable:Ks,ZodNumber:Us,ZodObject:It,ZodOptional:Bn,ZodParsedType:ke,ZodPipeline:rl,ZodPromise:ba,ZodReadonly:Uo,ZodRecord:Fo,ZodSchema:st,ZodSet:Ci,ZodString:yn,ZodSymbol:Uc,ZodTransformer:Nn,ZodTuple:zn,ZodType:st,ZodUndefined:Io,ZodUnion:Mo,ZodUnknown:hi,ZodVoid:qc,addIssueToContext:Se,any:qo,array:Ww,bigint:OI,boolean:Eh,coerce:a4,custom:kh,date:MI,datetimeRegex:zw,defaultErrorMap:va,discriminatedUnion:zI,effect:ey,enum:ZI,function:QI,getErrorMap:Vc,getParsedType:rs,instanceof:RI,intersection:UI,isAborted:jm,isAsync:Ao,isDirty:Nm,isValid:Ni,late:AI,lazy:HI,literal:GI,makeIssue:zc,map:WI,nan:II,nativeEnum:YI,never:BI,null:qw,nullable:e4,number:Ph,object:Kw,get objectUtil(){return wm},oboolean:i4,onumber:s4,optional:JI,ostring:n4,pipeline:r4,preprocess:t4,promise:XI,quotelessJson:aI,record:Qw,set:KI,setErrorMap:oI,strictObject:VI,string:Sd,symbol:DI,transformer:ey,tuple:qI,undefined:FI,union:_h,unknown:LI,get util(){return ut},void:$I},Symbol.toStringTag,{value:"Module"})),At={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Vt(e,t){return t.includes(e.columnType)}function c4(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const d4=_h([Sd(),Ph(),Eh(),qw()]),u4=_h([d4,Qw(qo()),Ww(qo())]),f4=kh(e=>e instanceof Buffer);function Hw(e,t){const s=t?.zodInstance??l4,a=t?.coerce??{};let o;return c4(e)&&(o=e.enumValues.length?s.enum(e.enumValues):s.string()),o||(Vt(e,["PgGeometry","PgPointTuple"])?o=s.tuple([s.number(),s.number()]):Vt(e,["PgGeometryObject","PgPointObject"])?o=s.object({x:s.number(),y:s.number()}):Vt(e,["PgHalfVector","PgVector"])?(o=s.array(s.number()),o=e.dimensions?o.length(e.dimensions):o):Vt(e,["PgLine"])?o=s.tuple([s.number(),s.number(),s.number()]):Vt(e,["PgLineABC"])?o=s.object({a:s.number(),b:s.number(),c:s.number()}):Vt(e,["PgArray"])?(o=s.array(Hw(e.baseColumn,s)),o=e.size?o.length(e.size):o):e.dataType==="array"?o=s.array(s.any()):e.dataType==="number"?o=m4(e,s,a):e.dataType==="bigint"?o=h4(e,s,a):e.dataType==="boolean"?o=a===!0||a.boolean?s.coerce.boolean():s.boolean():e.dataType==="date"?o=a===!0||a.date?s.coerce.date():s.date():e.dataType==="string"?o=p4(e,s,a):e.dataType==="json"?o=u4:e.dataType==="custom"?o=s.any():e.dataType==="buffer"&&(o=f4)),o||(o=s.any()),o}function m4(e,t,s){let a=e.getSQLType().includes("unsigned"),o,c,u=!1;Vt(e,["MySqlTinyInt","SingleStoreTinyInt"])?(o=a?0:At.INT8_MIN,c=a?At.INT8_UNSIGNED_MAX:At.INT8_MAX,u=!0):Vt(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=a?0:At.INT16_MIN,c=a?At.INT16_UNSIGNED_MAX:At.INT16_MAX,u=!0):Vt(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=a?0:At.INT24_MIN,c=a?At.INT24_UNSIGNED_MAX:At.INT24_MAX,u=Vt(e,["MySqlMediumInt","SingleStoreMediumInt"])):Vt(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=a?0:At.INT32_MIN,c=a?At.INT32_UNSIGNED_MAX:At.INT32_MAX,u=!0):Vt(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=a?0:At.INT48_MIN,c=a?At.INT48_UNSIGNED_MAX:At.INT48_MAX):Vt(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(a=a||Vt(e,["MySqlSerial","SingleStoreSerial"]),o=a?0:Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,u=!0):Vt(e,["MySqlYear","SingleStoreYear"])?(o=1901,c=2155,u=!0):(o=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER);let f=s===!0||s?.number?t.coerce.number():t.number();return f=f.min(o).max(c),u?f.int():f}function h4(e,t,s){const a=e.getSQLType().includes("unsigned"),o=a?0n:At.INT64_MIN,c=a?At.INT64_UNSIGNED_MAX:At.INT64_MAX;return(s===!0||s?.bigint?t.coerce.bigint():t.bigint()).min(o).max(c)}function p4(e,t,s){if(Vt(e,["PgUUID"]))return t.string().uuid();let a,o,c=!1;Vt(e,["PgVarchar","SQLiteText"])?a=e.length:Vt(e,["MySqlVarChar","SingleStoreVarChar"])?a=e.length??At.INT16_UNSIGNED_MAX:Vt(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?a=At.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?a=At.INT24_UNSIGNED_MAX:e.textType==="text"?a=At.INT16_UNSIGNED_MAX:a=At.INT8_UNSIGNED_MAX),Vt(e,["PgChar","MySqlChar","SingleStoreChar"])&&(a=e.length,c=!0),Vt(e,["PgBinaryVector"])&&(o=/^[01]+$/,a=e.dimensions);let u=s===!0||s?.string?t.coerce.string():t.string();return u=o?u.regex(o):u,a&&c?u.length(a):a?u.max(a):u}function Gw(e){return Iw(e)?tA(e):rA(e)}function Zw(e,t,s,a){const o={};for(const[c,u]of Object.entries(e)){if(!or(u,To)&&!or(u,Dt)&&!or(u,Dt.Aliased)&&typeof u=="object"){const y=Iw(u)||eA(u)?Gw(u):u;o[c]=Zw(y,t[c]??{},s,a);continue}const f=t[c];if(f!==void 0&&typeof f!="function"){o[c]=f;continue}const h=or(u,To)?u:void 0,g=h?Hw(h,a):qo(),x=typeof f=="function"?f(g):g;s.never(h)||(o[c]=x,h&&(s.nullable(h)&&(o[c]=o[c].nullable()),s.optional(h)&&(o[c]=o[c].optional())))}return Kw(o)}const g4={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Pn=(e,t)=>{const s=Gw(e);return Zw(s,{},g4)},x4=kn("god_register",{id:jr("id").primaryKey().default(ft`gen_random_uuid()`),phoneNumber:Ue("phone_number").notNull().unique(),tenancyName:Ue("tenancy_name").notNull(),registeredAt:bt("registered_at").default(ft`CURRENT_TIMESTAMP`)}),v4=kn("server_registry",{id:jr("id").primaryKey().default(ft`gen_random_uuid()`),serverName:Ue("server_name").notNull().unique(),maxBotCount:$s("max_bot_count").notNull(),currentBotCount:$s("current_bot_count").default(0),serverStatus:Ue("server_status").default("active"),serverUrl:Ue("server_url"),baseUrl:Ue("base_url"),sharedSecret:Ue("shared_secret"),description:Ue("description"),lastActive:bt("last_active").default(ft`CURRENT_TIMESTAMP`),createdAt:bt("created_at").default(ft`CURRENT_TIMESTAMP`),updatedAt:bt("updated_at").default(ft`CURRENT_TIMESTAMP`)}),y4=kn("users",{id:jr("id").primaryKey().default(ft`gen_random_uuid()`),username:Ue("username").notNull().unique(),password:Ue("password").notNull(),role:Ue("role").notNull().default("user"),serverName:Ue("server_name").notNull(),createdAt:bt("created_at").default(ft`CURRENT_TIMESTAMP`)}),b4=kn("bot_instances",{id:jr("id").primaryKey().default(ft`gen_random_uuid()`),name:Ue("name").notNull(),phoneNumber:Ue("phone_number"),status:Ue("status").notNull().default("offline"),credentials:xa("credentials"),settings:xa("settings").default({}),autoViewStatus:Lr("auto_view_status").default(!0),typingMode:Ue("typing_mode").default("recording"),presenceMode:Ue("presence_mode").default("available"),alwaysOnline:Lr("always_online").default(!1),presenceAutoSwitch:Lr("presence_auto_switch").default(!1),chatgptEnabled:Lr("chatgpt_enabled").default(!1),lastActivity:bt("last_activity"),messagesCount:$s("messages_count").default(0),commandsCount:$s("commands_count").default(0),approvalStatus:Ue("approval_status").default("pending"),isGuest:Lr("is_guest").default(!1),approvalDate:Ue("approval_date"),expirationMonths:$s("expiration_months"),autoStart:Lr("auto_start").default(!0),credentialVerified:Lr("credential_verified").default(!1),credentialPhone:Ue("credential_phone"),invalidReason:Ue("invalid_reason"),authMessageSentAt:bt("auth_message_sent_at"),serverName:Ue("server_name").notNull(),createdAt:bt("created_at").default(ft`CURRENT_TIMESTAMP`),updatedAt:bt("updated_at").default(ft`CURRENT_TIMESTAMP`)}),w4=kn("commands",{id:jr("id").primaryKey().default(ft`gen_random_uuid()`),name:Ue("name").notNull(),description:Ue("description").notNull(),response:Ue("response"),isActive:Lr("is_active").default(!0),useChatGPT:Lr("use_chatgpt").default(!1),botInstanceId:jr("bot_instance_id"),serverName:Ue("server_name").notNull(),createdAt:bt("created_at").default(ft`CURRENT_TIMESTAMP`)}),j4=kn("activities",{id:jr("id").primaryKey().default(ft`gen_random_uuid()`),botInstanceId:jr("bot_instance_id"),type:Ue("type").notNull(),description:Ue("description").notNull(),metadata:xa("metadata").default({}),serverName:Ue("server_name").notNull(),remoteTenancy:Ue("remote_tenancy"),remoteBotId:Ue("remote_bot_id"),phoneNumber:Ue("phone_number"),createdAt:bt("created_at").default(ft`CURRENT_TIMESTAMP`)}),N4=kn("groups",{id:jr("id").primaryKey().default(ft`gen_random_uuid()`),whatsappId:Ue("whatsapp_id").notNull().unique(),name:Ue("name").notNull(),description:Ue("description"),participantCount:$s("participant_count").default(0),botInstanceId:jr("bot_instance_id").notNull(),isActive:Lr("is_active").default(!0),serverName:Ue("server_name").notNull(),createdAt:bt("created_at").default(ft`CURRENT_TIMESTAMP`)}),S4=kn("viewed_status_ids",{id:jr("id").primaryKey().default(ft`gen_random_uuid()`),botInstanceId:jr("bot_instance_id").notNull(),statusId:Ue("status_id").notNull(),statusSender:Ue("status_sender").notNull(),viewedAt:bt("viewed_at").default(ft`CURRENT_TIMESTAMP`),expiresAt:bt("expires_at").notNull(),serverName:Ue("server_name").notNull()}),C4=kn("external_bot_connections",{id:jr("id").primaryKey().default(ft`gen_random_uuid()`),phoneNumber:Ue("phone_number").notNull(),ownerJid:Ue("owner_jid").notNull(),originServerName:Ue("origin_server_name").notNull(),remoteBotId:Ue("remote_bot_id").notNull(),sessionData:xa("session_data"),credentialsValid:Lr("credentials_valid").default(!1),lastValidation:bt("last_validation"),connectionEstablishedAt:bt("connection_established_at"),notificationSentAt:bt("notification_sent_at"),features:xa("features").default({}),tempToken:Ue("temp_token"),expiresAt:bt("expires_at").notNull().default(ft`CURRENT_TIMESTAMP + INTERVAL '24 hours'`),currentServerName:Ue("current_server_name").notNull(),createdAt:bt("created_at").default(ft`CURRENT_TIMESTAMP`),updatedAt:bt("updated_at").default(ft`CURRENT_TIMESTAMP`)}),k4=kn("offer_config",{id:jr("id").primaryKey().default(ft`gen_random_uuid()`),isActive:Lr("is_active").default(!1),durationType:Ue("duration_type").notNull().default("days"),durationValue:$s("duration_value").notNull().default(7),startDate:bt("start_date").default(ft`CURRENT_TIMESTAMP`),endDate:bt("end_date"),createdAt:bt("created_at").default(ft`CURRENT_TIMESTAMP`),updatedAt:bt("updated_at").default(ft`CURRENT_TIMESTAMP`)}),P4=kn("guest_sessions",{id:jr("id").primaryKey().default(ft`gen_random_uuid()`),phoneNumber:Ue("phone_number").notNull(),sessionId:Ue("session_id").notNull(),pairingCode:Ue("pairing_code"),serverName:Ue("server_name").notNull(),isUsed:Lr("is_used").default(!1),expiresAt:bt("expires_at").default(ft`CURRENT_TIMESTAMP + INTERVAL '7 days'`),createdAt:bt("created_at").default(ft`CURRENT_TIMESTAMP`)});Pn(y4).pick({username:!0,password:!0,role:!0});const E4=Pn(b4).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivity:!0,messagesCount:!0,commandsCount:!0}),_4=Pn(w4).omit({id:!0,createdAt:!0});Pn(j4).omit({id:!0,createdAt:!0});Pn(N4).omit({id:!0,createdAt:!0});Pn(x4).omit({id:!0,registeredAt:!0});Pn(v4).omit({id:!0,createdAt:!0,updatedAt:!0});Pn(S4).omit({id:!0,viewedAt:!0});Pn(C4).omit({id:!0,createdAt:!0,updatedAt:!0});Pn(k4).omit({id:!0,createdAt:!0,updatedAt:!0});Pn(P4).omit({id:!0,createdAt:!0});const Zs=p.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));Zs.displayName="Textarea";var zf="rovingFocusGroup.onEntryFocus",T4={bubbles:!1,cancelable:!0},nl="RovingFocusGroup",[Cm,Yw,A4]=Lm(nl),[R4,Cd]=Br(nl,[A4]),[I4,O4]=R4(nl),Xw=p.forwardRef((e,t)=>r.jsx(Cm.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Cm.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(M4,{...e,ref:t})})}));Xw.displayName=nl;var M4=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:a,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:h,onEntryFocus:g,preventScrollOnEntryFocus:x=!1,...y}=e,w=p.useRef(null),C=lt(t,w),P=xd(c),[b,j]=ss({prop:u,defaultProp:f??null,onChange:h,caller:nl}),[E,k]=p.useState(!1),I=an(g),L=Yw(s),B=p.useRef(!1),[X,q]=p.useState(0);return p.useEffect(()=>{const te=w.current;if(te)return te.addEventListener(zf,I),()=>te.removeEventListener(zf,I)},[I]),r.jsx(I4,{scope:s,orientation:a,dir:P,loop:o,currentTabStopId:b,onItemFocus:p.useCallback(te=>j(te),[j]),onItemShiftTab:p.useCallback(()=>k(!0),[]),onFocusableItemAdd:p.useCallback(()=>q(te=>te+1),[]),onFocusableItemRemove:p.useCallback(()=>q(te=>te-1),[]),children:r.jsx(Be.div,{tabIndex:E||X===0?-1:0,"data-orientation":a,...y,ref:C,style:{outline:"none",...e.style},onMouseDown:Me(e.onMouseDown,()=>{B.current=!0}),onFocus:Me(e.onFocus,te=>{const we=!B.current;if(te.target===te.currentTarget&&we&&!E){const xe=new CustomEvent(zf,T4);if(te.currentTarget.dispatchEvent(xe),!xe.defaultPrevented){const ve=L().filter(K=>K.focusable),J=ve.find(K=>K.active),se=ve.find(K=>K.id===b),he=[J,se,...ve].filter(Boolean).map(K=>K.ref.current);tj(he,x)}}B.current=!1}),onBlur:Me(e.onBlur,()=>k(!1))})})}),Jw="RovingFocusGroupItem",ej=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:a=!0,active:o=!1,tabStopId:c,children:u,...f}=e,h=Pr(),g=c||h,x=O4(Jw,s),y=x.currentTabStopId===g,w=Yw(s),{onFocusableItemAdd:C,onFocusableItemRemove:P,currentTabStopId:b}=x;return p.useEffect(()=>{if(a)return C(),()=>P()},[a,C,P]),r.jsx(Cm.ItemSlot,{scope:s,id:g,focusable:a,active:o,children:r.jsx(Be.span,{tabIndex:y?0:-1,"data-orientation":x.orientation,...f,ref:t,onMouseDown:Me(e.onMouseDown,j=>{a?x.onItemFocus(g):j.preventDefault()}),onFocus:Me(e.onFocus,()=>x.onItemFocus(g)),onKeyDown:Me(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){x.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const E=L4(j,x.orientation,x.dir);if(E!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let I=w().filter(L=>L.focusable).map(L=>L.ref.current);if(E==="last")I.reverse();else if(E==="prev"||E==="next"){E==="prev"&&I.reverse();const L=I.indexOf(j.currentTarget);I=x.loop?B4(I,L+1):I.slice(L+1)}setTimeout(()=>tj(I))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:b!=null}):u})})});ej.displayName=Jw;var D4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function F4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function L4(e,t,s){const a=F4(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return D4[a]}function tj(e,t=!1){const s=document.activeElement;for(const a of e)if(a===s||(a.focus({preventScroll:t}),document.activeElement!==s))return}function B4(e,t){return e.map((s,a)=>e[(t+a)%e.length])}var rj=Xw,nj=ej,kd="Tabs",[$4]=Br(kd,[Cd]),sj=Cd(),[V4,Th]=$4(kd),ij=p.forwardRef((e,t)=>{const{__scopeTabs:s,value:a,onValueChange:o,defaultValue:c,orientation:u="horizontal",dir:f,activationMode:h="automatic",...g}=e,x=xd(f),[y,w]=ss({prop:a,onChange:o,defaultProp:c??"",caller:kd});return r.jsx(V4,{scope:s,baseId:Pr(),value:y,onValueChange:w,orientation:u,dir:x,activationMode:h,children:r.jsx(Be.div,{dir:x,"data-orientation":u,...g,ref:t})})});ij.displayName=kd;var aj="TabsList",oj=p.forwardRef((e,t)=>{const{__scopeTabs:s,loop:a=!0,...o}=e,c=Th(aj,s),u=sj(s);return r.jsx(rj,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:a,children:r.jsx(Be.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:t})})});oj.displayName=aj;var lj="TabsTrigger",cj=p.forwardRef((e,t)=>{const{__scopeTabs:s,value:a,disabled:o=!1,...c}=e,u=Th(lj,s),f=sj(s),h=fj(u.baseId,a),g=mj(u.baseId,a),x=a===u.value;return r.jsx(nj,{asChild:!0,...f,focusable:!o,active:x,children:r.jsx(Be.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":g,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...c,ref:t,onMouseDown:Me(e.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?u.onValueChange(a):y.preventDefault()}),onKeyDown:Me(e.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&u.onValueChange(a)}),onFocus:Me(e.onFocus,()=>{const y=u.activationMode!=="manual";!x&&!o&&y&&u.onValueChange(a)})})})});cj.displayName=lj;var dj="TabsContent",uj=p.forwardRef((e,t)=>{const{__scopeTabs:s,value:a,forceMount:o,children:c,...u}=e,f=Th(dj,s),h=fj(f.baseId,a),g=mj(f.baseId,a),x=a===f.value,y=p.useRef(x);return p.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),r.jsx(Sn,{present:o||x,children:({present:w})=>r.jsx(Be.div,{"data-state":x?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":h,hidden:!w,id:g,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:y.current?"0s":void 0},children:w&&c})})});uj.displayName=dj;function fj(e,t){return`${e}-trigger-${t}`}function mj(e,t){return`${e}-content-${t}`}var z4=ij,hj=oj,pj=cj,gj=uj;const Ta=z4,Pi=p.forwardRef(({className:e,...t},s)=>r.jsx(hj,{ref:s,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Pi.displayName=hj.displayName;const Et=p.forwardRef(({className:e,...t},s)=>r.jsx(pj,{ref:s,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Et.displayName=pj.displayName;const jt=p.forwardRef(({className:e,...t},s)=>r.jsx(gj,{ref:s,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));jt.displayName=gj.displayName;const U4=E4.extend({credentialsFile:qo().optional(),credentialsBase64:Sd().optional()});function xj({open:e,onClose:t}){const{toast:s}=rr(),a=_r(),o=p.useRef(null),[c,u]=p.useState(null),[f,h]=p.useState(""),[g,x]=p.useState("file"),y=kw({resolver:Ew(U4),defaultValues:{name:"",autoViewStatus:!0,typingMode:"none",chatgptEnabled:!1}}),w=Ge({mutationFn:async j=>{const E=new FormData;Object.entries(j).forEach(([I,L])=>{I!=="credentialsFile"&&I!=="credentialsBase64"&&E.append(I,String(L))}),g==="file"&&c&&E.append("credentials",c),g==="base64"&&f.trim()&&E.append("credentialsBase64",f.trim());const k=await fetch("/api/bot-instances",{method:"POST",body:E});if(!k.ok){const I=await k.json();throw new Error(I.message||"Failed to create bot instance")}return k.json()},onSuccess:()=>{s({title:"Bot instance created successfully"}),a.invalidateQueries({queryKey:["/api/bot-instances"]}),a.invalidateQueries({queryKey:["/api/dashboard/stats"]}),y.reset(),u(null),h(""),t()},onError:j=>{s({title:"Failed to create bot instance",description:j instanceof Error?j.message:"Unknown error",variant:"destructive"})}}),C=j=>{const E=j.target.files?.[0];if(E){if(!E.name.endsWith(".json")){s({title:"Invalid file type",description:"Please select a valid JSON file",variant:"destructive"});return}if(E.size<10){s({title:"File too small",description:"The credentials file appears to be empty or invalid",variant:"destructive"});return}if(E.size>5*1024*1024){s({title:"File too large",description:"Credentials file must be smaller than 5MB",variant:"destructive"});return}const k=new FileReader;k.onload=I=>{try{const L=I.target?.result,B=JSON.parse(L);if(typeof B!="object"||!B||Array.isArray(B))throw new Error("Invalid credentials format");if(Object.keys(B).length===0)throw new Error("Credentials file is empty");u(E),s({title:"File validated",description:"Credentials file looks valid",variant:"default"})}catch{s({title:"Invalid JSON file",description:"The file contains invalid JSON or is not a proper credentials file",variant:"destructive"}),u(null)}},k.readAsText(E)}},P=j=>{if(h(j),j.trim())try{const E=atob(j.trim()),k=JSON.parse(E);if(typeof k!="object"||!k||Array.isArray(k))throw new Error("Invalid credentials format");if(Object.keys(k).length===0)throw new Error("Credentials file is empty");s({title:"Base64 credentials validated",description:"Credentials data looks valid",variant:"default"})}catch{s({title:"Invalid base64 credentials",description:"Please check that your base64 string contains valid JSON credentials",variant:"destructive"})}},b=j=>{w.mutate(j)};return r.jsx(Zt,{open:e,onOpenChange:t,children:r.jsxs(Ut,{className:"bg-card border-border max-w-md","data-testid":"modal-add-bot",children:[r.jsx(qt,{children:r.jsx(Wt,{className:"text-lg font-semibold text-foreground",children:"Add New Bot Instance"})}),r.jsxs("form",{onSubmit:y.handleSubmit(b),className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Bot Name"}),r.jsx(tr,{id:"name",placeholder:"Enter bot name...",...y.register("name"),className:"w-full bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-bot-name"}),y.formState.errors.name&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:y.formState.errors.name.message})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-medium text-foreground mb-2",children:"Credentials"}),r.jsxs(Ta,{value:g,onValueChange:j=>x(j),className:"w-full",children:[r.jsxs(Pi,{className:"grid w-full grid-cols-2",children:[r.jsx(Et,{value:"file",children:"Upload File"}),r.jsx(Et,{value:"base64",children:"Paste Base64"})]}),r.jsxs(jt,{value:"file",className:"mt-4",children:[r.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>o.current?.click(),"data-testid":"dropzone-credentials",children:[r.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center mx-auto mb-3",children:r.jsx("i",{className:"fas fa-upload text-muted-foreground text-xl"})}),r.jsx("p",{className:"text-sm text-foreground font-medium",children:c?c.name:"Click to upload creds.json"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"or drag and drop your credentials file"})]}),r.jsx("input",{ref:o,type:"file",accept:".json",onChange:C,className:"hidden","data-testid":"input-credentials-file"})]}),r.jsx(jt,{value:"base64",className:"mt-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(Zs,{placeholder:"Paste your base64-encoded credentials here...",value:f,onChange:j=>P(j.target.value),className:"min-h-[120px] bg-input border-border text-foreground placeholder:text-muted-foreground font-mono text-sm","data-testid":"textarea-base64-credentials"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste the base64-encoded version of your creds.json file. The bot will decode and validate it automatically."})]})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-medium text-foreground mb-2",children:"Auto Features"}),r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(os,{id:"autoViewStatus",checked:y.watch("autoViewStatus")||!1,onCheckedChange:j=>y.setValue("autoViewStatus",j),"data-testid":"checkbox-auto-view-status"}),r.jsx(Oe,{htmlFor:"autoViewStatus",className:"text-sm text-foreground",children:"Auto View Status"})]})})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-medium text-foreground mb-2",children:"Typing Indicator"}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Show typing/recording when bot processes messages"}),r.jsxs(hr,{value:y.watch("typingMode")||"none",onValueChange:j=>y.setValue("typingMode",j),children:[r.jsx(cr,{className:"w-full bg-input border-border text-foreground","data-testid":"select-typing-mode",children:r.jsx(pr,{})}),r.jsxs(dr,{className:"bg-popover border-border",children:[r.jsx(Ie,{value:"none",children:"None"}),r.jsx(Ie,{value:"typing",children:"Typing indicator"}),r.jsx(Ie,{value:"recording",children:"Recording indicator"}),r.jsx(Ie,{value:"both",children:"Switch between both"})]})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-medium text-foreground mb-2",children:"Presence Mode"}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Control bot's overall online/availability status"}),r.jsxs(hr,{value:y.watch("presenceMode")||"available",onValueChange:j=>y.setValue("presenceMode",j),children:[r.jsx(cr,{className:"w-full bg-input border-border text-foreground","data-testid":"select-presence-mode",children:r.jsx(pr,{})}),r.jsxs(dr,{className:"bg-popover border-border",children:[r.jsx(Ie,{value:"available",children:"Available (Online)"}),r.jsx(Ie,{value:"unavailable",children:"Unavailable (Offline)"}),r.jsx(Ie,{value:"composing",children:"Composing"}),r.jsx(Ie,{value:"recording",children:"Recording"}),r.jsx(Ie,{value:"none",children:"None"})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(os,{id:"chatgptEnabled",checked:y.watch("chatgptEnabled")||!1,onCheckedChange:j=>y.setValue("chatgptEnabled",j),"data-testid":"checkbox-chatgpt-enabled"}),r.jsx(Oe,{htmlFor:"chatgptEnabled",className:"text-sm text-foreground",children:"Enable ChatGPT Integration"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(Y,{type:"button",variant:"ghost",onClick:t,"data-testid":"button-cancel",children:"Cancel"}),r.jsx(Y,{type:"submit",disabled:w.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-bot",children:w.isPending?"Creating...":"Create Bot Instance"})]})]})]})})}const q4=["SYSTEM","ADMIN","CUSTOM","FUN","TOOLS","SEARCH","DOWNLOAD","CONVERT"],Uf=`// Example WhatsApp bot command
// Available context: { respond, args, message, client }

const query = args.join(' ');
if (!query) {
  await respond(' Please provide a search query!');
  return;
}

await respond(\` Searching for: *\${query}*\`);
// Your custom logic here
await respond(\` Results for: *\${query}*\`);`;function W4({open:e,onClose:t}){const{toast:s}=rr(),a=_r(),[o,c]=p.useState({name:"",description:"",category:"CUSTOM",code:Uf}),{data:u=[],isLoading:f}=vt({queryKey:["/api/commands"],queryFn:async()=>{const x=await fetch("/api/commands");if(!x.ok)throw new Error("Failed to fetch commands");return x.json()}}),h=Ge({mutationFn:async x=>{const y=await fetch("/api/commands/custom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!y.ok){const w=await y.json();throw new Error(w.message||"Failed to create command")}return y.json()},onSuccess:()=>{s({title:"Custom command created successfully"}),a.invalidateQueries({queryKey:["/api/commands"]}),c({name:"",description:"",category:"CUSTOM",code:Uf})},onError:x=>{s({title:"Failed to create command",description:x instanceof Error?x.message:"Unknown error",variant:"destructive"})}}),g=x=>{if(x.preventDefault(),!o.name||!o.description||!o.code){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}h.mutate(o)};return r.jsx(Zt,{open:e,onOpenChange:t,children:r.jsxs(Ut,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(qt,{children:r.jsx(Wt,{className:"text-xl font-bold",children:" TREKKER-MD Command Management"})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsx(qe,{children:"Create Custom Command"}),r.jsx(it,{children:"Add custom JavaScript code that will execute when users call your command"})]}),r.jsx(pe,{children:r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"name",children:"Command Name *"}),r.jsx(tr,{id:"name",placeholder:"mycommand",value:o.name,onChange:x=>c(y=>({...y,name:x.target.value})),className:"font-mono"})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"description",children:"Description *"}),r.jsx(tr,{id:"description",placeholder:"What does this command do?",value:o.description,onChange:x=>c(y=>({...y,description:x.target.value}))})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"category",children:"Category"}),r.jsxs(hr,{value:o.category,onValueChange:x=>c(y=>({...y,category:x})),children:[r.jsx(cr,{children:r.jsx(pr,{})}),r.jsx(dr,{children:q4.map(x=>r.jsx(Ie,{value:x,children:x},x))})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"code",children:"Command Code *"}),r.jsx(Zs,{id:"code",placeholder:"Your JavaScript code here...",value:o.code,onChange:x=>c(y=>({...y,code:x.target.value})),className:"min-h-[300px] font-mono text-sm"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available context: respond, args, message, client"})]}),r.jsx(Y,{type:"submit",disabled:h.isPending,className:"w-full",children:h.isPending?"Creating...":"Create Command"})]})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsxs(qe,{children:["Existing Commands (",u.length,")"]}),r.jsx(it,{children:"All commands available in your TREKKER-MD bot"})]}),r.jsx(pe,{children:f?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading commands..."})]}):r.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:u.map(x=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-mono text-sm font-semibold",children:[".",x.name,x.customCode&&r.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-blue-100 text-blue-800 text-xs rounded",children:"CUSTOM"})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:x.description}),r.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded mt-1 inline-block",children:x.category})]}),r.jsx("div",{className:`w-2 h-2 rounded-full ${x.isActive?"bg-green-500":"bg-red-500"}`})]},x.id))})})]}),r.jsxs(me,{children:[r.jsx(ze,{children:r.jsx(qe,{children:" Command Example"})}),r.jsx(pe,{children:r.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-x-auto",children:Uf})})]})]})]})]})})}var Ah="Radio",[K4,vj]=Br(Ah),[Q4,H4]=K4(Ah),yj=p.forwardRef((e,t)=>{const{__scopeRadio:s,name:a,checked:o=!1,required:c,disabled:u,value:f="on",onCheck:h,form:g,...x}=e,[y,w]=p.useState(null),C=lt(t,j=>w(j)),P=p.useRef(!1),b=y?g||!!y.closest("form"):!0;return r.jsxs(Q4,{scope:s,checked:o,disabled:u,children:[r.jsx(Be.button,{type:"button",role:"radio","aria-checked":o,"data-state":Nj(o),"data-disabled":u?"":void 0,disabled:u,value:f,...x,ref:C,onClick:Me(e.onClick,j=>{o||h?.(),b&&(P.current=j.isPropagationStopped(),P.current||j.stopPropagation())})}),b&&r.jsx(jj,{control:y,bubbles:!P.current,name:a,value:f,checked:o,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});yj.displayName=Ah;var bj="RadioIndicator",wj=p.forwardRef((e,t)=>{const{__scopeRadio:s,forceMount:a,...o}=e,c=H4(bj,s);return r.jsx(Sn,{present:a||c.checked,children:r.jsx(Be.span,{"data-state":Nj(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:t})})});wj.displayName=bj;var G4="RadioBubbleInput",jj=p.forwardRef(({__scopeRadio:e,control:t,checked:s,bubbles:a=!0,...o},c)=>{const u=p.useRef(null),f=lt(u,c),h=ph(s),g=Xm(t);return p.useEffect(()=>{const x=u.current;if(!x)return;const y=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==s&&C){const P=new Event("click",{bubbles:a});C.call(x,s),x.dispatchEvent(P)}},[h,s,a]),r.jsx(Be.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:f,style:{...o.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jj.displayName=G4;function Nj(e){return e?"checked":"unchecked"}var Z4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Pd="RadioGroup",[Y4]=Br(Pd,[Cd,vj]),Sj=Cd(),Cj=vj(),[X4,J4]=Y4(Pd),kj=p.forwardRef((e,t)=>{const{__scopeRadioGroup:s,name:a,defaultValue:o,value:c,required:u=!1,disabled:f=!1,orientation:h,dir:g,loop:x=!0,onValueChange:y,...w}=e,C=Sj(s),P=xd(g),[b,j]=ss({prop:c,defaultProp:o??null,onChange:y,caller:Pd});return r.jsx(X4,{scope:s,name:a,required:u,disabled:f,value:b,onValueChange:j,children:r.jsx(rj,{asChild:!0,...C,orientation:h,dir:P,loop:x,children:r.jsx(Be.div,{role:"radiogroup","aria-required":u,"aria-orientation":h,"data-disabled":f?"":void 0,dir:P,...w,ref:t})})})});kj.displayName=Pd;var Pj="RadioGroupItem",Ej=p.forwardRef((e,t)=>{const{__scopeRadioGroup:s,disabled:a,...o}=e,c=J4(Pj,s),u=c.disabled||a,f=Sj(s),h=Cj(s),g=p.useRef(null),x=lt(t,g),y=c.value===o.value,w=p.useRef(!1);return p.useEffect(()=>{const C=b=>{Z4.includes(b.key)&&(w.current=!0)},P=()=>w.current=!1;return document.addEventListener("keydown",C),document.addEventListener("keyup",P),()=>{document.removeEventListener("keydown",C),document.removeEventListener("keyup",P)}},[]),r.jsx(nj,{asChild:!0,...f,focusable:!u,active:y,children:r.jsx(yj,{disabled:u,required:c.required,checked:y,...h,...o,name:c.name,ref:x,onCheck:()=>c.onValueChange(o.value),onKeyDown:Me(C=>{C.key==="Enter"&&C.preventDefault()}),onFocus:Me(o.onFocus,()=>{w.current&&g.current?.click()})})})});Ej.displayName=Pj;var eO="RadioGroupIndicator",_j=p.forwardRef((e,t)=>{const{__scopeRadioGroup:s,...a}=e,o=Cj(s);return r.jsx(wj,{...o,...a,ref:t})});_j.displayName=eO;var Tj=kj,Aj=Ej,tO=_j;const Rh=p.forwardRef(({className:e,...t},s)=>r.jsx(Tj,{className:Ee("grid gap-2",e),...t,ref:s}));Rh.displayName=Tj.displayName;const Wo=p.forwardRef(({className:e,...t},s)=>r.jsx(Aj,{ref:s,className:Ee("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(tO,{className:"flex items-center justify-center",children:r.jsx(Gk,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Wo.displayName=Aj.displayName;function rO({open:e,onClose:t,botId:s,phoneNumber:a,guestToken:o,onSuccess:c,crossTenancyMode:u=!1,targetServer:f}){const{toast:h}=rr(),g=p.useRef(null),x=p.useRef(null),[y,w]=p.useState("base64"),[C,P]=p.useState(""),[b,j]=p.useState(null),[E,k]=p.useState(!1),[I,L]=p.useState(null),[B,X]=p.useState("idle"),[q,te]=p.useState("");p.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]);const we=async se=>{if(!se.trim()){X("idle"),te("");return}X("validating"),te("Validating credentials format...");try{const W=atob(se.trim()),he=JSON.parse(W);if(!he||typeof he!="object")throw new Error("Invalid credentials format");if(!he.me||!he.me.id)throw new Error("Missing essential WhatsApp session data");const K=he.me.id.match(/^(\d+):/);if(!K)throw new Error("Unable to extract phone number from credentials");const ne=K[1],S=a.replace(/[\s\-\(\)\+]/g,"");if(ne!==S){X("invalid"),te(` Phone number mismatch. Credentials are for ${ne}, but you're updating ${a}`);return}X("valid"),te(" Credentials format is valid and phone number matches")}catch(W){X("invalid"),W instanceof Error?te(` ${W.message}`):te(" Invalid base64 credentials format")}},xe=se=>{const W=se.target.files?.[0];if(W){if(!W.name.endsWith(".json")){h({title:"Invalid File",description:"Please select a valid .json file",variant:"destructive"});return}j(W)}},ve=async se=>{if(se.preventDefault(),y==="base64"){if(!C.trim()){h({title:"Missing Credentials",description:"Please provide a Base64 session ID",variant:"destructive"});return}if(B==="invalid"){h({title:"Invalid Credentials",description:"Please fix the credential validation errors before submitting",variant:"destructive"});return}if(B==="validating"){h({title:"Validation in Progress",description:"Please wait for credential validation to complete",variant:"destructive"});return}if(B!=="valid"&&C.trim()){h({title:"Unvalidated Credentials",description:"Please wait for credential validation to complete",variant:"destructive"});return}}if(y==="file"&&!b){h({title:"Missing File",description:"Please select a credentials file",variant:"destructive"});return}if(!u&&!o){h({title:"Authentication Required",description:"Please authenticate before updating credentials",variant:"destructive"});return}k(!0);try{const W=new FormData;W.append("phoneNumber",a),W.append("action","update_credentials"),W.append("credentialType",y),u||W.append("botId",s),u&&f&&W.append("targetServer",f),y==="base64"?W.append("sessionId",C):b&&W.append("credsFile",b);const he=u?"/api/guest/cross-tenancy-manage":"/api/guest/manage-bot",K={};o&&(K.Authorization=`Bearer ${o}`);const ne=await fetch(he,{method:"POST",headers:K,body:W}),S=await ne.json();ne.ok?S.crossTenancy&&S.nextSteps?(L(S),h({title:"Cross-Tenancy Update Initiated!",description:S.message})):(h({title:"Success!",description:S.message}),P(""),j(null),g.current&&(g.current.value=""),c?.(),t()):h({title:"Update Failed",description:S.message||"Failed to update credentials",variant:"destructive"})}catch(W){console.error("Error updating credentials:",W),h({title:"Network Error",description:"Failed to connect to server. Please try again.",variant:"destructive"})}finally{k(!1)}},J=()=>{E||(P(""),j(null),L(null),g.current&&(g.current.value=""),t())};return r.jsx(Zt,{open:e,onOpenChange:J,children:r.jsxs(Ut,{className:"max-w-md",children:[r.jsxs(qt,{children:[r.jsxs(Wt,{children:[" ",u?"Cross-Tenancy":""," Update Bot Credentials"]}),r.jsx(_o,{children:u?`Update credentials across servers (Target: ${f})`:"Update your WhatsApp bot credentials to restore connectivity"})]}),I?r.jsxs("div",{className:"space-y-4",children:[r.jsx(me,{className:"bg-emerald-50 border-emerald-200 dark:bg-emerald-900/20 dark:border-emerald-800",children:r.jsxs(pe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 text-lg",children:""}),r.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200",children:"Cross-Tenancy Update Successful!"})]}),r.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 mb-3",children:I.message}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Source:"}),r.jsx("div",{className:"text-muted-foreground",children:I.sourceServer})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Target:"}),r.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:I.targetServer})]})]})]})}),r.jsx(me,{className:"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800",children:r.jsxs(pe,{className:"p-4",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:" Next Steps"}),r.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:I.nextSteps?.map((se,W)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),se]},W))})]})}),r.jsx(Y,{onClick:J,className:"w-full",children:" Awesome! Got It"})]}):r.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[r.jsx(me,{className:`${u?"bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:border-purple-800":"bg-blue-50 border-blue-200"}`,children:r.jsxs(pe,{className:"p-3",children:[r.jsxs("p",{className:`text-sm ${u?"text-purple-800 dark:text-purple-200":"text-blue-800"}`,children:[r.jsx("strong",{children:" Phone:"})," ",a,u&&r.jsxs(r.Fragment,{children:[r.jsx("br",{}),r.jsx("strong",{children:" Target Server:"})," ",f]})]}),r.jsx("p",{className:`text-xs mt-1 ${u?"text-purple-600 dark:text-purple-300":"text-blue-600"}`,children:u?"Credentials will be transferred to the target server":"New credentials must match this phone number"})]})}),r.jsxs("div",{children:[r.jsx(Oe,{className:"text-base font-medium",children:"Choose Credential Type *"}),r.jsxs(Rh,{value:y,onValueChange:se=>w(se),className:"mt-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Wo,{value:"base64",id:"base64"}),r.jsx(Oe,{htmlFor:"base64",children:"Paste Base64 Session ID"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Wo,{value:"file",id:"file"}),r.jsx(Oe,{htmlFor:"file",children:"Upload creds.json File"})]})]})]}),y==="base64"?r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"sessionId",children:"Base64 Session ID *"}),r.jsx(Zs,{id:"sessionId",placeholder:"Paste your Base64 encoded session here...",value:C,onChange:se=>{const W=se.target.value;P(W),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{we(W)},1e3)},className:`min-h-[100px] text-xs ${B==="valid"?"border-green-500 bg-green-50/50":B==="invalid"?"border-red-500 bg-red-50/50":B==="validating"?"border-yellow-500 bg-yellow-50/50":""}`,required:!0}),q&&r.jsx("div",{className:`text-xs mt-2 p-2 rounded border ${B==="valid"?"text-green-700 bg-green-50 border-green-200":B==="invalid"?"text-red-700 bg-red-50 border-red-200":B==="validating"?"text-yellow-700 bg-yellow-50 border-yellow-200":"text-gray-700 bg-gray-50 border-gray-200"}`,children:q}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get this from your WhatsApp session backup. The system will validate the format and phone number match in real-time."})]}):r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"credsFile",children:"Upload creds.json File *"}),r.jsx(tr,{id:"credsFile",type:"file",accept:".json",onChange:xe,ref:g,required:!0}),b&&r.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[" Selected: ",b.name]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select the creds.json file from your bot session"})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(Y,{type:"button",variant:"outline",onClick:J,disabled:E,className:"flex-1",children:"Cancel"}),r.jsx(Y,{type:"submit",disabled:E,className:`flex-1 ${u?"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700":""}`,children:E?"Updating...":u?" Update Cross-Tenancy":"Update Credentials"})]})]})]})})}function nO({open:e,onClose:t}){const{toast:s}=rr(),a=localStorage.getItem("autoRegisterSessionId")||"",o=localStorage.getItem("autoRegisterPhoneNumber")||"",[c,u]=p.useState({botName:"",phoneNumber:o,credentialType:"base64",sessionId:a,credsFile:null,features:{autoView:!1,typingMode:"none",presenceMode:"none",intervalSeconds:30,chatGPT:!1},selectedServer:""});p.useEffect(()=>{e&&a&&o&&(console.log("Guest registration opened with auto-filled data:",{sessionIdLength:a.length,phoneNumber:o}),s({title:"Credentials Auto-Filled!",description:`Session ID and phone number (${o}) have been automatically filled. Just enter your bot name and configure features.`}),h(4),localStorage.removeItem("autoRegisterSessionId"),localStorage.removeItem("autoRegisterPhoneNumber"))},[e,a,o,s]),p.useEffect(()=>{if(e){const D=localStorage.getItem("pendingSessionId"),G=localStorage.getItem("pendingPhoneNumber");D&&G&&(u(ee=>({...ee,sessionId:D,phoneNumber:G})),localStorage.removeItem("pendingSessionId"),localStorage.removeItem("pendingPhoneNumber"),s({title:"Session ID Loaded!",description:"Your session ID has been automatically filled in. You can now proceed with bot registration."}),G&&f===1&&setTimeout(()=>{W.mutate(G)},500))}},[e]);const[f,h]=p.useState(1),[g,x]=p.useState(null),[y,w]=p.useState(null),[C,P]=p.useState(null),[b,j]=p.useState(null),[E,k]=p.useState(!1),[I,L]=p.useState(!1),[B,X]=p.useState(null),[q,te]=p.useState(null),[we,xe]=p.useState(""),[ve,J]=p.useState([]),se=async()=>{try{const D=await fetch("/api/servers/available");if(D.ok){const G=await D.json();J(G.servers||[])}else console.error("Failed to fetch available servers"),J([])}catch(D){console.error("Error fetching servers:",D),J([])}},W=Ge({mutationFn:async D=>{const G=D.replace(/[\s\-\(\)\+]/g,""),ee=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:G})});if(!ee.ok){let je="Failed to check phone number";try{const De=await ee.json();if(De.registeredTo&&De.message)return{registered:!0,currentServer:!1,registeredTo:De.registeredTo,message:De.message,serverMismatch:!0};je=De.message||je}catch{je=ee.statusText||je}throw new Error(je)}const de=ee.headers.get("content-type");if(!de||!de.includes("application/json"))throw new Error("Invalid response format from server");return ee.json()},onSuccess:D=>{te(D),D.registered||D.serverMismatch?D.serverMismatch||!D.currentServer&&D.registeredTo?(w({details:{registeredTo:D.registeredTo},message:D.message,registeredTo:D.registeredTo,botDetails:D.botDetails||null}),h(9)):D.currentServer&&(D.hasBot?(x(D.bot),h(8)):(se(),h(3))):(se(),h(3))},onError:D=>{s({title:"Phone Check Failed",description:D.message,variant:"destructive"}),h(1)}}),he=Ge({mutationFn:async D=>{const G=new FormData;if(formDataFormDataToSend.append("botName",D.botName),G.append("phoneNumber",D.phoneNumber),G.append("credentialType",D.credentialType),G.append("features",JSON.stringify(D.features)),D.selectedServer&&G.append("selectedServer",D.selectedServer),D.credentialType==="base64"&&D.sessionId)try{const de=atob(D.sessionId.trim());JSON.parse(de),G.append("sessionId",D.sessionId)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}else D.credsFile&&G.append("credsFile",D.credsFile);const ee=await fetch("/api/guest/register-bot",{method:"POST",body:G});if(!ee.ok){const de=await ee.json();throw new Error(de.message||"Failed to register bot")}return ee.json()},onSuccess:D=>{D.type==="existing_bot_found"?(x(D.botDetails),h(8),s({title:"Existing Bot Found",description:D.message||"Welcome back! You have a bot on this server."})):D.type==="cross_tenancy_registered"?(j(D),h(11),s({title:"Auto-Distributed to Available Server",description:D.message||"Your bot has been registered on an available server!"})):(h(7),s({title:"Bot registration submitted",description:D.message||"Your bot is being validated..."}))},onError:D=>{const G=D.message;if(G?.includes("server")&&G?.includes("registered to")){w({message:G}),h(9);return}h(f===6?5:4),s({title:"Registration failed",description:D instanceof Error?D.message:"Unknown error",variant:"destructive"})}}),K=D=>{if(D.preventDefault(),!c.phoneNumber){s({title:"Validation Error",description:"Please enter your phone number",variant:"destructive"});return}h(2),W.mutate(c.phoneNumber)},ne=D=>{console.log("Selected server:",D),xe(D.name),u(G=>({...G,selectedServer:D.name})),h(4),k(!1)},S=()=>{if(f===4){if(c.credentialType==="base64"&&!c.sessionId){s({title:"Validation Error",description:"Please provide the base64 session ID",variant:"destructive"});return}if(c.credentialType==="file"&&!c.credsFile){s({title:"Validation Error",description:"Please upload the creds.json file",variant:"destructive"});return}h(5)}else f===5&&$()},$=()=>{if(!c.botName){s({title:"Validation Error",description:"Please enter a bot name",variant:"destructive"});return}const D={...c,phoneNumber:c.phoneNumber.replace(/^\+/,""),selectedServer:we||c.selectedServer};h(6),he.mutate(D)},H=D=>{const G=D.target.files?.[0];G&&u(ee=>({...ee,credsFile:G}))};Ge({mutationFn:async({action:D,botId:G,phoneNumber:ee})=>{const de=new FormData;de.append("phoneNumber",ee),de.append("action",D),de.append("botId",G);const je=await fetch("/api/guest/manage-bot",{method:"POST",body:de});if(!je.ok){const De=await je.json();throw new Error(De.message||`Failed to ${D} bot`)}return je.json()},onSuccess:async(D,G)=>{if(s({title:"Success!",description:D.message}),X(null),G.action==="update_credentials")try{s({title:"Credentials Updated Successfully",description:"Returning to default server..."}),await new Promise(de=>setTimeout(de,1500)),(await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:"default-server",description:"Returned to default server after credential update"})})).ok&&(s({title:"Returned to Default Server",description:"Credentials updated successfully. You're now back on the default server."}),setTimeout(()=>{re()},2e3))}catch(ee){console.error("Error switching back to default server:",ee),s({title:"Credentials Updated",description:"Credentials updated successfully, but couldn't return to default server.",variant:"destructive"})}else T()},onError:(D,G)=>{s({title:`${G.action.charAt(0).toUpperCase()+G.action.slice(1)} Failed`,description:D.message,variant:"destructive"}),X(null)}});const T=()=>{s({title:"Status Updated",description:"Bot status has been updated. Please check the bot status."})},R=()=>{u({botName:"",phoneNumber:"",credentialType:"base64",sessionId:"",credsFile:null,features:{autoLike:!0,autoReact:!1,autoView:!0,presenceMode:"none",intervalSeconds:30,chatGPT:!1},selectedServer:""}),h(1)},re=()=>{R(),x(null),w(null),j(null),L(!1),X(null),t()},le=()=>{h(D=>Math.max(D-1,1))};return r.jsxs(Zt,{open:e,onOpenChange:D=>{},children:[r.jsxs(Ut,{className:"max-w-2xl max-h-[95vh] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[r.jsx(qt,{children:r.jsx(Wt,{className:"text-2xl font-bold text-center",children:" Register Your TREKKER-MD Bot"})}),f===1&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-emerald-50 to-blue-50 dark:from-emerald-900/20 dark:to-blue-900/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Enter Your Phone Number"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We'll check if you have an existing bot or help you register a new one"})]}),r.jsxs("form",{onSubmit:K,className:"space-y-6",children:[r.jsxs(me,{className:"border-l-4 border-l-blue-500",children:[r.jsxs(ze,{className:"pb-3",children:[r.jsx(qe,{className:"text-lg",children:"Phone Number Verification"}),r.jsx(it,{children:"Enter your WhatsApp phone number to begin registration"})]}),r.jsx(pe,{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"phoneNumber",className:"text-sm font-medium",children:"Phone Number (with country code) *"}),r.jsx(tr,{id:"phoneNumber","data-testid":"input-phone-number",placeholder:"+254700000000",value:c.phoneNumber,onChange:D=>{const G=D.target.value.replace(/[\s\-\(\)]/g,"");u(ee=>({...ee,phoneNumber:G}))},onPaste:D=>{D.preventDefault();const ee=D.clipboardData.getData("text").replace(/[\s\-\(\)]/g,"");u(de=>({...de,phoneNumber:ee}))},required:!0,className:"mt-1 text-lg",autoFocus:!0,readOnly:!!o,disabled:!!o}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o?"Phone number from pairing (auto-filled)":"Enter your phone number with country code (+ will be removed automatically)"})]})})]}),r.jsx(Y,{type:"submit","data-testid":"button-check-phone",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",disabled:W.isPending,children:W.isPending?" Checking...":" Check Phone Number"})]})]}),f===2&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Checking Your Phone Number"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Searching the God Registry for existing bot registrations..."}),r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]}),f===3&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Select Your Server"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is not registered. Choose a server to register your bot on."})]}),r.jsxs(me,{className:"border-l-4 border-l-green-500",children:[r.jsxs(ze,{className:"pb-3",children:[r.jsx(qe,{className:"text-lg",children:"Available Servers"}),r.jsx(it,{children:"Select a server with available bot slots"})]}),r.jsx(pe,{className:"space-y-4",children:r.jsx("div",{className:"grid gap-3",children:ve.map(D=>r.jsx("div",{onClick:()=>ne(D),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors","data-testid":`server-option-${D.id}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:D.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:D.description})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-green-600",children:[D.availableSlots," slots available"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[D.currentBots,"/",D.maxBots," bots"]})]})]})},D.id))})})]}),r.jsx(Y,{onClick:le,variant:"outline",className:"w-full","data-testid":"button-back-step-3",children:" Back to Phone Number"})]}),f===4&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Authentication Credentials"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Provide your WhatsApp session credentials to connect your bot"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(me,{className:"border-l-4 border-l-purple-500",children:[r.jsxs(ze,{className:"pb-3",children:[r.jsx(qe,{className:"text-lg",children:"Bot Information"}),r.jsx(it,{children:"Enter your bot name and choose credential type"})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"botName",className:"text-sm font-medium",children:"Bot Name *"}),r.jsx(tr,{id:"botName","data-testid":"input-bot-name",placeholder:"My WhatsApp Bot",value:c.botName,onChange:D=>u(G=>({...G,botName:D.target.value})),required:!0,className:"mt-1",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"text-sm font-medium",children:"Choose Credential Type *"}),r.jsxs(Rh,{value:c.credentialType,onValueChange:D=>u(G=>({...G,credentialType:D})),className:"mt-2",children:[r.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(Wo,{value:"base64",id:"base64"}),r.jsx(Oe,{htmlFor:"base64",className:"cursor-pointer",children:"Paste Base64 Session ID"})]}),r.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(Wo,{value:"file",id:"file"}),r.jsx(Oe,{htmlFor:"file",className:"cursor-pointer",children:"Upload creds.json File"})]})]})]}),c.credentialType==="base64"?r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"sessionId",className:"text-sm font-medium",children:"Base64 Session ID *"}),r.jsx(Zs,{id:"sessionId","data-testid":"textarea-session-id",placeholder:"Paste your base64 encoded session ID here...",value:c.sessionId,onChange:D=>u(G=>({...G,sessionId:D.target.value})),className:"min-h-[100px] font-mono text-sm mt-1",required:!0}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get your session ID from the pairing site"})]}):r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"credsFile",className:"text-sm font-medium",children:"Upload creds.json File *"}),r.jsx(tr,{id:"credsFile","data-testid":"input-creds-file",type:"file",accept:".json",onChange:H,required:!0,className:"mt-1"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload the creds.json file from your WhatsApp session"})]})]})]}),r.jsx(Y,{onClick:S,"data-testid":"button-next-step",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:"Continue to Features "})]})]}),f===5&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Bot Features"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose the automation features for your bot (optional)"})]}),r.jsxs(me,{className:"border-l-4 border-l-green-500",children:[r.jsxs(ze,{className:"pb-3",children:[r.jsx(qe,{className:"text-lg",children:"Bot Features (Optional)"}),r.jsx(it,{children:"Select the automation features you want for your bot"})]}),r.jsx(pe,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(os,{id:"autoView","data-testid":"checkbox-auto-view",checked:c.features.autoView,onCheckedChange:D=>u(G=>({...G,features:{...G.features,autoView:!!D}})),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Oe,{htmlFor:"autoView",className:"text-sm font-medium cursor-pointer",children:"Auto View Status"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically view WhatsApp status"})]})]}),r.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx(Oe,{className:"text-sm font-medium",children:"Typing Indicator"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Show typing/recording indicator when bot is processing messages"})]}),r.jsxs(hr,{value:c.features.typingMode||"none",onValueChange:D=>u(G=>({...G,features:{...G.features,typingMode:D}})),children:[r.jsx(cr,{"data-testid":"select-typing-mode",children:r.jsx(pr,{placeholder:"Select typing mode"})}),r.jsxs(dr,{children:[r.jsx(Ie,{value:"none",children:"None - No indicator"}),r.jsx(Ie,{value:"typing",children:"Typing indicator"}),r.jsx(Ie,{value:"recording",children:"Recording indicator"}),r.jsx(Ie,{value:"both",children:"Switch between both"})]})]})]}),r.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx(Oe,{className:"text-sm font-medium",children:"Presence Mode"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Control bot's overall online/availability status"})]}),r.jsxs(hr,{value:c.features.presenceMode,onValueChange:D=>u(G=>({...G,features:{...G.features,presenceMode:D}})),children:[r.jsx(cr,{"data-testid":"select-presence-mode",children:r.jsx(pr,{placeholder:"Select presence mode"})}),r.jsxs(dr,{children:[r.jsx(Ie,{value:"none",children:"None - Normal status"}),r.jsx(Ie,{value:"always_online",children:"Always Online"}),r.jsx(Ie,{value:"always_typing",children:"Always Composing"}),r.jsx(Ie,{value:"always_recording",children:"Always Recording"}),r.jsx(Ie,{value:"auto_switch",children:"Auto Switch (30s interval)"})]})]}),c.features.presenceMode==="auto_switch"&&r.jsxs("div",{className:"mt-3",children:[r.jsx(Oe,{className:"text-xs text-muted-foreground",children:"Switch Interval (seconds)"}),r.jsx(tr,{type:"number",min:"5",max:"120",value:c.features.intervalSeconds,onChange:D=>u(G=>({...G,features:{...G.features,intervalSeconds:parseInt(D.target.value)||30}})),className:"mt-1","data-testid":"input-interval-seconds"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50 md:col-span-2",children:[r.jsx(os,{id:"chatGPT","data-testid":"checkbox-chatgpt",checked:c.features.chatGPT,onCheckedChange:D=>u(G=>({...G,features:{...G.features,chatGPT:!!D}})),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Oe,{htmlFor:"chatGPT",className:"text-sm font-medium cursor-pointer",children:"ChatGPT Integration"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable AI responses for conversations"})]})]})]})})]}),r.jsx(Y,{onClick:S,"data-testid":"button-register-bot-final",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:" Register Bot Now"})]}),f===6&&r.jsx("div",{className:"space-y-6 pb-4",children:r.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Registering Your Bot"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Please wait while we set up your WhatsApp bot..."}),r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}),f===7&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center text-white text-2xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Bot Registered Successfully!"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your bot credentials have been validated and registered"})]}),r.jsxs(me,{className:"border-l-4 border-l-green-500",children:[r.jsxs(ze,{children:[r.jsx(qe,{className:"text-lg",children:" Next Steps"}),r.jsx(it,{children:"Your bot is now awaiting admin approval"})]}),r.jsx(pe,{children:r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-500 mt-0.5",children:""}),"Your bot is now dormant and awaiting admin approval"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),"Contact +254704897825 to activate your bot"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-500 mt-0.5",children:""}),"You'll receive hourly status updates until activation"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-500 mt-0.5",children:""}),"Once approved, enjoy all premium TREKKER-MD features!"]})]})})]}),r.jsx(Y,{onClick:re,className:"w-full","data-testid":"button-close-success",children:"Done"})]}),f===8&&g&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-robot text-2xl text-blue-600"})}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Existing Bot Found!"}),r.jsxs("p",{className:"text-muted-foreground",children:['To manage your bot "',g.name,'", please verify your ownership by uploading your credentials.']})]}),r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),g.name]}),r.jsxs(it,{children:["Phone: ",g.phoneNumber]})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Status:"}),r.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${g.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.status})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Approval:"}),r.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${g.isApproved?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:g.approvalStatus})]})]}),g.isApproved&&g.timeRemaining&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-green-800",children:[" ",r.jsxs("strong",{children:[g.timeRemaining," days"]})," remaining until expiry"]})}),g.isExpired&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsx("p",{className:"text-sm text-red-800",children:" Your bot has expired. Please contact admin for renewal."})}),r.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-amber-100 dark:bg-amber-800 rounded-full flex items-center justify-center",children:""}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Security Verification Required"}),r.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Please upload your credentials file to verify bot ownership"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Y,{className:"w-full bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>{re(),s({title:"Credential Validation Required",description:"Please use the 'Search Your Bot' page to verify your credentials and manage your bot securely.",duration:5e3})},children:" Go to Bot Search & Verification"}),r.jsx("div",{className:"text-xs text-amber-700 dark:text-amber-300 text-center",children:'For security, bot management requires credential verification. Use the "Search Your Bot" page to securely access your bot.'})]})]})]})]}),r.jsx(Y,{onClick:re,className:"w-full","data-testid":"button-close-existing-bot",children:"Close"})]}),f===9&&y&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-amber-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-amber-700 dark:text-amber-400",children:"Phone Number Found on Different Server"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is registered on a different server"})]}),r.jsxs(me,{className:"border-l-4 border-l-amber-500",children:[r.jsxs(ze,{children:[r.jsx(qe,{className:"text-lg",children:"Server Information"}),r.jsx(it,{children:"Current vs. Registered Server"})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-gray-900",children:[r.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Server"}),r.jsx("p",{className:"text-lg font-bold",children:"default-server"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Where you're trying to register"})]}),r.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50 dark:bg-blue-900",children:[r.jsx("h4",{className:"font-medium text-blue-700 dark:text-blue-300 mb-2",children:"Registered Server"}),r.jsx("p",{className:"text-lg font-bold text-blue-600",children:y.registeredTo}),r.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Where your bot exists"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium",children:"Choose Your Action:"}),r.jsxs("div",{className:"grid gap-3",children:[r.jsx(Y,{onClick:async D=>{D.preventDefault(),D.stopPropagation(),console.log("Server switch button clicked!"),console.log("ServerMismatch data:",y);try{s({title:"Switching Server",description:`Switching to ${y.registeredTo}...`}),console.log("Making server configure call...");const G=await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:y.registeredTo,description:`Switched to ${y.registeredTo} for bot management`})});if(console.log("Server configure response:",G.status),!G.ok){const je=await G.json();throw console.error("Server configure error:",je),new Error(je.message||"Failed to switch server")}const ee=await G.json();console.log("Server configure result:",ee),s({title:"Server Switched",description:`Successfully switched to ${y.registeredTo}`}),await new Promise(je=>setTimeout(je,1e3)),console.log("Checking registration on new server...");const de=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:c.phoneNumber})});if(console.log("Check registration response:",de.status),de.ok){const je=await de.json();console.log("Check registration data:",je),je.hasBot&&je.bot?(x(je.bot),xe(y.registeredTo),h(8),console.log("Successfully switched to existing bot management")):(console.log("No bot found on registered server"),s({title:"Bot Not Found",description:"Could not find your bot on the registered server",variant:"destructive"}))}else{const je=await de.text();console.error("Check registration failed:",je),s({title:"Error",description:"Failed to verify bot on registered server",variant:"destructive"})}}catch(G){console.error("Server switch error:",G),s({title:"Server Switch Failed",description:G instanceof Error?G.message:"Unknown error",variant:"destructive"})}},className:"justify-start text-left h-auto p-4","data-testid":"button-switch-to-registered-server",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:" Switch to Registered Server"}),r.jsxs("div",{className:"text-sm opacity-80 mt-1",children:["Manage your existing bot on ",y.registeredTo]})]})}),r.jsx(Y,{variant:"outline",onClick:()=>{h(3)},className:"justify-start text-left h-auto p-4","data-testid":"button-stay-current-server",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:" Use Different Phone Number"}),r.jsx("div",{className:"text-sm opacity-80 mt-1",children:"Register a new bot with different phone number on this server"})]})})]})]})]})]}),r.jsx(Y,{onClick:le,variant:"outline",className:"w-full","data-testid":"button-back-step-9",children:" Back to Phone Number"})]}),f===11&&b&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white text-xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Auto-Distributed to Available Server!"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your bot has been automatically assigned to the best available server"})]}),r.jsxs(me,{className:"border-l-4 border-l-purple-500",children:[r.jsxs(ze,{children:[r.jsx(qe,{className:"text-lg",children:" Server Assignment"}),r.jsx(it,{children:"Your bot has been optimally placed"})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg bg-purple-50 dark:bg-purple-900/20",children:[r.jsx("h4",{className:"font-medium text-purple-700 dark:text-purple-300 mb-2",children:"Assigned Server"}),r.jsx("p",{className:"text-lg font-bold text-purple-600",children:b.assignedServer}),r.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Optimized for your location and performance"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:" What happens next:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-500 mt-0.5",children:""}),"Your bot is registered on ",b.assignedServer]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),"Contact +254704897825 for activation"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-500 mt-0.5",children:""}),"Switch to ",b.assignedServer," to manage your bot"]})]})]})]})]}),r.jsxs(Y,{onClick:()=>{xe(b.assignedServer),re()},className:"w-full","data-testid":"button-switch-to-assigned-server",children:[" Switch to ",b.assignedServer]})]}),f===7&&b&&r.jsxs("div",{className:"space-y-6 py-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Auto-Distributed Successfully!"}),r.jsx("p",{className:"text-muted-foreground",children:b.message})]}),r.jsxs(me,{className:"border-emerald-200 bg-emerald-50 dark:bg-emerald-900/20 dark:border-emerald-800",children:[r.jsxs(ze,{children:[r.jsxs(qe,{className:"flex items-center gap-2 text-emerald-700 dark:text-emerald-400",children:[r.jsx("span",{children:""}),b.botDetails?.name]}),r.jsxs(it,{children:["Phone: ",b.botDetails?.phoneNumber]})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Original Server:"}),r.jsx("div",{className:"text-muted-foreground",children:b.originalServer})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Assigned To:"}),r.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:b.assignedServer})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Available Slots:"}),r.jsxs("div",{className:"text-blue-600 dark:text-blue-400",children:[b.botDetails?.availableSlots," remaining"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Registration Type:"}),r.jsx("div",{className:"text-purple-600 dark:text-purple-400",children:"Auto-Distribution"})]})]}),b.serverUrl&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 dark:bg-blue-900/20 dark:border-blue-800",children:r.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",r.jsx("strong",{children:"Server URL:"})," ",b.serverUrl]})})]})]}),r.jsx(me,{className:"border-blue-200 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-800",children:r.jsxs(pe,{className:"p-4",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:" Next Steps"}),r.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:b.nextSteps?.map((D,G)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),D]},G))})]})}),r.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[r.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-2 flex items-center gap-2",children:" Cross-Tenancy Benefits"}),r.jsxs("ul",{className:"text-sm text-emerald-700 dark:text-emerald-300 space-y-1",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Automatic load balancing across servers"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Seamless bot management from any approved server"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Enhanced reliability and availability"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Global bot registry synchronization"]})]})]}),r.jsx(Y,{onClick:re,className:"w-full bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700","data-testid":"button-close-cross-tenancy",children:" Awesome! Let's Go"})]})]}),g&&r.jsx(rO,{open:I,onClose:()=>L(!1),botId:g.id,phoneNumber:g.phoneNumber,crossTenancyMode:!!y,targetServer:y?.details?.registeredTo,onSuccess:()=>{T()}})]})}const sO=Yo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ye({className:e,variant:t,...s}){return r.jsx("div",{className:Ee(sO({variant:t}),e),...s})}function iO({open:e,onClose:t}){const[s,a]=p.useState("pending"),[o,c]=p.useState(!1),[u,f]=p.useState(!1),[h,g]=p.useState(null),[x,y]=p.useState("3"),[w,C]=p.useState(""),[P,b]=p.useState(""),j=_r(),{data:E=[],isLoading:k}=vt({queryKey:["/api/bots/pending"],enabled:e&&s==="pending"}),{data:I=[],isLoading:L}=vt({queryKey:["/api/bots/approved"],enabled:e&&s==="approved"}),B=Ge({mutationFn:async({botId:K,duration:ne})=>(await kt("POST",`/api/bots/${K}/approve`,{expirationMonths:ne})).json(),onSuccess:()=>{j.invalidateQueries({queryKey:["/api/bots/pending"]}),j.invalidateQueries({queryKey:["/api/bots/approved"]}),c(!1),g(null)}}),X=Ge({mutationFn:async({botId:K,reason:ne})=>(await kt("POST",`/api/bots/${K}/reject`,{reason:ne})).json(),onSuccess:()=>{j.invalidateQueries({queryKey:["/api/bots/pending"]}),b("")}}),q=Ge({mutationFn:async({botId:K,message:ne})=>(await kt("POST",`/api/admin/send-message/${K}`,{message:ne})).json(),onSuccess:()=>{f(!1),C(""),g(null)}}),te=K=>{g(K),c(!0)},we=()=>{h&&x&&B.mutate({botId:h.id,duration:parseInt(x)})},xe=(K,ne)=>{X.mutate({botId:K.id,reason:ne})},ve=K=>{g(K),f(!0)},J=()=>{h&&w.trim()&&q.mutate({botId:h.id,message:w})},se=K=>new Date(K).toLocaleDateString(),W=(K,ne)=>{const S=new Date(K);return S.setMonth(S.getMonth()+ne),S.toLocaleDateString()},he=(K,ne)=>{const S=new Date(K);return S.setMonth(S.getMonth()+ne),(S.getTime()-Date.now())/(1e3*60*60*24)<=7};return r.jsxs(r.Fragment,{children:[r.jsx(Zt,{open:e,onOpenChange:t,children:r.jsxs(Ut,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsx(qt,{children:r.jsx(Wt,{className:"text-xl font-bold",children:" Admin Bot Management"})}),r.jsxs("div",{className:"flex space-x-1 bg-muted/30 p-1 rounded-lg mb-6",children:[r.jsxs("button",{onClick:()=>a("pending"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${s==="pending"?"bg-blue-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:[" Pending Bots (",E.length,")"]}),r.jsxs("button",{onClick:()=>a("approved"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${s==="approved"?"bg-green-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:[" Approved Bots (",I.length,")"]})]}),s==="pending"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Pending Bot Registrations"}),k?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):E.length===0?r.jsx(me,{children:r.jsx(pe,{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"No pending bot registrations"})})}):r.jsx("div",{className:"grid gap-4",children:E.map(K=>r.jsx(me,{className:"border-orange-200",children:r.jsx(pe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-clock text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:K.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",K.phoneNumber||"No phone number"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",se(K.createdAt)]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ye,{variant:"secondary",className:"text-orange-600 bg-orange-100",children:"Pending"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(Y,{size:"sm",onClick:()=>te(K),className:"bg-green-600 hover:bg-green-700 text-white",children:[r.jsx("i",{className:"fas fa-check mr-1"}),"Approve"]}),r.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>{const ne=prompt("Rejection reason:");ne&&xe(K,ne)},className:"text-red-600 border-red-600 hover:bg-red-50",children:[r.jsx("i",{className:"fas fa-times mr-1"}),"Reject"]})]})]})]})})},K.id))})]}),s==="approved"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Approved & Active Bots"}),L?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):I.length===0?r.jsx(me,{children:r.jsx(pe,{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"No approved bots yet"})})}):r.jsx("div",{className:"grid gap-4",children:I.map(K=>r.jsx(me,{className:"border-green-200",children:r.jsx(pe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-check-circle text-green-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:K.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",K.phoneNumber||"No phone number"]}),r.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground mt-1",children:[r.jsxs("span",{children:[" Approved: ",se(K.approvalDate)]}),r.jsxs("span",{children:[" Expires: ",W(K.approvalDate,K.expirationMonths)]}),r.jsxs("span",{children:[" Duration: ",K.expirationMonths," months"]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ye,{variant:K.status==="online"?"default":"secondary",className:K.status==="online"?"bg-green-600 text-white":"text-gray-600 bg-gray-100",children:K.status==="online"?" Online":" Offline"}),he(K.approvalDate,K.expirationMonths)&&r.jsx(Ye,{variant:"destructive",className:"text-red-600 bg-red-100",children:" Expiring Soon"}),r.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>ve(K),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[r.jsx("i",{className:"fas fa-message mr-1"}),"Message"]})]})]})})},K.id))})]})]})}),r.jsx(Zt,{open:o,onOpenChange:c,children:r.jsxs(Ut,{children:[r.jsx(qt,{children:r.jsx(Wt,{children:" Approve Bot Registration"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{children:"Bot Name"}),r.jsx("p",{className:"font-medium",children:h?.name})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Phone Number"}),r.jsx("p",{className:"font-medium",children:h?.phoneNumber})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"duration",children:"Approval Duration *"}),r.jsxs(hr,{value:x,onValueChange:y,children:[r.jsx(cr,{children:r.jsx(pr,{})}),r.jsxs(dr,{children:[r.jsx(Ie,{value:"1",children:"1 Month"}),r.jsx(Ie,{value:"2",children:"2 Months"}),r.jsx(Ie,{value:"3",children:"3 Months"}),r.jsx(Ie,{value:"6",children:"6 Months"}),r.jsx(Ie,{value:"12",children:"12 Months"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bot will expire and return to pending after this duration"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Y,{onClick:we,disabled:B.isPending,className:"bg-green-600 hover:bg-green-700",children:B.isPending?"Approving...":"Approve Bot"}),r.jsx(Y,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})]})]})]})}),r.jsx(Zt,{open:u,onOpenChange:f,children:r.jsxs(Ut,{children:[r.jsx(qt,{children:r.jsx(Wt,{children:" Send Message to Bot User"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{children:"Bot"}),r.jsxs("p",{className:"font-medium",children:[h?.name," (",h?.phoneNumber,")"]})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"message",children:"Message *"}),r.jsx(Zs,{id:"message",value:w,onChange:K=>C(K.target.value),placeholder:"Enter your message to the bot user...",rows:4})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Y,{onClick:J,disabled:q.isPending||!w.trim(),className:"bg-blue-600 hover:bg-blue-700",children:q.isPending?"Sending...":"Send Message"}),r.jsx(Y,{variant:"outline",onClick:()=>f(!1),children:"Cancel"})]})]})]})})]})}function aO(){const{isAdmin:e}=Jo(),{toast:t}=rr(),[s,a]=p.useState(!1),[o,c]=p.useState(!1),[u,f]=p.useState(!1),[h,g]=p.useState(!1),[x,y]=p.useState(!1),[w,C]=p.useState(null),[P,b]=p.useState(null);p.useEffect(()=>{const R=new URLSearchParams(window.location.search).get("openRegistration")==="true",re=localStorage.getItem("autoRegisterFlow"),le=localStorage.getItem("autoRegisterSessionId"),D=localStorage.getItem("autoRegisterPhoneNumber"),G=localStorage.getItem("autoRegisterTimestamp");console.log("Dashboard auto-register check:",{autoRegisterFlow:re,hasSessionId:!!le,hasPhoneNumber:!!D,timestamp:G,shouldOpenRegistration:R}),(re==="true"||R)&&le&&D&&(R&&window.history.replaceState({},"","/"),setTimeout(()=>{localStorage.removeItem("autoRegisterFlow"),localStorage.removeItem("autoRegisterTimestamp"),console.log("Opening registration dialog with auto-filled data"),f(!0),t({title:"Ready to Register!",description:"Your credentials are ready. Complete your bot registration now."})},100))},[t]);const{data:j={},isLoading:E}=vt({queryKey:["/api/dashboard/stats"]}),{data:k={},isLoading:I}=vt({queryKey:["/api/server/info"]}),{data:L=[],isLoading:B}=vt({queryKey:["/api/bot-instances"],enabled:e}),{data:X=[],isLoading:q}=vt({queryKey:["/api/bots/pending"],enabled:e}),{data:te=[],isLoading:we}=vt({queryKey:["/api/bots/approved"],enabled:e}),{data:xe=[],isLoading:ve}=vt({queryKey:["/api/activities"]}),{data:J=[],isLoading:se}=vt({queryKey:["/api/commands"],enabled:e}),{data:W=[],isLoading:he}=vt({queryKey:["/api/admin/god-registry"],enabled:e});Ib();const K=Ge({mutationFn:({id:T,expirationMonths:R})=>kt("POST",`/api/bots/${T}/approve`,{expirationMonths:R}),onSuccess:()=>{t({title:"Bot approved successfully!"}),wr.invalidateQueries({queryKey:["/api/bots/pending"]}),wr.invalidateQueries({queryKey:["/api/bots/approved"]}),wr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{t({title:"Failed to approve bot",variant:"destructive"})}}),ne=Ge({mutationFn:T=>kt("POST",`/api/bots/${T}/reject`),onSuccess:()=>{t({title:"Bot rejected and removed"}),wr.invalidateQueries({queryKey:["/api/bots/pending"]}),wr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{t({title:"Failed to reject bot",variant:"destructive"})}}),S=Ge({mutationFn:({botId:T,feature:R,enabled:re})=>kt("POST",`/api/bot-instances/${T}/toggle-feature`,{feature:R,enabled:re}),onSuccess:()=>{t({title:"Feature updated successfully!"}),wr.invalidateQueries({queryKey:["/api/bots/approved"]}),wr.invalidateQueries({queryKey:["/api/activities"]})},onError:()=>{t({title:"Failed to update feature",variant:"destructive"})}});Ge({mutationFn:T=>kt("POST",`/api/bot-instances/${T}/revoke`),onSuccess:()=>{t({title:"Bot approval revoked",description:"Bot returned to pending status"}),wr.invalidateQueries({queryKey:["/api/bots/approved"]}),wr.invalidateQueries({queryKey:["/api/bots/pending"]}),wr.invalidateQueries({queryKey:["/api/bot-instances"]}),wr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{t({title:"Failed to revoke approval",variant:"destructive"})}}),Ge({mutationFn:T=>kt("POST",`/api/bot-instances/${T}/restart`),onSuccess:()=>{t({title:"Bot restarted successfully"}),wr.invalidateQueries({queryKey:["/api/bots/approved"]}),wr.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:()=>{t({title:"Failed to restart bot",variant:"destructive"})}});const $=Ge({mutationFn:({phoneNumber:T,tenancyName:R})=>kt("PUT",`/api/admin/god-registry/${encodeURIComponent(T)}`,{tenancyName:R}),onSuccess:()=>{t({title:"Registration updated successfully!"}),wr.invalidateQueries({queryKey:["/api/admin/god-registry"]}),b(null)},onError:()=>{t({title:"Failed to update registration",variant:"destructive"})}}),H=Ge({mutationFn:T=>kt("DELETE",`/api/admin/god-registry/${encodeURIComponent(T)}`),onSuccess:()=>{t({title:"Registration deleted successfully!"}),wr.invalidateQueries({queryKey:["/api/admin/god-registry"]})},onError:()=>{t({title:"Failed to delete registration",variant:"destructive"})}});return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-emerald-950",children:[!e&&r.jsx(L_,{}),r.jsx("header",{className:"sticky top-0 z-40 backdrop-blur-xl bg-gray-900/80 border-b border-emerald-500/20 px-4 sm:px-6 py-4 shadow-lg shadow-emerald-500/5",children:r.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[r.jsx("div",{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-emerald-400 to-green-600 flex items-center justify-center shadow-lg shadow-emerald-500/50",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-400 via-green-400 to-teal-400 bg-clip-text text-transparent",children:[k.serverName||"TREKKER-MD"," Dashboard"]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Ultra-fast lifetime WhatsApp bot automation"})]})]})}),r.jsx("div",{className:"flex items-center space-x-3",children:e&&r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(Y,{onClick:()=>c(!0),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg shadow-blue-500/30",children:[r.jsx("i",{className:"fas fa-terminal mr-2"}),"Commands"]}),r.jsxs(Y,{onClick:()=>g(!0),className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white shadow-lg shadow-purple-500/30",children:[r.jsx("i",{className:"fas fa-robot mr-2"}),"Manage Bots"]}),r.jsxs(Y,{onClick:()=>y(!0),className:"bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white shadow-lg shadow-orange-500/30",children:[r.jsx("i",{className:"fas fa-database mr-2"}),"Registry"]})]})})]})}),r.jsxs("div",{className:"p-6",children:[!e&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-600 via-green-600 to-teal-600 p-8 mb-6 shadow-2xl shadow-emerald-500/30",children:[r.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzBoNHYzNmgtNHp2Lz48L2c+PC9nPjwvc3ZnPg==')] opacity-20"}),r.jsxs("div",{className:"relative text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm mb-4 shadow-lg",children:r.jsx("span",{className:"text-5xl",children:""})}),r.jsx("h2",{className:"text-4xl font-bold text-white mb-3",children:"Get Started with TREKKER-MD Bot"}),r.jsx("p",{className:"text-lg text-emerald-100 max-w-2xl mx-auto",children:"Follow these simple steps to activate your ultra-fast WhatsApp automation bot"})]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-gray-800 to-gray-900 border border-purple-500/30 hover:border-purple-400/60 transition-all duration-300 hover:shadow-2xl hover:shadow-purple-500/30 hover:-translate-y-1",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),r.jsxs("div",{className:"relative p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"flex items-center justify-center w-14 h-14 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 shadow-lg shadow-purple-500/50 group-hover:scale-110 transition-transform",children:r.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Register Your Bot"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-400 animate-pulse"}),r.jsx("span",{className:"text-xs text-purple-400 font-medium",children:"START HERE"})]})]})]}),r.jsxs("p",{className:"text-gray-300 mb-5 leading-relaxed",children:["Upload your session credentials and configure your bot features. Choose from ",r.jsx("span",{className:"font-semibold text-purple-400",children:"auto-like, auto-react, ChatGPT"}),", and more"]}),r.jsxs(Y,{onClick:()=>f(!0),className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-semibold py-3 shadow-lg shadow-purple-500/30 group-hover:shadow-purple-500/50 transition-all",children:[r.jsx("i",{className:"fas fa-rocket mr-2"}),"Register Now",r.jsx("i",{className:"fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"})]})]})]}),r.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-gray-800 to-gray-900 border border-emerald-500/30 hover:border-emerald-400/60 transition-all duration-300 hover:shadow-2xl hover:shadow-emerald-500/30 hover:-translate-y-1",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),r.jsxs("div",{className:"relative p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"flex items-center justify-center w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 shadow-lg shadow-emerald-500/50 group-hover:scale-110 transition-transform",children:r.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Manage Your Bot"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),r.jsx("span",{className:"text-xs text-emerald-400 font-medium",children:"FINAL STEP"})]})]})]}),r.jsxs("p",{className:"text-gray-300 mb-5 leading-relaxed",children:["Control features, view statistics, and manage your bot settings. Access your ",r.jsx("span",{className:"font-semibold text-emerald-400",children:"full dashboard"})," with real-time monitoring"]}),r.jsx(vy,{href:"/guest/bot-management",children:r.jsxs(Y,{className:"w-full bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white font-semibold py-3 shadow-lg shadow-emerald-500/30 group-hover:shadow-emerald-500/50 transition-all",children:[r.jsx("i",{className:"fas fa-cog mr-2"}),"Bot Management",r.jsx("i",{className:"fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})]})]}),e?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(me,{className:"bg-gray-800/50 border-yellow-500/30 backdrop-blur-sm",children:[r.jsxs(ze,{className:"border-b border-yellow-500/20",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(qe,{className:"text-lg font-semibold text-white flex items-center gap-2",children:[r.jsx("i",{className:"fas fa-clock text-yellow-400"}),"Pending Bot Registrations"]}),r.jsxs(Y,{onClick:()=>c(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx("i",{className:"fas fa-terminal mr-2"}),"Manage Commands"]})]}),r.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Review and approve new bot registrations"})]}),r.jsx(pe,{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:q?r.jsx("div",{className:"text-center py-4",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-yellow-400"})}):X.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("i",{className:"fas fa-check-circle text-5xl text-gray-600 mb-3"}),r.jsx("p",{className:"text-gray-400",children:"No pending bot registrations"})]}):X.map(T=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg hover:bg-yellow-500/20 transition-colors","data-testid":`pending-bot-${T.id}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-robot text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:T.name}),r.jsx("p",{className:"text-xs text-gray-400",children:T.phoneNumber||"No phone number"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Registered: ",new Date(T.createdAt).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(Y,{size:"sm",onClick:()=>K.mutate({id:T.id,expirationMonths:12}),disabled:K.isPending,className:"bg-green-600 hover:bg-green-700 text-white","data-testid":`button-approve-${T.id}`,children:[r.jsx("i",{className:"fas fa-check mr-1"}),"Approve"]}),r.jsxs(Y,{size:"sm",onClick:()=>ne.mutate(T.id),disabled:ne.isPending,variant:"destructive","data-testid":`button-reject-${T.id}`,children:[r.jsx("i",{className:"fas fa-times mr-1"}),"Reject"]})]})]},T.id))})})]}),r.jsxs(me,{className:"bg-gray-800/50 border-green-500/30 backdrop-blur-sm",children:[r.jsxs(ze,{className:"border-b border-green-500/20",children:[r.jsxs(qe,{className:"text-lg font-semibold text-white flex items-center gap-2",children:[r.jsx("i",{className:"fas fa-check-circle text-green-400"}),"Approved Bot Instances"]}),r.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Active bots with auto-running capabilities"})]}),r.jsx(pe,{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:we?r.jsx("div",{className:"text-center py-4",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-green-400"})}):te.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("i",{className:"fas fa-robot text-5xl text-gray-600 mb-3"}),r.jsx("p",{className:"text-gray-400",children:"No approved bots yet"})]}):te.map(T=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-500/10 border border-green-500/20 rounded-lg hover:bg-green-500/20 transition-colors","data-testid":`approved-bot-${T.id}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-robot text-green-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:T.name}),r.jsx("p",{className:"text-xs text-gray-400",children:T.phoneNumber||"No phone number"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-500/10 text-green-400",children:"APPROVED"}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${T.status==="online"?"text-green-400 bg-green-500/10":"text-gray-400 bg-gray-500/10"}`,children:T.status?.toUpperCase()||"UNKNOWN"})]})]},T.id))})})]})]}):null,r.jsxs(me,{className:"relative overflow-hidden bg-gradient-to-br from-emerald-600 via-green-600 to-teal-600 border-none mt-8 text-white shadow-2xl shadow-emerald-500/30",children:[r.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PHBhdGggZD0iTTM2IDM0djEyaDEyVjM0eiIvPjwvZz48L2c+PC9zdmc+')] opacity-30"}),r.jsx(pe,{className:"relative p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm mb-4 shadow-lg",children:r.jsx("span",{className:"text-5xl",children:""})}),r.jsx("h2",{className:"text-4xl font-bold mb-3",children:"TREKKER-MD LIFETIME BOT"}),r.jsx("p",{className:"text-xl text-emerald-100 mb-2",children:"Ultra-Fast WhatsApp Automation Platform"}),r.jsx("p",{className:"text-sm text-emerald-200/80 mb-6",children:"No Expiry  Lifetime Access  Premium Features"}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-5 mb-6 border border-white/20",children:[r.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center justify-center gap-2",children:[r.jsx("i",{className:"fas fa-info-circle"}),"Quick Start Guide"]}),r.jsxs("div",{className:"text-left space-y-3 text-sm",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("i",{className:"fas fa-check-circle text-emerald-300 mt-1"}),r.jsx("p",{children:"Use the Quoted Session ID to Deploy your Bot"})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("i",{className:"fas fa-check-circle text-emerald-300 mt-1"}),r.jsx("p",{children:"DM the owner for lifetime TREKKER-MD bot support"})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("i",{className:"fas fa-check-circle text-emerald-300 mt-1"}),r.jsx("p",{children:"Support us - Donations keep this service running"})]})]})]}),r.jsxs("div",{className:"border-t border-white/20 pt-6",children:[r.jsxs("h3",{className:"text-xl font-semibold mb-5 flex items-center justify-center gap-2",children:[r.jsx("i",{className:"fas fa-link"}),"Connect With Us"]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[r.jsxs("a",{href:"https://t.me/trekkermd",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm transition-all rounded-lg p-3 text-white font-medium group",children:[r.jsx("i",{className:"fab fa-telegram text-xl group-hover:scale-110 transition-transform"}),r.jsx("span",{children:"Telegram"})]}),r.jsxs("a",{href:"https://www.instagram.com/nicholaso_tesla?igsh=eG5oNWVuNXF6eGU0_",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm transition-all rounded-lg p-3 text-white font-medium group",children:[r.jsx("i",{className:"fab fa-instagram text-xl group-hover:scale-110 transition-transform"}),r.jsx("span",{children:"Instagram"})]}),r.jsxs("a",{href:"https://wa.me/254704897825",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm transition-all rounded-lg p-3 text-white font-medium group",children:[r.jsx("i",{className:"fab fa-whatsapp text-xl group-hover:scale-110 transition-transform"}),r.jsx("span",{children:"WhatsApp"})]}),r.jsxs("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm transition-all rounded-lg p-3 text-white font-medium group",children:[r.jsx("i",{className:"fas fa-qrcode text-xl group-hover:scale-110 transition-transform"}),r.jsx("span",{children:"Pair Site"})]}),r.jsxs("a",{href:"https://whatsapp.com/channel/0029Vb6vpSv6WaKiG6ZIy73H",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm transition-all rounded-lg p-3 text-white font-medium group sm:col-span-2",children:[r.jsx("i",{className:"fab fa-whatsapp text-xl group-hover:scale-110 transition-transform"}),r.jsx("span",{children:"WhatsApp Channel"})]})]})]}),r.jsx("p",{className:"text-xs text-emerald-200/70 mt-6 italic",children:"Powered by TREKKER-MD  Ultra Fast Bot "})]})})]})]}),r.jsx(xj,{open:s,onClose:()=>a(!1)}),r.jsx(W4,{open:o,onClose:()=>c(!1)}),r.jsx(nO,{open:u,onClose:()=>f(!1)}),e&&r.jsx(iO,{open:h,onClose:()=>g(!1)}),w&&r.jsx(Zt,{open:!!w,onOpenChange:()=>C(null),children:r.jsxs(Ut,{className:"max-w-md bg-gray-900 border-gray-700",children:[r.jsx(qt,{children:r.jsxs(Wt,{className:"text-lg font-semibold text-white",children:["Manage Bot Features - ",w.name]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Toggle features for this bot. Changes take effect immediately."}),r.jsx("div",{className:"space-y-3",children:[{key:"autoLike",label:"Auto Like Status",description:"Automatically like WhatsApp status updates"},{key:"autoReact",label:"Auto React",description:"Automatically react to messages"},{key:"autoView",label:"Auto View Status",description:"Automatically view WhatsApp status"},{key:"typingIndicator",label:"Typing Indicator",description:"Show typing indicator for responses"},{key:"chatGPT",label:"ChatGPT Integration",description:"Enable AI responses for conversations"}].map(T=>{const R=w.settings?.features?.[T.key]||!1;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Oe,{className:"text-sm font-medium text-white",children:T.label}),r.jsx("p",{className:"text-xs text-gray-400",children:T.description})]}),r.jsx(os,{checked:R,onCheckedChange:re=>{S.mutate({botId:w.id,feature:T.key,enabled:!!re}),C(le=>le?{...le,settings:{...le.settings,features:{...le.settings?.features,[T.key]:!!re}}}:null)},disabled:S.isPending})]},T.key)})}),r.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:r.jsx(Y,{variant:"outline",onClick:()=>C(null),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Close"})})]})]})}),x&&r.jsx(Zt,{open:x,onOpenChange:()=>y(!1),children:r.jsxs(Ut,{className:"max-w-4xl bg-gray-900 border-gray-700",children:[r.jsxs(qt,{children:[r.jsx(Wt,{className:"text-white",children:" God Registry Management"}),r.jsx(_o,{className:"text-gray-400",children:"Manage global phone number registrations across all tenants"})]}),r.jsx("div",{className:"space-y-4",children:he?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"w-6 h-6 border-2 border-emerald-400 border-t-transparent rounded-full animate-spin"})}):W.length===0?r.jsx("div",{className:"text-center py-8 text-gray-400",children:"No registrations found"}):r.jsx("div",{className:"space-y-2",children:W.map(T=>r.jsx("div",{className:"border border-gray-700 rounded-lg p-4 bg-gray-800/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-white",children:[" ",T.phoneNumber]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Tenant: ",T.tenancyName]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Registered: ",new Date(T.registeredAt).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Y,{variant:"outline",size:"sm",onClick:()=>b(T),className:"border-gray-700 text-gray-300 hover:bg-gray-800","data-testid":`button-edit-${T.phoneNumber}`,children:" Edit"}),r.jsx(Y,{variant:"destructive",size:"sm",onClick:()=>{confirm(`Delete registration for ${T.phoneNumber}?`)&&H.mutate(T.phoneNumber)},disabled:H.isPending,"data-testid":`button-delete-${T.phoneNumber}`,children:H.isPending?"...":" Delete"})]})]})},T.phoneNumber))})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(Y,{onClick:()=>y(!1),className:"bg-emerald-600 hover:bg-emerald-700",children:"Close"})})]})}),P&&r.jsx(Zt,{open:!!P,onOpenChange:()=>b(null),children:r.jsxs(Ut,{className:"bg-gray-900 border-gray-700",children:[r.jsxs(qt,{children:[r.jsx(Wt,{className:"text-white",children:" Edit Registration"}),r.jsxs(_o,{className:"text-gray-400",children:["Update the tenant assignment for ",P.phoneNumber]})]}),r.jsxs("form",{onSubmit:T=>{T.preventDefault();const re=new FormData(T.currentTarget).get("tenancyName");re.trim()&&$.mutate({phoneNumber:P.phoneNumber,tenancyName:re.trim()})},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-white",children:"Phone Number"}),r.jsx("input",{type:"text",value:P.phoneNumber,disabled:!0,className:"w-full p-3 border border-gray-700 rounded-md bg-gray-800 text-gray-400"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-white",children:"Tenant Name"}),r.jsx("input",{type:"text",name:"tenancyName",defaultValue:P.tenancyName,placeholder:"Enter new tenant name",required:!0,className:"w-full p-3 border border-gray-700 rounded-md bg-gray-800 text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent","data-testid":"input-tenancy-name"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(Y,{type:"button",variant:"outline",onClick:()=>b(null),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),r.jsx(Y,{type:"submit",disabled:$.isPending,className:"bg-emerald-600 hover:bg-emerald-700","data-testid":"button-update-registration",children:$.isPending?"Updating...":"Update"})]})]})]})})]})}var oO="Separator",ty="horizontal",lO=["horizontal","vertical"],Rj=p.forwardRef((e,t)=>{const{decorative:s,orientation:a=ty,...o}=e,c=cO(a)?a:ty,f=s?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return r.jsx(Be.div,{"data-orientation":c,...f,...o,ref:t})});Rj.displayName=oO;function cO(e){return lO.includes(e)}var Ij=Rj;const km=p.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...a},o)=>r.jsx(Ij,{ref:o,decorative:s,orientation:t,className:Ee("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));km.displayName=Ij.displayName;function dO({bot:e,isOpen:t,onClose:s}){const{toast:a}=rr(),o=_r(),[c,u]=p.useState(()=>({autoView:e.autoViewStatus||!1,typingIndicator:e.typingMode!=="none",chatGPT:e.chatgptEnabled||!1,alwaysOnline:e.alwaysOnline||!1,autoRecording:e.presenceMode==="recording",presenceAutoSwitch:e.presenceAutoSwitch||!1})),f=Ge({mutationFn:({feature:C,enabled:P})=>kt("POST",`/api/bot-instances/${e.id}/toggle-feature`,{feature:C,enabled:P}),onSuccess:(C,{feature:P,enabled:b})=>{u(j=>({...j,[P]:b})),o.invalidateQueries({queryKey:["/api/bots/pending"]}),o.invalidateQueries({queryKey:["/api/bots/approved"]}),o.invalidateQueries({queryKey:["/api/bot-instances"]}),a({title:"Feature updated successfully"})},onError:C=>{a({title:"Failed to update feature",description:C instanceof Error?C.message:"Unknown error",variant:"destructive"})}}),h=(C,P)=>{f.mutate({feature:C,enabled:P})},g=[{id:"autoView",label:"Auto View Status",description:"Automatically view WhatsApp status",apiKey:"autoView",getValue:()=>c.autoView}],x=[{id:"typingIndicator",label:"Typing Indicator",description:"Show typing indicator for responses",apiKey:"typingIndicator",getValue:()=>c.typingIndicator},{id:"autoRecording",label:"Auto Recording",description:"Show recording indicator automatically",apiKey:"autoRecording",getValue:()=>c.autoRecording},{id:"alwaysOnline",label:"Always Online",description:"Keep bot status as online always",apiKey:"alwaysOnline",getValue:()=>c.alwaysOnline},{id:"presenceAutoSwitch",label:"Auto Switch Typing/Recording",description:"Switch between typing and recording every 30 seconds",apiKey:"presenceAutoSwitch",getValue:()=>c.presenceAutoSwitch}],y=[{id:"chatGPT",label:"ChatGPT Integration",description:"Enable AI responses for conversations",apiKey:"chatGPT",getValue:()=>c.chatGPT}],w=(C,P)=>r.jsxs("div",{className:"space-y-3","data-testid":`section-${C.toLowerCase().replace(/\s+/g,"-")}`,children:[r.jsx("h4",{className:"font-medium text-sm text-foreground",children:C}),r.jsx("div",{className:"space-y-3",children:P.map(b=>r.jsxs("div",{className:"flex items-start space-x-3","data-testid":`feature-${b.id}`,children:[r.jsx(os,{id:b.id,checked:b.getValue(e),onCheckedChange:j=>h(b.apiKey,!!j),disabled:f.isPending||e.approvalStatus!=="approved","data-testid":`checkbox-${b.id}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Oe,{htmlFor:b.id,className:"text-sm font-medium cursor-pointer",children:b.label}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:b.description})]})]},b.id))})]});return r.jsx(Zt,{open:t,onOpenChange:s,children:r.jsxs(Ut,{className:"max-w-md","data-testid":"modal-bot-features",children:[r.jsx(qt,{children:r.jsxs(Wt,{"data-testid":"modal-title",children:["Manage Bot Features - ",e.name]})}),r.jsxs("div",{className:"space-y-6",children:[e.approvalStatus!=="approved"&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:r.jsx("p",{className:"text-sm text-yellow-800",children:" Bot must be approved before features can be managed"})}),w("Automation",g),r.jsx(km,{}),w("Presence",x),r.jsx(km,{}),w("AI Integration",y),r.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:r.jsx(Y,{variant:"outline",onClick:s,"data-testid":"button-close",children:"Close"})})]})]})})}function uO(e){if(!e||e.length<8)return e;const t=e.slice(0,7),s=e.slice(-2),a="*".repeat(Math.max(0,e.length-9));return`${t}${a}${s}`}function ry({bot:e}){const{toast:t}=rr(),s=_r(),{isAdmin:a,token:o}=Jo(),[c,u]=p.useState(!1),f=Ge({mutationFn:({feature:b,enabled:j})=>kt("POST",`/api/bot-instances/${e.id}/toggle-feature`,{feature:b,enabled:j}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]}),t({title:"Feature updated successfully"})},onError:b=>{t({title:"Failed to update feature",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),h=Ge({mutationFn:()=>kt("POST",`/api/bot-instances/${e.id}/approve`,{expirationMonths:3}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]}),t({title:"Bot approved successfully",description:"Bot is now approved for 3 months"})},onError:b=>{t({title:"Failed to approve bot",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),g=Ge({mutationFn:()=>kt("POST",`/api/bot-instances/${e.id}/revoke`),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]}),t({title:"Bot approval revoked",description:"Bot has been returned to pending status"})},onError:b=>{t({title:"Failed to revoke approval",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),x=Ge({mutationFn:()=>{if(!a)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/start`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(b=>{if(!b.ok)throw new Error("Failed to start bot");return b.json()})},onSuccess:()=>{t({title:"Bot started successfully"}),s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:b=>{t({title:"Failed to start bot",description:b.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),y=Ge({mutationFn:()=>{if(!a)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/stop`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(b=>{if(!b.ok)throw new Error("Failed to stop bot");return b.json()})},onSuccess:()=>{t({title:"Bot stopped successfully"}),s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:b=>{t({title:"Failed to stop bot",description:b.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),w=Ge({mutationFn:()=>{if(!a)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/restart`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(b=>{if(!b.ok)throw new Error("Failed to restart bot");return b.json()})},onSuccess:()=>{t({title:"Bot restarted successfully"}),s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:b=>{t({title:"Failed to restart bot",description:b.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),C=b=>{switch(b){case"online":return"status-online";case"offline":return"status-offline";case"error":return"status-error";case"loading":return"status-loading";default:return"status-offline"}},P=()=>a?e.status==="online"?r.jsx("button",{onClick:()=>y.mutate(),disabled:y.isPending,className:"flex-1 bg-red-600 text-white py-2 px-3 rounded-md text-sm hover:bg-red-700 transition-colors disabled:opacity-50","data-testid":`button-stop-bot-${e.id}`,children:y.isPending?"Stopping...":"Stop"}):e.status==="error"?r.jsx("button",{onClick:()=>w.mutate(),disabled:w.isPending,className:"flex-1 bg-destructive text-destructive-foreground py-2 px-3 rounded-md text-sm hover:bg-destructive/90 transition-colors disabled:opacity-50","data-testid":`button-restart-bot-${e.id}`,children:w.isPending?"Restarting...":"Restart"}):r.jsx("button",{onClick:()=>x.mutate(),disabled:x.isPending,className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-start-bot-${e.id}`,children:x.isPending?"Starting...":"Start"}):r.jsx("button",{disabled:!0,className:"flex-1 bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm cursor-not-allowed",title:"Admin access required",children:" Admin Only"});return r.jsxs(me,{className:"bg-card border-border","data-testid":`bot-card-${e.id}`,children:[r.jsxs(pe,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${e.status==="online"?"bg-primary":e.status==="error"?"bg-yellow-500/20":"bg-muted"}`,children:r.jsx("i",{className:`fab fa-whatsapp text-xl ${e.status==="online"?"text-primary-foreground":e.status==="error"?"text-yellow-400 pulse-animation":"text-muted-foreground"}`})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-foreground","data-testid":`bot-name-${e.id}`,children:e.name}),r.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`bot-phone-${e.id}`,children:e.phoneNumber?a?e.phoneNumber:uO(e.phoneNumber):"Not connected"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${C(e.status)}`,"data-testid":`bot-status-${e.id}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),r.jsx("button",{className:"w-8 h-8 bg-muted rounded-md flex items-center justify-center hover:bg-muted/80","data-testid":`button-bot-menu-${e.id}`,children:r.jsx("i",{className:"fas fa-ellipsis-v text-muted-foreground"})})]})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[e.approvalStatus==="pending"&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-yellow-800",children:" Awaiting Approval"}),r.jsx("p",{className:"text-xs text-yellow-600",children:"This bot is waiting for admin approval"})]}),r.jsx("button",{onClick:()=>h.mutate(),disabled:h.isPending,className:"bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 disabled:opacity-50",children:h.isPending?"":" Approve"})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),r.jsx("button",{onClick:()=>f.mutate({feature:"autoView",enabled:!e.autoViewStatus}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoViewStatus?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoViewStatus?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),r.jsx("button",{onClick:()=>f.mutate({feature:"chatGPT",enabled:!e.chatgptEnabled}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.chatgptEnabled?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.chatgptEnabled?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Typing"}),r.jsx("button",{onClick:()=>f.mutate({feature:"typingIndicator",enabled:e.typingMode==="none"}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.typingMode!=="none"?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.typingMode!=="none"?"bg-white":"bg-muted-foreground"}`})})]})]})]}),e.status==="error"&&r.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3 mb-4",children:r.jsx("p",{className:"text-sm text-destructive",children:"Connection timeout - attempting restart"})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-messages-${e.id}`,children:e.messagesCount}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-commands-${e.id}`,children:e.commandsCount}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Commands"})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[P(),a&&r.jsxs(r.Fragment,{children:[e.approvalStatus==="pending"&&r.jsx("button",{onClick:()=>h.mutate(),disabled:h.isPending,className:"bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-approve-${e.id}`,children:h.isPending?"Approving...":" Approve"}),e.approvalStatus==="approved"&&r.jsx("button",{onClick:()=>g.mutate(),disabled:g.isPending,className:"bg-orange-600 text-white py-2 px-3 rounded-md text-sm hover:bg-orange-700 transition-colors disabled:opacity-50","data-testid":`button-revoke-${e.id}`,children:g.isPending?"Revoking...":" Normal"})]}),r.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-analytics-${e.id}`,children:r.jsx("i",{className:"fas fa-chart-line"})}),r.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white py-2 px-3 rounded-md text-sm hover:bg-blue-700 transition-colors","data-testid":`button-features-${e.id}`,children:[r.jsx("i",{className:"fas fa-sliders-h mr-1"}),"Features"]}),r.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-settings-${e.id}`,children:r.jsx("i",{className:"fas fa-cog"})})]})]}),r.jsx(dO,{bot:e,isOpen:c,onClose:()=>u(!1)})]})}function fO(){const[e,t]=p.useState(!1),[s,a]=p.useState("pending"),{data:o=[],isLoading:c}=vt({queryKey:["/api/bots/pending"]}),{data:u=[],isLoading:f}=vt({queryKey:["/api/bots/approved"]}),h=o||[],g=u||[];return Ib(),r.jsxs("div",{children:[r.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Bot Management Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage bot instances based on their approval status"})]}),r.jsxs(Y,{onClick:()=>t(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-new-bot",children:[r.jsx("i",{className:"fas fa-plus mr-2"}),"Add New Bot"]})]})}),r.jsx("div",{className:"p-6",children:r.jsxs(Ta,{value:s,onValueChange:x=>a(x),children:[r.jsxs(Pi,{className:"grid w-full grid-cols-2",children:[r.jsx(Et,{value:"pending",className:"relative","data-testid":"tab-pending",children:r.jsxs("span",{className:"flex items-center gap-2",children:[" Pending Approval",h.length>0&&r.jsx(Ye,{variant:"secondary",className:"ml-1 bg-yellow-100 text-yellow-800",children:h.length})]})}),r.jsx(Et,{value:"approved",className:"relative","data-testid":"tab-approved",children:r.jsxs("span",{className:"flex items-center gap-2",children:[" Approved Bots",g.length>0&&r.jsx(Ye,{variant:"secondary",className:"ml-1 bg-green-100 text-green-800",children:g.length})]})})]}),r.jsxs(jt,{value:"pending",className:"mt-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Pending Bot Approvals"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"These bots are awaiting admin approval. Limited functionality is available until approved."})]}),c?r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(3)].map((x,y)=>r.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 animate-pulse",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-24"}),r.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-3 bg-muted rounded"}),r.jsx("div",{className:"h-3 bg-muted rounded"})]})]},y))}):h.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-clock text-muted-foreground text-2xl"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Pending Approvals"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"All bots have been reviewed. Create a new bot to get started."}),r.jsx(Y,{onClick:()=>t(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-pending-bot",children:"Add New Bot"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:h.map(x=>r.jsx(ry,{bot:{...x,approvalStatus:"pending"}},x.id))})]}),r.jsxs(jt,{value:"approved",className:"mt-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Approved Bots"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"These bots have been approved and have full functionality available."})]}),f?r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(3)].map((x,y)=>r.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 animate-pulse",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-24"}),r.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-3 bg-muted rounded"}),r.jsx("div",{className:"h-3 bg-muted rounded"})]})]},y))}):g.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-check-circle text-muted-foreground text-2xl"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Approved Bots"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Approve pending bots or create new ones to get started."}),r.jsx(Y,{onClick:()=>a("pending"),variant:"outline",className:"mr-2","data-testid":"button-view-pending",children:"View Pending"}),r.jsx(Y,{onClick:()=>t(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-approved-bot",children:"Add New Bot"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:g.map(x=>r.jsx(ry,{bot:{...x,approvalStatus:"approved"}},x.id))})]})]})}),r.jsx(xj,{open:e,onClose:()=>t(!1)})]})}const mO=_4;function hO(){const{toast:e}=rr(),t=_r(),[s,a]=p.useState(!1),[o,c]=p.useState("all"),{data:u=[],isLoading:f}=vt({queryKey:["/api/commands"]}),{data:h=[]}=vt({queryKey:["/api/bot-instances"]}),g=kw({resolver:Ew(mO),defaultValues:{name:"",description:"",response:"",isActive:!0,useChatGPT:!1,botInstanceId:null}}),x=Ge({mutationFn:j=>kt("POST","/api/commands",j),onSuccess:()=>{e({title:"Command created successfully"}),t.invalidateQueries({queryKey:["/api/commands"]}),g.reset(),a(!1)},onError:j=>{e({title:"Failed to create command",description:j instanceof Error?j.message:"Unknown error",variant:"destructive"})}}),y=Ge({mutationFn:({id:j,isActive:E})=>kt("PATCH",`/api/commands/${j}`,{isActive:E}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/commands"]})}}),w=Ge({mutationFn:()=>kt("POST","/api/commands/sync"),onSuccess:j=>{e({title:"Commands synced successfully",description:`${j.addedCount} new commands added`}),t.invalidateQueries({queryKey:["/api/commands"]})},onError:j=>{e({title:"Failed to sync commands",description:j instanceof Error?j.message:"Unknown error",variant:"destructive"})}}),C=Ge({mutationFn:j=>kt("DELETE",`/api/commands/${j}`),onSuccess:()=>{e({title:"Command deleted successfully"}),t.invalidateQueries({queryKey:["/api/commands"]})},onError:()=>{e({title:"Failed to delete command",variant:"destructive"})}}),P=j=>{x.mutate(j)},b=u.filter(j=>o==="all"?!0:o==="global"?!j.botInstanceId:j.botInstanceId===o);return r.jsxs("div",{children:[r.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Commands"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage bot commands with prefix (.)"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(hr,{value:o,onValueChange:c,children:[r.jsx(cr,{className:"w-48 bg-input border-border text-foreground","data-testid":"select-bot-filter",children:r.jsx(pr,{})}),r.jsxs(dr,{className:"bg-popover border-border",children:[r.jsx(Ie,{value:"all",children:"All Commands"}),r.jsx(Ie,{value:"global",children:"Global Commands"}),h.map(j=>r.jsx(Ie,{value:j.id,children:j.name},j.id))]})]}),r.jsxs(Y,{onClick:()=>w.mutate(),disabled:w.isPending,variant:"outline",className:"bg-secondary text-secondary-foreground hover:bg-secondary/90","data-testid":"button-sync-commands",children:[r.jsx("i",{className:"fas fa-sync mr-2"}),w.isPending?"Syncing...":"Sync Commands"]}),r.jsxs(Zt,{open:s,onOpenChange:a,children:[r.jsx(__,{asChild:!0,children:r.jsxs(Y,{className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-command",children:[r.jsx("i",{className:"fas fa-plus mr-2"}),"Add Command"]})}),r.jsxs(Ut,{className:"bg-card border-border max-w-2xl","data-testid":"modal-add-command",children:[r.jsx(qt,{children:r.jsx(Wt,{className:"text-lg font-semibold text-foreground",children:"Add New Command"})}),r.jsxs("form",{onSubmit:g.handleSubmit(P),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"command-name",children:"Command Name"}),r.jsx(tr,{id:"command-name",placeholder:"help, status, info...",...g.register("name"),"data-testid":"input-command-name"}),g.formState.errors.name&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:g.formState.errors.name.message})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"bot-instance",children:"Bot Instance"}),r.jsxs(hr,{value:g.watch("botInstanceId")||"",onValueChange:j=>g.setValue("botInstanceId",j||null),children:[r.jsx(cr,{"data-testid":"select-command-bot",children:r.jsx(pr,{placeholder:"Global command"})}),r.jsxs(dr,{children:[r.jsx(Ie,{value:"",children:"Global command"}),h.map(j=>r.jsx(Ie,{value:j.id,children:j.name},j.id))]})]})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"description",children:"Description"}),r.jsx(tr,{id:"description",placeholder:"What does this command do?",...g.register("description"),"data-testid":"input-command-description"}),g.formState.errors.description&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:g.formState.errors.description.message})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"response",children:"Response"}),r.jsx(Zs,{id:"response",placeholder:"Static response text (leave empty if using ChatGPT)",...g.register("response"),rows:3,"data-testid":"textarea-command-response"})]}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(os,{id:"use-chatgpt",checked:g.watch("useChatGPT")||!1,onCheckedChange:j=>g.setValue("useChatGPT",j),"data-testid":"checkbox-use-chatgpt"}),r.jsx(Oe,{htmlFor:"use-chatgpt",children:"Use ChatGPT"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(os,{id:"is-active",checked:g.watch("isActive")||!1,onCheckedChange:j=>g.setValue("isActive",j),"data-testid":"checkbox-command-active"}),r.jsx(Oe,{htmlFor:"is-active",children:"Active"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(Y,{type:"button",variant:"ghost",onClick:()=>a(!1),"data-testid":"button-cancel-command",children:"Cancel"}),r.jsx(Y,{type:"submit",disabled:x.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-save-command",children:x.isPending?"Creating...":"Create Command"})]})]})]})]})]})]})}),r.jsx("div",{className:"p-6",children:f?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading commands..."})]}):b.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-terminal text-muted-foreground text-2xl"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Commands Found"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first command to get started"}),r.jsx(Y,{onClick:()=>a(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-command",children:"Create Your First Command"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(j=>r.jsxs(me,{className:"bg-card border-border","data-testid":`command-card-${j.id}`,children:[r.jsx(ze,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("code",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-sm font-mono",children:[".",j.name]}),j.useChatGPT&&r.jsxs("span",{className:"bg-purple-500/10 text-purple-400 px-2 py-1 rounded text-xs",children:[r.jsx("i",{className:"fas fa-brain mr-1"}),"GPT"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>y.mutate({id:j.id,isActive:!j.isActive}),className:`w-8 h-4 rounded-full flex items-center px-1 ${j.isActive?"bg-primary justify-end":"bg-muted justify-start"}`,"data-testid":`toggle-command-${j.id}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${j.isActive?"bg-white":"bg-muted-foreground"}`})}),r.jsx("button",{onClick:()=>C.mutate(j.id),className:"text-muted-foreground hover:text-destructive transition-colors","data-testid":`button-delete-command-${j.id}`,children:r.jsx("i",{className:"fas fa-trash text-sm"})})]})]})}),r.jsxs(pe,{children:[r.jsx("p",{className:"text-sm text-foreground mb-3","data-testid":`command-description-${j.id}`,children:j.description}),j.response&&r.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Response:"}),r.jsx("p",{className:"text-sm text-foreground","data-testid":`command-response-${j.id}`,children:j.response.length>100?`${j.response.substring(0,100)}...`:j.response})]}),j.botInstanceId&&r.jsx("div",{className:"mt-3",children:r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Bot: ",h.find(E=>E.id===j.botInstanceId)?.name||"Unknown"]})})]})]},j.id))})})]})}const Qc=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:s,className:Ee("w-full caption-bottom text-sm",e),...t})}));Qc.displayName="Table";const Hc=p.forwardRef(({className:e,...t},s)=>r.jsx("thead",{ref:s,className:Ee("[&_tr]:border-b",e),...t}));Hc.displayName="TableHeader";const Gc=p.forwardRef(({className:e,...t},s)=>r.jsx("tbody",{ref:s,className:Ee("[&_tr:last-child]:border-0",e),...t}));Gc.displayName="TableBody";const pO=p.forwardRef(({className:e,...t},s)=>r.jsx("tfoot",{ref:s,className:Ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));pO.displayName="TableFooter";const Ds=p.forwardRef(({className:e,...t},s)=>r.jsx("tr",{ref:s,className:Ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ds.displayName="TableRow";const Mt=p.forwardRef(({className:e,...t},s)=>r.jsx("th",{ref:s,className:Ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Mt.displayName="TableHead";const Rt=p.forwardRef(({className:e,...t},s)=>r.jsx("td",{ref:s,className:Ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Rt.displayName="TableCell";const gO=p.forwardRef(({className:e,...t},s)=>r.jsx("caption",{ref:s,className:Ee("mt-4 text-sm text-muted-foreground",e),...t}));gO.displayName="TableCaption";var Oj="AlertDialog",[xO]=Br(Oj,[ab]),cs=ab(),Mj=e=>{const{__scopeAlertDialog:t,...s}=e,a=cs(t);return r.jsx(dh,{...a,...s,modal:!0})};Mj.displayName=Oj;var vO="AlertDialogTrigger",Dj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,o=cs(s);return r.jsx(jb,{...o,...a,ref:t})});Dj.displayName=vO;var yO="AlertDialogPortal",Fj=e=>{const{__scopeAlertDialog:t,...s}=e,a=cs(t);return r.jsx(uh,{...a,...s})};Fj.displayName=yO;var bO="AlertDialogOverlay",Lj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,o=cs(s);return r.jsx(hd,{...o,...a,ref:t})});Lj.displayName=bO;var ha="AlertDialogContent",[wO,jO]=xO(ha),NO=Iy("AlertDialogContent"),Bj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,children:a,...o}=e,c=cs(s),u=p.useRef(null),f=lt(t,u),h=p.useRef(null);return r.jsx(C_,{contentName:ha,titleName:$j,docsSlug:"alert-dialog",children:r.jsx(wO,{scope:s,cancelRef:h,children:r.jsxs(pd,{role:"alertdialog",...c,...o,ref:f,onOpenAutoFocus:Me(o.onOpenAutoFocus,g=>{g.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[r.jsx(NO,{children:a}),r.jsx(CO,{contentRef:u})]})})})});Bj.displayName=ha;var $j="AlertDialogTitle",Vj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,o=cs(s);return r.jsx(fh,{...o,...a,ref:t})});Vj.displayName=$j;var zj="AlertDialogDescription",Uj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,o=cs(s);return r.jsx(mh,{...o,...a,ref:t})});Uj.displayName=zj;var SO="AlertDialogAction",qj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,o=cs(s);return r.jsx(hh,{...o,...a,ref:t})});qj.displayName=SO;var Wj="AlertDialogCancel",Kj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,{cancelRef:o}=jO(Wj,s),c=cs(s),u=lt(t,o);return r.jsx(hh,{...c,...a,ref:u})});Kj.displayName=Wj;var CO=({contentRef:e})=>{const t=`\`${ha}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ha}\` by passing a \`${zj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ha}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},kO=Mj,PO=Dj,EO=Fj,Qj=Lj,Hj=Bj,Gj=qj,Zj=Kj,Yj=Vj,Xj=Uj;const _O=kO,TO=PO,AO=EO,Jj=p.forwardRef(({className:e,...t},s)=>r.jsx(Qj,{className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));Jj.displayName=Qj.displayName;const eN=p.forwardRef(({className:e,...t},s)=>r.jsxs(AO,{children:[r.jsx(Jj,{}),r.jsx(Hj,{ref:s,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));eN.displayName=Hj.displayName;const tN=({className:e,...t})=>r.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",e),...t});tN.displayName="AlertDialogHeader";const rN=({className:e,...t})=>r.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});rN.displayName="AlertDialogFooter";const nN=p.forwardRef(({className:e,...t},s)=>r.jsx(Yj,{ref:s,className:Ee("text-lg font-semibold",e),...t}));nN.displayName=Yj.displayName;const sN=p.forwardRef(({className:e,...t},s)=>r.jsx(Xj,{ref:s,className:Ee("text-sm text-muted-foreground",e),...t}));sN.displayName=Xj.displayName;const iN=p.forwardRef(({className:e,...t},s)=>r.jsx(Gj,{ref:s,className:Ee(sh(),e),...t}));iN.displayName=Gj.displayName;const aN=p.forwardRef(({className:e,...t},s)=>r.jsx(Zj,{ref:s,className:Ee(sh({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));aN.displayName=Zj.displayName;function oN({open:e,onClose:t}){const{toast:s}=rr(),a=_r(),[o,c]=p.useState(""),[u,f]=p.useState({serverUrl:"",adminToken:""}),[h,g]=p.useState(null),[x,y]=p.useState(!1),[w,C]=p.useState(""),[P,b]=p.useState("base64"),[j,E]=p.useState(!1),[k,I]=p.useState(null),[L,B]=p.useState("3"),[X,q]=p.useState(""),[te,we]=p.useState("all"),[xe,ve]=p.useState("all"),[J,se]=p.useState("all"),[W,he]=p.useState("name"),[K,ne]=p.useState("asc"),[S,$]=p.useState([]),[H,T]=p.useState(!1),[R,re]=p.useState(null),[le,D]=p.useState(""),[G,ee]=p.useState(!1),[de,je]=p.useState(""),[De,dt]=p.useState(!1),{data:mt=[],isLoading:Kt}=vt({queryKey:["/api/master/tenancies"],enabled:e}),{data:Je=[],isLoading:Vr,refetch:Zr}=vt({queryKey:["/api/master/cross-tenancy-bots"],enabled:e,refetchInterval:1e4}),{data:on=[],isLoading:Aa}=vt({queryKey:["/api/servers/list"],enabled:e,refetchInterval:15e3}),{data:ds=[],isLoading:O}=vt({queryKey:["/api/master/approved-bots"],enabled:e,refetchInterval:1e4}),V=Je.filter(_=>{const be=X===""||_.name.toLowerCase().includes(X.toLowerCase())||_.phoneNumber.includes(X)||_.tenancy.toLowerCase().includes(X.toLowerCase()),He=te==="all"||_.status===te,tt=xe==="all"||_.tenancy===xe,gt=J==="all"||_.approvalStatus===J;return be&&He&&tt&&gt}).sort((_,be)=>{let He,tt;switch(W){case"name":He=_.name.toLowerCase(),tt=be.name.toLowerCase();break;case"phoneNumber":He=_.phoneNumber,tt=be.phoneNumber;break;case"server":He=_.tenancy,tt=be.tenancy;break;case"status":He=_.status,tt=be.status;break;case"lastActivity":He=new Date(_.lastActivity||0),tt=new Date(be.lastActivity||0);break;default:He=_.name,tt=be.name}return He<tt?K==="asc"?-1:1:He>tt?K==="asc"?1:-1:0}),Z={totalBots:Je.length,onlineBots:Je.filter(_=>_.status==="online").length,pendingBots:Je.filter(_=>_.approvalStatus==="pending").length,approvedBots:Je.filter(_=>_.approvalStatus==="approved").length,serverDistribution:Je.reduce((_,be)=>(_[be.tenancy]=(_[be.tenancy]||0)+1,_),{}),statusDistribution:Je.reduce((_,be)=>(_[be.status]=(_[be.status]||0)+1,_),{})};Ge({mutationFn:async _=>(console.log(`Attempting to connect to ${_.tenancy} via God Registry`),{success:!0,message:`Connected to ${_.tenancy} via God Registry`}),onSuccess:()=>{s({title:"Success",description:"Successfully connected to tenancy server"}),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:_=>{s({title:"Connection Failed",description:_.message,variant:"destructive"})}});const Ne=Ge({mutationFn:async _=>await(await kt("POST","/api/master/migrate-bot",_)).json(),onSuccess:()=>{s({title:"Bot Migration Successful",description:"Bot has been migrated to the target server"}),T(!1),re(null),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:_=>{s({title:"Migration Failed",description:_.message,variant:"destructive"})}}),ye=Ge({mutationFn:async _=>await(await kt("POST","/api/master/batch-operation",_)).json(),onSuccess:_=>{s({title:"Batch Operation Successful",description:`${_.completedCount} of ${_.totalCount} operations completed successfully`}),ee(!1),$([]),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:_=>{s({title:"Batch Operation Failed",description:_.message,variant:"destructive"})}}),ae=Ge({mutationFn:async({action:_,botId:be,tenancy:He,data:tt})=>(await kt("POST","/api/master/bot-action",{action:_,botId:be,tenancy:He,data:tt})).json(),onSuccess:(_,be)=>{s({title:"Success",description:`Successfully ${be.action}d bot`}),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:_=>{s({title:"Action Failed",description:_.message,variant:"destructive"})}}),Ae=Ge({mutationFn:async({action:_,botId:be,tenancy:He,feature:tt,enabled:gt})=>(await kt("POST","/api/master/feature-management",{action:_,botId:be,tenancy:He,feature:tt,enabled:gt})).json(),onSuccess:()=>{s({title:"Feature Updated",description:"Bot feature settings updated successfully"}),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:_=>{s({title:"Feature Update Failed",description:_.message,variant:"destructive"})}}),ot=Ge({mutationFn:async({sourceServer:_,targetServers:be,commandIds:He})=>(await kt("POST","/api/master/sync-commands",{sourceServer:_,targetServers:be,commandIds:He})).json(),onSuccess:()=>{s({title:"Commands Synced",description:"Commands successfully synced across selected tenancies"})},onError:_=>{s({title:"Command Sync Failed",description:_.message,variant:"destructive"})}}),Ze=(_,be,He,tt)=>{ae.mutate({action:_,botId:be,tenancy:He,data:tt})},Qt=(_,be,He,tt)=>{Ae.mutate({action:"toggle_feature",botId:_,tenancy:be,feature:He,enabled:tt})},Yr=()=>{if(k&&L){const _=parseInt(L,10);if(isNaN(_)||_<1||_>12){s({title:"Invalid Duration",description:"Approval duration must be between 1 and 12 months",variant:"destructive"});return}Ze("approve",k.id,k.tenancy,{duration:_}),E(!1),I(null)}},Ft=_=>{const be={online:"bg-green-500",offline:"bg-gray-500",pending:"bg-yellow-500",approved:"bg-blue-500",rejected:"bg-red-500",dormant:"bg-purple-500"};return r.jsx(Ye,{className:`${be[_]||"bg-gray-500"} text-white`,children:_})};return r.jsx(Zt,{open:e,onOpenChange:t,children:r.jsxs(Ut,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsx(qt,{children:r.jsx(Wt,{className:"text-2xl font-bold text-center",children:" Master Control Panel"})}),r.jsxs(Ta,{defaultValue:"overview",className:"w-full",children:[r.jsxs(Pi,{className:"grid w-full grid-cols-6",children:[r.jsx(Et,{value:"overview",children:"Overview"}),r.jsx(Et,{value:"servers",children:"Servers"}),r.jsx(Et,{value:"bots",children:"Bot Management"}),r.jsx(Et,{value:"features",children:"Features"}),r.jsx(Et,{value:"credentials",children:"Credentials"}),r.jsx(Et,{value:"bulk",children:"Bulk Actions"})]}),r.jsxs(jt,{value:"overview",className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6 mb-6 dark:from-blue-900/20 dark:to-purple-900/20 dark:border-blue-800",children:[r.jsx("h3",{className:"text-xl font-bold text-blue-800 dark:text-blue-200 mb-2 flex items-center gap-2",children:" Master Control Dashboard"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-4",children:"Complete control over all server tenancies and bot containers in the TREKKER-MD ecosystem"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:mt.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Tenancies"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Je.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Bots"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Je.filter(_=>_.approvalStatus==="pending").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Approval"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:Je.filter(_=>_.status==="online").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Online Bots"})]})]})]}),r.jsxs(me,{children:[r.jsx(ze,{children:r.jsxs(qe,{className:"flex items-center gap-2",children:[" Real-time System Status",r.jsx(Ye,{variant:"outline",className:"ml-auto",children:"Live"})]})}),r.jsx(pe,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Tenancy Distribution"}),r.jsx("div",{className:"space-y-2",children:mt.map(_=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"font-medium",children:_.name})]}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[_.botCount," bots"]})]},_.name))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Bot Status Summary"}),r.jsx("div",{className:"space-y-2",children:[{status:"online",count:Je.filter(_=>_.status==="online").length,color:"bg-green-500"},{status:"offline",count:Je.filter(_=>_.status==="offline").length,color:"bg-gray-500"},{status:"pending",count:Je.filter(_=>_.approvalStatus==="pending").length,color:"bg-yellow-500"},{status:"error",count:Je.filter(_=>_.status==="error").length,color:"bg-red-500"}].map(_=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 ${_.color} rounded-full`}),r.jsx("span",{className:"capitalize",children:_.status})]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:_.count})]},_.status))})]})]})})]})]}),r.jsx(jt,{value:"servers",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsx(qe,{className:"text-blue-600",children:" Server Tenancy Management"}),r.jsx(it,{children:"Monitor and control all server instances and their bot containers"})]}),r.jsx(pe,{children:Aa?r.jsx("div",{className:"text-center py-8",children:"Loading server information..."}):r.jsx("div",{className:"space-y-4",children:on.slice(0,20).map(_=>r.jsx(me,{className:"border-l-4 border-l-blue-500",children:r.jsxs(pe,{className:"pt-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-bold text-lg flex items-center gap-2",children:[" ",_.name,_.status==="active"?r.jsx(Ye,{className:"bg-green-500 text-white",children:"Active"}):r.jsx(Ye,{className:"bg-gray-500 text-white",children:"Available"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:_.description||"Server instance ready for bot deployment"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.currentBots}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Bots"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.remainingBots}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Available Slots"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg font-medium",children:[Math.round(_.currentBots/_.totalBots*100),"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Capacity Used"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.round(_.currentBots/_.totalBots*100)}%`}})})]})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>{fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:_.name,description:`Switched to ${_.name} for administration`})}).then(()=>{s({title:"Server Switched",description:`Successfully switched to ${_.name}`}),Zr()})},"data-testid":`button-switch-to-${_.name}`,children:" Switch To"}),r.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>{const be=Je.filter(He=>He.tenancy===_.name);s({title:"Server Bots",description:`${_.name} has ${be.length} bots registered`})},children:[" View Bots (",Je.filter(be=>be.tenancy===_.name).length,")"]})]})]})},_.name))})})]})}),r.jsx(jt,{value:"tenancies",className:"space-y-4",children:r.jsx("div",{className:"grid gap-4",children:mt.map(_=>r.jsxs(me,{children:[r.jsx(ze,{children:r.jsxs(qe,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[_.name,Ft(_.status||"unknown")]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>Ze("sync","",_.name),disabled:ae.isPending,children:"Sync"}),r.jsx(Y,{size:"sm",variant:"destructive",onClick:()=>Ze("disconnect","",_.name),disabled:ae.isPending,children:"Disconnect"})]})]})}),r.jsx(pe,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{children:"Server URL"}),r.jsx(tr,{value:_.url,readOnly:!0})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Bot Count"}),r.jsx(tr,{value:_.botCount.toString(),readOnly:!0})]})]})})]},_.name))})}),r.jsxs(jt,{value:"bots",className:"space-y-4",children:[r.jsxs(me,{className:"border-l-4 border-l-purple-500",children:[r.jsxs(ze,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx(kc,{className:"h-5 w-5"}),"Advanced Bot Search & Filtering"]}),r.jsx(it,{children:"Search and filter bots across all server tenancies with real-time results"})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(kc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),r.jsx(tr,{placeholder:"Search by bot name, phone number, or server...",value:X,onChange:_=>q(_.target.value),className:"pl-10","data-testid":"input-search-bots"})]}),r.jsx(Y,{variant:"outline",onClick:()=>{q(""),we("all"),ve("all"),se("all")},"data-testid":"button-clear-filters",children:"Clear"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"text-sm font-medium",children:"Status Filter"}),r.jsxs(hr,{value:te,onValueChange:we,children:[r.jsx(cr,{"data-testid":"select-status-filter",children:r.jsx(pr,{})}),r.jsxs(dr,{children:[r.jsxs(Ie,{value:"all",children:["All Status (",Z.totalBots,")"]}),r.jsxs(Ie,{value:"online",children:["Online (",Z.onlineBots,")"]}),r.jsxs(Ie,{value:"offline",children:["Offline (",Z.totalBots-Z.onlineBots,")"]}),r.jsx(Ie,{value:"loading",children:"Loading"}),r.jsx(Ie,{value:"error",children:"Error"})]})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"text-sm font-medium",children:"Server Filter"}),r.jsxs(hr,{value:xe,onValueChange:ve,children:[r.jsx(cr,{"data-testid":"select-server-filter",children:r.jsx(pr,{})}),r.jsxs(dr,{children:[r.jsx(Ie,{value:"all",children:"All Servers"}),Object.entries(Z.serverDistribution).map(([_,be])=>r.jsxs(Ie,{value:_,children:[_," (",be,")"]},_))]})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"text-sm font-medium",children:"Approval Status"}),r.jsxs(hr,{value:J,onValueChange:se,children:[r.jsx(cr,{"data-testid":"select-approval-filter",children:r.jsx(pr,{})}),r.jsxs(dr,{children:[r.jsxs(Ie,{value:"all",children:["All (",Z.totalBots,")"]}),r.jsxs(Ie,{value:"approved",children:["Approved (",Z.approvedBots,")"]}),r.jsxs(Ie,{value:"pending",children:["Pending (",Z.pendingBots,")"]}),r.jsx(Ie,{value:"rejected",children:"Rejected"})]})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"text-sm font-medium",children:"Sort By"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsxs(hr,{value:W,onValueChange:he,children:[r.jsx(cr,{"data-testid":"select-sort-by",children:r.jsx(pr,{})}),r.jsxs(dr,{children:[r.jsx(Ie,{value:"name",children:"Name"}),r.jsx(Ie,{value:"phoneNumber",children:"Phone"}),r.jsx(Ie,{value:"server",children:"Server"}),r.jsx(Ie,{value:"status",children:"Status"}),r.jsx(Ie,{value:"lastActivity",children:"Activity"})]})]}),r.jsx(Y,{variant:"outline",size:"sm",onClick:()=>ne(K==="asc"?"desc":"asc"),"data-testid":"button-sort-order",children:K==="asc"?"":""})]})]})]}),r.jsx("div",{className:"bg-muted rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsxs("span",{className:"font-medium",children:["Results: ",V.length," of ",Z.totalBots," bots"]}),r.jsxs(Ye,{variant:"outline",children:[V.filter(_=>_.status==="online").length," online"]}),r.jsxs(Ye,{variant:"outline",children:[V.filter(_=>_.approvalStatus==="pending").length," pending"]}),r.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>Zr(),disabled:Vr,className:"ml-auto","data-testid":"button-refresh-data",children:[r.jsx(zm,{className:"h-3 w-3 mr-1"}),Vr?"Refreshing...":"Refresh"]})]})})]})]}),r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsx(qe,{className:"text-purple-600",children:" Complete Bot Registry"}),r.jsx(it,{children:"All bots across all server tenancies with individual container controls"})]}),r.jsx(pe,{children:Vr?r.jsx("div",{className:"text-center py-8",children:"Loading bot registry..."}):r.jsxs(Qc,{children:[r.jsx(Hc,{children:r.jsxs(Ds,{children:[r.jsx(Mt,{children:"Bot Details"}),r.jsx(Mt,{children:"Server"}),r.jsx(Mt,{children:"Status"}),r.jsx(Mt,{children:"Approval"}),r.jsx(Mt,{children:"Features"}),r.jsx(Mt,{children:"Stats"}),r.jsx(Mt,{children:"Container Actions"})]})}),r.jsx(Gc,{children:V.length===0?r.jsx(Ds,{children:r.jsx(Rt,{colSpan:7,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(kc,{className:"h-8 w-8 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"No bots match your current filters"}),r.jsx(Y,{variant:"outline",size:"sm",onClick:()=>{q(""),we("all"),ve("all"),se("all")},children:"Clear all filters"})]})})}):V.map(_=>r.jsxs(Ds,{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[r.jsx(Rt,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:_.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:_.phoneNumber})]})}),r.jsx(Rt,{children:r.jsx(Ye,{variant:_.tenancy==="default-server"?"default":"outline",children:_.tenancy})}),r.jsx(Rt,{children:r.jsxs("div",{className:"space-y-1",children:[Ft(_.status),_.approvalStatus&&r.jsx("div",{children:Ft(_.approvalStatus)})]})}),r.jsx(Rt,{children:_.approvalStatus==="pending"?r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Y,{size:"sm",variant:"default",onClick:()=>{I(_),E(!0)},disabled:ae.isPending,"data-testid":`button-approve-${_.id}`,children:" Approve"}),r.jsx(Y,{size:"sm",variant:"destructive",onClick:()=>Ze("reject",_.id,_.tenancy),disabled:ae.isPending,"data-testid":`button-reject-${_.id}`,children:""})]}):_.approvalStatus==="approved"?r.jsxs("div",{className:"text-xs text-green-600",children:[" Approved",_.expirationMonths&&r.jsxs("div",{children:["(",_.expirationMonths,"mo)"]})]}):r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>Ze("revoke",_.id,_.tenancy),disabled:ae.isPending,"data-testid":`button-revoke-${_.id}`,children:" Revoke Approval"})}),r.jsx(Rt,{children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsxs(Ye,{variant:_.autoLike?"default":"outline",className:"text-xs",children:[" ",_.autoLike?"ON":"OFF"]}),r.jsxs(Ye,{variant:_.chatgptEnabled?"default":"outline",className:"text-xs",children:[" ",_.chatgptEnabled?"ON":"OFF"]})]})}),r.jsx(Rt,{children:r.jsxs("div",{className:"text-xs space-y-1",children:[r.jsxs("div",{children:["Msgs: ",_.messagesCount||0]}),r.jsxs("div",{children:["Cmds: ",_.commandsCount||0]})]})}),r.jsx(Rt,{children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>Ze(_.status==="online"?"stop":"start",_.id,_.serverName||_.tenancy||"default-server"),disabled:ae.isPending,"data-testid":`button-${_.status==="online"?"stop":"start"}-${_.id}`,children:_.status==="online"?"":""}),r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>{g(_),y(!0)},"data-testid":`button-creds-${_.id}`,children:""}),r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>Qt(_.id,_.tenancy,"autoLike",!_.autoLike),disabled:Ae.isPending,children:""}),r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>{re(_),T(!0)},disabled:ae.isPending,"data-testid":`button-migrate-${_.id}`,title:"Migrate to another server",children:r.jsx(ev,{className:"h-3 w-3"})}),r.jsx(Y,{size:"sm",variant:"destructive",onClick:()=>Ze("delete",_.id,_.tenancy),disabled:ae.isPending,"data-testid":`button-delete-${_.id}`,children:""})]})})]},`${_.tenancy}-${_.id}`))})]})})]}),r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsx(qe,{className:"text-green-600",children:" Approved & Active Bots"}),r.jsx(it,{children:"Currently approved and active bots across all tenancies"})]}),r.jsx(pe,{children:O?r.jsx("div",{className:"text-center py-8",children:"Loading approved bots..."}):r.jsxs(Qc,{children:[r.jsx(Hc,{children:r.jsxs(Ds,{children:[r.jsx(Mt,{children:"Bot Name"}),r.jsx(Mt,{children:"Phone Number"}),r.jsx(Mt,{children:"Tenancy"}),r.jsx(Mt,{children:"Status"}),r.jsx(Mt,{children:"Approval Date"}),r.jsx(Mt,{children:"Last Activity"}),r.jsx(Mt,{children:"Actions"})]})}),r.jsx(Gc,{children:ds.map(_=>r.jsxs(Ds,{children:[r.jsx(Rt,{className:"font-medium",children:_.name}),r.jsx(Rt,{children:_.phoneNumber}),r.jsx(Rt,{children:r.jsx(Ye,{variant:"outline",children:_.serverName})}),r.jsx(Rt,{children:Ft(_.status)}),r.jsx(Rt,{className:"text-sm text-muted-foreground",children:_.approvalDate?new Date(_.approvalDate).toLocaleDateString():"N/A"}),r.jsx(Rt,{className:"text-sm text-muted-foreground",children:new Date(_.updatedAt||_.createdAt).toLocaleDateString()}),r.jsx(Rt,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>Ze(_.status==="online"?"stop":"start",_.id,_.serverName||_.tenancy||"default-server"),disabled:ae.isPending,"data-testid":`button-${_.status==="online"?"stop":"start"}-${_.id}`,children:_.status==="online"?" Stop":" Start"}),r.jsx(Y,{size:"sm",variant:"destructive",onClick:()=>Ze("delete",_.id,_.tenancy),disabled:ae.isPending,"data-testid":`button-delete-approved-${_.id}`,children:" Delete"})]})})]},`approved-${_.serverName}-${_.id}`))})]})})]})]}),r.jsx(jt,{value:"features",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsx(qe,{className:"text-purple-600",children:" Cross-Tenancy Feature Control"}),r.jsx(it,{children:"Manage bot features across all tenancies from this central panel"})]}),r.jsxs(pe,{className:"space-y-6",children:[r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800",children:[r.jsx("h4",{className:"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center gap-2",children:" Global Feature Management"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"autoLike",label:"Auto Like",icon:"",description:"Automatically like status updates"},{key:"autoReact",label:"Auto React",icon:"",description:"Automatically react to messages"},{key:"autoView",label:"Auto View",icon:"",description:"Automatically view status updates"},{key:"chatGPT",label:"ChatGPT",icon:"",description:"Enable AI chat responses"},{key:"typingIndicator",label:"Typing",icon:"",description:"Show typing indicators"},{key:"readReceipts",label:"Read Receipts",icon:"",description:"Send read receipts"}].map(_=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-lg",children:_.icon}),r.jsx("span",{className:"font-medium text-sm",children:_.label})]}),r.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:_.description}),r.jsx("div",{className:"space-y-2",children:mt.map(be=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs",children:be.name}),r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>Qt("",be.name,_.key,!0),className:"h-6 px-2 text-xs",disabled:Ae.isPending,children:"Toggle"})]},be.name))})]},_.key))})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:" Individual Bot Feature Control"}),r.jsx("div",{className:"space-y-4",children:Je.filter(_=>_.approvalStatus==="approved").map(_=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium",children:_.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.phoneNumber,"  ",_.tenancy]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[Ft(_.status),r.jsx(Ye,{variant:"outline",children:_.tenancy})]})]}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:[{key:"autoLike",label:"Like",icon:""},{key:"autoReact",label:"React",icon:""},{key:"autoView",label:"View",icon:""},{key:"chatGPT",label:"AI",icon:""},{key:"typing",label:"Type",icon:""},{key:"receipts",label:"Read",icon:""}].map(be=>r.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>Qt(_.id,_.tenancy,be.key,!0),className:"flex flex-col items-center gap-1 h-auto py-2",disabled:Ae.isPending,children:[r.jsx("span",{className:"text-sm",children:be.icon}),r.jsx("span",{className:"text-xs",children:be.label})]},be.key))})]},`${_.tenancy}-${_.id}`))})]}),r.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[r.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-3 flex items-center gap-2",children:" Command Sync Across Tenancies"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Source Server"}),r.jsxs("select",{className:"w-full p-2 border rounded-md bg-white dark:bg-gray-800",children:[r.jsx("option",{value:"",children:"Select source server..."}),mt.map(_=>r.jsx("option",{value:_.name,children:_.name},_.name))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Target Servers"}),r.jsx("div",{className:"space-y-2",children:mt.map(_=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:`target-${_.name}`,className:"rounded"}),r.jsx("label",{htmlFor:`target-${_.name}`,className:"text-sm",children:_.name})]},_.name))})]})]}),r.jsx(Y,{className:"w-full mt-4 bg-emerald-600 hover:bg-emerald-700",disabled:ot.isPending,children:" Sync Selected Commands"})]})]})]})}),r.jsx(jt,{value:"credentials",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsx(qe,{className:"text-green-600",children:" Bot Credential Management"}),r.jsx(it,{children:"Update WhatsApp credentials for bots in their respective containers"})]}),r.jsxs(pe,{children:[r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 dark:bg-yellow-900/20 dark:border-yellow-800",children:[r.jsx("h4",{className:"font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:" Credential Update Safety"}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Credential updates are performed within each bot's isolated container. Data registry entries remain unchanged to maintain system integrity."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Je.filter(_=>_.approvalStatus==="approved").map(_=>r.jsx(me,{className:"border-l-4 border-l-green-500",children:r.jsx(pe,{className:"pt-6",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:_.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:_.phoneNumber}),r.jsx(Ye,{variant:"outline",className:"mt-1",children:_.tenancy})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",children:"Container Status:"}),Ft(_.status)]}),r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>{g(_),y(!0)},className:"w-full","data-testid":`button-update-creds-${_.id}`,children:" Update Credentials"})]})})},`cred-${_.tenancy}-${_.id}`))})]})]})}),r.jsx(jt,{value:"bulk",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsx(qe,{className:"text-red-600",children:" Bulk Operations"}),r.jsx(it,{children:"Perform actions on multiple bots across all server tenancies"})]}),r.jsx(pe,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 dark:bg-red-900/20 dark:border-red-800",children:[r.jsx("h4",{className:"font-medium text-red-800 dark:text-red-200 mb-3",children:" Bulk Bot Selection"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>{const _=Je.map(be=>`${be.tenancy}-${be.id}`);$(_)},children:[" Select All (",Je.length,")"]}),r.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>{const _=Je.filter(be=>be.approvalStatus==="pending").map(be=>`${be.tenancy}-${be.id}`);$(_)},children:[" Select Pending (",Je.filter(_=>_.approvalStatus==="pending").length,")"]}),r.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>{const _=Je.filter(be=>be.status==="online").map(be=>`${be.tenancy}-${be.id}`);$(_)},children:[" Select Online (",Je.filter(_=>_.status==="online").length,")"]}),r.jsx(Y,{size:"sm",variant:"destructive",onClick:()=>$([]),children:" Clear Selection"})]}),r.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["Selected: ",S.length," bots"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(me,{className:"border-l-4 border-l-green-500",children:r.jsxs(pe,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-green-600 mb-3",children:" Bulk Approve"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Approve all selected pending bots"}),r.jsx(Y,{size:"sm",variant:"default",className:"w-full",disabled:S.length===0,onClick:()=>{S.forEach(_=>{const[be,He]=_.split("-"),tt=Je.find(gt=>gt.tenancy===be&&gt.id===He);tt&&tt.approvalStatus==="pending"&&Ze("approve",He,be,{duration:6})}),s({title:"Bulk Approval",description:`Processing approval for ${S.length} bots`})},children:"Approve Selected"})]})}),r.jsx(me,{className:"border-l-4 border-l-blue-500",children:r.jsxs(pe,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-blue-600 mb-3",children:" Bulk Start"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Start all selected offline bots"}),r.jsx(Y,{size:"sm",variant:"outline",className:"w-full",disabled:S.length===0,onClick:()=>{S.forEach(_=>{const[be,He]=_.split("-"),tt=Je.find(gt=>gt.tenancy===be&&gt.id===He);tt&&tt.status==="offline"&&Ze("start",He,be)}),s({title:"Bulk Start",description:`Starting ${S.length} bots`})},children:"Start Selected"})]})}),r.jsx(me,{className:"border-l-4 border-l-orange-500",children:r.jsxs(pe,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-orange-600 mb-3",children:" Bulk Stop"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Stop all selected online bots"}),r.jsx(Y,{size:"sm",variant:"outline",className:"w-full",disabled:S.length===0,onClick:()=>{S.forEach(_=>{const[be,He]=_.split("-"),tt=Je.find(gt=>gt.tenancy===be&&gt.id===He);tt&&tt.status==="online"&&Ze("stop",He,be)}),s({title:"Bulk Stop",description:`Stopping ${S.length} bots`})},children:"Stop Selected"})]})}),r.jsx(me,{className:"border-l-4 border-l-purple-500",children:r.jsxs(pe,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-purple-600 mb-3",children:" Bulk Features"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Enable features for selected bots"}),r.jsx(Y,{size:"sm",variant:"outline",className:"w-full",disabled:S.length===0,onClick:()=>{S.forEach(_=>{const[be,He]=_.split("-");Qt(He,be,"autoLike",!0)}),s({title:"Bulk Feature Update",description:`Enabling features for ${S.length} bots`})},children:"Enable Auto-Like"})]})})]})]})})]})}),r.jsx(jt,{value:"connect",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsx(qe,{children:"God Registry Information"}),r.jsx(it,{children:"Cross-tenancy management is powered by the God Registry table"})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:" How Cross-Tenancy Works:"}),r.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[r.jsx("li",{children:" All bot registrations are stored in the God Registry table"}),r.jsx("li",{children:" Each entry contains phone number and tenancy name (SERVER1, SERVER2, etc.)"}),r.jsx("li",{children:" Master control can see and manage bots across all tenancies"}),r.jsx("li",{children:" Local tenancy bots show full details, remote ones show registry info"}),r.jsx("li",{children:" Actions on local tenancy bots are executed directly"}),r.jsx("li",{children:" Actions on remote tenancy bots are logged for coordination"})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:" Current Setup:"}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[r.jsxs("li",{children:[" Current Server: ","SERVER1"]}),r.jsx("li",{children:" God Registry: Active and monitoring all tenancies"}),r.jsx("li",{children:" Cross-tenancy actions: Logged and tracked"}),r.jsx("li",{children:" Data isolation: Each tenancy maintains its own bot data"})]})]}),r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No additional setup required - God Registry manages everything automatically"})})]})]})})]}),h&&r.jsx(Zt,{open:x,onOpenChange:y,children:r.jsxs(Ut,{className:"max-w-2xl",children:[r.jsx(qt,{children:r.jsx(Wt,{children:" Update Bot Credentials"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot Information"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Name:"})," ",h.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"})," ",h.phoneNumber]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Server:"})," ",h.tenancy]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Status:"})," ",h.status]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"credential-type",children:"Credential Type"}),r.jsxs(hr,{value:P,onValueChange:_=>b(_),children:[r.jsx(cr,{children:r.jsx(pr,{placeholder:"Select credential type"})}),r.jsxs(dr,{children:[r.jsx(Ie,{value:"base64",children:"Base64 String"}),r.jsx(Ie,{value:"file",children:"File Upload"})]})]})]}),P==="base64"?r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"credentials",children:"New Credentials (Base64)"}),r.jsx("textarea",{id:"credentials",className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm",placeholder:"Paste your base64-encoded credentials here...",value:w,onChange:_=>C(_.target.value)})]}):r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"credential-file",children:"Upload Credentials File"}),r.jsx("input",{id:"credential-file",type:"file",accept:".json",className:"w-full p-2 border rounded-md",onChange:_=>{const be=_.target.files?.[0];if(be){const He=new FileReader;He.onload=tt=>{C(tt.target?.result||"")},He.readAsText(be)}}})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Y,{onClick:()=>{if(!w.trim()){s({title:"Validation Error",description:"Please provide credentials",variant:"destructive"});return}fetch("/api/master/bot-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({action:"update_credentials",botId:h.id,tenancy:h.tenancy,data:{credentials:P==="base64"?w:JSON.parse(w),type:P}})}).then(async _=>{if(_.ok)s({title:"Credentials Updated",description:`Credentials updated for ${h.name} in ${h.tenancy} container`}),y(!1),g(null),C(""),Zr();else{const be=await _.json();s({title:"Update Failed",description:be.message||"Failed to update credentials",variant:"destructive"})}})},className:"flex-1","data-testid":"button-save-credentials",children:" Update Credentials"}),r.jsx(Y,{variant:"outline",onClick:()=>{y(!1),g(null),C("")},children:"Cancel"})]})]})]})]})}),j&&k&&r.jsx(Zt,{open:j,onOpenChange:()=>{E(!1),I(null)},children:r.jsxs(Ut,{className:"max-w-md",children:[r.jsx(qt,{children:r.jsx(Wt,{className:"text-center flex items-center justify-center gap-2",children:" Cross-Server Bot Approval"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot Details"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Name:"})," ",k.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"})," ",k.phoneNumber]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Server:"})," ",k.tenancy]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Current Status:"})," ",k.approvalStatus]})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"approval-duration",children:"Approval Duration"}),r.jsxs(hr,{value:L,onValueChange:B,children:[r.jsx(cr,{"data-testid":"select-approval-duration",children:r.jsx(pr,{placeholder:"Select approval duration"})}),r.jsxs(dr,{children:[r.jsx(Ie,{value:"1",children:"1 Month"}),r.jsx(Ie,{value:"2",children:"2 Months"}),r.jsx(Ie,{value:"3",children:"3 Months (Recommended)"}),r.jsx(Ie,{value:"6",children:"6 Months"}),r.jsx(Ie,{value:"9",children:"9 Months"}),r.jsx(Ie,{value:"12",children:"12 Months"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bot will be automatically deactivated after this period unless renewed."})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 dark:bg-yellow-900/20 dark:border-yellow-800",children:r.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:[r.jsx("strong",{children:"Cross-Server Approval:"})," This bot is located on ",k.tenancy," server. The approval will be coordinated through the God Registry system."]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Y,{onClick:Yr,disabled:ae.isPending,className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":"button-confirm-approval",children:ae.isPending?r.jsx(r.Fragment,{children:" Processing..."}):r.jsxs(r.Fragment,{children:[" Approve for ",L," Month",parseInt(L)>1?"s":""]})}),r.jsx(Y,{variant:"outline",onClick:()=>{E(!1),I(null)},disabled:ae.isPending,"data-testid":"button-cancel-approval",children:"Cancel"})]})]})]})}),H&&R&&r.jsx(Zt,{open:H,onOpenChange:T,children:r.jsxs(Ut,{className:"max-w-md",children:[r.jsx(qt,{children:r.jsxs(Wt,{className:"flex items-center gap-2",children:[r.jsx(ev,{className:"h-5 w-5 text-blue-600"}),"Cross-Server Bot Migration"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot to Migrate"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Name:"})," ",R.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"})," ",R.phoneNumber]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Current Server:"})," ",R.tenancy]})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"target-server",children:"Target Server"}),r.jsxs(hr,{value:le,onValueChange:D,children:[r.jsx(cr,{"data-testid":"select-target-server",children:r.jsx(pr,{placeholder:"Select destination server"})}),r.jsx(dr,{children:Object.keys(Z.serverDistribution).filter(_=>_!==R.tenancy).map(_=>r.jsxs(Ie,{value:_,children:[_," (",Z.serverDistribution[_]," bots)"]},_))})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 dark:bg-yellow-900/20 dark:border-yellow-800",children:r.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:[r.jsx("strong",{children:"Migration Process:"})," Bot will be safely transferred with all data and credentials. This process maintains data integrity and bot functionality."]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Y,{onClick:()=>{if(!le){s({title:"Target Required",description:"Please select a target server",variant:"destructive"});return}if(le===R.tenancy){s({title:"Invalid Target",description:"Target server must be different from source server",variant:"destructive"});return}Ne.mutate({botId:R.id,sourceServer:R.tenancy,targetServer:le})},disabled:Ne.isPending||!le,className:"flex-1 bg-blue-600 hover:bg-blue-700","data-testid":"button-confirm-migration",children:Ne.isPending?r.jsx(r.Fragment,{children:" Migrating..."}):r.jsx(r.Fragment,{children:" Migrate Bot"})}),r.jsx(Y,{variant:"outline",onClick:()=>{T(!1),re(null),D("")},disabled:Ne.isPending,children:"Cancel"})]})]})]})}),G&&r.jsx(Zt,{open:G,onOpenChange:ee,children:r.jsxs(Ut,{className:"max-w-lg",children:[r.jsx(qt,{children:r.jsxs(Wt,{className:"flex items-center gap-2",children:[r.jsx(s2,{className:"h-5 w-5 text-purple-600"}),"Batch Bot Operations"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800",children:[r.jsxs("h4",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:["Selected Bots (",S.length,")"]}),r.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 text-sm",children:S.map(_=>{const[be,He]=_.split("-"),tt=V.find(gt=>gt.tenancy===be&&gt.id===He);return tt?r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:tt.name}),r.jsx("span",{className:"text-muted-foreground",children:tt.tenancy})]},_):null})})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"batch-operation",children:"Operation Type"}),r.jsxs(hr,{value:de,onValueChange:je,children:[r.jsx(cr,{"data-testid":"select-batch-operation",children:r.jsx(pr,{placeholder:"Select batch operation"})}),r.jsxs(dr,{children:[r.jsx(Ie,{value:"start",children:"Start All Selected Bots"}),r.jsx(Ie,{value:"stop",children:"Stop All Selected Bots"}),r.jsx(Ie,{value:"restart",children:"Restart All Selected Bots"}),r.jsx(Ie,{value:"approve",children:"Bulk Approve (Pending Bots Only)"}),r.jsx(Ie,{value:"feature-toggle",children:"Enable/Disable Feature"})]})]})]}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 dark:bg-red-900/20 dark:border-red-800",children:r.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300",children:[r.jsx("strong",{children:"Batch Operations:"})," This will apply the selected operation to all ",S.length,"selected bots simultaneously. This action affects multiple servers and cannot be undone."]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Y,{onClick:()=>{if(!de){s({title:"Operation Required",description:"Please select a batch operation",variant:"destructive"});return}ye.mutate({operation:de,botIds:S})},disabled:ye.isPending||!de||S.length===0,className:"flex-1 bg-purple-600 hover:bg-purple-700","data-testid":"button-execute-batch",children:ye.isPending?r.jsx(r.Fragment,{children:" Processing..."}):r.jsx(r.Fragment,{children:" Execute Batch Operation"})}),r.jsx(Y,{variant:"outline",onClick:()=>{ee(!1),je("")},disabled:ye.isPending,children:"Cancel"})]})]})]})}),De&&r.jsx(Zt,{open:De,onOpenChange:dt,children:r.jsxs(Ut,{className:"max-w-4xl",children:[r.jsx(qt,{children:r.jsxs(Wt,{className:"flex items-center gap-2",children:[r.jsx(Ls,{className:"h-5 w-5 text-green-600"}),"Cross-Server Health Monitor"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(me,{className:"border-green-200",children:r.jsx(pe,{className:"pt-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Healthy Bots"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:V.filter(_=>_.status==="online").length})]}),r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})]})})}),r.jsx(me,{className:"border-yellow-200",children:r.jsx(pe,{className:"pt-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Warning Status"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:V.filter(_=>_.status==="loading").length})]}),r.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"})]})})}),r.jsx(me,{className:"border-red-200",children:r.jsx(pe,{className:"pt-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Critical Issues"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:V.filter(_=>_.status==="error"||_.status==="offline").length})]}),r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"})]})})})]}),r.jsxs(me,{children:[r.jsx(ze,{children:r.jsx(qe,{className:"text-sm font-medium",children:"Server Health Status"})}),r.jsx(pe,{children:r.jsx("div",{className:"space-y-3",children:Object.entries(Z.serverDistribution).map(([_,be])=>{const tt=V.filter(En=>En.tenancy===_).filter(En=>En.status==="online").length,gt=Math.round(tt/be*100)||0,us=gt>=80?"text-green-600":gt>=60?"text-yellow-600":"text-red-600";return r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${gt>=80?"bg-green-500":gt>=60?"bg-yellow-500":"bg-red-500"}`}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:_}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[tt,"/",be," bots online"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`font-bold ${us}`,children:[gt,"%"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Health Score"})]})]},_)})})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(Y,{variant:"outline",onClick:()=>dt(!1),children:"Close Monitor"})})]})]})})]})})}const RO=Yo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ko=p.forwardRef(({className:e,variant:t,...s},a)=>r.jsx("div",{ref:a,role:"alert",className:Ee(RO({variant:t}),e),...s}));Ko.displayName="Alert";const IO=p.forwardRef(({className:e,...t},s)=>r.jsx("h5",{ref:s,className:Ee("mb-1 font-medium leading-none tracking-tight",e),...t}));IO.displayName="AlertTitle";const Qo=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Ee("text-sm [&_p]:leading-relaxed",e),...t}));Qo.displayName="AlertDescription";var ny=1,OO=.9,MO=.8,DO=.17,qf=.1,Wf=.999,FO=.9999,LO=.99,BO=/[\\\/_+.#"@\[\(\{&]/,$O=/[\\\/_+.#"@\[\(\{&]/g,VO=/[\s-]/,lN=/[\s-]/g;function Pm(e,t,s,a,o,c,u){if(c===t.length)return o===e.length?ny:LO;var f=`${o},${c}`;if(u[f]!==void 0)return u[f];for(var h=a.charAt(c),g=s.indexOf(h,o),x=0,y,w,C,P;g>=0;)y=Pm(e,t,s,a,g+1,c+1,u),y>x&&(g===o?y*=ny:BO.test(e.charAt(g-1))?(y*=MO,C=e.slice(o,g-1).match($O),C&&o>0&&(y*=Math.pow(Wf,C.length))):VO.test(e.charAt(g-1))?(y*=OO,P=e.slice(o,g-1).match(lN),P&&o>0&&(y*=Math.pow(Wf,P.length))):(y*=DO,o>0&&(y*=Math.pow(Wf,g-o))),e.charAt(g)!==t.charAt(c)&&(y*=FO)),(y<qf&&s.charAt(g-1)===a.charAt(c+1)||a.charAt(c+1)===a.charAt(c)&&s.charAt(g-1)!==a.charAt(c))&&(w=Pm(e,t,s,a,g+1,c+2,u),w*qf>y&&(y=w*qf)),y>x&&(x=y),g=s.indexOf(h,g+1);return u[f]=x,x}function sy(e){return e.toLowerCase().replace(lN," ")}function zO(e,t,s){return e=s&&s.length>0?`${e+" "+s.join(" ")}`:e,Pm(e,t,sy(e),sy(t),0,0,{})}var yo='[cmdk-group=""]',Kf='[cmdk-group-items=""]',UO='[cmdk-group-heading=""]',cN='[cmdk-item=""]',iy=`${cN}:not([aria-disabled="true"])`,Em="cmdk-item-select",sa="data-value",qO=(e,t,s)=>zO(e,t,s),dN=p.createContext(void 0),sl=()=>p.useContext(dN),uN=p.createContext(void 0),Ih=()=>p.useContext(uN),fN=p.createContext(void 0),mN=p.forwardRef((e,t)=>{let s=ia(()=>{var R,re;return{search:"",value:(re=(R=e.value)!=null?R:e.defaultValue)!=null?re:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=ia(()=>new Set),o=ia(()=>new Map),c=ia(()=>new Map),u=ia(()=>new Set),f=hN(e),{label:h,children:g,value:x,onValueChange:y,filter:w,shouldFilter:C,loop:P,disablePointerSelection:b=!1,vimBindings:j=!0,...E}=e,k=Pr(),I=Pr(),L=Pr(),B=p.useRef(null),X=tM();ki(()=>{if(x!==void 0){let R=x.trim();s.current.value=R,q.emit()}},[x]),ki(()=>{X(6,se)},[]);let q=p.useMemo(()=>({subscribe:R=>(u.current.add(R),()=>u.current.delete(R)),snapshot:()=>s.current,setState:(R,re,le)=>{var D,G,ee,de;if(!Object.is(s.current[R],re)){if(s.current[R]=re,R==="search")J(),xe(),X(1,ve);else if(R==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let je=document.getElementById(L);je?je.focus():(D=document.getElementById(k))==null||D.focus()}if(X(7,()=>{var je;s.current.selectedItemId=(je=W())==null?void 0:je.id,q.emit()}),le||X(5,se),((G=f.current)==null?void 0:G.value)!==void 0){let je=re??"";(de=(ee=f.current).onValueChange)==null||de.call(ee,je);return}}q.emit()}},emit:()=>{u.current.forEach(R=>R())}}),[]),te=p.useMemo(()=>({value:(R,re,le)=>{var D;re!==((D=c.current.get(R))==null?void 0:D.value)&&(c.current.set(R,{value:re,keywords:le}),s.current.filtered.items.set(R,we(re,le)),X(2,()=>{xe(),q.emit()}))},item:(R,re)=>(a.current.add(R),re&&(o.current.has(re)?o.current.get(re).add(R):o.current.set(re,new Set([R]))),X(3,()=>{J(),xe(),s.current.value||ve(),q.emit()}),()=>{c.current.delete(R),a.current.delete(R),s.current.filtered.items.delete(R);let le=W();X(4,()=>{J(),le?.getAttribute("id")===R&&ve(),q.emit()})}),group:R=>(o.current.has(R)||o.current.set(R,new Set),()=>{c.current.delete(R),o.current.delete(R)}),filter:()=>f.current.shouldFilter,label:h||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:k,inputId:L,labelId:I,listInnerRef:B}),[]);function we(R,re){var le,D;let G=(D=(le=f.current)==null?void 0:le.filter)!=null?D:qO;return R?G(R,s.current.search,re):0}function xe(){if(!s.current.search||f.current.shouldFilter===!1)return;let R=s.current.filtered.items,re=[];s.current.filtered.groups.forEach(D=>{let G=o.current.get(D),ee=0;G.forEach(de=>{let je=R.get(de);ee=Math.max(je,ee)}),re.push([D,ee])});let le=B.current;he().sort((D,G)=>{var ee,de;let je=D.getAttribute("id"),De=G.getAttribute("id");return((ee=R.get(De))!=null?ee:0)-((de=R.get(je))!=null?de:0)}).forEach(D=>{let G=D.closest(Kf);G?G.appendChild(D.parentElement===G?D:D.closest(`${Kf} > *`)):le.appendChild(D.parentElement===le?D:D.closest(`${Kf} > *`))}),re.sort((D,G)=>G[1]-D[1]).forEach(D=>{var G;let ee=(G=B.current)==null?void 0:G.querySelector(`${yo}[${sa}="${encodeURIComponent(D[0])}"]`);ee?.parentElement.appendChild(ee)})}function ve(){let R=he().find(le=>le.getAttribute("aria-disabled")!=="true"),re=R?.getAttribute(sa);q.setState("value",re||void 0)}function J(){var R,re,le,D;if(!s.current.search||f.current.shouldFilter===!1){s.current.filtered.count=a.current.size;return}s.current.filtered.groups=new Set;let G=0;for(let ee of a.current){let de=(re=(R=c.current.get(ee))==null?void 0:R.value)!=null?re:"",je=(D=(le=c.current.get(ee))==null?void 0:le.keywords)!=null?D:[],De=we(de,je);s.current.filtered.items.set(ee,De),De>0&&G++}for(let[ee,de]of o.current)for(let je of de)if(s.current.filtered.items.get(je)>0){s.current.filtered.groups.add(ee);break}s.current.filtered.count=G}function se(){var R,re,le;let D=W();D&&(((R=D.parentElement)==null?void 0:R.firstChild)===D&&((le=(re=D.closest(yo))==null?void 0:re.querySelector(UO))==null||le.scrollIntoView({block:"nearest"})),D.scrollIntoView({block:"nearest"}))}function W(){var R;return(R=B.current)==null?void 0:R.querySelector(`${cN}[aria-selected="true"]`)}function he(){var R;return Array.from(((R=B.current)==null?void 0:R.querySelectorAll(iy))||[])}function K(R){let re=he()[R];re&&q.setState("value",re.getAttribute(sa))}function ne(R){var re;let le=W(),D=he(),G=D.findIndex(de=>de===le),ee=D[G+R];(re=f.current)!=null&&re.loop&&(ee=G+R<0?D[D.length-1]:G+R===D.length?D[0]:D[G+R]),ee&&q.setState("value",ee.getAttribute(sa))}function S(R){let re=W(),le=re?.closest(yo),D;for(;le&&!D;)le=R>0?JO(le,yo):eM(le,yo),D=le?.querySelector(iy);D?q.setState("value",D.getAttribute(sa)):ne(R)}let $=()=>K(he().length-1),H=R=>{R.preventDefault(),R.metaKey?$():R.altKey?S(1):ne(1)},T=R=>{R.preventDefault(),R.metaKey?K(0):R.altKey?S(-1):ne(-1)};return p.createElement(Be.div,{ref:t,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:R=>{var re;(re=E.onKeyDown)==null||re.call(E,R);let le=R.nativeEvent.isComposing||R.keyCode===229;if(!(R.defaultPrevented||le))switch(R.key){case"n":case"j":{j&&R.ctrlKey&&H(R);break}case"ArrowDown":{H(R);break}case"p":case"k":{j&&R.ctrlKey&&T(R);break}case"ArrowUp":{T(R);break}case"Home":{R.preventDefault(),K(0);break}case"End":{R.preventDefault(),$();break}case"Enter":{R.preventDefault();let D=W();if(D){let G=new Event(Em);D.dispatchEvent(G)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:te.inputId,id:te.labelId,style:nM},h),Ed(e,R=>p.createElement(uN.Provider,{value:q},p.createElement(dN.Provider,{value:te},R))))}),WO=p.forwardRef((e,t)=>{var s,a;let o=Pr(),c=p.useRef(null),u=p.useContext(fN),f=sl(),h=hN(e),g=(a=(s=h.current)==null?void 0:s.forceMount)!=null?a:u?.forceMount;ki(()=>{if(!g)return f.item(o,u?.id)},[g]);let x=pN(o,c,[e.value,e.children,c],e.keywords),y=Ih(),w=Qs(X=>X.value&&X.value===x.current),C=Qs(X=>g||f.filter()===!1?!0:X.search?X.filtered.items.get(o)>0:!0);p.useEffect(()=>{let X=c.current;if(!(!X||e.disabled))return X.addEventListener(Em,P),()=>X.removeEventListener(Em,P)},[C,e.onSelect,e.disabled]);function P(){var X,q;b(),(q=(X=h.current).onSelect)==null||q.call(X,x.current)}function b(){y.setState("value",x.current,!0)}if(!C)return null;let{disabled:j,value:E,onSelect:k,forceMount:I,keywords:L,...B}=e;return p.createElement(Be.div,{ref:xi(c,t),...B,id:o,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!w,"data-disabled":!!j,"data-selected":!!w,onPointerMove:j||f.getDisablePointerSelection()?void 0:b,onClick:j?void 0:P},e.children)}),KO=p.forwardRef((e,t)=>{let{heading:s,children:a,forceMount:o,...c}=e,u=Pr(),f=p.useRef(null),h=p.useRef(null),g=Pr(),x=sl(),y=Qs(C=>o||x.filter()===!1?!0:C.search?C.filtered.groups.has(u):!0);ki(()=>x.group(u),[]),pN(u,f,[e.value,e.heading,h]);let w=p.useMemo(()=>({id:u,forceMount:o}),[o]);return p.createElement(Be.div,{ref:xi(f,t),...c,"cmdk-group":"",role:"presentation",hidden:y?void 0:!0},s&&p.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:g},s),Ed(e,C=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?g:void 0},p.createElement(fN.Provider,{value:w},C))))}),QO=p.forwardRef((e,t)=>{let{alwaysRender:s,...a}=e,o=p.useRef(null),c=Qs(u=>!u.search);return!s&&!c?null:p.createElement(Be.div,{ref:xi(o,t),...a,"cmdk-separator":"",role:"separator"})}),HO=p.forwardRef((e,t)=>{let{onValueChange:s,...a}=e,o=e.value!=null,c=Ih(),u=Qs(g=>g.search),f=Qs(g=>g.selectedItemId),h=sl();return p.useEffect(()=>{e.value!=null&&c.setState("search",e.value)},[e.value]),p.createElement(Be.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":f,id:h.inputId,type:"text",value:o?e.value:u,onChange:g=>{o||c.setState("search",g.target.value),s?.(g.target.value)}})}),GO=p.forwardRef((e,t)=>{let{children:s,label:a="Suggestions",...o}=e,c=p.useRef(null),u=p.useRef(null),f=Qs(g=>g.selectedItemId),h=sl();return p.useEffect(()=>{if(u.current&&c.current){let g=u.current,x=c.current,y,w=new ResizeObserver(()=>{y=requestAnimationFrame(()=>{let C=g.offsetHeight;x.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return w.observe(g),()=>{cancelAnimationFrame(y),w.unobserve(g)}}},[]),p.createElement(Be.div,{ref:xi(c,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":a,id:h.listId},Ed(e,g=>p.createElement("div",{ref:xi(u,h.listInnerRef),"cmdk-list-sizer":""},g)))}),ZO=p.forwardRef((e,t)=>{let{open:s,onOpenChange:a,overlayClassName:o,contentClassName:c,container:u,...f}=e;return p.createElement(dh,{open:s,onOpenChange:a},p.createElement(uh,{container:u},p.createElement(hd,{"cmdk-overlay":"",className:o}),p.createElement(pd,{"aria-label":e.label,"cmdk-dialog":"",className:c},p.createElement(mN,{ref:t,...f}))))}),YO=p.forwardRef((e,t)=>Qs(s=>s.filtered.count===0)?p.createElement(Be.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),XO=p.forwardRef((e,t)=>{let{progress:s,children:a,label:o="Loading...",...c}=e;return p.createElement(Be.div,{ref:t,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},Ed(e,u=>p.createElement("div",{"aria-hidden":!0},u)))}),$r=Object.assign(mN,{List:GO,Item:WO,Input:HO,Group:KO,Separator:QO,Dialog:ZO,Empty:YO,Loading:XO});function JO(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return s;s=s.nextElementSibling}}function eM(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return s;s=s.previousElementSibling}}function hN(e){let t=p.useRef(e);return ki(()=>{t.current=e}),t}var ki=typeof window>"u"?p.useEffect:p.useLayoutEffect;function ia(e){let t=p.useRef();return t.current===void 0&&(t.current=e()),t}function Qs(e){let t=Ih(),s=()=>e(t.snapshot());return p.useSyncExternalStore(t.subscribe,s,s)}function pN(e,t,s,a=[]){let o=p.useRef(),c=sl();return ki(()=>{var u;let f=(()=>{var g;for(let x of s){if(typeof x=="string")return x.trim();if(typeof x=="object"&&"current"in x)return x.current?(g=x.current.textContent)==null?void 0:g.trim():o.current}})(),h=a.map(g=>g.trim());c.value(e,f,h),(u=t.current)==null||u.setAttribute(sa,f),o.current=f}),o}var tM=()=>{let[e,t]=p.useState(),s=ia(()=>new Map);return ki(()=>{s.current.forEach(a=>a()),s.current=new Map},[e]),(a,o)=>{s.current.set(a,o),t({})}};function rM(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Ed({asChild:e,children:t},s){return e&&p.isValidElement(t)?p.cloneElement(rM(t),{ref:t.ref},s(t.props.children)):s(t)}var nM={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const gN=p.forwardRef(({className:e,...t},s)=>r.jsx($r,{ref:s,className:Ee("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));gN.displayName=$r.displayName;const xN=p.forwardRef(({className:e,...t},s)=>r.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[r.jsx(kc,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx($r.Input,{ref:s,className:Ee("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));xN.displayName=$r.Input.displayName;const vN=p.forwardRef(({className:e,...t},s)=>r.jsx($r.List,{ref:s,className:Ee("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));vN.displayName=$r.List.displayName;const yN=p.forwardRef((e,t)=>r.jsx($r.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));yN.displayName=$r.Empty.displayName;const bN=p.forwardRef(({className:e,...t},s)=>r.jsx($r.Group,{ref:s,className:Ee("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));bN.displayName=$r.Group.displayName;const sM=p.forwardRef(({className:e,...t},s)=>r.jsx($r.Separator,{ref:s,className:Ee("-mx-1 h-px bg-border",e),...t}));sM.displayName=$r.Separator.displayName;const wN=p.forwardRef(({className:e,...t},s)=>r.jsx($r.Item,{ref:s,className:Ee("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));wN.displayName=$r.Item.displayName;var _d="Popover",[jN]=Br(_d,[Ea]),il=Ea(),[iM,Ys]=jN(_d),NN=e=>{const{__scopePopover:t,children:s,open:a,defaultOpen:o,onOpenChange:c,modal:u=!1}=e,f=il(t),h=p.useRef(null),[g,x]=p.useState(!1),[y,w]=ss({prop:a,defaultProp:o??!1,onChange:c,caller:_d});return r.jsx(V0,{...f,children:r.jsx(iM,{scope:t,contentId:Pr(),triggerRef:h,open:y,onOpenChange:w,onOpenToggle:p.useCallback(()=>w(C=>!C),[w]),hasCustomAnchor:g,onCustomAnchorAdd:p.useCallback(()=>x(!0),[]),onCustomAnchorRemove:p.useCallback(()=>x(!1),[]),modal:u,children:s})})};NN.displayName=_d;var SN="PopoverAnchor",aM=p.forwardRef((e,t)=>{const{__scopePopover:s,...a}=e,o=Ys(SN,s),c=il(s),{onCustomAnchorAdd:u,onCustomAnchorRemove:f}=o;return p.useEffect(()=>(u(),()=>f()),[u,f]),r.jsx(od,{...c,...a,ref:t})});aM.displayName=SN;var CN="PopoverTrigger",kN=p.forwardRef((e,t)=>{const{__scopePopover:s,...a}=e,o=Ys(CN,s),c=il(s),u=lt(t,o.triggerRef),f=r.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":AN(o.open),...a,ref:u,onClick:Me(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?f:r.jsx(od,{asChild:!0,...c,children:f})});kN.displayName=CN;var Oh="PopoverPortal",[oM,lM]=jN(Oh,{forceMount:void 0}),PN=e=>{const{__scopePopover:t,forceMount:s,children:a,container:o}=e,c=Ys(Oh,t);return r.jsx(oM,{scope:t,forceMount:s,children:r.jsx(Sn,{present:s||c.open,children:r.jsx(Go,{asChild:!0,container:o,children:a})})})};PN.displayName=Oh;var wa="PopoverContent",EN=p.forwardRef((e,t)=>{const s=lM(wa,e.__scopePopover),{forceMount:a=s.forceMount,...o}=e,c=Ys(wa,e.__scopePopover);return r.jsx(Sn,{present:a||c.open,children:c.modal?r.jsx(dM,{...o,ref:t}):r.jsx(uM,{...o,ref:t})})});EN.displayName=wa;var cM=vi("PopoverContent.RemoveScroll"),dM=p.forwardRef((e,t)=>{const s=Ys(wa,e.__scopePopover),a=p.useRef(null),o=lt(t,a),c=p.useRef(!1);return p.useEffect(()=>{const u=a.current;if(u)return ah(u)},[]),r.jsx(fd,{as:cM,allowPinchZoom:!0,children:r.jsx(_N,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(e.onCloseAutoFocus,u=>{u.preventDefault(),c.current||s.triggerRef.current?.focus()}),onPointerDownOutside:Me(e.onPointerDownOutside,u=>{const f=u.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,g=f.button===2||h;c.current=g},{checkForDefaultPrevented:!1}),onFocusOutside:Me(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),uM=p.forwardRef((e,t)=>{const s=Ys(wa,e.__scopePopover),a=p.useRef(!1),o=p.useRef(!1);return r.jsx(_N,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(a.current||s.triggerRef.current?.focus(),c.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(a.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;s.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),_N=p.forwardRef((e,t)=>{const{__scopePopover:s,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:x,...y}=e,w=Ys(wa,s),C=il(s);return ih(),r.jsx(dd,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:c,children:r.jsx(Sa,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:x,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:g,onDismiss:()=>w.onOpenChange(!1),children:r.jsx(th,{"data-state":AN(w.open),role:"dialog",id:w.contentId,...C,...y,ref:t,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),TN="PopoverClose",fM=p.forwardRef((e,t)=>{const{__scopePopover:s,...a}=e,o=Ys(TN,s);return r.jsx(Be.button,{type:"button",...a,ref:t,onClick:Me(e.onClick,()=>o.onOpenChange(!1))})});fM.displayName=TN;var mM="PopoverArrow",hM=p.forwardRef((e,t)=>{const{__scopePopover:s,...a}=e,o=il(s);return r.jsx(rh,{...o,...a,ref:t})});hM.displayName=mM;function AN(e){return e?"open":"closed"}var pM=NN,gM=kN,xM=PN,RN=EN;const vM=pM,yM=gM,IN=p.forwardRef(({className:e,align:t="center",sideOffset:s=4,...a},o)=>r.jsx(xM,{children:r.jsx(RN,{ref:o,align:t,sideOffset:s,className:Ee("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...a})}));IN.displayName=RN.displayName;function bM({open:e,onOpenChange:t,currentServerName:s,hasSecretConfig:a}){const{toast:o}=rr(),c=_r(),[u,f]=p.useState(s||""),[h,g]=p.useState(""),[x,y]=p.useState(!1),{data:w=[],isLoading:C}=vt({queryKey:["/api/servers/list"],enabled:e&&!a}),P=Ge({mutationFn:async E=>await(await kt("POST","/api/server/configure",E)).json(),onSuccess:E=>{o({title:"Server configured successfully",description:"Your server name has been saved."}),E&&E.requiresRefresh?(o({title:"Server context switched",description:"Refreshing to load new server data..."}),c.clear(),setTimeout(()=>{window.location.reload()},1e3)):c.invalidateQueries({queryKey:["/api/server/info"]}),t(!1)},onError:E=>{o({title:"Configuration failed",description:E.message||"Failed to configure server",variant:"destructive"})}}),b=E=>{if(E.preventDefault(),!u.trim()){o({title:"Server required",description:"Please select a server",variant:"destructive"});return}P.mutate({serverName:u.trim(),description:h.trim()||void 0})},j=w.find(E=>E.name===u);return r.jsx(Zt,{open:e,onOpenChange:t,children:r.jsxs(Ut,{className:"sm:max-w-[500px]","data-testid":"dialog-server-config",children:[r.jsxs(qt,{children:[r.jsxs(Wt,{className:"flex items-center gap-2",children:[r.jsx(mi,{className:"h-5 w-5"}),"Server Configuration"]}),r.jsx(_o,{children:"Configure your server name and description. This will be used to identify this server instance."})]}),a&&r.jsxs(Ko,{"data-testid":"alert-secret-configured",children:[r.jsx(Dn,{className:"h-4 w-4"}),r.jsx(Qo,{children:"Server name is configured via environment secrets (SERVER_NAME) and cannot be changed through the UI."})]}),!a&&r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{"data-testid":"label-server-name",children:"Select Server *"}),C?r.jsxs("div",{className:"flex items-center justify-center p-4 border rounded-md",children:[r.jsx(sm,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading servers..."})]}):r.jsxs(vM,{open:x,onOpenChange:y,children:[r.jsx(yM,{asChild:!0,children:r.jsxs(Y,{variant:"outline",role:"combobox","aria-expanded":x,className:"w-full justify-between",disabled:P.isPending,"data-testid":"button-server-select",children:[u?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tv,{className:"h-4 w-4"}),r.jsx("span",{children:u}),j&&r.jsxs(Ye,{variant:"secondary",className:"ml-auto",children:[j.currentBots,"/",j.totalBots]})]}):r.jsx("span",{className:"text-muted-foreground",children:"Select a server..."}),r.jsx(Um,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(IN,{className:"w-full p-0",align:"start",children:r.jsxs(gN,{children:[r.jsx(xN,{placeholder:"Search servers...",className:"h-9"}),r.jsx(yN,{children:"No servers found."}),r.jsx(vN,{className:"max-h-[200px]",children:r.jsx(bN,{children:w.map(E=>r.jsxs(wN,{value:E.name,onSelect:()=>{f(E.name),y(!1)},className:"flex items-center justify-between","data-testid":`option-${E.name}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tv,{className:"h-4 w-4"}),r.jsx("span",{children:E.name})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Ye,{variant:E.currentBots===0?"secondary":E.remainingBots===0?"destructive":"default",className:"text-xs",children:[E.currentBots,"/",E.totalBots]}),E.remainingBots>0&&r.jsxs("span",{className:"text-xs text-green-600",children:[E.remainingBots," free"]})]})]},E.name))})})]})})]}),j&&r.jsx("div",{className:"text-sm text-muted-foreground p-2 bg-muted rounded",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{children:["Bot Usage: ",j.currentBots,"/",j.totalBots]}),r.jsxs("span",{className:j.remainingBots>0?"text-green-600":"text-red-600",children:[j.remainingBots," slots available"]})]})}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose from Server1 to Server100. Servers with fewer bots are shown first."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"description","data-testid":"label-description",children:"Description (Optional)"}),r.jsx(Zs,{id:"description","data-testid":"textarea-description",value:h,onChange:E=>g(E.target.value),placeholder:"Describe the purpose of this server...",disabled:P.isPending,rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(Y,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:P.isPending,"data-testid":"button-cancel",children:"Cancel"}),r.jsxs(Y,{type:"submit",disabled:P.isPending||!u.trim(),"data-testid":"button-save-config",children:[P.isPending&&r.jsx(sm,{className:"mr-2 h-4 w-4 animate-spin"}),"Switch to ",u]})]})]}),a&&r.jsx("div",{className:"flex justify-end",children:r.jsx(Y,{onClick:()=>t(!1),"data-testid":"button-close",children:"Close"})})]})})}var Mh="Progress",Dh=100,[wM]=Br(Mh),[jM,NM]=wM(Mh),ON=p.forwardRef((e,t)=>{const{__scopeProgress:s,value:a=null,max:o,getValueLabel:c=SM,...u}=e;(o||o===0)&&!ay(o)&&console.error(CM(`${o}`,"Progress"));const f=ay(o)?o:Dh;a!==null&&!oy(a,f)&&console.error(kM(`${a}`,"Progress"));const h=oy(a,f)?a:null,g=Zc(h)?c(h,f):void 0;return r.jsx(jM,{scope:s,value:h,max:f,children:r.jsx(Be.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":Zc(h)?h:void 0,"aria-valuetext":g,role:"progressbar","data-state":FN(h,f),"data-value":h??void 0,"data-max":f,...u,ref:t})})});ON.displayName=Mh;var MN="ProgressIndicator",DN=p.forwardRef((e,t)=>{const{__scopeProgress:s,...a}=e,o=NM(MN,s);return r.jsx(Be.div,{"data-state":FN(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...a,ref:t})});DN.displayName=MN;function SM(e,t){return`${Math.round(e/t*100)}%`}function FN(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Zc(e){return typeof e=="number"}function ay(e){return Zc(e)&&!isNaN(e)&&e>0}function oy(e,t){return Zc(e)&&!isNaN(e)&&e<=t&&e>=0}function CM(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Dh}\`.`}function kM(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Dh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var LN=ON,PM=DN;const _m=p.forwardRef(({className:e,value:t,...s},a)=>r.jsx(LN,{ref:a,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:r.jsx(PM,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));_m.displayName=LN.displayName;function EM(){const{data:e,isLoading:t}=vt({queryKey:["/api/servers/all"],refetchInterval:5e3}),s=e?.servers||[],a=(y,w,C)=>y!=="active"?r.jsx(r2,{className:"h-4 w-4 text-red-500"}):w>=C?r.jsx(Dn,{className:"h-4 w-4 text-yellow-500"}):r.jsx(n2,{className:"h-4 w-4 text-green-500"}),o=(y,w,C)=>y!=="active"?r.jsx(Ye,{variant:"destructive",children:"Inactive"}):w>=C?r.jsx(Ye,{variant:"secondary",children:"Full"}):w===0?r.jsx(Ye,{variant:"outline",children:"Empty"}):r.jsx(Ye,{variant:"default",children:"Active"}),c=y=>y>=90?"bg-red-500":y>=70?"bg-yellow-500":"bg-green-500",u=s.length,f=s.filter(y=>y.serverStatus==="active").length,h=s.reduce((y,w)=>y+w.currentBots,0),g=s.reduce((y,w)=>y+w.maxBots,0),x=g>0?Math.round(h/g*100):0;return t?r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((y,w)=>r.jsx(me,{children:r.jsx(pe,{className:"p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})})},w))})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(me,{"data-testid":"card-total-servers",children:r.jsx(pe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Servers"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-servers",children:u})]}),r.jsx(mi,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(me,{"data-testid":"card-active-servers",children:r.jsx(pe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Servers"}),r.jsx("p",{className:"text-2xl font-bold text-green-600","data-testid":"text-active-servers",children:f})]}),r.jsx(zm,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(me,{"data-testid":"card-total-bots",children:r.jsx(pe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Bots"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600","data-testid":"text-total-bots",children:h})]}),r.jsx(ns,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(me,{"data-testid":"card-avg-utilization",children:r.jsx(pe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg. Utilization"}),r.jsxs("p",{className:"text-2xl font-bold","data-testid":"text-avg-utilization",children:[x,"%"]})]}),r.jsx("div",{className:"text-right",children:r.jsx(_m,{value:x,className:"w-16 h-2","data-testid":"progress-avg-utilization"})})]})})})]}),r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx(mi,{className:"h-5 w-5"}),"Server Status Overview"]}),r.jsx(it,{children:"Real-time status of all registered servers in the multi-tenant system"})]}),r.jsxs(pe,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.map(y=>{const w=y.maxBots>0?Math.round(y.currentBots/y.maxBots*100):0;return r.jsx(me,{className:"relative overflow-hidden","data-testid":`card-server-${y.serverName}`,children:r.jsxs(pe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a(y.serverStatus,y.currentBots,y.maxBots),r.jsx("h3",{className:"font-semibold text-sm","data-testid":`text-server-name-${y.serverName}`,children:y.serverName})]}),r.jsx("div",{"data-testid":`badge-status-${y.serverName}`,children:o(y.serverStatus,y.currentBots,y.maxBots)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Bots"}),r.jsxs("span",{className:"font-medium","data-testid":`text-bot-count-${y.serverName}`,children:[y.currentBots,"/",y.maxBots]})]}),r.jsx(_m,{value:w,className:`h-2 ${c(w)}`,"data-testid":`progress-utilization-${y.serverName}`}),r.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[r.jsxs("span",{"data-testid":`text-utilization-${y.serverName}`,children:["Utilization: ",w,"%"]}),r.jsxs("span",{"data-testid":`text-slots-free-${y.serverName}`,children:[y.availableSlots," slots free"]})]}),y.description&&r.jsx("p",{className:"text-xs text-muted-foreground truncate mt-2",title:y.description,"data-testid":`text-description-${y.serverName}`,children:y.description})]}),y.currentBots>=y.maxBots&&r.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-bl-lg"})]})},y.serverName)})}),s.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(mi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium mb-2",children:"No Servers Registered"}),r.jsx("p",{className:"text-sm",children:"Register your first server to see it here."})]})]})]})]})}function _M(){const{toast:e}=rr(),t=_r(),[s,a]=p.useState("days"),[o,c]=p.useState("7"),{data:u,isLoading:f}=vt({queryKey:["/api/offer/status"],refetchInterval:1e4}),h=Ge({mutationFn:async P=>{const b=await fetch("/api/offer/configure",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(P)});if(!b.ok)throw new Error("Failed to update offer");return b.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/offer/status"]}),e({title:"Offer updated successfully",description:"The promotional offer settings have been updated."})},onError:()=>{e({title:"Failed to update offer",variant:"destructive"})}}),g=()=>{const P=parseInt(o);if(isNaN(P)||P<=0){e({title:"Invalid duration",description:"Please enter a valid duration value",variant:"destructive"});return}h.mutate({durationType:s,durationValue:P,isActive:!0})},x=()=>{h.mutate({isActive:!1})},y=P=>{const b=Math.floor(P/1e3),j=Math.floor(b/86400),E=Math.floor(b%86400/3600),k=Math.floor(b%3600/60);return j>0?`${j}d ${E}h ${k}m`:E>0?`${E}h ${k}m`:`${k}m`},w=P=>new Date(P).toLocaleString(),C=u?.isActive!==void 0;return r.jsx("div",{className:"space-y-6",children:r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx(qm,{className:"h-6 w-6 text-yellow-500","data-testid":"icon-gift-header"}),"Promotional Offer Management"]}),r.jsx(it,{children:"Configure auto-approval offers for bot registrations"})]}),r.jsxs(pe,{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-200","data-testid":"text-env-status",children:"Promotional Offer Feature"}),r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300","data-testid":"text-env-value",children:["Status: ",C?"Available":"Loading..."]})]}),r.jsx(Ye,{variant:C?"default":"outline",className:C?"bg-green-500":"","data-testid":"badge-env-status",children:C?"Ready":"Loading"})]}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-2","data-testid":"text-env-warning",children:" Configure offer duration and activate promotional auto-approval below"})]}),u?.config&&r.jsxs("div",{className:`p-4 rounded-lg border ${u.isActive?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(l0,{className:`h-5 w-5 ${u.isActive?"text-green-600 animate-pulse":"text-gray-500"}`,"data-testid":"icon-clock-status"}),r.jsxs("p",{className:"font-medium","data-testid":"text-offer-status-title",children:["Offer Status: ",u.isActive?"Active":"Inactive"]})]}),r.jsx(Ye,{variant:u.isActive?"default":"outline",className:u.isActive?"bg-green-500":"","data-testid":"badge-offer-status",children:u.isActive?"Active":"Inactive"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{"data-testid":"text-offer-duration",children:[r.jsx("p",{className:"text-muted-foreground",children:"Duration:"}),r.jsxs("p",{className:"font-medium",children:[u.config.durationValue," ",u.config.durationType]})]}),r.jsxs("div",{"data-testid":"text-offer-start",children:[r.jsx("p",{className:"text-muted-foreground",children:"Start Date:"}),r.jsx("p",{className:"font-medium",children:w(u.config.startDate)})]}),r.jsxs("div",{"data-testid":"text-offer-end",children:[r.jsx("p",{className:"text-muted-foreground",children:"End Date:"}),r.jsx("p",{className:"font-medium",children:w(u.config.endDate)})]}),u.timeRemaining&&r.jsxs("div",{"data-testid":"text-offer-remaining",children:[r.jsx("p",{className:"text-muted-foreground",children:"Time Remaining:"}),r.jsx("p",{className:"font-medium text-orange-600",children:y(u.timeRemaining)})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"font-medium flex items-center gap-2","data-testid":"text-config-title",children:[r.jsx(td,{className:"h-5 w-5"}),"Configure New Offer"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"duration-type","data-testid":"label-duration-type",children:"Duration Type"}),r.jsxs(hr,{value:s,onValueChange:a,children:[r.jsx(cr,{id:"duration-type","data-testid":"select-duration-type",children:r.jsx(pr,{})}),r.jsxs(dr,{children:[r.jsx(Ie,{value:"days","data-testid":"option-days",children:"Days"}),r.jsx(Ie,{value:"months","data-testid":"option-months",children:"Months"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"duration-value","data-testid":"label-duration-value",children:"Duration Value"}),r.jsx(tr,{id:"duration-value",type:"number",min:"1",value:o,onChange:P=>c(P.target.value),placeholder:"Enter duration","data-testid":"input-duration-value"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Y,{onClick:g,disabled:!C||h.isPending||u?.isActive,className:"flex-1","data-testid":"button-activate-offer",children:h.isPending?"Activating...":"Activate Offer"}),u?.isActive&&r.jsx(Y,{variant:"outline",onClick:x,disabled:h.isPending,className:"flex-1","data-testid":"button-deactivate-offer",children:h.isPending?"Deactivating...":"Deactivate Offer"})]}),r.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border border-yellow-200 dark:border-yellow-800",children:r.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200","data-testid":"text-auto-approval-info",children:[r.jsx("strong",{children:"Auto-Approval:"})," When an offer is active, all bot registrations will be automatically approved and placed in the selected server's approved bots list. Bots will auto-start on server restart."]})})]})]})]})})}function TM(){const{toast:e}=rr(),t=_r(),{logout:s}=Jo(),[a,o]=p.useState(!1),[c,u]=p.useState(!1),{data:f=[],isLoading:h}=vt({queryKey:["/api/admin/bot-instances"],queryFn:async()=>{const k=await fetch("/api/admin/bot-instances",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!k.ok)throw new Error("Failed to fetch bot instances");return await k.json()}}),{data:g=[],isLoading:x}=vt({queryKey:["/api/admin/activities"],queryFn:async()=>{const k=await fetch("/api/admin/activities",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!k.ok)throw new Error("Failed to fetch activities");return await k.json()}}),{data:y}=vt({queryKey:["/api/admin/stats"],queryFn:async()=>{const k=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!k.ok)throw new Error("Failed to fetch stats");return k.json()}}),{data:w={}}=vt({queryKey:["/api/server/info"]}),C=Ge({mutationFn:async k=>{const I=await fetch(`/api/admin/bot-instances/${k}/start`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!I.ok)throw new Error("Failed to start bot");return I.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot started successfully"})},onError:()=>{e({title:"Failed to start bot",variant:"destructive"})}}),P=Ge({mutationFn:async k=>{const I=await fetch(`/api/admin/bot-instances/${k}/stop`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!I.ok)throw new Error("Failed to stop bot");return I.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot stopped successfully"})},onError:()=>{e({title:"Failed to stop bot",variant:"destructive"})}}),b=Ge({mutationFn:async k=>{const I=await fetch(`/api/admin/bot-instances/${k}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!I.ok){const L=await I.text();throw new Error(L||"Failed to delete bot")}return I.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot deleted successfully"})},onError:()=>{e({title:"Failed to delete bot",variant:"destructive"})}}),j=k=>{const I={online:"default",offline:"secondary",loading:"outline",error:"destructive",qr_code:"outline"};return r.jsx(Ye,{variant:I[k]||"secondary","data-testid":`status-${k}`,children:k.replace("_"," ").toUpperCase()})},E=k=>new Date(k).toLocaleString();return r.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ls,{className:"h-6 w-6 text-red-600"}),r.jsx("h1",{className:"text-3xl font-bold","data-testid":"admin-console-title",children:"Admin Console"})]}),r.jsxs(Y,{variant:"outline",onClick:()=>{s(),window.location.href="/"},className:"flex items-center gap-2","data-testid":"button-logout-admin",children:[r.jsx(c0,{className:"h-4 w-4"}),"Logout"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs(me,{children:[r.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(qe,{className:"text-sm font-medium",children:"Total Bots"}),r.jsx(ns,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(pe,{children:r.jsx("div",{className:"text-2xl font-bold","data-testid":"total-bots",children:y?.totalBots||f.length})})]}),r.jsxs(me,{children:[r.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(qe,{className:"text-sm font-medium",children:"Online Bots"}),r.jsx(zm,{className:"h-4 w-4 text-green-600"})]}),r.jsx(pe,{children:r.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"online-bots",children:f.filter(k=>k.status==="online").length})})]}),r.jsxs(me,{children:[r.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(qe,{className:"text-sm font-medium",children:"Total Messages"}),r.jsx(Kk,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(pe,{children:r.jsx("div",{className:"text-2xl font-bold","data-testid":"total-messages",children:f.reduce((k,I)=>k+(I.messagesCount||0),0)})})]}),r.jsxs(me,{children:[r.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(qe,{className:"text-sm font-medium",children:"Commands Used"}),r.jsx(t2,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(pe,{children:r.jsx("div",{className:"text-2xl font-bold","data-testid":"total-commands",children:f.reduce((k,I)=>k+(I.commandsCount||0),0)})})]})]}),r.jsxs(Ta,{defaultValue:"overview",className:"space-y-4",children:[r.jsxs(Pi,{children:[r.jsx(Et,{value:"overview","data-testid":"tab-overview",children:"Server Overview"}),r.jsx(Et,{value:"bots","data-testid":"tab-bots",children:"Bot Management"}),r.jsx(Et,{value:"activities","data-testid":"tab-activities",children:"Recent Activity"}),r.jsx(Et,{value:"server","data-testid":"tab-server",children:"Server Config"}),r.jsxs(Et,{value:"offer","data-testid":"tab-offer",children:[r.jsx(qm,{className:"h-4 w-4 mr-2"}),"Promotional Offers"]}),r.jsx(Et,{value:"master","data-testid":"tab-master",children:"Master Control"})]}),r.jsx(jt,{value:"overview",className:"space-y-4",children:r.jsx(EM,{})}),r.jsx(jt,{value:"bots",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsx(qe,{children:"Bot Instance Management"}),r.jsx(it,{children:"Manage all WhatsApp bot instances across the system"})]}),r.jsx(pe,{children:h?r.jsx("div",{className:"text-center py-8",children:"Loading bot instances..."}):r.jsxs(Qc,{children:[r.jsx(Hc,{children:r.jsxs(Ds,{children:[r.jsx(Mt,{children:"Name"}),r.jsx(Mt,{children:"Phone Number"}),r.jsx(Mt,{children:"Status"}),r.jsx(Mt,{children:"Messages"}),r.jsx(Mt,{children:"Commands"}),r.jsx(Mt,{children:"Last Activity"}),r.jsx(Mt,{children:"Actions"})]})}),r.jsx(Gc,{children:f.map(k=>r.jsxs(Ds,{children:[r.jsx(Rt,{className:"font-medium","data-testid":`bot-name-${k.id}`,children:k.name}),r.jsx(Rt,{"data-testid":`bot-phone-${k.id}`,children:k.phoneNumber||"Not set"}),r.jsx(Rt,{children:j(k.status)}),r.jsx(Rt,{"data-testid":`bot-messages-${k.id}`,children:k.messagesCount||0}),r.jsx(Rt,{"data-testid":`bot-commands-${k.id}`,children:k.commandsCount||0}),r.jsx(Rt,{"data-testid":`bot-activity-${k.id}`,children:k.lastActivity?E(k.lastActivity):"Never"}),r.jsx(Rt,{children:r.jsxs("div",{className:"flex gap-2",children:[k.status==="offline"||k.status==="error"?r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>C.mutate(k.id),disabled:C.isPending,"data-testid":`button-start-${k.id}`,children:r.jsx(Co,{className:"h-4 w-4"})}):r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>P.mutate(k.id),disabled:P.isPending,"data-testid":`button-stop-${k.id}`,children:r.jsx(ko,{className:"h-4 w-4"})}),r.jsxs(_O,{children:[r.jsx(TO,{asChild:!0,children:r.jsx(Y,{size:"sm",variant:"destructive","data-testid":`button-delete-${k.id}`,children:r.jsx(Jk,{className:"h-4 w-4"})})}),r.jsxs(eN,{children:[r.jsxs(tN,{children:[r.jsx(nN,{children:"Delete Bot Instance"}),r.jsxs(sN,{children:['Are you sure you want to delete "',k.name,'"? This action cannot be undone.']})]}),r.jsxs(rN,{children:[r.jsx(aN,{children:"Cancel"}),r.jsx(iN,{onClick:()=>b.mutate(k.id),"data-testid":`confirm-delete-${k.id}`,children:"Delete"})]})]})]})]})})]},k.id))})]})})]})}),r.jsx(jt,{value:"activities",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsx(qe,{children:"System Activity Monitor"}),r.jsx(it,{children:"Recent activities across all bot instances"})]}),r.jsx(pe,{children:x?r.jsx("div",{className:"text-center py-8",children:"Loading activities..."}):r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto","data-testid":"activities-list",children:g.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No recent activities"}):g.map(k=>r.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ye,{variant:"outline","data-testid":`activity-type-${k.type}`,children:k.type.replace("_"," ").toUpperCase()}),r.jsx("span",{className:"text-sm text-muted-foreground",children:E(k.createdAt)})]}),r.jsx("p",{className:"text-sm","data-testid":`activity-description-${k.id}`,children:k.description}),k.metadata&&typeof k.metadata=="object"&&Object.keys(k.metadata).length>0?r.jsxs("details",{className:"text-xs",children:[r.jsx("summary",{className:"cursor-pointer text-muted-foreground",children:"View details"}),r.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs overflow-x-auto",children:JSON.stringify(k.metadata,null,2)})]}):null]},k.id))})})]})}),r.jsx(jt,{value:"server",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsx(qe,{children:"Server Configuration"}),r.jsx(it,{children:"Configure server settings and tenancy management"})]}),r.jsx(pe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Current Server"}),r.jsx("p",{className:"text-2xl font-bold text-primary",children:w?.serverName||"default-server"}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Bot Slots: ",w?.currentBots||0,"/",w?.maxBots||0]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Configuration Status"}),r.jsx("p",{className:"text-sm",children:w?.hasSecretConfig?r.jsx("span",{className:"text-green-600",children:" Environment Configured"}):r.jsx("span",{className:"text-yellow-600",children:" Manual Configuration"})})]})]}),r.jsx(Y,{onClick:()=>u(!0),className:"w-full","data-testid":"button-configure-server-admin",children:" Configure Server Settings"}),r.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Switch between server instances and manage tenancy settings"})]})})]})}),r.jsx(jt,{value:"offer",className:"space-y-4",children:r.jsx(_M,{})}),r.jsx(jt,{value:"master",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsx(qe,{children:"Master Control Panel"}),r.jsx(it,{children:"Cross-tenancy bot management using God Registry"})]}),r.jsxs(pe,{children:[r.jsx(Y,{onClick:()=>o(!0),className:"w-full","data-testid":"button-open-master-control",children:" Open Master Control Panel"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Manage bots across all tenancies from a centralized interface"})]})]})})]}),r.jsx(oN,{open:a,onClose:()=>o(!1)}),r.jsx(bM,{open:c,onOpenChange:u,currentServerName:w?.serverName||"",hasSecretConfig:w?.hasSecretConfig||!1})]})}function AM(){const[e]=p.useState(!0);return r.jsx(oN,{open:e,onClose:()=>{}})}function RM(){return r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:r.jsx(me,{className:"w-full max-w-md mx-4",children:r.jsxs(pe,{className:"pt-6",children:[r.jsxs("div",{className:"flex mb-4 gap-2",children:[r.jsx(Hk,{className:"h-8 w-8 text-red-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function IM(){const{toast:e}=rr(),[t,s]=p.useState(""),[a,o]=p.useState("session"),[c,u]=p.useState(!1),[f,h]=p.useState(null),g=[{step:1,title:"Enter Session ID",description:"Paste your bot's Base64 session credentials to verify ownership",icon:r.jsx(Ls,{className:"h-5 w-5"}),completed:a!=="session"},{step:2,title:"Check Connection",description:"Verify if your bot is currently active and connected",icon:r.jsx(Cc,{className:"h-5 w-5"}),completed:a==="verified"},{step:3,title:"Access Granted",description:"Full access to bot management features",icon:r.jsx(oa,{className:"h-5 w-5"}),completed:c}],x=Ge({mutationFn:async P=>{const b=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:P.trim()})});if(!b.ok){const j=await b.json();throw new Error(j.message||"Session verification failed")}return b.json()},onSuccess:P=>{h(P),P.botActive?(o("verified"),u(!0),e({title:"Bot Active!",description:`Your bot ${P.phoneNumber} is connected and ready to manage.`})):(o("inactive"),e({title:"Bot Inactive",description:"Your bot is not currently connected. Please provide updated credentials.",variant:"destructive"}))},onError:P=>{e({title:"Verification Failed",description:P.message,variant:"destructive"})}}),y=Ge({mutationFn:async P=>{const b=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:P.trim()})});if(!b.ok){const j=await b.json();throw new Error(j.message||"Session verification failed")}return b.json()},onSuccess:P=>{h(P),P.botActive?(o("verified"),u(!0),e({title:"Bot Active!",description:`Your bot ${P.phoneNumber} is now connected and ready to manage.`})):e({title:"Bot Still Inactive",description:"The bot is still not connected. Please ensure the credentials are current.",variant:"destructive"})},onError:P=>{e({title:"Verification Failed",description:P.message,variant:"destructive"})}}),w=()=>{if(!t.trim()){e({title:"Session ID Required",description:"Please paste your bot's session credentials",variant:"destructive"});return}x.mutate(t)},C=()=>{if(!t.trim()){e({title:"Session ID Required",description:"Please paste updated session credentials",variant:"destructive"});return}y.mutate(t)};return r.jsx("div",{className:"min-h-screen w-full p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Bot Session Verification"}),r.jsx("p",{className:"text-muted-foreground",children:"Verify your bot ownership with session credentials to access management features"})]}),r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx(Ls,{className:"h-5 w-5"}),"Verification Process"]}),r.jsx(it,{children:"Follow these steps to verify your bot session and access management features"})]}),r.jsx(pe,{children:r.jsx("div",{className:"space-y-4",children:g.map(P=>r.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border",children:[r.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${P.completed?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:P.completed?r.jsx(oa,{className:"h-4 w-4"}):P.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium",children:P.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:P.description})]}),r.jsx(Ye,{variant:P.completed?"default":"outline",children:P.completed?"Completed":"Pending"})]},P.step))})})]}),a==="session"&&r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx(Ls,{className:"h-5 w-5"}),"Enter Session ID from WhatsApp"]}),r.jsx(it,{children:"Paste the SESSION ID you received in WhatsApp (NOT the pairing code)"})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md mb-3",children:[r.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:" Important: Don't confuse the pairing code with the Session ID"}),r.jsxs("ul",{className:"text-xs text-blue-800 dark:text-blue-200 mt-2 space-y-1 ml-4 list-disc",children:[r.jsx("li",{children:'Pairing Code: Used ONLY for linking WhatsApp (e.g., "ABC-123")'}),r.jsx("li",{children:"Session ID: Long base64 string sent to WhatsApp after pairing succeeds"}),r.jsx("li",{children:"You need the SESSION ID here, not the pairing code"})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"session",children:"Session ID (Base64 - from WhatsApp message)"}),r.jsx("textarea",{id:"session",placeholder:"Paste the long SESSION ID from your WhatsApp message here (starts with 'eyJ...' or similar base64)",value:t,onChange:P=>s(P.target.value),className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm","data-testid":"input-session-id"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This will verify ownership and check if your bot is currently active"})]}),r.jsx(Y,{onClick:w,disabled:x.isPending,className:"w-full","data-testid":"button-verify-session",children:x.isPending?"Verifying...":"Verify Session & Check Connection"})]})]}),a==="inactive"&&r.jsxs(me,{className:"border-orange-200",children:[r.jsxs(ze,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx(Dn,{className:"h-5 w-5 text-orange-500"}),"Bot Connection Inactive"]}),r.jsxs(it,{children:["Your bot ",f?.phoneNumber," was found but is not currently connected. Please provide updated session credentials."]})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"newSession",children:"Updated Session ID / Base64 Credentials"}),r.jsx("textarea",{id:"newSession",placeholder:"Paste your updated base64 session credentials here...",value:t,onChange:P=>s(P.target.value),className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm","data-testid":"input-new-session-id"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Provide fresh session credentials to reactivate your bot connection"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Y,{onClick:C,disabled:y.isPending,className:"flex-1","data-testid":"button-retry-verification",children:y.isPending?"Updating...":"Update & Verify Connection"}),r.jsx(Y,{variant:"outline",onClick:()=>{o("session"),s(""),h(null)},children:"Start Over"})]})]})]}),a==="verified"&&r.jsx(me,{className:"border-green-200",children:r.jsx(pe,{className:"pt-6",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:r.jsx(oa,{className:"h-8 w-8 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-green-800",children:"Bot Connection Verified!"}),r.jsxs("p",{className:"text-green-600 mt-1",children:["Your bot ",f?.phoneNumber," is active and ready to manage."]})]}),r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsx(Y,{asChild:!0,children:r.jsx("a",{href:"/guest/bot-management",children:"Manage Your Bots"})}),r.jsx(Y,{variant:"outline",asChild:!0,children:r.jsx("a",{href:"/guest/credentials",children:"Update Credentials"})})]})]})})}),r.jsx(me,{className:"border-orange-200",children:r.jsx(pe,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Dn,{className:"h-5 w-5 text-orange-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-orange-800",children:"Security Notice"}),r.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Your session ID contains sensitive authentication information. Only enter it on trusted platforms and never share it with others. This verification ensures you have legitimate access to the bot."})]})]})})})]})})}function OM(){const{toast:e}=rr(),t=_r(),[,s]=Im(),[a,o]=p.useState(""),[c,u]=p.useState(""),[f,h]=p.useState("session"),[g,x]=p.useState(null),[y,w]=p.useState(null),[C,P]=p.useState(!1),[b,j]=p.useState(null),[E,k]=p.useState(!1),I=Ge({mutationFn:async S=>{try{const H=S.trim(),T=atob(H);JSON.parse(T)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}const $=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:S.trim()})});if(!$.ok){const H=await $.json();throw new Error(H.message||"Session verification failed")}return $.json()},onSuccess:S=>{if(j(S),o(S.phoneNumber),x(S.token),S.success&&S.botActive&&!S.credentialValidationFailed)h("dashboard"),w(S.botId),e({title:"Bot Active!",description:`Your bot ${S.phoneNumber} is connected and ready to manage.`});else if(S.success&&S.connectionUpdated&&!S.credentialValidationFailed)h("dashboard"),w(S.botId),e({title:"Session Updated!",description:"New session ID tested successfully! Your bot is reconnecting and a success message has been sent to your WhatsApp."}),u(""),setTimeout(()=>{t.invalidateQueries({queryKey:["/api/guest/server-bots",S.phoneNumber]})},3e3);else{h("inactive");let $="Your bot is not currently connected. Please provide updated credentials.";S.credentialValidationFailed||S.message&&S.message.includes("validation failed")?$="The credentials you provided are invalid or expired. Please provide fresh session credentials.":S.message&&S.message.includes("Connection Failure")||S.message.includes("401")?$="Connection test failed - your credentials are invalid or expired. Please get a new session ID.":S.message&&S.message.includes("failed")&&($="Connection test failed. Please ensure your credentials are current and valid."),e({title:"Bot Inactive",description:$,variant:"destructive"})}},onError:S=>{let $=S.message;$.includes("Cannot extract phone number")?$=" Invalid session ID: Cannot extract phone number from the credentials. Please ensure you're using valid WhatsApp session data.":$.includes("Invalid session ID format")&&($=" Invalid session ID format: Please ensure you're pasting valid base64-encoded WhatsApp session data."),e({title:"Verification Failed",description:$,variant:"destructive"})}}),L=Ge({mutationFn:async S=>{try{const H=S.trim(),T=atob(H);JSON.parse(T)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}const $=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:S.trim()})});if(!$.ok){const H=await $.json();throw new Error(H.message||"Session update failed")}return $.json()},onSuccess:S=>{if(j(S),o(S.phoneNumber),x(S.token),S.success&&!S.credentialValidationFailed){h("dashboard"),w(S.botId);let $="Session Updated!",H="";S.crossServer?H=` Credentials updated successfully for bot on ${S.botServer}! Success message sent to your WhatsApp.`:S.botActive?H=` New session ID updated successfully! Your bot ${S.phoneNumber} is now connected and ready to manage.`:S.connectionUpdated?H=" New session ID tested successfully! Your bot is reconnecting and a success message has been sent to your WhatsApp.":H=" Credentials updated successfully and success message sent to your WhatsApp.",e({title:$,description:H}),u(""),setTimeout(()=>{t.invalidateQueries({queryKey:["/api/guest/server-bots",S.phoneNumber]})},3e3)}else{let $="New session update failed - connection could not be verified";S.credentialValidationFailed||S.message&&S.message.includes("validation failed")?$="The new credentials you provided are invalid or expired. Please get a fresh session ID.":S.message&&S.message.includes("Connection Failure")||S.message.includes("401")?$="Connection test failed - your new credentials are invalid or expired. Please get a fresh session ID.":S.message&&S.message.includes("failed")&&($="Connection test failed. Please ensure your new credentials are current and valid."),e({title:"Update Failed",description:$,variant:"destructive"})}},onError:S=>{let $=S.message;$.includes("Cannot extract phone number")?$=" Invalid session ID: Cannot extract phone number from the credentials. Please ensure you're using valid WhatsApp session data.":$.includes("Connection timeout")?$=" Connection timeout: Your new session ID may be expired or invalid. Please get a fresh session ID.":$.includes("phone number mismatch")?$=" Phone number mismatch: The new session ID belongs to a different phone number.":$.includes("Failed to establish connection")?$=" Cannot connect with new session ID. Please ensure it's valid and active.":$.includes("Invalid session ID format")&&($=" Invalid session ID format: Please ensure you're pasting valid base64-encoded WhatsApp session data."),e({title:"Update Failed",description:$,variant:"destructive"})}});Ge({mutationFn:async S=>{const $=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:S.trim()})});if(!$.ok){const H=await $.json();throw new Error(H.message||"Session verification failed")}return $.json()},onSuccess:S=>{j(S),o(S.phoneNumber),x(S.token),S.botActive?(h("dashboard"),w(S.botId),e({title:"Bot Active!",description:`Your bot ${S.phoneNumber} is now connected and ready to manage.`})):e({title:"Bot Still Inactive",description:"The bot is still not connected. Please ensure the credentials are current.",variant:"destructive"})},onError:S=>{e({title:"Verification Failed",description:S.message,variant:"destructive"})}});const{data:B=[],isLoading:X}=vt({queryKey:["/api/guest/server-bots",a],queryFn:async()=>{if(!a.trim()||f!=="dashboard")return[];const S=a.replace(/[\s\-\(\)\+]/g,""),$=await fetch("/api/guest/search-server-bots",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({phoneNumber:S})});if(!$.ok)return[];const H=await $.json();return console.log("Bot search response:",H),(H.bots||[]).map(R=>({...R,hostingServer:H.hostingServer||R.hostingServer||R.serverName,currentServer:H.currentServer,crossServer:R.crossServer||H.hostingServer!==H.currentServer}))},enabled:f==="dashboard"&&!!a.trim()&&!!g}),q=Ge({mutationFn:async({action:S,botId:$,phoneNumber:H})=>{const T=await fetch("/api/guest/server-bot-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:S,botId:$,phoneNumber:H})});if(!T.ok){const R=await T.json();throw new Error(R.message||`Failed to ${S} bot`)}return T.json()},onSuccess:(S,$)=>{e({title:"Action Successful",description:`Bot ${$.action} completed successfully`}),t.invalidateQueries({queryKey:["/api/guest/server-bots",a]})},onError:S=>{e({title:"Action Failed",description:S.message,variant:"destructive"})}}),te=Ge({mutationFn:async({feature:S,enabled:$,botId:H})=>{const T=await fetch("/api/guest/server-bot-features",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feature:S,enabled:$,botId:H,phoneNumber:a})});if(!T.ok){const R=await T.json();throw new Error(R.message||"Failed to update feature")}return T.json()},onSuccess:S=>{const $=S.crossServer?` on ${S.hostingServer}`:"";e({title:"Feature Updated",description:`${S.feature} ${S.enabled?"enabled":"disabled"} successfully${$}`}),t.invalidateQueries({queryKey:["/api/guest/server-bots",a]})},onError:(S,$)=>{let H=S.message,T="Feature Update Failed";H.includes("Bot not found")?(T="Bot Not Found",H="The bot could not be found on the hosting server. It may have been removed."):H.includes("Only approved bots")?(T="Bot Not Approved",H="Only approved bots can have features updated. Please contact admin for approval."):H.includes("Invalid feature name")&&(T="Invalid Feature",H="The requested feature is not available for this bot."),e({title:T,description:H,variant:"destructive"})}}),we=()=>{if(!c.trim()){e({title:"Session ID Required",description:"Please paste your session ID (base64 credentials)",variant:"destructive"});return}I.mutate(c)},xe=()=>{if(!c.trim()){e({title:"Session ID Required",description:"Please paste your NEW session credentials",variant:"destructive"});return}u(c.trim()),L.mutate(c.trim())},ve=(S,$)=>{q.mutate({action:S,botId:$.botId,phoneNumber:a})},J=(S,$,H)=>{const T=H.crossServer?{feature:S,enabled:$,botId:H.botId,phoneNumber:a}:{feature:S,enabled:$,botId:H.botId};te.mutate(T)},se=()=>{h("session"),o(""),u(""),x(null),w(null),j(null),k(!1)},W=(S,$)=>{if($==="pending")return r.jsx(Ye,{variant:"outline",className:"bg-yellow-50 text-yellow-800",children:"Pending Approval"});switch(S){case"online":return r.jsx(Ye,{className:"bg-green-500",children:"Online"});case"offline":return r.jsx(Ye,{variant:"outline",children:"Offline"});case"error":return r.jsx(Ye,{variant:"destructive",children:"Error"});default:return r.jsx(Ye,{variant:"outline",children:S})}},he=B.filter(S=>S.isActive&&S.isApproved),K=B.filter(S=>S.approvalStatus==="pending"),ne=B.filter(S=>!S.isActive||S.approvalStatus==="rejected");return r.jsx("div",{className:"min-h-screen w-full p-6 bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx(ns,{className:"h-10 w-10 text-blue-600"}),r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Bot Management Portal"})]}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Manage your WhatsApp bots with secure credential verification"})]}),r.jsx(me,{className:"border-blue-200 bg-blue-50/50 dark:bg-blue-900/20",children:r.jsx(pe,{className:"pt-6",children:r.jsx("div",{className:"flex items-center justify-between",children:[{step:1,title:"Verify Session",icon:Ls,active:f==="session",completed:["dashboard","inactive"].includes(f)},{step:2,title:"Check Connection",icon:Os,active:f==="inactive",completed:f==="dashboard"},{step:3,title:"Manage Bot",icon:td,active:f==="dashboard",completed:!1}].map((S,$)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${S.completed?"bg-green-500 border-green-500 text-white":S.active?"bg-blue-500 border-blue-500 text-white":"bg-gray-200 border-gray-300 text-gray-500"}`,children:S.completed?r.jsx(oa,{className:"h-5 w-5"}):r.jsx(S.icon,{className:"h-5 w-5"})}),r.jsx("div",{className:"ml-3 hidden sm:block",children:r.jsx("p",{className:`text-sm font-medium ${S.active||S.completed?"text-gray-900 dark:text-gray-100":"text-gray-500"}`,children:S.title})}),$<2&&r.jsx("div",{className:`hidden sm:block w-16 h-0.5 mx-4 ${S.completed?"bg-green-500":"bg-gray-300"}`})]},S.step))})})}),f==="session"&&!E&&r.jsxs(me,{className:"border-blue-200",children:[r.jsxs(ze,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx(Ls,{className:"h-6 w-6 text-blue-600"}),"Enter Session Credentials"]}),r.jsx(it,{children:"Paste your bot's Base64 session credentials to verify ownership and check connection status"})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Session ID (Base64 Credentials)"}),r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>P(!C),children:C?r.jsx(rv,{className:"h-4 w-4"}):r.jsx(nv,{className:"h-4 w-4"})})]}),r.jsx("textarea",{placeholder:"Paste your base64 encoded credentials here...",value:c,onChange:S=>u(S.target.value),className:`w-full h-32 p-3 border rounded-md resize-none font-mono text-sm ${C?"":"filter blur-sm hover:filter-none focus:filter-none"}`,onKeyDown:S=>S.key==="Enter"&&S.ctrlKey&&we()}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll extract the phone number and check if your bot is currently active"}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:[r.jsx("strong",{children:"Need a new session ID?"})," If your credentials are expired:"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nm,{className:"h-4 w-4"}),r.jsx("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Get NEW SESSION ID"})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Y,{onClick:we,disabled:I.isPending,size:"lg",className:"flex-1",children:I.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Os,{className:"h-4 w-4 mr-2 animate-spin"})," Verifying..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ls,{className:"h-4 w-4 mr-2"})," Verify Session & Check Connection"]})}),r.jsxs(Y,{variant:"outline",onClick:()=>k(!0),size:"lg",className:"flex items-center gap-2",children:[r.jsx(Cc,{className:"h-4 w-4"}),"Use Phone Number"]})]}),r.jsxs(Ko,{children:[r.jsx(Dn,{className:"h-4 w-4"}),r.jsx(Qo,{children:"Your session ID contains sensitive authentication information. Only enter it on trusted platforms and never share it with others."})]})]})]}),f==="session"&&E&&r.jsxs(me,{className:"border-green-200",children:[r.jsxs(ze,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx(Cc,{className:"h-6 w-6 text-green-600"}),"Enter Phone Number"]}),r.jsx(it,{children:"Enter your phone number to search for your bot"})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Phone Number (with country code)"}),r.jsx(tr,{placeholder:"+254700000000",value:a,onChange:S=>{const $=S.target.value.replace(/[\s\-\(\)]/g,"");o($)},className:"text-lg",autoFocus:!0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your phone number with country code (+ will be removed automatically)"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Y,{onClick:()=>{if(!a.trim()){e({title:"Phone number required",description:"Please enter your phone number",variant:"destructive"});return}s("/guest/verification")},size:"lg",className:"flex-1",children:[r.jsx(Cc,{className:"h-4 w-4 mr-2"}),"Search Bot by Phone"]}),r.jsx(Y,{variant:"outline",onClick:()=>k(!1),size:"lg",children:"Back to Session ID"})]})]})]}),f==="inactive"&&r.jsxs(me,{className:"border-orange-200",children:[r.jsxs(ze,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx(Dn,{className:"h-6 w-6 text-orange-500"}),"Bot Connection Inactive"]}),r.jsxs(it,{children:["Your bot ",b?.phoneNumber," was found but is not currently connected. Enter a NEW session ID and we'll automatically test the connection and update your bot."]})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Updated Session ID (Base64 Credentials)"}),r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>P(!C),children:C?r.jsx(rv,{className:"h-4 w-4"}):r.jsx(nv,{className:"h-4 w-4"})})]}),r.jsx("textarea",{placeholder:"Paste your NEW base64 session credentials here...",value:c,onChange:S=>u(S.target.value),className:`w-full h-32 p-3 border rounded-md resize-none font-mono text-sm ${C?"":"filter blur-sm hover:filter-none focus:filter-none"}`}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll test your NEW session ID connection, verify it works, then update your bot credentials"}),r.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200",children:[r.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mb-2",children:r.jsx("strong",{children:" What happens automatically:"})}),r.jsxs("ul",{className:"text-xs text-green-600 dark:text-green-400 space-y-1",children:[r.jsx("li",{children:" We test your new session ID connection"}),r.jsx("li",{children:" Bot credentials are safely updated if valid"}),r.jsx("li",{children:" A success message is sent to your WhatsApp"}),r.jsx("li",{children:" You're taken to the bot management dashboard"})]})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:[r.jsx("strong",{children:"Need a new session ID?"})," Get fresh credentials:"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nm,{className:"h-4 w-4"}),r.jsx("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Get NEW SESSION ID"})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Y,{onClick:xe,disabled:L.isPending,className:"flex-1",size:"lg",children:L.isPending?r.jsxs(r.Fragment,{children:[r.jsx(sm,{className:"h-4 w-4 mr-2 animate-spin"})," Auto-Testing & Updating Session..."]}):r.jsxs(r.Fragment,{children:[r.jsx(e2,{className:"h-4 w-4 mr-2"})," Auto-Test & Update Session"]})}),r.jsx(Y,{variant:"outline",onClick:()=>{h("session"),u(""),j(null),k(!1)},size:"lg",children:"Back"})]})]})]}),f==="dashboard"&&r.jsxs(r.Fragment,{children:[r.jsx(me,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:r.jsx(pe,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(oa,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-green-800 dark:text-green-200",children:"Authentication Successful!"}),r.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["Welcome! You can now manage your bot for ",a]})]}),r.jsx(Y,{variant:"outline",size:"sm",onClick:se,className:"ml-auto",children:"Switch Account"})]})})}),r.jsxs(Ta,{defaultValue:"active",className:"w-full",children:[r.jsxs(Pi,{className:"grid w-full grid-cols-3",children:[r.jsxs(Et,{value:"active",className:"flex items-center gap-2",children:[r.jsx(ns,{className:"h-4 w-4"}),"Active Bots (",he.length,")"]}),r.jsxs(Et,{value:"pending",className:"flex items-center gap-2",children:[r.jsx(Dn,{className:"h-4 w-4"}),"Pending (",K.length,")"]}),r.jsxs(Et,{value:"inactive",className:"flex items-center gap-2",children:[r.jsx(ko,{className:"h-4 w-4"}),"Inactive (",ne.length,")"]})]}),r.jsx(jt,{value:"active",className:"space-y-4",children:X?r.jsx(me,{children:r.jsxs(pe,{className:"pt-6 text-center",children:[r.jsx(Os,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Loading your bots..."})]})}):he.length===0?r.jsx(me,{children:r.jsxs(pe,{className:"pt-6 text-center",children:[r.jsx(ns,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No active bots found"})]})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:he.map(S=>r.jsxs(me,{className:"border-green-200 hover:shadow-lg transition-shadow",children:[r.jsxs(ze,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(qe,{className:"text-lg",children:S.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[S.crossServer&&r.jsxs(Ye,{variant:"outline",className:"bg-blue-50 text-blue-700 text-xs",children:[" ",S.hostingServer]}),W(S.status,S.approvalStatus)]})]}),r.jsxs(it,{children:[S.phoneNumber,S.crossServer&&r.jsx("span",{className:"block text-xs text-blue-600 mt-1",children:" Cross-server management enabled"})]})]}),r.jsxs(pe,{className:"space-y-4",children:[S.crossServer&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-2 mb-3",children:[r.jsx("p",{className:"text-xs text-blue-700 font-medium",children:" Cross-Server Bot"}),r.jsx("p",{className:"text-xs text-blue-600",children:"Feature toggles require server connectivity"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),r.jsx("button",{onClick:()=>J("autoLike",!S.features?.autoLike,S),disabled:te.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.autoLike?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),r.jsx("button",{onClick:()=>J("autoView",!S.features?.autoView,S),disabled:te.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.autoView?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.autoView?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),r.jsx("button",{onClick:()=>J("autoReact",!S.features?.autoReact,S),disabled:te.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.autoReact?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),r.jsx("button",{onClick:()=>J("chatGPT",!S.features?.chatGPT,S),disabled:te.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.chatGPT?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.chatGPT?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Always Online"}),r.jsx("button",{onClick:()=>J("alwaysOnline",!S.features?.alwaysOnline,S),disabled:te.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.alwaysOnline?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.alwaysOnline?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Typing Indicator"}),r.jsx("button",{onClick:()=>J("typingIndicator",!S.features?.typingIndicator,S),disabled:te.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.typingIndicator?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.typingIndicator?"bg-white":"bg-muted-foreground"}`})})]})]}),r.jsx("div",{className:"flex gap-2",children:S.crossServer?r.jsxs("div",{className:"flex-1 bg-blue-50 border border-blue-200 rounded-md p-2 text-center",children:[r.jsxs("p",{className:"text-xs text-blue-700",children:[" Bot hosted on ",S.hostingServer]}),r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Features can be toggled above"})]}):r.jsxs(r.Fragment,{children:[S.status==="offline"?r.jsxs(Y,{size:"sm",onClick:()=>ve("start",S),disabled:q.isPending,className:"flex-1",children:[r.jsx(Co,{className:"h-3 w-3 mr-1"}),"Start"]}):r.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>ve("stop",S),disabled:q.isPending,className:"flex-1",children:[r.jsx(ko,{className:"h-3 w-3 mr-1"}),"Stop"]}),r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>ve("restart",S),disabled:q.isPending,title:"Restart bot",children:r.jsx(Os,{className:"h-3 w-3"})})]})}),r.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground pt-2 border-t",children:[r.jsxs("span",{children:["Messages: ",S.messagesCount||0]}),r.jsxs("span",{children:["Commands: ",S.commandsCount||0]})]})]})]},S.id))})}),r.jsx(jt,{value:"pending",className:"space-y-4",children:K.length===0?r.jsx(me,{children:r.jsxs(pe,{className:"pt-6 text-center",children:[r.jsx(oa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No pending approvals"})]})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:K.map(S=>r.jsx(me,{className:"border-yellow-200",children:r.jsxs(ze,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(qe,{className:"text-lg",children:S.name}),W(S.status,S.approvalStatus)]}),r.jsx(it,{children:S.phoneNumber})]})},S.id))})}),r.jsx(jt,{value:"inactive",className:"space-y-4",children:ne.length===0?r.jsx(me,{children:r.jsxs(pe,{className:"pt-6 text-center",children:[r.jsx(ns,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No inactive bots"})]})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ne.map(S=>r.jsxs(me,{className:"border-gray-200 hover:shadow-lg transition-shadow",children:[r.jsxs(ze,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(qe,{className:"text-lg",children:S.name}),W(S.status,S.approvalStatus)]}),r.jsx(it,{children:S.phoneNumber})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),r.jsx("button",{onClick:()=>J("autoViewStatus",!S.features?.autoView,S),disabled:te.isPending||S.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.autoView?"bg-primary justify-end":"bg-muted justify-start"} ${S.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.autoView?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),r.jsx("button",{onClick:()=>J("chatgptEnabled",!S.features?.chatGPT,S),disabled:te.isPending||S.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.chatGPT?"bg-primary justify-end":"bg-muted justify-start"} ${S.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.chatGPT?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Always Online"}),r.jsx("button",{onClick:()=>J("alwaysOnline",!S.features?.alwaysOnline,S),disabled:te.isPending||S.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.alwaysOnline?"bg-primary justify-end":"bg-muted justify-start"} ${S.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.alwaysOnline?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Typing Indicator"}),r.jsx("button",{onClick:()=>J("typingIndicator",!S.features?.typingIndicator,S),disabled:te.isPending||S.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.typingIndicator?"bg-primary justify-end":"bg-muted justify-start"} ${S.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.typingIndicator?"bg-white":"bg-muted-foreground"}`})})]})]}),r.jsx("div",{className:"flex gap-2",children:S.approvalStatus==="approved"?r.jsxs(r.Fragment,{children:[r.jsxs(Y,{size:"sm",onClick:()=>ve("start",S),disabled:q.isPending,className:"flex-1",children:[r.jsx(Co,{className:"h-3 w-3 mr-1"}),"Start"]}),r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>ve("restart",S),disabled:q.isPending,title:"Restart bot",children:r.jsx(Os,{className:"h-3 w-3"})})]}):r.jsxs(Y,{size:"sm",disabled:!0,className:"flex-1",title:"Bot must be approved to start",children:[r.jsx(Dn,{className:"h-3 w-3 mr-1"}),"Pending Approval"]})}),S.approvalStatus!=="approved"&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2 text-xs",children:[r.jsx("p",{className:"text-yellow-800 font-medium",children:" Awaiting Admin Approval"}),r.jsx("p",{className:"text-yellow-600",children:"Contact admin to activate this bot"})]})]})]},S.id))})})]})]})]})})}function MM(){const{toast:e}=rr(),t=_r(),[s,a]=p.useState(""),[o,c]=p.useState(!1),{data:u,isLoading:f}=vt({queryKey:["/api/guest/cross-server-bots",s],queryFn:async()=>{if(!s.trim())return{bots:[],servers:[]};const b=s.replace(/[\s\-\(\)\+]/g,""),j=await fetch("/api/guest/cross-server-bots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:b})});if(!j.ok){const E=await j.json();throw new Error(E.message||"Failed to fetch cross-server data")}return j.json()},enabled:o&&!!s.trim()}),h=Ge({mutationFn:async({action:b,botId:j,serverName:E,data:k})=>{const I=await fetch("/api/guest/cross-server-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("guest_token")}`},body:JSON.stringify({action:b,botId:j,serverName:E,...k})});if(!I.ok){const L=await I.json();throw new Error(L.message||`Failed to ${b} bot on ${E}`)}return I.json()},onSuccess:(b,j)=>{e({title:"Cross-Server Action Successful",description:`${j.action} completed on ${j.serverName}`}),t.invalidateQueries({queryKey:["/api/guest/cross-server-bots"]})},onError:b=>{e({title:"Cross-Server Action Failed",description:b.message,variant:"destructive"})}}),g=()=>{if(!s.trim()){e({title:"Phone Required",description:"Please enter your phone number to find your cross-server bots",variant:"destructive"});return}c(!0)},x=(b,j,E)=>{h.mutate({action:b,botId:j.id,serverName:j.serverName,data:E})},y=(b,j)=>{if(j==="pending")return r.jsx(Ye,{variant:"outline",className:"bg-yellow-50 text-yellow-800",children:"Pending"});switch(b){case"online":return r.jsx(Ye,{className:"bg-green-500",children:"Online"});case"offline":return r.jsx(Ye,{variant:"outline",children:"Offline"});case"error":return r.jsx(Ye,{variant:"destructive",children:"Error"});default:return r.jsx(Ye,{variant:"outline",children:b})}},w=u?.bots||[],C=u?.servers||[],P=w.reduce((b,j)=>(b[j.serverName]||(b[j.serverName]=[]),b[j.serverName].push(j),b),{});return r.jsx("div",{className:"min-h-screen w-full p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Cross-Server Bot Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your bots across multiple servers from one central location"})]}),r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx(kf,{className:"h-5 w-5"}),"Find Your Cross-Server Bots"]}),r.jsx(it,{children:"Enter your phone number to discover and manage bots across all servers"})]}),r.jsx(pe,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(tr,{type:"tel",placeholder:"+1234567890",value:s,onChange:b=>a(b.target.value),className:"flex-1","data-testid":"input-cross-server-phone"}),r.jsx(Y,{onClick:g,disabled:f,"data-testid":"button-search-cross-server",children:f?r.jsx(Os,{className:"h-4 w-4 animate-spin"}):"Find Bots"})]})})]}),o&&!f&&C.length>0&&r.jsxs(me,{children:[r.jsxs(ze,{children:[r.jsxs(qe,{className:"flex items-center gap-2",children:[r.jsx(mi,{className:"h-5 w-5"}),"Server Overview"]}),r.jsxs(it,{children:["Your bots are distributed across ",C.length," server",C.length>1?"s":""]})]}),r.jsx(pe,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:C.map(b=>r.jsx(me,{className:"border-blue-200",children:r.jsxs(pe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:b.serverName}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.botCount," bot",b.botCount>1?"s":""]})]}),b.serverUrl&&r.jsx(Y,{size:"sm",variant:"outline",asChild:!0,children:r.jsx("a",{href:b.serverUrl,target:"_blank",rel:"noopener noreferrer",children:r.jsx(nm,{className:"h-3 w-3"})})})]}),r.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-green-600",children:b.onlineBots})," online"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-yellow-600",children:b.pendingBots})," pending"]})]})]})},b.serverName))})})]}),o&&!f&&w.length>0&&r.jsxs(Ta,{defaultValue:"all",className:"w-full",children:[r.jsxs(Pi,{className:"grid w-full grid-cols-4",children:[r.jsxs(Et,{value:"all","data-testid":"tab-all-servers",children:["All Servers (",w.length,")"]}),r.jsxs(Et,{value:"online","data-testid":"tab-online-servers",children:["Online (",w.filter(b=>b.status==="online").length,")"]}),r.jsxs(Et,{value:"offline","data-testid":"tab-offline-servers",children:["Offline (",w.filter(b=>b.status==="offline").length,")"]}),r.jsxs(Et,{value:"pending","data-testid":"tab-pending-servers",children:["Pending (",w.filter(b=>b.approvalStatus==="pending").length,")"]})]}),r.jsx(jt,{value:"all",className:"space-y-6",children:Object.entries(P).map(([b,j])=>r.jsxs(me,{children:[r.jsx(ze,{children:r.jsxs(qe,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mi,{className:"h-5 w-5"}),b]}),r.jsxs(Ye,{variant:"outline",children:[j.length," bot",j.length>1?"s":""]})]})}),r.jsx(pe,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:j.map(E=>r.jsx(me,{className:"border-gray-200",children:r.jsxs(pe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:E.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:E.phoneNumber})]}),y(E.status,E.approvalStatus)]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Messages"}),r.jsx("p",{className:"font-medium",children:E.messagesCount||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Commands"}),r.jsx("p",{className:"font-medium",children:E.commandsCount||0})]})]}),E.features&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Features"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[E.features.autoLike&&r.jsx(Ye,{variant:"outline",className:"text-xs",children:"Like"}),E.features.autoReact&&r.jsx(Ye,{variant:"outline",className:"text-xs",children:"React"}),E.features.autoView&&r.jsx(Ye,{variant:"outline",className:"text-xs",children:"View"}),E.features.chatGPT&&r.jsx(Ye,{variant:"outline",className:"text-xs",children:"AI"})]})]}),E.canManage&&E.approvalStatus==="approved"&&r.jsxs("div",{className:"flex gap-1",children:[E.status==="offline"?r.jsxs(Y,{size:"sm",onClick:()=>x("start",E),disabled:h.isPending,className:"flex-1","data-testid":`button-cross-start-${E.id}`,children:[r.jsx(Co,{className:"h-3 w-3 mr-1"}),"Start"]}):r.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>x("stop",E),disabled:h.isPending,className:"flex-1","data-testid":`button-cross-stop-${E.id}`,children:[r.jsx(ko,{className:"h-3 w-3 mr-1"}),"Stop"]}),r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>x("restart",E),disabled:h.isPending,"data-testid":`button-cross-restart-${E.id}`,children:r.jsx(Os,{className:"h-3 w-3"})}),r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>x("configure",E),disabled:h.isPending,"data-testid":`button-cross-config-${E.id}`,children:r.jsx(td,{className:"h-3 w-3"})})]}),!E.canManage&&r.jsxs(Ko,{children:[r.jsx(Dn,{className:"h-4 w-4"}),r.jsx(Qo,{className:"text-xs",children:"Limited access on this server. Contact admin for full management."})]})]})},E.id))})})]},b))}),r.jsx(jt,{value:"online",className:"space-y-4",children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:w.filter(b=>b.status==="online").map(b=>r.jsx(me,{className:"border-green-200",children:r.jsxs(pe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium",children:b.name}),y(b.status)]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[b.phoneNumber,"  ",b.serverName]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>x("stop",b),disabled:h.isPending,className:"flex-1",children:[r.jsx(ko,{className:"h-3 w-3 mr-1"}),"Stop"]}),r.jsx(Y,{size:"sm",variant:"outline",onClick:()=>x("restart",b),disabled:h.isPending,children:r.jsx(Os,{className:"h-3 w-3"})})]})]})},b.id))})}),r.jsx(jt,{value:"offline",className:"space-y-4",children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:w.filter(b=>b.status==="offline").map(b=>r.jsx(me,{className:"border-gray-200",children:r.jsxs(pe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium",children:b.name}),y(b.status)]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[b.phoneNumber,"  ",b.serverName]}),r.jsxs(Y,{size:"sm",onClick:()=>x("start",b),disabled:h.isPending,className:"w-full",children:[r.jsx(Co,{className:"h-3 w-3 mr-1"}),"Start Bot"]})]})},b.id))})}),r.jsx(jt,{value:"pending",className:"space-y-4",children:r.jsx("div",{className:"space-y-4",children:w.filter(b=>b.approvalStatus==="pending").map(b=>r.jsx(me,{className:"border-yellow-200",children:r.jsxs(pe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:b.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.phoneNumber,"  ",b.serverName]})]}),y(b.status,b.approvalStatus)]}),r.jsxs(Ko,{children:[r.jsx(Dn,{className:"h-4 w-4"}),r.jsxs(Qo,{children:["This bot is awaiting approval from the admin on ",b.serverName,"."]})]})]})},b.id))})})]}),o&&!f&&w.length===0&&r.jsx(me,{children:r.jsxs(pe,{className:"pt-6 text-center space-y-4",children:[r.jsx(kf,{className:"h-16 w-16 text-muted-foreground mx-auto"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"No Cross-Server Bots Found"}),r.jsxs("p",{className:"text-muted-foreground",children:["No bots found across servers for phone number ",s,"."]})]}),r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsx(Y,{variant:"outline",asChild:!0,children:r.jsx("a",{href:"/guest/verification",children:"Register New Bot"})}),r.jsx(Y,{variant:"outline",asChild:!0,children:r.jsx("a",{href:"/guest/bot-management",children:"Manage Existing Bots"})})]})]})}),r.jsx(me,{className:"border-blue-200",children:r.jsx(pe,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(kf,{className:"h-5 w-5 text-blue-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-800",children:"Cross-Server Management"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This feature allows you to manage bots across multiple servers from a single interface. Actions are coordinated through the God Registry system to ensure consistency across all servers. Some features may have limited availability depending on server configuration and your access level."})]})]})})})]})})}function DM({isOpen:e,onClose:t,onLogin:s}){const[a,o]=p.useState(""),[c,u]=p.useState(""),[f,h]=p.useState(!1),{toast:g}=rr(),x=async y=>{y.preventDefault(),h(!0);try{const w=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:c})});if(w.ok){const C=await w.json();localStorage.setItem("auth_token",C.token),localStorage.setItem("user",JSON.stringify(C.user)),s(C.token,C.user),t(),g({title:"Login successful",description:C.message}),C.user?.isAdmin&&window.location.reload()}else{const C=await w.json();g({title:"Login failed",description:C.message,variant:"destructive"})}}catch{g({title:"Login error",description:"Failed to connect to server",variant:"destructive"})}finally{h(!1)}};return r.jsx(Zt,{open:e,onOpenChange:t,children:r.jsxs(Ut,{className:"sm:max-w-[425px]",children:[r.jsx(qt,{children:r.jsx(Wt,{children:" Admin Login"})}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"username",children:"Username"}),r.jsx(tr,{id:"username",type:"text",value:a,onChange:y=>o(y.target.value),placeholder:"Enter admin username",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"password",children:"Password"}),r.jsx(tr,{id:"password",type:"password",value:c,onChange:y=>u(y.target.value),placeholder:"Enter admin password",required:!0})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(Y,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),r.jsx(Y,{type:"submit",disabled:f,className:"flex-1",children:f?"Logging in...":"Login"})]})]})]})})}function FM(){const[e]=Im(),{user:t,isAdmin:s,logout:a,login:o}=Jo(),{toast:c}=rr(),[u,f]=p.useState(!1),[h,g]=p.useState(!1),x=Ge({mutationFn:()=>kt("POST","/api/logout"),onSuccess:()=>{a(),c({title:"Logged out successfully"})}}),y=s?[{icon:sv,label:"Dashboard",path:"/"},{icon:ns,label:"Bot Instances",path:"/bot-instances"},{icon:Xk,label:"Commands",path:"/commands"},{icon:mi,label:"Cross-Server Bots",path:"/cross-server-bots"},{icon:td,label:"Admin Console",path:"/admin"}]:[{icon:sv,label:"Dashboard",path:"/"},{icon:ns,label:"My Bots",path:"/guest/bot-management"}];return r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>f(!u),className:"fixed top-4 left-4 z-50 lg:hidden bg-primary text-primary-foreground p-2 rounded-lg shadow-lg hover:bg-primary/90 transition-colors","aria-label":"Toggle menu",children:u?r.jsx(rd,{className:"w-6 h-6"}):r.jsx(Yk,{className:"w-6 h-6"})}),u&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>f(!1)}),r.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-40
        w-64 bg-card border-r border-border flex flex-col
        transform transition-transform duration-300 ease-in-out
        ${u?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[r.jsx("div",{className:"p-4 lg:p-6 border-b border-border",children:r.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[r.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-primary rounded-lg flex items-center justify-center",children:r.jsx(ns,{className:"w-5 h-5 lg:w-6 lg:h-6 text-primary-foreground"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-base lg:text-lg font-bold text-foreground",children:"TREKKER-MD"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Bot Manager"})]})]})}),r.jsx("nav",{className:"flex-1 p-3 lg:p-4 space-y-1 lg:space-y-2 overflow-y-auto",children:y.map(w=>{const C=w.icon,P=e===w.path;return r.jsxs(vy,{href:w.path,onClick:()=>f(!1),className:`flex items-center gap-2 lg:gap-3 px-3 lg:px-4 py-2.5 lg:py-3 rounded-lg transition-colors ${P?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:[r.jsx(C,{className:"w-4 h-4 lg:w-5 lg:h-5 flex-shrink-0"}),r.jsx("span",{className:"font-medium text-sm lg:text-base",children:w.label})]},w.path)})}),r.jsxs("div",{className:"p-3 lg:p-4 border-t border-border",children:[r.jsxs("div",{className:"mb-3 lg:mb-4 p-2.5 lg:p-3 bg-muted rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:t?.username||"Guest"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:s?"Administrator":"Guest User"})]}),t?r.jsxs(Y,{onClick:()=>{x.mutate(),f(!1)},disabled:x.isPending,variant:"outline",className:"w-full text-sm lg:text-base",children:[r.jsx(c0,{className:"w-4 h-4 mr-2"}),"Logout"]}):r.jsxs(Y,{onClick:()=>{g(!0),f(!1)},variant:"default",className:"w-full text-sm lg:text-base",children:[r.jsx(Zk,{className:"w-4 h-4 mr-2"}),"Admin Login"]})]})]}),r.jsx(DM,{isOpen:h,onClose:()=>g(!1),onLogin:(w,C)=>{o(w,C),g(!1)}})]})}function jc({children:e,requireAdmin:t=!1,requireAuth:s=!1}){const{isAuthenticated:a,isAdmin:o}=Jo(),[,c]=Im();return t&&!o?r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-6 bg-background",children:r.jsxs(me,{className:"max-w-md w-full",children:[r.jsxs(ze,{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(iv,{className:"h-8 w-8 text-red-600"})}),r.jsx(qe,{className:"text-2xl text-red-600",children:"Access Denied"}),r.jsx(it,{className:"text-base",children:"This page is restricted to administrators only."})]}),r.jsxs(pe,{className:"text-center space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"You don't have permission to access bot management features. These tools are reserved for system administrators."}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs(Y,{onClick:()=>c("/"),className:"w-full","data-testid":"button-return-dashboard",children:[r.jsx(Jx,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]}),r.jsx(Y,{onClick:()=>c("/guest/verification"),variant:"outline",className:"w-full","data-testid":"button-guest-registration",children:"Register Your Bot"})]})]})]})}):s&&!a?r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-6 bg-background",children:r.jsxs(me,{className:"max-w-md w-full",children:[r.jsxs(ze,{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(iv,{className:"h-8 w-8 text-yellow-600"})}),r.jsx(qe,{className:"text-2xl text-yellow-600",children:"Authentication Required"}),r.jsx(it,{className:"text-base",children:"Please log in to access this page."})]}),r.jsxs(pe,{className:"text-center space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"This page requires authentication. Please log in to continue."}),r.jsxs(Y,{onClick:()=>c("/"),className:"w-full","data-testid":"button-return-home",children:[r.jsx(Jx,{className:"h-4 w-4 mr-2"}),"Return Home"]})]})]})}):r.jsx(r.Fragment,{children:e})}function LM(){return r.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[r.jsx(FM,{}),r.jsx("main",{className:"flex-1 overflow-auto w-full lg:w-auto",children:r.jsxs(dC,{children:[r.jsx(Xn,{path:"/",component:aO}),r.jsx(Xn,{path:"/bot-instances",children:r.jsx(jc,{requireAdmin:!0,children:r.jsx(fO,{})})}),r.jsx(Xn,{path:"/commands",children:r.jsx(jc,{requireAdmin:!0,children:r.jsx(hO,{})})}),r.jsx(Xn,{path:"/admin",children:r.jsx(jc,{requireAdmin:!0,children:r.jsx(TM,{})})}),r.jsx(Xn,{path:"/cross-server-bots",children:r.jsx(jc,{requireAdmin:!0,children:r.jsx(AM,{})})}),r.jsx(Xn,{path:"/guest/verification",component:IM}),r.jsx(Xn,{path:"/guest/bot-management",component:OM}),r.jsx(Xn,{path:"/guest/cross-server",component:MM}),r.jsx(Xn,{component:RM})]})})]})}function BM(){return r.jsx(OC,{client:wr,children:r.jsx(F_,{children:r.jsx(SE,{children:r.jsxs("div",{className:"dark",children:[r.jsx($2,{}),r.jsx(LM,{})]})})})})}V1.createRoot(document.getElementById("root")).render(r.jsx(BM,{}));
